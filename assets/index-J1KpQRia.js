(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Vg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _p={exports:{}},gu={};var wb;function NC(){if(wb)return gu;wb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return gu.Fragment=e,gu.jsx=t,gu.jsxs=t,gu}var Tb;function OC(){return Tb||(Tb=1,_p.exports=NC()),_p.exports}var y=OC(),bp={exports:{}},Re={};var Eb;function DC(){if(Eb)return Re;Eb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function L(j,ne,he){this.props=j,this.context=ne,this.refs=k,this.updater=he||O}L.prototype.isReactComponent={},L.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},L.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=L.prototype;function B(j,ne,he){this.props=j,this.context=ne,this.refs=k,this.updater=he||O}var X=B.prototype=new U;X.constructor=B,P(X,L.prototype),X.isPureReactComponent=!0;var ee=Array.isArray;function re(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function M(j,ne,he){var me=he.ref;return{$$typeof:n,type:j,key:ne,ref:me!==void 0?me:null,props:he}}function I(j,ne){return M(j.type,ne,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function z(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(he){return ne[he]})}var N=/\/+/g;function de(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):ne.toString(36)}function ce(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(re,re):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,ne,he,me,be){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(Ae){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case n:case e:Ne=!0;break;case v:return Ne=j._init,q(Ne(j._payload),ne,he,me,be)}}if(Ne)return be=be(j),Ne=me===""?"."+de(j,0):me,ee(be)?(he="",Ne!=null&&(he=Ne.replace(N,"$&/")+"/"),q(be,ne,he,"",function(yt){return yt})):be!=null&&(C(be)&&(be=I(be,he+(be.key==null||j&&j.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+Ne)),ne.push(be)),1;Ne=0;var ot=me===""?".":me+":";if(ee(j))for(var qe=0;qe<j.length;qe++)me=j[qe],Ae=ot+de(me,qe),Ne+=q(me,ne,he,Ae,be);else if(qe=S(j),typeof qe=="function")for(j=qe.call(j),qe=0;!(me=j.next()).done;)me=me.value,Ae=ot+de(me,qe++),Ne+=q(me,ne,he,Ae,be);else if(Ae==="object"){if(typeof j.then=="function")return q(ce(j),ne,he,me,be);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function J(j,ne,he){if(j==null)return j;var me=[],be=0;return q(j,me,"","",function(Ae){return ne.call(he,Ae,be++)}),me}function $(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(he){(j._status===0||j._status===-1)&&(j._status=1,j._result=he)},function(he){(j._status===0||j._status===-1)&&(j._status=2,j._result=he)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var le=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},fe={map:J,forEach:function(j,ne,he){J(j,function(){ne.apply(this,arguments)},he)},count:function(j){var ne=0;return J(j,function(){ne++}),ne},toArray:function(j){return J(j,function(ne){return ne})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Re.Activity=_,Re.Children=fe,Re.Component=L,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=B,Re.StrictMode=r,Re.Suspense=h,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Re.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Re.cache=function(j){return function(){return j.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(j,ne,he){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=P({},j.props),be=j.key;if(ne!=null)for(Ae in ne.key!==void 0&&(be=""+ne.key),ne)!x.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(me[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)me.children=he;else if(1<Ae){for(var Ne=Array(Ae),ot=0;ot<Ae;ot++)Ne[ot]=arguments[ot+2];me.children=Ne}return M(j.type,be,me)},Re.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Re.createElement=function(j,ne,he){var me,be={},Ae=null;if(ne!=null)for(me in ne.key!==void 0&&(Ae=""+ne.key),ne)x.call(ne,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(be[me]=ne[me]);var Ne=arguments.length-2;if(Ne===1)be.children=he;else if(1<Ne){for(var ot=Array(Ne),qe=0;qe<Ne;qe++)ot[qe]=arguments[qe+2];be.children=ot}if(j&&j.defaultProps)for(me in Ne=j.defaultProps,Ne)be[me]===void 0&&(be[me]=Ne[me]);return M(j,Ae,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:f,render:j}},Re.isValidElement=C,Re.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:$}},Re.memo=function(j,ne){return{$$typeof:p,type:j,compare:ne===void 0?null:ne}},Re.startTransition=function(j){var ne=D.T,he={};D.T=he;try{var me=j(),be=D.S;be!==null&&be(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(re,le)}catch(Ae){le(Ae)}finally{ne!==null&&he.types!==null&&(ne.types=he.types),D.T=ne}},Re.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Re.use=function(j){return D.H.use(j)},Re.useActionState=function(j,ne,he){return D.H.useActionState(j,ne,he)},Re.useCallback=function(j,ne){return D.H.useCallback(j,ne)},Re.useContext=function(j){return D.H.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j,ne){return D.H.useDeferredValue(j,ne)},Re.useEffect=function(j,ne){return D.H.useEffect(j,ne)},Re.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Re.useId=function(){return D.H.useId()},Re.useImperativeHandle=function(j,ne,he){return D.H.useImperativeHandle(j,ne,he)},Re.useInsertionEffect=function(j,ne){return D.H.useInsertionEffect(j,ne)},Re.useLayoutEffect=function(j,ne){return D.H.useLayoutEffect(j,ne)},Re.useMemo=function(j,ne){return D.H.useMemo(j,ne)},Re.useOptimistic=function(j,ne){return D.H.useOptimistic(j,ne)},Re.useReducer=function(j,ne,he){return D.H.useReducer(j,ne,he)},Re.useRef=function(j){return D.H.useRef(j)},Re.useState=function(j){return D.H.useState(j)},Re.useSyncExternalStore=function(j,ne,he){return D.H.useSyncExternalStore(j,ne,he)},Re.useTransition=function(){return D.H.useTransition()},Re.version="19.2.0",Re}var Sb;function Ug(){return Sb||(Sb=1,bp.exports=DC()),bp.exports}var F=Ug();const Ke=Vg(F);var wp={exports:{}},yu={},Tp={exports:{}},Ep={};var xb;function MC(){return xb||(xb=1,(function(n){function e(q,J){var $=q.length;q.push(J);e:for(;0<$;){var le=$-1>>>1,fe=q[le];if(0<a(fe,J))q[le]=J,q[$]=fe,$=le;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],$=q.pop();if($!==J){q[0]=$;e:for(var le=0,fe=q.length,j=fe>>>1;le<j;){var ne=2*(le+1)-1,he=q[ne],me=ne+1,be=q[me];if(0>a(he,$))me<fe&&0>a(be,he)?(q[le]=be,q[me]=$,le=me):(q[le]=he,q[ne]=$,le=ne);else if(me<fe&&0>a(be,$))q[le]=be,q[me]=$,le=me;else break e}}return J}function a(q,J){var $=q.sortIndex-J.sortIndex;return $!==0?$:q.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],p=[],v=1,_=null,E=3,S=!1,O=!1,P=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(q){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=q)r(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(p)}}function ee(q){if(P=!1,X(q),!O)if(t(h)!==null)O=!0,re||(re=!0,z());else{var J=t(p);J!==null&&ce(ee,J.startTime-q)}}var re=!1,D=-1,x=5,M=-1;function I(){return k?!0:!(n.unstable_now()-M<x)}function C(){if(k=!1,re){var q=n.unstable_now();M=q;var J=!0;try{e:{O=!1,P&&(P=!1,U(D),D=-1),S=!0;var $=E;try{t:{for(X(q),_=t(h);_!==null&&!(_.expirationTime>q&&I());){var le=_.callback;if(typeof le=="function"){_.callback=null,E=_.priorityLevel;var fe=le(_.expirationTime<=q);if(q=n.unstable_now(),typeof fe=="function"){_.callback=fe,X(q),J=!0;break t}_===t(h)&&r(h),X(q)}else r(h);_=t(h)}if(_!==null)J=!0;else{var j=t(p);j!==null&&ce(ee,j.startTime-q),J=!1}}break e}finally{_=null,E=$,S=!1}J=void 0}}finally{J?z():re=!1}}}var z;if(typeof B=="function")z=function(){B(C)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,de=N.port2;N.port1.onmessage=C,z=function(){de.postMessage(null)}}else z=function(){L(C,0)};function ce(q,J){D=L(function(){q(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(q){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var $=E;E=J;try{return q()}finally{E=$}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=E;E=q;try{return J()}finally{E=$}},n.unstable_scheduleCallback=function(q,J,$){var le=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?le+$:le):$=le,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=$+fe,q={id:v++,callback:J,priorityLevel:q,startTime:$,expirationTime:fe,sortIndex:-1},$>le?(q.sortIndex=$,e(p,q),t(h)===null&&q===t(p)&&(P?(U(D),D=-1):P=!0,ce(ee,$-le))):(q.sortIndex=fe,e(h,q),O||S||(O=!0,re||(re=!0,z()))),q},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(q){var J=E;return function(){var $=E;E=J;try{return q.apply(this,arguments)}finally{E=$}}}})(Ep)),Ep}var Ab;function kC(){return Ab||(Ab=1,Tp.exports=MC()),Tp.exports}var Sp={exports:{}},nn={};var Cb;function PC(){if(Cb)return nn;Cb=1;var n=Ug();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,v)},nn.flushSync=function(h){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=v,r.d.f()}},nn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},nn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},nn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):v==="script"&&r.d.X(h,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},nn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);r.d.L(h,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},nn.requestFormReset=function(h){r.d.r(h)},nn.unstable_batchedUpdates=function(h,p){return h(p)},nn.useFormState=function(h,p,v){return c.H.useFormState(h,p,v)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var Rb;function LC(){if(Rb)return Sp.exports;Rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sp.exports=PC(),Sp.exports}var Ib;function jC(){if(Ib)return yu;Ib=1;var n=kC(),e=Ug(),t=LC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return h(m),i;if(g===u)return h(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=g;else{for(var w=!1,A=m.child;A;){if(A===o){w=!0,o=m,u=g;break}if(A===u){w=!0,u=m,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,u=m;break}if(A===u){w=!0,u=g,o=m;break}A=A.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case L:return"Profiler";case k:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case B:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case X:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:de(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return de(i(s))}catch{}}return null}var ce=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},le=[],fe=-1;function j(i){return{current:i}}function ne(i){0>fe||(i.current=le[fe],le[fe]=null,fe--)}function he(i,s){fe++,le[fe]=i.current,i.current=s}var me=j(null),be=j(null),Ae=j(null),Ne=j(null);function ot(i,s){switch(he(Ae,s),he(be,i),he(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?H0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=H0(s),i=G0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(me),he(me,i)}function qe(){ne(me),ne(be),ne(Ae)}function yt(i){i.memoizedState!==null&&he(Ne,i);var s=me.current,o=G0(s,i.type);s!==o&&(he(be,i),he(me,o))}function un(i){be.current===i&&(ne(me),ne(be)),Ne.current===i&&(ne(Ne),hu._currentValue=$)}var qn,di;function Ri(i){if(qn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);qn=s&&s[1]||"",di=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qn+i+di}var hl=!1;function $s(i,s){if(!i||hl)return"";hl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var W=te}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(te){W=te}i.call(oe.prototype)}}else{try{throw Error()}catch(te){W=te}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&W&&typeof te.stack=="string")return[te.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var V=w.split(`
`),Q=A.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===Q.length)for(u=V.length-1,m=Q.length-1;1<=u&&0<=m&&V[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==Q[m]){var ie=`
`+V[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=m);break}}}finally{hl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ri(o):""}function fl(i,s){switch(i.tag){case 26:case 27:case 5:return Ri(i.type);case 16:return Ri("Lazy");case 13:return i.child!==s&&s!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return $s(i.type,!1);case 11:return $s(i.type.render,!1);case 1:return $s(i.type,!0);case 31:return Ri("Activity");default:return""}}function ml(i){try{var s="",o=null;do s+=fl(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var At=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,Fr=n.unstable_cancelCallback,wf=n.unstable_shouldYield,dc=n.unstable_requestPaint,cn=n.unstable_now,Ys=n.unstable_getCurrentPriorityLevel,pl=n.unstable_ImmediatePriority,gl=n.unstable_UserBlockingPriority,qr=n.unstable_NormalPriority,Tf=n.unstable_LowPriority,hc=n.unstable_IdlePriority,fc=n.log,mc=n.unstable_setDisableYieldValue,hi=null,Yt=null;function Hn(i){if(typeof fc=="function"&&mc(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(hi,i)}catch{}}var wt=Math.clz32?Math.clz32:gc,pc=Math.log,Ga=Math.LN2;function gc(i){return i>>>=0,i===0?32:31-(pc(i)/Ga|0)|0}var Ii=256,Ks=262144,Ct=4194304;function Ni(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oi(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?m=Ni(u):(w&=A,w!==0?m=Ni(w):o||(o=A&~i,o!==0&&(m=Ni(o))))):(A=u&~g,A!==0?m=Ni(A):w!==0?m=Ni(w):o||(o=u&~i,o!==0&&(m=Ni(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function fi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ef(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yc(){var i=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),i}function Di(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Qs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sf(i,s,o,u,m,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,Q=i.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-wt(o),oe=1<<ie;A[ie]=0,V[ie]=-1;var W=Q[ie];if(W!==null)for(Q[ie]=null,ie=0;ie<W.length;ie++){var te=W[ie];te!==null&&(te.lane&=-536870913)}o&=~oe}u!==0&&Xs(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~s))}function Xs(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-wt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function yl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-wt(o),m=1<<u;m&s|i[u]&s&&(i[u]|=s),o&=~m}}function vl(i,s){var o=s&-s;return o=(o&42)!==0?1:Ws(o),(o&(i.suspendedLanes|s))!==0?0:o}function Ws(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vc(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:mb(i.type))}function mi(i,s){var o=J.p;try{return J.p=i,s()}finally{J.p=o}}var pi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+pi,qt="__reactProps$"+pi,Mi="__reactContainer$"+pi,$a="__reactEvents$"+pi,xf="__reactListeners$"+pi,_c="__reactHandles$"+pi,bc="__reactResources$"+pi,ki="__reactMarker$"+pi;function Ya(i){delete i[Rt],delete i[qt],delete i[$a],delete i[xf],delete i[_c]}function Pi(i){var s=i[Rt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Mi]||o[Rt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=J0(i);i!==null;){if(o=i[Rt])return o;i=J0(i)}return s}i=o,o=i.parentNode}return null}function Gn(i){if(i=i[Rt]||i[Mi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function On(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Li(i){var s=i[bc];return s||(s=i[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(i){i[ki]=!0}var _l=new Set,bl={};function ji(i,s){Vi(i,s),Vi(i+"Capture",s)}function Vi(i,s){for(bl[i]=s,i=0;i<s.length;i++)_l.add(s[i])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},El={};function wc(i){return At.call(El,i)?!0:At.call(Tl,i)?!1:wl.test(i)?El[i]=!0:(Tl[i]=!0,!1)}function Ka(i,s,o){if(wc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Dn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Nt(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Sl(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=Hr(i)?"checked":"value";i._valueTracker=Sl(i,s,""+i[s])}}function Js(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Hr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zs=/[\n"\\]/g;function vn(i){return i.replace(Zs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Qa(i,s,o,u,m,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ht(s)):i.value!==""+Ht(s)&&(i.value=""+Ht(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?xl(i,w,Ht(s)):o!=null?xl(i,w,Ht(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Ht(A):i.removeAttribute("name")}function Tc(i,s,o,u,m,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Xe(i);return}o=o!=null?""+Ht(o):"",s=s!=null?""+Ht(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),Xe(i)}function xl(i,s,o){s==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gr(i,s,o,u){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ht(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Ec(i,s,o){if(s!=null&&(s=""+Ht(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Ht(o):""}function $r(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ht(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xe(i)}function _n(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Sc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Sc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Cl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&Al(i,m,u)}else for(var g in s)s.hasOwnProperty(g)&&Al(i,g,s[g])}function Xa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(i){return Yr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gi(){}var Rl=null;function $n(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Kr=null,zi=null;function ea(i){var s=Gn(i);if(s&&(i=s.stateNode)){var o=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Qa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var m=u[qt]||null;if(!m)throw Error(r(90));Qa(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Js(u)}break e;case"textarea":Ec(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Gr(i,!!o.multiple,s,!1)}}}var Ja=!1;function Qr(i,s,o){if(Ja)return i(s,o);Ja=!0;try{var u=i(s);return u}finally{if(Ja=!1,(Kr!==null||zi!==null)&&(vd(),Kr&&(s=Kr,i=zi,zi=Kr=null,ea(s),i)))for(s=0;s<i.length;s++)ea(i[s])}}function yi(i,s){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(Yn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ta=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ta=!1}var Bi=null,Il=null,na=null;function Nl(){if(na)return na;var i,s=Il,o=s.length,u,m="value"in Bi?Bi.value:Bi.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var w=o-i;for(u=1;u<=w&&s[o-u]===m[g-u];u++);return na=m.slice(i,1<u?1-u:void 0)}function ia(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ur(){return!0}function vi(){return!1}function Kt(i){function s(o,u,m,g,w){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ur:vi,this.isPropagationStopped=vi,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),s}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Kt(cr),Xr=_({},cr,{view:0,detail:0}),Ol=Kt(Xr),Wr,Za,qi,eo=_({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qi&&(qi&&i.type==="mousemove"?(Wr=i.screenX-qi.screenX,Za=i.screenY-qi.screenY):Za=Wr=0,qi=i),Wr)},movementY:function(i){return"movementY"in i?i.movementY:Za}}),Dl=Kt(eo),ra=_({},eo,{dataTransfer:0}),Ac=Kt(ra),Cc=_({},Xr,{relatedTarget:0}),sa=Kt(Cc),Ml=_({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=Kt(Ml),to=_({},cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ic=Kt(to),Nc=_({},cr,{data:0}),Hi=Kt(Nc),Oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Mc[i])?!!s[i]:!1}function Jr(){return kc}var dn=_({},Xr,{key:function(i){if(i.key){var s=Oc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Dc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(i){return i.type==="keypress"?ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pc=Kt(dn),Lc=_({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=Kt(Lc),d=_({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),b=Kt(d),T=_({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Kt(T),Y=_({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=Kt(Y),pe=_({},cr,{newState:0,oldState:0}),Oe=Kt(pe),Tt=[9,13,27,32],$e=Yn&&"CompositionEvent"in window,ht=null;Yn&&"documentMode"in document&&(ht=document.documentMode);var Kn=Yn&&"TextEvent"in window&&!ht,Gi=Yn&&(!$e||ht&&8<ht&&11>=ht),_i=" ",bi=!1;function aa(i,s){switch(i){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function no(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var io=!1;function eA(i,s){switch(i){case"compositionend":return no(s);case"keypress":return s.which!==32?null:(bi=!0,_i);case"textInput":return i=s.data,i===_i&&bi?null:i;default:return null}}function tA(i,s){if(io)return i==="compositionend"||!$e&&aa(i,s)?(i=Nl(),na=Il=Bi=null,io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gi&&s.locale!=="ko"?null:s.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!nA[i.type]:s==="textarea"}function nv(i,s,o,u){Kr?zi?zi.push(u):zi=[u]:Kr=u,s=xd(s,"onChange"),0<s.length&&(o=new Fi("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var kl=null,Pl=null;function iA(i){V0(i,0)}function jc(i){var s=On(i);if(Js(s))return i}function iv(i,s){if(i==="change")return s}var rv=!1;if(Yn){var Af;if(Yn){var Cf="oninput"in document;if(!Cf){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),Cf=typeof sv.oninput=="function"}Af=Cf}else Af=!1;rv=Af&&(!document.documentMode||9<document.documentMode)}function av(){kl&&(kl.detachEvent("onpropertychange",ov),Pl=kl=null)}function ov(i){if(i.propertyName==="value"&&jc(Pl)){var s=[];nv(s,Pl,i,$n(i)),Qr(iA,s)}}function rA(i,s,o){i==="focusin"?(av(),kl=s,Pl=o,kl.attachEvent("onpropertychange",ov)):i==="focusout"&&av()}function sA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jc(Pl)}function aA(i,s){if(i==="click")return jc(s)}function oA(i,s){if(i==="input"||i==="change")return jc(s)}function lA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Mn=typeof Object.is=="function"?Object.is:lA;function Ll(i,s){if(Mn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!At.call(s,m)||!Mn(i[m],s[m]))return!1}return!0}function lv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uv(i,s){var o=lv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lv(o)}}function cv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?cv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function dv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ui(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Ui(i.document)}return s}function Rf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var uA=Yn&&"documentMode"in document&&11>=document.documentMode,ro=null,If=null,jl=null,Nf=!1;function hv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Nf||ro==null||ro!==Ui(u)||(u=ro,"selectionStart"in u&&Rf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Ll(jl,u)||(jl=u,u=xd(If,"onSelect"),0<u.length&&(s=new Fi("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=ro)))}function oa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var so={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Of={},fv={};Yn&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function la(i){if(Of[i])return Of[i];if(!so[i])return i;var s=so[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in fv)return Of[i]=s[o];return i}var mv=la("animationend"),pv=la("animationiteration"),gv=la("animationstart"),cA=la("transitionrun"),dA=la("transitionstart"),hA=la("transitioncancel"),yv=la("transitionend"),vv=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function wi(i,s){vv.set(i,s),ji(s,[i])}var Vc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qn=[],ao=0,Mf=0;function Uc(){for(var i=ao,s=Mf=ao=0;s<i;){var o=Qn[s];Qn[s++]=null;var u=Qn[s];Qn[s++]=null;var m=Qn[s];Qn[s++]=null;var g=Qn[s];if(Qn[s++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}g!==0&&_v(o,m,g)}}function zc(i,s,o,u){Qn[ao++]=i,Qn[ao++]=s,Qn[ao++]=o,Qn[ao++]=u,Mf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function kf(i,s,o,u){return zc(i,s,o,u),Bc(i)}function ua(i,s){return zc(i,null,null,s),Bc(i)}function _v(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-wt(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=o|536870912),g):null}function Bc(i){if(50<su)throw su=0,qm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var oo={};function fA(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,s,o,u){return new fA(i,s,o,u)}function Pf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hr(i,s){var o=i.alternate;return o===null?(o=kn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function bv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Fc(i,s,o,u,m,g){var w=0;if(u=i,typeof i=="function")Pf(i)&&(w=1);else if(typeof i=="string")w=vC(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=kn(31,o,s,m),i.elementType=M,i.lanes=g,i;case P:return ca(o.children,m,g,s);case k:w=8,m|=24;break;case L:return i=kn(12,o,s,m|2),i.elementType=L,i.lanes=g,i;case ee:return i=kn(13,o,s,m),i.elementType=ee,i.lanes=g,i;case re:return i=kn(19,o,s,m),i.elementType=re,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:w=10;break e;case U:w=9;break e;case X:w=11;break e;case D:w=14;break e;case x:w=16,u=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=kn(w,o,s,m),s.elementType=i,s.type=u,s.lanes=g,s}function ca(i,s,o,u){return i=kn(7,i,u,s),i.lanes=o,i}function Lf(i,s,o){return i=kn(6,i,null,s),i.lanes=o,i}function wv(i){var s=kn(18,null,null,0);return s.stateNode=i,s}function jf(i,s,o){return s=kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Tv=new WeakMap;function Xn(i,s){if(typeof i=="object"&&i!==null){var o=Tv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:ml(s)},Tv.set(i,s),s)}return{value:i,source:s,stack:ml(s)}}var lo=[],uo=0,qc=null,Vl=0,Wn=[],Jn=0,Zr=null,$i=1,Yi="";function fr(i,s){lo[uo++]=Vl,lo[uo++]=qc,qc=i,Vl=s}function Ev(i,s,o){Wn[Jn++]=$i,Wn[Jn++]=Yi,Wn[Jn++]=Zr,Zr=i;var u=$i;i=Yi;var m=32-wt(u)-1;u&=~(1<<m),o+=1;var g=32-wt(s)+m;if(30<g){var w=m-m%5;g=(u&(1<<w)-1).toString(32),u>>=w,m-=w,$i=1<<32-wt(s)+m|o<<m|u,Yi=g+i}else $i=1<<g|o<<m|u,Yi=i}function Vf(i){i.return!==null&&(fr(i,1),Ev(i,1,0))}function Uf(i){for(;i===qc;)qc=lo[--uo],lo[uo]=null,Vl=lo[--uo],lo[uo]=null;for(;i===Zr;)Zr=Wn[--Jn],Wn[Jn]=null,Yi=Wn[--Jn],Wn[Jn]=null,$i=Wn[--Jn],Wn[Jn]=null}function Sv(i,s){Wn[Jn++]=$i,Wn[Jn++]=Yi,Wn[Jn++]=Zr,$i=s.id,Yi=s.overflow,Zr=i}var Qt=null,lt=null,Be=!1,es=null,Zn=!1,zf=Error(r(519));function ts(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Xn(s,i)),zf}function xv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Rt]=i,s[qt]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<ou.length;o++)Pe(ou[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Tc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),$r(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||F0(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=gi),s=!0):s=!1,s||ts(i,!0)}function Av(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Qt=Qt.return}}function co(i){if(i!==Qt)return!1;if(!Be)return Av(i),Be=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||rp(i.type,i.memoizedProps)),o=!o),o&&lt&&ts(i),Av(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));lt=W0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));lt=W0(i)}else s===27?(s=lt,ps(i.type)?(i=up,up=null,lt=i):lt=s):lt=Qt?ti(i.stateNode.nextSibling):null;return!0}function da(){lt=Qt=null,Be=!1}function Bf(){var i=es;return i!==null&&(En===null?En=i:En.push.apply(En,i),es=null),i}function Ul(i){es===null?es=[i]:es.push(i)}var Ff=j(null),ha=null,mr=null;function ns(i,s,o){he(Ff,s._currentValue),s._currentValue=o}function pr(i){i._currentValue=Ff.current,ne(Ff)}function qf(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Hf(i,s,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var V=0;V<s.length;V++)if(A.context===s[V]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),qf(g.return,o,i),u||(w=null);break e}g=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),qf(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function ho(i,s,o,u){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var A=m.type;Mn(m.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(m===Ne.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(hu):i=[hu])}m=m.return}i!==null&&Hf(s,i,o,u),s.flags|=262144}function Hc(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fa(i){ha=i,mr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return Cv(ha,i)}function Gc(i,s){return ha===null&&fa(i),Cv(i,s)}function Cv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},mr===null){if(i===null)throw Error(r(308));mr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else mr=mr.next=s;return o}var mA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},pA=n.unstable_scheduleCallback,gA=n.unstable_NormalPriority,Ot={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new mA,data:new Map,refCount:0}}function zl(i){i.refCount--,i.refCount===0&&pA(gA,function(){i.controller.abort()})}var Bl=null,$f=0,fo=0,mo=null;function yA(i,s){if(Bl===null){var o=Bl=[];$f=0,fo=Qm(),mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $f++,s.then(Rv,Rv),s}function Rv(){if(--$f===0&&Bl!==null){mo!==null&&(mo.status="fulfilled");var i=Bl;Bl=null,fo=0,mo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function vA(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Iv=q.S;q.S=function(i,s){h0=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&yA(i,s),Iv!==null&&Iv(i,s)};var ma=j(null);function Yf(){var i=ma.current;return i!==null?i:it.pooledCache}function $c(i,s){s===null?he(ma,ma.current):he(ma,s.pool)}function Nv(){var i=Yf();return i===null?null:{parent:Ot._currentValue,pool:i}}var po=Error(r(460)),Kf=Error(r(474)),Yc=Error(r(542)),Kc={then:function(){}};function Ov(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(gi,gi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,kv(i),i;default:if(typeof s.status=="string")s.then(gi,gi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,kv(i),i}throw ga=s,po}}function pa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ga=o,po):o}}var ga=null;function Mv(){if(ga===null)throw Error(r(459));var i=ga;return ga=null,i}function kv(i){if(i===po||i===Yc)throw Error(r(483))}var go=null,Fl=0;function Qc(i){var s=Fl;return Fl+=1,go===null&&(go=[]),Dv(go,i,s)}function ql(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Xc(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Pv(i){function s(G,H){if(i){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function o(G,H){if(!i)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function m(G,H){return G=hr(G,H),G.index=0,G.sibling=null,G}function g(G,H,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function w(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,H,K,se){return H===null||H.tag!==6?(H=Lf(K,G.mode,se),H.return=G,H):(H=m(H,K),H.return=G,H)}function V(G,H,K,se){var we=K.type;return we===P?ie(G,H,K.props.children,se,K.key):H!==null&&(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&pa(we)===H.type)?(H=m(H,K.props),ql(H,K),H.return=G,H):(H=Fc(K.type,K.key,K.props,null,G.mode,se),ql(H,K),H.return=G,H)}function Q(G,H,K,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=jf(K,G.mode,se),H.return=G,H):(H=m(H,K.children||[]),H.return=G,H)}function ie(G,H,K,se,we){return H===null||H.tag!==7?(H=ca(K,G.mode,se,we),H.return=G,H):(H=m(H,K),H.return=G,H)}function oe(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Lf(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return K=Fc(H.type,H.key,H.props,null,G.mode,K),ql(K,H),K.return=G,K;case O:return H=jf(H,G.mode,K),H.return=G,H;case x:return H=pa(H),oe(G,H,K)}if(ce(H)||z(H))return H=ca(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return oe(G,Qc(H),K);if(H.$$typeof===B)return oe(G,Gc(G,H),K);Xc(G,H)}return null}function W(G,H,K,se){var we=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:A(G,H,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===we?V(G,H,K,se):null;case O:return K.key===we?Q(G,H,K,se):null;case x:return K=pa(K),W(G,H,K,se)}if(ce(K)||z(K))return we!==null?null:ie(G,H,K,se,null);if(typeof K.then=="function")return W(G,H,Qc(K),se);if(K.$$typeof===B)return W(G,H,Gc(G,K),se);Xc(G,K)}return null}function te(G,H,K,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,A(H,G,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return G=G.get(se.key===null?K:se.key)||null,V(H,G,se,we);case O:return G=G.get(se.key===null?K:se.key)||null,Q(H,G,se,we);case x:return se=pa(se),te(G,H,K,se,we)}if(ce(se)||z(se))return G=G.get(K)||null,ie(H,G,se,we,null);if(typeof se.then=="function")return te(G,H,K,Qc(se),we);if(se.$$typeof===B)return te(G,H,K,Gc(H,se),we);Xc(H,se)}return null}function ve(G,H,K,se){for(var we=null,He=null,_e=H,Me=H=0,je=null;_e!==null&&Me<K.length;Me++){_e.index>Me?(je=_e,_e=null):je=_e.sibling;var Ge=W(G,_e,K[Me],se);if(Ge===null){_e===null&&(_e=je);break}i&&_e&&Ge.alternate===null&&s(G,_e),H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge,_e=je}if(Me===K.length)return o(G,_e),Be&&fr(G,Me),we;if(_e===null){for(;Me<K.length;Me++)_e=oe(G,K[Me],se),_e!==null&&(H=g(_e,H,Me),He===null?we=_e:He.sibling=_e,He=_e);return Be&&fr(G,Me),we}for(_e=u(_e);Me<K.length;Me++)je=te(_e,G,Me,K[Me],se),je!==null&&(i&&je.alternate!==null&&_e.delete(je.key===null?Me:je.key),H=g(je,H,Me),He===null?we=je:He.sibling=je,He=je);return i&&_e.forEach(function(bs){return s(G,bs)}),Be&&fr(G,Me),we}function Ee(G,H,K,se){if(K==null)throw Error(r(151));for(var we=null,He=null,_e=H,Me=H=0,je=null,Ge=K.next();_e!==null&&!Ge.done;Me++,Ge=K.next()){_e.index>Me?(je=_e,_e=null):je=_e.sibling;var bs=W(G,_e,Ge.value,se);if(bs===null){_e===null&&(_e=je);break}i&&_e&&bs.alternate===null&&s(G,_e),H=g(bs,H,Me),He===null?we=bs:He.sibling=bs,He=bs,_e=je}if(Ge.done)return o(G,_e),Be&&fr(G,Me),we;if(_e===null){for(;!Ge.done;Me++,Ge=K.next())Ge=oe(G,Ge.value,se),Ge!==null&&(H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge);return Be&&fr(G,Me),we}for(_e=u(_e);!Ge.done;Me++,Ge=K.next())Ge=te(_e,G,Me,Ge.value,se),Ge!==null&&(i&&Ge.alternate!==null&&_e.delete(Ge.key===null?Me:Ge.key),H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge);return i&&_e.forEach(function(IC){return s(G,IC)}),Be&&fr(G,Me),we}function nt(G,H,K,se){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var we=K.key;H!==null;){if(H.key===we){if(we=K.type,we===P){if(H.tag===7){o(G,H.sibling),se=m(H,K.props.children),se.return=G,G=se;break e}}else if(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&pa(we)===H.type){o(G,H.sibling),se=m(H,K.props),ql(se,K),se.return=G,G=se;break e}o(G,H);break}else s(G,H);H=H.sibling}K.type===P?(se=ca(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=Fc(K.type,K.key,K.props,null,G.mode,se),ql(se,K),se.return=G,G=se)}return w(G);case O:e:{for(we=K.key;H!==null;){if(H.key===we)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){o(G,H.sibling),se=m(H,K.children||[]),se.return=G,G=se;break e}else{o(G,H);break}else s(G,H);H=H.sibling}se=jf(K,G.mode,se),se.return=G,G=se}return w(G);case x:return K=pa(K),nt(G,H,K,se)}if(ce(K))return ve(G,H,K,se);if(z(K)){if(we=z(K),typeof we!="function")throw Error(r(150));return K=we.call(K),Ee(G,H,K,se)}if(typeof K.then=="function")return nt(G,H,Qc(K),se);if(K.$$typeof===B)return nt(G,H,Gc(G,K),se);Xc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(o(G,H.sibling),se=m(H,K),se.return=G,G=se):(o(G,H),se=Lf(K,G.mode,se),se.return=G,G=se),w(G)):o(G,H)}return function(G,H,K,se){try{Fl=0;var we=nt(G,H,K,se);return go=null,we}catch(_e){if(_e===po||_e===Yc)throw _e;var He=kn(29,_e,null,G.mode);return He.lanes=se,He.return=G,He}finally{}}}var ya=Pv(!0),Lv=Pv(!1),is=!1;function Qf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ss(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Bc(i),_v(i,null,o),s}return zc(i,u,s,o),Bc(i)}function Hl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,yl(i,o)}}function Wf(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Jf=!1;function Gl(){if(Jf){var i=mo;if(i!==null)throw i}}function $l(i,s,o,u){Jf=!1;var m=i.updateQueue;is=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,Q=V.next;V.next=null,w===null?g=Q:w.next=Q,w=V;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=Q:A.next=Q,ie.lastBaseUpdate=V))}if(g!==null){var oe=m.baseState;w=0,ie=Q=V=null,A=g;do{var W=A.lane&-536870913,te=W!==A.lane;if(te?(Le&W)===W:(u&W)===W){W!==0&&W===fo&&(Jf=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=i,Ee=A;W=s;var nt=o;switch(Ee.tag){case 1:if(ve=Ee.payload,typeof ve=="function"){oe=ve.call(nt,oe,W);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ee.payload,W=typeof ve=="function"?ve.call(nt,oe,W):ve,W==null)break e;oe=_({},oe,W);break e;case 2:is=!0}}W=A.callback,W!==null&&(i.flags|=64,te&&(i.flags|=8192),te=m.callbacks,te===null?m.callbacks=[W]:te.push(W))}else te={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(Q=ie=te,V=oe):ie=ie.next=te,w|=W;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;te=A,A=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ie===null&&(V=oe),m.baseState=V,m.firstBaseUpdate=Q,m.lastBaseUpdate=ie,g===null&&(m.shared.lanes=0),cs|=w,i.lanes=w,i.memoizedState=oe}}function jv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Vv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)jv(o[i],s)}var yo=j(null),Wc=j(0);function Uv(i,s){i=Sr,he(Wc,i),he(yo,s),Sr=i|s.baseLanes}function Zf(){he(Wc,Sr),he(yo,yo.current)}function em(){Sr=Wc.current,ne(yo),ne(Wc)}var Pn=j(null),ei=null;function as(i){var s=i.alternate;he(Et,Et.current&1),he(Pn,i),ei===null&&(s===null||yo.current!==null||s.memoizedState!==null)&&(ei=i)}function tm(i){he(Et,Et.current),he(Pn,i),ei===null&&(ei=i)}function zv(i){i.tag===22?(he(Et,Et.current),he(Pn,i),ei===null&&(ei=i)):os()}function os(){he(Et,Et.current),he(Pn,Pn.current)}function Ln(i){ne(Pn),ei===i&&(ei=null),ne(Et)}var Et=j(0);function Jc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||op(o)||lp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gr=0,De=null,et=null,Dt=null,Zc=!1,vo=!1,va=!1,ed=0,Yl=0,_o=null,_A=0;function vt(){throw Error(r(321))}function nm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Mn(i[o],s[o]))return!1;return!0}function im(i,s,o,u,m,g){return gr=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?E_:vm,va=!1,g=o(u,m),va=!1,vo&&(g=Fv(s,o,u,m)),Bv(i),g}function Bv(i){q.H=Xl;var s=et!==null&&et.next!==null;if(gr=0,Dt=et=De=null,Zc=!1,Yl=0,_o=null,s)throw Error(r(300));i===null||Mt||(i=i.dependencies,i!==null&&Hc(i)&&(Mt=!0))}function Fv(i,s,o,u){De=i;var m=0;do{if(vo&&(_o=null),Yl=0,vo=!1,25<=m)throw Error(r(301));if(m+=1,Dt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=S_,g=s(o,u)}while(vo);return g}function bA(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?Kl(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(De.flags|=1024),s}function rm(){var i=ed!==0;return ed=0,i}function sm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function am(i){if(Zc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Zc=!1}gr=0,Dt=et=De=null,vo=!1,Yl=ed=0,_o=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?De.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function St(){if(et===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=Dt===null?De.memoizedState:Dt.next;if(s!==null)Dt=s,et=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Dt===null?De.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(i){var s=Yl;return Yl+=1,_o===null&&(_o=[]),i=Dv(_o,i,s),s=De,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?E_:vm),i}function nd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Kl(i);if(i.$$typeof===B)return Xt(i)}throw Error(r(438,String(i)))}function om(i){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=td(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=I;return s.index++,o}function yr(i,s){return typeof s=="function"?s(i):s}function id(i){var s=St();return lm(s,et,i)}function lm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}s.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var A=w=null,V=null,Q=s,ie=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(Le&oe)===oe:(gr&oe)===oe){var W=Q.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===fo&&(ie=!0);else if((gr&W)===W){Q=Q.next,W===fo&&(ie=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=oe,w=g):V=V.next=oe,De.lanes|=W,cs|=W;oe=Q.action,va&&o(g,oe),g=Q.hasEagerState?Q.eagerState:o(g,oe)}else W={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=W,w=g):V=V.next=W,De.lanes|=oe,cs|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?w=g:V.next=A,!Mn(g,i.memoizedState)&&(Mt=!0,ie&&(o=mo,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=V,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function um(i){var s=St(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);Mn(g,s.memoizedState)||(Mt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function qv(i,s,o){var u=De,m=St(),g=Be;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!Mn((et||m).memoizedState,o);if(w&&(m.memoizedState=o,Mt=!0),m=m.queue,hm($v.bind(null,u,m,i),[i]),m.getSnapshot!==s||w||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,bo(9,{destroy:void 0},Gv.bind(null,u,m,o,s),null),it===null)throw Error(r(349));g||(gr&127)!==0||Hv(u,s,o)}return o}function Hv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=td(),De.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Gv(i,s,o,u){s.value=o,s.getSnapshot=u,Yv(s)&&Kv(i)}function $v(i,s,o){return o(function(){Yv(s)&&Kv(i)})}function Yv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Mn(i,o)}catch{return!0}}function Kv(i){var s=ua(i,2);s!==null&&Sn(s,i,2)}function cm(i){var s=hn();if(typeof i=="function"){var o=i;if(i=o(),va){Hn(!0);try{o()}finally{Hn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:i},s}function Qv(i,s,o,u){return i.baseState=o,lm(i,et,typeof u=="function"?u:yr)}function wA(i,s,o,u,m){if(ad(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};q.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Xv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Xv(i,s){var o=s.action,u=s.payload,m=i.state;if(s.isTransition){var g=q.T,w={};q.T=w;try{var A=o(m,u),V=q.S;V!==null&&V(w,A),Wv(i,s,A)}catch(Q){dm(i,s,Q)}finally{g!==null&&w.types!==null&&(g.types=w.types),q.T=g}}else try{g=o(m,u),Wv(i,s,g)}catch(Q){dm(i,s,Q)}}function Wv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Jv(i,s,u)},function(u){return dm(i,s,u)}):Jv(i,s,o)}function Jv(i,s,o){s.status="fulfilled",s.value=o,Zv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Xv(i,o)))}function dm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Zv(s),s=s.next;while(s!==u)}i.action=null}function Zv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function e_(i,s){return s}function t_(i,s){if(Be){var o=it.formState;if(o!==null){e:{var u=De;if(Be){if(lt){t:{for(var m=lt,g=Zn;m.nodeType!==8;){if(!g){m=null;break t}if(m=ti(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){lt=ti(m.nextSibling),u=m.data==="F!";break e}}ts(u)}u=!1}u&&(s=o[0])}}return o=hn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:s},o.queue=u,o=b_.bind(null,De,u),u.dispatch=o,u=cm(!1),g=ym.bind(null,De,!1,u.queue),u=hn(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,o=wA.bind(null,De,m,g,o),m.dispatch=o,u.memoizedState=i,[s,o,!1]}function n_(i){var s=St();return i_(s,et,i)}function i_(i,s,o){if(s=lm(i,s,e_)[0],i=id(yr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Kl(s)}catch(w){throw w===po?Yc:w}else u=s;s=St();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(De.flags|=2048,bo(9,{destroy:void 0},TA.bind(null,m,o),null)),[u,g,i]}function TA(i,s){i.action=s}function r_(i){var s=St(),o=et;if(o!==null)return i_(s,o,i);St(),s=s.memoizedState,o=St();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function bo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=td(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function s_(){return St().memoizedState}function rd(i,s,o,u){var m=hn();De.flags|=i,m.memoizedState=bo(1|s,{destroy:void 0},o,u===void 0?null:u)}function sd(i,s,o,u){var m=St();u=u===void 0?null:u;var g=m.memoizedState.inst;et!==null&&u!==null&&nm(u,et.memoizedState.deps)?m.memoizedState=bo(s,g,o,u):(De.flags|=i,m.memoizedState=bo(1|s,g,o,u))}function a_(i,s){rd(8390656,8,i,s)}function hm(i,s){sd(2048,8,i,s)}function EA(i){De.flags|=4;var s=De.updateQueue;if(s===null)s=td(),De.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function o_(i){var s=St().memoizedState;return EA({ref:s,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function l_(i,s){return sd(4,2,i,s)}function u_(i,s){return sd(4,4,i,s)}function c_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function d_(i,s,o){o=o!=null?o.concat([i]):null,sd(4,4,c_.bind(null,s,i),o)}function fm(){}function h_(i,s){var o=St();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&nm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function f_(i,s){var o=St();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&nm(s,u[1]))return u[0];if(u=i(),va){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,s],u}function mm(i,s,o){return o===void 0||(gr&1073741824)!==0&&(Le&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=m0(),De.lanes|=i,cs|=i,o)}function m_(i,s,o,u){return Mn(o,s)?o:yo.current!==null?(i=mm(i,o,u),Mn(i,s)||(Mt=!0),i):(gr&42)===0||(gr&1073741824)!==0&&(Le&261930)===0?(Mt=!0,i.memoizedState=o):(i=m0(),De.lanes|=i,cs|=i,s)}function p_(i,s,o,u,m){var g=J.p;J.p=g!==0&&8>g?g:8;var w=q.T,A={};q.T=A,ym(i,!1,s,o);try{var V=m(),Q=q.S;if(Q!==null&&Q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=vA(V,u);Ql(i,s,ie,Un(i))}else Ql(i,s,u,Un(i))}catch(oe){Ql(i,s,{then:function(){},status:"rejected",reason:oe},Un())}finally{J.p=g,w!==null&&A.types!==null&&(w.types=A.types),q.T=w}}function SA(){}function pm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var m=g_(i).queue;p_(i,m,s,$,o===null?SA:function(){return y_(i),o(u)})}function g_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:$},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function y_(i){var s=g_(i);s.next===null&&(s=i.alternate.memoizedState),Ql(i,s.next.queue,{},Un())}function gm(){return Xt(hu)}function v_(){return St().memoizedState}function __(){return St().memoizedState}function xA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Un();i=rs(o);var u=ss(s,i,o);u!==null&&(Sn(u,s,o),Hl(u,s,o)),s={cache:Gf()},i.payload=s;return}s=s.return}}function AA(i,s,o){var u=Un();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ad(i)?w_(s,o):(o=kf(i,s,o,u),o!==null&&(Sn(o,i,u),T_(o,s,u)))}function b_(i,s,o){var u=Un();Ql(i,s,o,u)}function Ql(i,s,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ad(i))w_(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,o);if(m.hasEagerState=!0,m.eagerState=A,Mn(A,w))return zc(i,s,m,0),it===null&&Uc(),!1}catch{}finally{}if(o=kf(i,s,m,u),o!==null)return Sn(o,i,u),T_(o,s,u),!0}return!1}function ym(i,s,o,u){if(u={lane:2,revertLane:Qm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ad(i)){if(s)throw Error(r(479))}else s=kf(i,o,u,2),s!==null&&Sn(s,i,2)}function ad(i){var s=i.alternate;return i===De||s!==null&&s===De}function w_(i,s){vo=Zc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function T_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,yl(i,o)}}var Xl={readContext:Xt,use:nd,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Xl.useEffectEvent=vt;var E_={readContext:Xt,use:nd,useCallback:function(i,s){return hn().memoizedState=[i,s===void 0?null:s],i},useContext:Xt,useEffect:a_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,rd(4194308,4,c_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return rd(4194308,4,i,s)},useInsertionEffect:function(i,s){rd(4,2,i,s)},useMemo:function(i,s){var o=hn();s=s===void 0?null:s;var u=i();if(va){Hn(!0);try{i()}finally{Hn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=hn();if(o!==void 0){var m=o(s);if(va){Hn(!0);try{o(s)}finally{Hn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=AA.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var s=hn();return i={current:i},s.memoizedState=i},useState:function(i){i=cm(i);var s=i.queue,o=b_.bind(null,De,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:fm,useDeferredValue:function(i,s){var o=hn();return mm(o,i,s)},useTransition:function(){var i=cm(!1);return i=p_.bind(null,De,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=De,m=hn();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(Le&127)!==0||Hv(u,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,a_($v.bind(null,u,g,i),[i]),u.flags|=2048,bo(9,{destroy:void 0},Gv.bind(null,u,g,o,s),null),o},useId:function(){var i=hn(),s=it.identifierPrefix;if(Be){var o=Yi,u=$i;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=ed++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=_A++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:gm,useFormState:t_,useActionState:t_,useOptimistic:function(i){var s=hn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=ym.bind(null,De,!0,o),o.dispatch=s,[i,s]},useMemoCache:om,useCacheRefresh:function(){return hn().memoizedState=xA.bind(null,De)},useEffectEvent:function(i){var s=hn(),o={impl:i};return s.memoizedState=o,function(){if((Ye&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},vm={readContext:Xt,use:nd,useCallback:h_,useContext:Xt,useEffect:hm,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:f_,useReducer:id,useRef:s_,useState:function(){return id(yr)},useDebugValue:fm,useDeferredValue:function(i,s){var o=St();return m_(o,et.memoizedState,i,s)},useTransition:function(){var i=id(yr)[0],s=St().memoizedState;return[typeof i=="boolean"?i:Kl(i),s]},useSyncExternalStore:qv,useId:v_,useHostTransitionStatus:gm,useFormState:n_,useActionState:n_,useOptimistic:function(i,s){var o=St();return Qv(o,et,i,s)},useMemoCache:om,useCacheRefresh:__};vm.useEffectEvent=o_;var S_={readContext:Xt,use:nd,useCallback:h_,useContext:Xt,useEffect:hm,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:f_,useReducer:um,useRef:s_,useState:function(){return um(yr)},useDebugValue:fm,useDeferredValue:function(i,s){var o=St();return et===null?mm(o,i,s):m_(o,et.memoizedState,i,s)},useTransition:function(){var i=um(yr)[0],s=St().memoizedState;return[typeof i=="boolean"?i:Kl(i),s]},useSyncExternalStore:qv,useId:v_,useHostTransitionStatus:gm,useFormState:r_,useActionState:r_,useOptimistic:function(i,s){var o=St();return et!==null?Qv(o,et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:om,useCacheRefresh:__};S_.useEffectEvent=o_;function _m(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var bm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Un(),m=rs(u);m.payload=s,o!=null&&(m.callback=o),s=ss(i,m,u),s!==null&&(Sn(s,i,u),Hl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Un(),m=rs(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ss(i,m,u),s!==null&&(Sn(s,i,u),Hl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Un(),u=rs(o);u.tag=2,s!=null&&(u.callback=s),s=ss(i,u,o),s!==null&&(Sn(s,i,o),Hl(s,i,o))}};function x_(i,s,o,u,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,w):s.prototype&&s.prototype.isPureReactComponent?!Ll(o,u)||!Ll(m,g):!0}function A_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&bm.enqueueReplaceState(s,s.state,null)}function _a(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function C_(i){Vc(i)}function R_(i){console.error(i)}function I_(i){Vc(i)}function od(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function N_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wm(i,s,o){return o=rs(o),o.tag=3,o.payload={element:null},o.callback=function(){od(i,s)},o}function O_(i){return i=rs(i),i.tag=3,i}function D_(i,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){N_(s,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){N_(s,o,u),typeof m!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function CA(i,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ho(s,o,m,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return ei===null?_d():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Kc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),$m(i,u,m)),!1;case 22:return o.flags|=65536,u===Kc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),$m(i,u,m)),!1}throw Error(r(435,o.tag))}return $m(i,u,m),_d(),!1}if(Be)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==zf&&(i=Error(r(422),{cause:u}),Ul(Xn(i,o)))):(u!==zf&&(s=Error(r(423),{cause:u}),Ul(Xn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Xn(u,o),m=wm(i.stateNode,u,m),Wf(i,m),_t!==4&&(_t=2)),!1;var g=Error(r(520),{cause:u});if(g=Xn(g,o),ru===null?ru=[g]:ru.push(g),_t!==4&&(_t=2),s===null)return!0;u=Xn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=wm(o.stateNode,u,i),Wf(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ds===null||!ds.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=O_(m),D_(m,i,o,u),Wf(o,m),!1}o=o.return}while(o!==null);return!1}var Tm=Error(r(461)),Mt=!1;function Wt(i,s,o,u){s.child=i===null?Lv(s,null,o,u):ya(s,i.child,o,u)}function M_(i,s,o,u,m){o=o.render;var g=s.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return fa(s),u=im(i,s,o,w,g,m),A=rm(),i!==null&&!Mt?(sm(i,s,m),vr(i,s,m)):(Be&&A&&Vf(s),s.flags|=1,Wt(i,s,u,m),s.child)}function k_(i,s,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!Pf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,P_(i,s,g,u,m)):(i=Fc(o.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Nm(i,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ll,o(w,u)&&i.ref===s.ref)return vr(i,s,m)}return s.flags|=1,i=hr(g,u),i.ref=s.ref,i.return=s,s.child=i}function P_(i,s,o,u,m){if(i!==null){var g=i.memoizedProps;if(Ll(g,u)&&i.ref===s.ref)if(Mt=!1,s.pendingProps=u=g,Nm(i,m))(i.flags&131072)!==0&&(Mt=!0);else return s.lanes=i.lanes,vr(i,s,m)}return Em(i,s,o,u,m)}function L_(i,s,o,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=s.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,s.child=null;return j_(i,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&$c(s,g!==null?g.cachePool:null),g!==null?Uv(s,g):Zf(),zv(s);else return u=s.lanes=536870912,j_(i,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?($c(s,g.cachePool),Uv(s,g),os(),s.memoizedState=null):(i!==null&&$c(s,null),Zf(),os());return Wt(i,s,m,o),s.child}function Wl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function j_(i,s,o,u,m){var g=Yf();return g=g===null?null:{parent:Ot._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&$c(s,null),Zf(),zv(s),i!==null&&ho(i,s,u,!0),s.childLanes=m,null}function ld(i,s){return s=cd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function V_(i,s,o){return ya(s,i.child,null,o),i=ld(s,s.pendingProps),i.flags|=2,Ln(s),s.memoizedState=null,i}function RA(i,s,o){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=ld(s,u),s.lanes=536870912,Wl(null,i);if(tm(s),(i=lt)?(i=X0(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zr!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=wv(i),o.return=s,s.child=o,Qt=s,lt=null)):i=null,i===null)throw ts(s);return s.lanes=536870912,null}return ld(s,u)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(tm(s),m)if(s.flags&256)s.flags&=-257,s=V_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Mt||ho(i,s,o,!1),m=(o&i.childLanes)!==0,Mt||m){if(u=it,u!==null&&(w=vl(u,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,ua(i,w),Sn(u,i,w),Tm;_d(),s=V_(i,s,o)}else i=g.treeContext,lt=ti(w.nextSibling),Qt=s,Be=!0,es=null,Zn=!1,i!==null&&Sv(s,i),s=ld(s,u),s.flags|=4096;return s}return i=hr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function ud(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Em(i,s,o,u,m){return fa(s),o=im(i,s,o,u,void 0,m),u=rm(),i!==null&&!Mt?(sm(i,s,m),vr(i,s,m)):(Be&&u&&Vf(s),s.flags|=1,Wt(i,s,o,m),s.child)}function U_(i,s,o,u,m,g){return fa(s),s.updateQueue=null,o=Fv(s,u,o,m),Bv(i),u=rm(),i!==null&&!Mt?(sm(i,s,g),vr(i,s,g)):(Be&&u&&Vf(s),s.flags|=1,Wt(i,s,o,g),s.child)}function z_(i,s,o,u,m){if(fa(s),s.stateNode===null){var g=oo,w=o.contextType;typeof w=="object"&&w!==null&&(g=Xt(w)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=bm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Qf(s),w=o.contextType,g.context=typeof w=="object"&&w!==null?Xt(w):oo,g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(_m(s,o,w,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&bm.enqueueReplaceState(g,g.state,null),$l(s,u,g,m),Gl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,V=_a(o,A);g.props=V;var Q=g.context,ie=o.contextType;w=oo,typeof ie=="object"&&ie!==null&&(w=Xt(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Q!==w)&&A_(s,g,u,w),is=!1;var W=s.memoizedState;g.state=W,$l(s,u,g,m),Gl(),Q=s.memoizedState,A||W!==Q||is?(typeof oe=="function"&&(_m(s,o,oe,u),Q=s.memoizedState),(V=is||x_(s,o,V,u,W,Q,w))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=w,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Xf(i,s),w=s.memoizedProps,ie=_a(o,w),g.props=ie,oe=s.pendingProps,W=g.context,Q=o.contextType,V=oo,typeof Q=="object"&&Q!==null&&(V=Xt(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==oe||W!==V)&&A_(s,g,u,V),is=!1,W=s.memoizedState,g.state=W,$l(s,u,g,m),Gl();var te=s.memoizedState;w!==oe||W!==te||is||i!==null&&i.dependencies!==null&&Hc(i.dependencies)?(typeof A=="function"&&(_m(s,o,A,u),te=s.memoizedState),(ie=is||x_(s,o,ie,u,W,te,V)||i!==null&&i.dependencies!==null&&Hc(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),g.props=u,g.state=te,g.context=V,u=ie):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,ud(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=ya(s,i.child,null,m),s.child=ya(s,null,o,m)):Wt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=vr(i,s,m),i}function B_(i,s,o,u){return da(),s.flags|=256,Wt(i,s,o,u),s.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xm(i){return{baseLanes:i,cachePool:Nv()}}function Am(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Vn),i}function F_(i,s,o){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(Et.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Be){if(m?as(s):os(),(i=lt)?(i=X0(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Zr!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=wv(i),o.return=s,s.child=o,Qt=s,lt=null)):i=null,i===null)throw ts(s);return lp(i)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(os(),m=s.mode,A=cd({mode:"hidden",children:A},m),u=ca(u,m,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=xm(o),u.childLanes=Am(i,w,o),s.memoizedState=Sm,Wl(null,u)):(as(s),Cm(s,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(g)s.flags&256?(as(s),s.flags&=-257,s=Rm(i,s,o)):s.memoizedState!==null?(os(),s.child=i.child,s.flags|=128,s=null):(os(),A=u.fallback,m=s.mode,u=cd({mode:"visible",children:u.children},m),A=ca(A,m,o,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,ya(s,i.child,null,o),u=s.child,u.memoizedState=xm(o),u.childLanes=Am(i,w,o),s.memoizedState=Sm,s=Wl(null,u));else if(as(s),lp(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var Q=w.dgst;w=Q,u=Error(r(419)),u.stack="",u.digest=w,Ul({value:u,source:null,stack:null}),s=Rm(i,s,o)}else if(Mt||ho(i,s,o,!1),w=(o&i.childLanes)!==0,Mt||w){if(w=it,w!==null&&(u=vl(w,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,ua(i,u),Sn(w,i,u),Tm;op(A)||_d(),s=Rm(i,s,o)}else op(A)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,lt=ti(A.nextSibling),Qt=s,Be=!0,es=null,Zn=!1,i!==null&&Sv(s,i),s=Cm(s,u.children),s.flags|=4096);return s}return m?(os(),A=u.fallback,m=s.mode,V=i.child,Q=V.sibling,u=hr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Q!==null?A=hr(Q,A):(A=ca(A,m,o,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,Wl(null,u),u=s.child,A=i.child.memoizedState,A===null?A=xm(o):(m=A.cachePool,m!==null?(V=Ot._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=Nv(),A={baseLanes:A.baseLanes|o,cachePool:m}),u.memoizedState=A,u.childLanes=Am(i,w,o),s.memoizedState=Sm,Wl(i.child,u)):(as(s),o=i.child,i=o.sibling,o=hr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function Cm(i,s){return s=cd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function cd(i,s){return i=kn(22,i,null,s),i.lanes=0,i}function Rm(i,s,o){return ya(s,i.child,null,o),i=Cm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function q_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),qf(i.return,s,o)}function Im(i,s,o,u,m,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function H_(i,s,o){var u=s.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var w=Et.current,A=(w&2)!==0;if(A?(w=w&1|2,s.flags|=128):w&=1,he(Et,w),Wt(i,s,u,o),u=Be?Vl:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q_(i,o,s);else if(i.tag===19)q_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Jc(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Im(s,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Jc(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Im(s,!0,o,null,g,u);break;case"together":Im(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function vr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),cs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(ho(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=hr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=hr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Nm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Hc(i)))}function IA(i,s,o){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),ns(s,Ot,i.memoizedState.cache),da();break;case 27:case 5:yt(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,tm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(as(s),s.flags|=128,null):(o&s.child.childLanes)!==0?F_(i,s,o):(as(s),i=vr(i,s,o),i!==null?i.sibling:null);as(s);break;case 19:var m=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ho(i,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return H_(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(Et,Et.current),u)break;return null;case 22:return s.lanes=0,L_(i,s,o,s.pendingProps);case 24:ns(s,Ot,i.memoizedState.cache)}return vr(i,s,o)}function G_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Mt=!0;else{if(!Nm(i,o)&&(s.flags&128)===0)return Mt=!1,IA(i,s,o);Mt=(i.flags&131072)!==0}else Mt=!1,Be&&(s.flags&1048576)!==0&&Ev(s,Vl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=pa(s.elementType),s.type=i,typeof i=="function")Pf(i)?(u=_a(i,u),s.tag=1,s=z_(null,s,i,u,o)):(s.tag=0,s=Em(null,s,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===X){s.tag=11,s=M_(null,s,i,u,o);break e}else if(m===D){s.tag=14,s=k_(null,s,i,u,o);break e}}throw s=de(i)||i,Error(r(306,s,""))}}return s;case 0:return Em(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=_a(u,s.pendingProps),z_(i,s,u,m,o);case 3:e:{if(ot(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;m=g.element,Xf(i,s),$l(s,u,null,o);var w=s.memoizedState;if(u=w.cache,ns(s,Ot,u),u!==g.cache&&Hf(s,[Ot],o,!0),Gl(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=B_(i,s,u,o);break e}else if(u!==m){m=Xn(Error(r(424)),s),Ul(m),s=B_(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(lt=ti(i.firstChild),Qt=s,Be=!0,es=null,Zn=!0,o=Lv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(da(),u===m){s=vr(i,s,o);break e}Wt(i,s,u,o)}s=s.child}return s;case 26:return ud(i,s),i===null?(o=nb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Be||(o=s.type,i=s.pendingProps,u=Ad(Ae.current).createElement(o),u[Rt]=s,u[qt]=i,Jt(u,o,i),It(u),s.stateNode=u):s.memoizedState=nb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return yt(s),i===null&&Be&&(u=s.stateNode=Z0(s.type,s.pendingProps,Ae.current),Qt=s,Zn=!0,m=lt,ps(s.type)?(up=m,lt=ti(u.firstChild)):lt=m),Wt(i,s,s.pendingProps.children,o),ud(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Be&&((m=u=lt)&&(u=sC(u,s.type,s.pendingProps,Zn),u!==null?(s.stateNode=u,Qt=s,lt=ti(u.firstChild),Zn=!1,m=!0):m=!1),m||ts(s)),yt(s),m=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,u=g.children,rp(m,g)?u=null:w!==null&&rp(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=im(i,s,bA,null,null,o),hu._currentValue=m),ud(i,s),Wt(i,s,u,o),s.child;case 6:return i===null&&Be&&((i=o=lt)&&(o=aC(o,s.pendingProps,Zn),o!==null?(s.stateNode=o,Qt=s,lt=null,i=!0):i=!1),i||ts(s)),null;case 13:return F_(i,s,o);case 4:return ot(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ya(s,null,u,o):Wt(i,s,u,o),s.child;case 11:return M_(i,s,s.type,s.pendingProps,o);case 7:return Wt(i,s,s.pendingProps,o),s.child;case 8:return Wt(i,s,s.pendingProps.children,o),s.child;case 12:return Wt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ns(s,s.type,u.value),Wt(i,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,fa(s),m=Xt(m),u=u(m),s.flags|=1,Wt(i,s,u,o),s.child;case 14:return k_(i,s,s.type,s.pendingProps,o);case 15:return P_(i,s,s.type,s.pendingProps,o);case 19:return H_(i,s,o);case 31:return RA(i,s,o);case 22:return L_(i,s,o,s.pendingProps);case 24:return fa(s),u=Xt(Ot),i===null?(m=Yf(),m===null&&(m=it,g=Gf(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:u,cache:m},Qf(s),ns(s,Ot,m)):((i.lanes&o)!==0&&(Xf(i,s),$l(s,null,null,o),Gl()),m=i.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ns(s,Ot,u)):(u=g.cache,ns(s,Ot,u),u!==m.cache&&Hf(s,[Ot],o,!0))),Wt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function _r(i){i.flags|=4}function Om(i,s,o,u,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(v0())i.flags|=8192;else throw ga=Kc,Kf}else i.flags&=-16777217}function $_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ob(s))if(v0())i.flags|=8192;else throw ga=Kc,Kf}function dd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?yc():536870912,i.lanes|=s,So|=s)}function Jl(i,s){if(!Be)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ut(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function NA(i,s,o){var u=s.pendingProps;switch(Uf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),pr(Ot),qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(co(s)?_r(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bf())),ut(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(_r(s),g!==null?(ut(s),$_(s,g)):(ut(s),Om(s,m,null,u,o))):g?g!==i.memoizedState?(_r(s),ut(s),$_(s,g)):(ut(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&_r(s),ut(s),Om(s,m,i,u,o)),null;case 27:if(un(s),o=Ae.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ut(s),null}i=me.current,co(s)?xv(s):(i=Z0(m,u,o),s.stateNode=i,_r(s))}return ut(s),null;case 5:if(un(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(g=me.current,co(s))xv(s);else{var w=Ad(Ae.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}g[Rt]=s,g[qt]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=g;e:switch(Jt(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_r(s)}}return ut(s),Om(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ae.current,co(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Rt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||F0(i.nodeValue,o)),i||ts(s,!0)}else i=Ad(i).createTextNode(u),i[Rt]=s,s.stateNode=i}return ut(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=co(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Rt]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),i=!1}else o=Bf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Ln(s),s):(Ln(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ut(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=co(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Rt]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),m=!1}else m=Bf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Ln(s),s):(Ln(s),null)}return Ln(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),dd(s,s.updateQueue),ut(s),null);case 4:return qe(),i===null&&Zm(s.stateNode.containerInfo),ut(s),null;case 10:return pr(s.type),ut(s),null;case 19:if(ne(Et),u=s.memoizedState,u===null)return ut(s),null;if(m=(s.flags&128)!==0,g=u.rendering,g===null)if(m)Jl(u,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Jc(i),g!==null){for(s.flags|=128,Jl(u,!1),i=g.updateQueue,s.updateQueue=i,dd(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)bv(o,i),o=o.sibling;return he(Et,Et.current&1|2),Be&&fr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&cn()>gd&&(s.flags|=128,m=!0,Jl(u,!1),s.lanes=4194304)}else{if(!m)if(i=Jc(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,dd(s,i),Jl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Be)return ut(s),null}else 2*cn()-u.renderingStartTime>gd&&o!==536870912&&(s.flags|=128,m=!0,Jl(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=Et.current,he(Et,m?o&1|2:o&1),Be&&fr(s,u.treeForkCount),i):(ut(s),null);case 22:case 23:return Ln(s),em(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),o=s.updateQueue,o!==null&&dd(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ne(ma),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),pr(Ot),ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function OA(i,s){switch(Uf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return pr(Ot),qe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return un(s),null;case 31:if(s.memoizedState!==null){if(Ln(s),s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Ln(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ne(Et),null;case 4:return qe(),null;case 10:return pr(s.type),null;case 22:case 23:return Ln(s),em(),i!==null&&ne(ma),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return pr(Ot),null;case 25:return null;default:return null}}function Y_(i,s){switch(Uf(s),s.tag){case 3:pr(Ot),qe();break;case 26:case 27:case 5:un(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&Ln(s);break;case 13:Ln(s);break;case 19:ne(Et);break;case 10:pr(s.type);break;case 22:case 23:Ln(s),em(),i!==null&&ne(ma);break;case 24:pr(Ot)}}function Zl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,w=o.inst;u=g(),w.destroy=u}o=o.next}while(o!==m)}}catch(A){Je(s,s.return,A)}}function ls(i,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=s;var V=o,Q=A;try{Q()}catch(ie){Je(m,V,ie)}}}u=u.next}while(u!==g)}}catch(ie){Je(s,s.return,ie)}}function K_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Vv(s,o)}catch(u){Je(i,i.return,u)}}}function Q_(i,s,o){o.props=_a(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,s,u)}}function eu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){Je(i,s,m)}}function Ki(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Je(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,s,m)}else o.current=null}function X_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function Dm(i,s,o){try{var u=i.stateNode;ZA(u,i.type,o,s),u[qt]=s}catch(m){Je(i,i.return,m)}}function W_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ps(i.type)||i.tag===4}function Mm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||W_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ps(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function km(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=gi));else if(u!==4&&(u===27&&ps(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(km(i,s,o),i=i.sibling;i!==null;)km(i,s,o),i=i.sibling}function hd(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&ps(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(hd(i,s,o),i=i.sibling;i!==null;)hd(i,s,o),i=i.sibling}function J_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Jt(s,u,o),s[Rt]=i,s[qt]=o}catch(g){Je(i,i.return,g)}}var br=!1,kt=!1,Pm=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function DA(i,s){if(i=i.containerInfo,np=Md,i=dv(i),Rf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,V=-1,Q=0,ie=0,oe=i,W=null;t:for(;;){for(var te;oe!==o||m!==0&&oe.nodeType!==3||(A=w+m),oe!==g||u!==0&&oe.nodeType!==3||(V=w+u),oe.nodeType===3&&(w+=oe.nodeValue.length),(te=oe.firstChild)!==null;)W=oe,oe=te;for(;;){if(oe===i)break t;if(W===o&&++Q===m&&(A=w),W===g&&++ie===u&&(V=w),(te=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=te}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(ip={focusedElem:i,selectionRange:o},Md=!1,Gt=s;Gt!==null;)if(s=Gt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Gt=i;else for(;Gt!==null;){switch(s=Gt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ve=_a(o.type,m);i=u.getSnapshotBeforeUpdate(ve,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){Je(o,o.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)ap(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ap(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Gt=i;break}Gt=s.return}}function e0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(i,o),u&4&&Zl(5,o);break;case 1:if(Tr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){Je(o,o.return,w)}else{var m=_a(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Je(o,o.return,w)}}u&64&&K_(o),u&512&&eu(o,o.return);break;case 3:if(Tr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Vv(i,s)}catch(w){Je(o,o.return,w)}}break;case 27:s===null&&u&4&&J_(o);case 26:case 5:Tr(i,o),s===null&&u&4&&X_(o),u&512&&eu(o,o.return);break;case 12:Tr(i,o);break;case 31:Tr(i,o),u&4&&i0(i,o);break;case 13:Tr(i,o),u&4&&r0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=BA.bind(null,o),oC(i,o))));break;case 22:if(u=o.memoizedState!==null||br,!u){s=s!==null&&s.memoizedState!==null||kt,m=br;var g=kt;br=u,(kt=s)&&!g?Er(i,o,(o.subtreeFlags&8772)!==0):Tr(i,o),br=m,kt=g}break;case 30:break;default:Tr(i,o)}}function t0(i){var s=i.alternate;s!==null&&(i.alternate=null,t0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ya(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,bn=!1;function wr(i,s,o){for(o=o.child;o!==null;)n0(i,s,o),o=o.sibling}function n0(i,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(hi,o)}catch{}switch(o.tag){case 26:kt||Ki(o,s),wr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Ki(o,s);var u=ft,m=bn;ps(o.type)&&(ft=o.stateNode,bn=!1),wr(i,s,o),uu(o.stateNode),ft=u,bn=m;break;case 5:kt||Ki(o,s);case 6:if(u=ft,m=bn,ft=null,wr(i,s,o),ft=u,bn=m,ft!==null)if(bn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){Je(o,s,g)}else try{ft.removeChild(o.stateNode)}catch(g){Je(o,s,g)}break;case 18:ft!==null&&(bn?(i=ft,K0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Do(i)):K0(ft,o.stateNode));break;case 4:u=ft,m=bn,ft=o.stateNode.containerInfo,bn=!0,wr(i,s,o),ft=u,bn=m;break;case 0:case 11:case 14:case 15:ls(2,o,s),kt||ls(4,o,s),wr(i,s,o);break;case 1:kt||(Ki(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Q_(o,s,u)),wr(i,s,o);break;case 21:wr(i,s,o);break;case 22:kt=(u=kt)||o.memoizedState!==null,wr(i,s,o),kt=u;break;default:wr(i,s,o)}}function i0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Do(i)}catch(o){Je(s,s.return,o)}}}function r0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Do(i)}catch(o){Je(s,s.return,o)}}function MA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Z_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Z_),s;default:throw Error(r(435,i.tag))}}function fd(i,s){var o=MA(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var m=FA.bind(null,i,u);u.then(m,m)}})}function wn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(ps(A.type)){ft=A.stateNode,bn=!1;break e}break;case 5:ft=A.stateNode,bn=!1;break e;case 3:case 4:ft=A.stateNode.containerInfo,bn=!0;break e}A=A.return}if(ft===null)throw Error(r(160));n0(g,w,m),ft=null,bn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)s0(s,i),s=s.sibling}var Ti=null;function s0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(s,i),Tn(i),u&4&&(ls(3,i,i.return),Zl(3,i),ls(5,i,i.return));break;case 1:wn(s,i),Tn(i),u&512&&(kt||o===null||Ki(o,o.return)),u&64&&br&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ti;if(wn(s,i),Tn(i),u&512&&(kt||o===null||Ki(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ki]||g[Rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Jt(g,u,o),g[Rt]=i,It(g),u=g;break e;case"link":var w=sb("link","href",m).get(u+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=m.createElement(u),Jt(g,u,o),m.head.appendChild(g);break;case"meta":if(w=sb("meta","content",m).get(u+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=m.createElement(u),Jt(g,u,o),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[Rt]=i,It(g),u=g}i.stateNode=u}else ab(m,i.type,i.stateNode);else i.stateNode=rb(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ab(m,i.type,i.stateNode):rb(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Dm(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(s,i),Tn(i),u&512&&(kt||o===null||Ki(o,o.return)),o!==null&&u&4&&Dm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(s,i),Tn(i),u&512&&(kt||o===null||Ki(o,o.return)),i.flags&32){m=i.stateNode;try{_n(m,"")}catch(ve){Je(i,i.return,ve)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Dm(i,m,o!==null?o.memoizedProps:m)),u&1024&&(Pm=!0);break;case 6:if(wn(s,i),Tn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ve){Je(i,i.return,ve)}}break;case 3:if(Id=null,m=Ti,Ti=Cd(s.containerInfo),wn(s,i),Ti=m,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Do(s.containerInfo)}catch(ve){Je(i,i.return,ve)}Pm&&(Pm=!1,a0(i));break;case 4:u=Ti,Ti=Cd(i.stateNode.containerInfo),wn(s,i),Tn(i),Ti=u;break;case 12:wn(s,i),Tn(i);break;case 31:wn(s,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,fd(i,u)));break;case 13:wn(s,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(pd=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,fd(i,u)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=br,ie=kt;if(br=Q||m,kt=ie||V,wn(s,i),kt=ie,br=Q,Tn(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||V||br||kt||ba(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=V.stateNode;var oe=V.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ve){Je(V,V.return,ve)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ve){Je(V,V.return,ve)}}}else if(s.tag===18){if(o===null){V=s;try{var te=V.stateNode;m?Q0(te,!0):Q0(V.stateNode,!1)}catch(ve){Je(V,V.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,fd(i,o))));break;case 19:wn(s,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,fd(i,u)));break;case 30:break;case 21:break;default:wn(s,i),Tn(i)}}function Tn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(W_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=Mm(i);hd(i,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(_n(w,""),o.flags&=-33);var A=Mm(i);hd(i,A,w);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=Mm(i);km(i,Q,V);break;default:throw Error(r(161))}}catch(ie){Je(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function a0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;a0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)e0(i,s.alternate,s),s=s.sibling}function ba(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),ba(s);break;case 1:Ki(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Q_(s,s.return,o),ba(s);break;case 27:uu(s.stateNode);case 26:case 5:Ki(s,s.return),ba(s);break;case 22:s.memoizedState===null&&ba(s);break;case 30:ba(s);break;default:ba(s)}i=i.sibling}}function Er(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:Er(m,g,o),Zl(4,g);break;case 1:if(Er(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Je(u,u.return,Q)}if(u=g,m=u.updateQueue,m!==null){var A=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)jv(V[m],A)}catch(Q){Je(u,u.return,Q)}}o&&w&64&&K_(g),eu(g,g.return);break;case 27:J_(g);case 26:case 5:Er(m,g,o),o&&u===null&&w&4&&X_(g),eu(g,g.return);break;case 12:Er(m,g,o);break;case 31:Er(m,g,o),o&&w&4&&i0(m,g);break;case 13:Er(m,g,o),o&&w&4&&r0(m,g);break;case 22:g.memoizedState===null&&Er(m,g,o),eu(g,g.return);break;case 30:break;default:Er(m,g,o)}s=s.sibling}}function Lm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&zl(o))}function jm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&zl(i))}function Ei(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o0(i,s,o,u),s=s.sibling}function o0(i,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Ei(i,s,o,u),m&2048&&Zl(9,s);break;case 1:Ei(i,s,o,u);break;case 3:Ei(i,s,o,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&zl(i)));break;case 12:if(m&2048){Ei(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Je(s,s.return,V)}}else Ei(i,s,o,u);break;case 31:Ei(i,s,o,u);break;case 13:Ei(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?Ei(i,s,o,u):tu(i,s):g._visibility&2?Ei(i,s,o,u):(g._visibility|=2,wo(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Lm(w,s);break;case 24:Ei(i,s,o,u),m&2048&&jm(s.alternate,s);break;default:Ei(i,s,o,u)}}function wo(i,s,o,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,w=s,A=o,V=u,Q=w.flags;switch(w.tag){case 0:case 11:case 15:wo(g,w,A,V,m),Zl(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?wo(g,w,A,V,m):tu(g,w):(ie._visibility|=2,wo(g,w,A,V,m)),m&&Q&2048&&Lm(w.alternate,w);break;case 24:wo(g,w,A,V,m),m&&Q&2048&&jm(w.alternate,w);break;default:wo(g,w,A,V,m)}s=s.sibling}}function tu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,m=u.flags;switch(u.tag){case 22:tu(o,u),m&2048&&Lm(u.alternate,u);break;case 24:tu(o,u),m&2048&&jm(u.alternate,u);break;default:tu(o,u)}s=s.sibling}}var nu=8192;function To(i,s,o){if(i.subtreeFlags&nu)for(i=i.child;i!==null;)l0(i,s,o),i=i.sibling}function l0(i,s,o){switch(i.tag){case 26:To(i,s,o),i.flags&nu&&i.memoizedState!==null&&_C(o,Ti,i.memoizedState,i.memoizedProps);break;case 5:To(i,s,o);break;case 3:case 4:var u=Ti;Ti=Cd(i.stateNode.containerInfo),To(i,s,o),Ti=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=nu,nu=16777216,To(i,s,o),nu=u):To(i,s,o));break;default:To(i,s,o)}}function u0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function iu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,d0(u,i)}u0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c0(i),i=i.sibling}function c0(i){switch(i.tag){case 0:case 11:case 15:iu(i),i.flags&2048&&ls(9,i,i.return);break;case 3:iu(i);break;case 12:iu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,md(i)):iu(i);break;default:iu(i)}}function md(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,d0(u,i)}u0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ls(8,s,s.return),md(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,md(s));break;default:md(s)}i=i.sibling}}function d0(i,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=i;Gt!==null;){u=Gt;var m=u.sibling,g=u.return;if(t0(u),u===o){Gt=null;break e}if(m!==null){m.return=g,Gt=m;break e}Gt=g}}}var kA={getCacheForType:function(i){var s=Xt(Ot),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Xt(Ot).controller.signal}},PA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,ke=null,Le=0,We=0,jn=null,us=!1,Eo=!1,Vm=!1,Sr=0,_t=0,cs=0,wa=0,Um=0,Vn=0,So=0,ru=null,En=null,zm=!1,pd=0,h0=0,gd=1/0,yd=null,ds=null,zt=0,hs=null,xo=null,xr=0,Bm=0,Fm=null,f0=null,su=0,qm=null;function Un(){return(Ye&2)!==0&&Le!==0?Le&-Le:q.T!==null?Qm():vc()}function m0(){if(Vn===0)if((Le&536870912)===0||Be){var i=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),Vn=i}else Vn=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Vn}function Sn(i,s,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Ao(i,0),fs(i,Le,Vn,!1)),Qs(i,o),((Ye&2)===0||i!==it)&&(i===it&&((Ye&2)===0&&(wa|=o),_t===4&&fs(i,Le,Vn,!1)),Qi(i))}function p0(i,s,o){if((Ye&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||fi(i,s),m=u?VA(i,s):Gm(i,s,!0),g=u;do{if(m===0){Eo&&!u&&fs(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!LA(o)){m=Gm(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var A=i;m=ru;var V=A.current.memoizedState.isDehydrated;if(V&&(Ao(A,w).flags|=256),w=Gm(A,w,!1),w!==2){if(Vm&&!V){A.errorRecoveryDisabledLanes|=g,wa|=g,m=4;break e}g=En,En=m,g!==null&&(En===null?En=g:En.push.apply(En,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){Ao(i,0),fs(i,s,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:fs(u,s,Vn,!us);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=pd+300-cn(),10<m)){if(fs(u,s,Vn,!us),Oi(u,0,!0)!==0)break e;xr=s,u.timeoutHandle=$0(g0.bind(null,u,o,En,yd,zm,s,Vn,wa,So,us,g,"Throttled",-0,0),m);break e}g0(u,o,En,yd,zm,s,Vn,wa,So,us,g,null,-0,0)}}break}while(!0);Qi(i)}function g0(i,s,o,u,m,g,w,A,V,Q,ie,oe,W,te){if(i.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},l0(s,g,oe);var ve=(g&62914560)===g?pd-cn():(g&4194048)===g?h0-cn():0;if(ve=bC(oe,ve),ve!==null){xr=g,i.cancelPendingCommit=ve(S0.bind(null,i,s,g,o,u,m,w,A,V,ie,oe,null,W,te)),fs(i,g,w,!Q);return}}S0(i,s,g,o,u,m,w,A,V)}function LA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!Mn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fs(i,s,o,u){s&=~Um,s&=~wa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var g=31-wt(m),w=1<<g;u[g]=-1,m&=~w}o!==0&&Xs(i,o,s)}function vd(){return(Ye&6)===0?(au(0),!1):!0}function Hm(){if(ke!==null){if(We===0)var i=ke.return;else i=ke,mr=ha=null,am(i),go=null,Fl=0,i=ke;for(;i!==null;)Y_(i.alternate,i),i=i.return;ke=null}}function Ao(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,nC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),xr=0,Hm(),it=i,ke=o=hr(i.current,null),Le=s,We=0,jn=null,us=!1,Eo=fi(i,s),Vm=!1,So=Vn=Um=wa=cs=_t=0,En=ru=null,zm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-wt(u),g=1<<m;s|=i[m],u&=~g}return Sr=s,Uc(),o}function y0(i,s){De=null,q.H=Xl,s===po||s===Yc?(s=Mv(),We=3):s===Kf?(s=Mv(),We=4):We=s===Tm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jn=s,ke===null&&(_t=1,od(i,Xn(s,i.current)))}function v0(){var i=Pn.current;return i===null?!0:(Le&4194048)===Le?ei===null:(Le&62914560)===Le||(Le&536870912)!==0?i===ei:!1}function _0(){var i=q.H;return q.H=Xl,i===null?Xl:i}function b0(){var i=q.A;return q.A=kA,i}function _d(){_t=4,us||(Le&4194048)!==Le&&Pn.current!==null||(Eo=!0),(cs&134217727)===0&&(wa&134217727)===0||it===null||fs(it,Le,Vn,!1)}function Gm(i,s,o){var u=Ye;Ye|=2;var m=_0(),g=b0();(it!==i||Le!==s)&&(yd=null,Ao(i,s)),s=!1;var w=_t;e:do try{if(We!==0&&ke!==null){var A=ke,V=jn;switch(We){case 8:Hm(),w=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var Q=We;if(We=0,jn=null,Co(i,A,V,Q),o&&Eo){w=0;break e}break;default:Q=We,We=0,jn=null,Co(i,A,V,Q)}}jA(),w=_t;break}catch(ie){y0(i,ie)}while(!0);return s&&i.shellSuspendCounter++,mr=ha=null,Ye=u,q.H=m,q.A=g,ke===null&&(it=null,Le=0,Uc()),w}function jA(){for(;ke!==null;)w0(ke)}function VA(i,s){var o=Ye;Ye|=2;var u=_0(),m=b0();it!==i||Le!==s?(yd=null,gd=cn()+500,Ao(i,s)):Eo=fi(i,s);e:do try{if(We!==0&&ke!==null){s=ke;var g=jn;t:switch(We){case 1:We=0,jn=null,Co(i,s,g,1);break;case 2:case 9:if(Ov(g)){We=0,jn=null,T0(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),Qi(i)},g.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Ov(g)?(We=0,jn=null,T0(s)):(We=0,jn=null,Co(i,s,g,7));break;case 5:var w=null;switch(ke.tag){case 26:w=ke.memoizedState;case 5:case 27:var A=ke;if(w?ob(w):A.stateNode.complete){We=0,jn=null;var V=A.sibling;if(V!==null)ke=V;else{var Q=A.return;Q!==null?(ke=Q,bd(Q)):ke=null}break t}}We=0,jn=null,Co(i,s,g,5);break;case 6:We=0,jn=null,Co(i,s,g,6);break;case 8:Hm(),_t=6;break e;default:throw Error(r(462))}}UA();break}catch(ie){y0(i,ie)}while(!0);return mr=ha=null,q.H=u,q.A=m,Ye=o,ke!==null?0:(it=null,Le=0,Uc(),_t)}function UA(){for(;ke!==null&&!wf();)w0(ke)}function w0(i){var s=G_(i.alternate,i,Sr);i.memoizedProps=i.pendingProps,s===null?bd(i):ke=s}function T0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=U_(o,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=U_(o,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:am(s);default:Y_(o,s),s=ke=bv(s,Sr),s=G_(o,s,Sr)}i.memoizedProps=i.pendingProps,s===null?bd(i):ke=s}function Co(i,s,o,u){mr=ha=null,am(s),go=null,Fl=0;var m=s.return;try{if(CA(i,m,s,o,Le)){_t=1,od(i,Xn(o,i.current)),ke=null;return}}catch(g){if(m!==null)throw ke=m,g;_t=1,od(i,Xn(o,i.current)),ke=null;return}s.flags&32768?(Be||u===1?i=!0:Eo||(Le&536870912)!==0?i=!1:(us=i=!0,(u===2||u===9||u===3||u===6)&&(u=Pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),E0(s,i)):bd(s)}function bd(i){var s=i;do{if((s.flags&32768)!==0){E0(s,us);return}i=s.return;var o=NA(s.alternate,s,Sr);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=i}while(s!==null);_t===0&&(_t=5)}function E0(i,s){do{var o=OA(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);_t=6,ke=null}function S0(i,s,o,u,m,g,w,A,V){i.cancelPendingCommit=null;do wd();while(zt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Mf,Sf(i,o,g,w,A,V),i===it&&(ke=it=null,Le=0),xo=s,hs=i,xr=o,Bm=g,Fm=m,f0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qA(qr,function(){return I0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,m=J.p,J.p=2,w=Ye,Ye|=4;try{DA(i,s,o)}finally{Ye=w,J.p=m,q.T=u}}zt=1,x0(),A0(),C0()}}function x0(){if(zt===1){zt=0;var i=hs,s=xo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var u=J.p;J.p=2;var m=Ye;Ye|=4;try{s0(s,i);var g=ip,w=dv(i.containerInfo),A=g.focusedElem,V=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&cv(A.ownerDocument.documentElement,A)){if(V!==null&&Rf(A)){var Q=V.start,ie=V.end;if(ie===void 0&&(ie=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ie,A.value.length);else{var oe=A.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var te=W.getSelection(),ve=A.textContent.length,Ee=Math.min(V.start,ve),nt=V.end===void 0?Ee:Math.min(V.end,ve);!te.extend&&Ee>nt&&(w=nt,nt=Ee,Ee=w);var G=uv(A,Ee),H=uv(A,nt);if(G&&H&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var K=oe.createRange();K.setStart(G.node,G.offset),te.removeAllRanges(),Ee>nt?(te.addRange(K),te.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),te.addRange(K))}}}}for(oe=[],te=A;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var se=oe[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Md=!!np,ip=np=null}finally{Ye=m,J.p=u,q.T=o}}i.current=s,zt=2}}function A0(){if(zt===2){zt=0;var i=hs,s=xo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var u=J.p;J.p=2;var m=Ye;Ye|=4;try{e0(i,s.alternate,s)}finally{Ye=m,J.p=u,q.T=o}}zt=3}}function C0(){if(zt===4||zt===3){zt=0,dc();var i=hs,s=xo,o=xr,u=f0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,xo=hs=null,R0(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(ds=null),lr(o),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(hi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,m=J.p,J.p=2,q.T=null;try{for(var g=i.onRecoverableError,w=0;w<u.length;w++){var A=u[w];g(A.value,{componentStack:A.stack})}}finally{q.T=s,J.p=m}}(xr&3)!==0&&wd(),Qi(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===qm?su++:(su=0,qm=i):su=0,au(0)}}function R0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,zl(s)))}function wd(){return x0(),A0(),C0(),I0()}function I0(){if(zt!==5)return!1;var i=hs,s=Bm;Bm=0;var o=lr(xr),u=q.T,m=J.p;try{J.p=32>o?32:o,q.T=null,o=Fm,Fm=null;var g=hs,w=xr;if(zt=0,xo=hs=null,xr=0,(Ye&6)!==0)throw Error(r(331));var A=Ye;if(Ye|=4,c0(g.current),o0(g,g.current,w,o),Ye=A,au(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(hi,g)}catch{}return!0}finally{J.p=m,q.T=u,R0(i,s)}}function N0(i,s,o){s=Xn(o,s),s=wm(i.stateNode,s,2),i=ss(i,s,2),i!==null&&(Qs(i,2),Qi(i))}function Je(i,s,o){if(i.tag===3)N0(i,i,o);else for(;s!==null;){if(s.tag===3){N0(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ds===null||!ds.has(u))){i=Xn(o,i),o=O_(2),u=ss(s,o,2),u!==null&&(D_(o,u,s,i),Qs(u,2),Qi(u));break}}s=s.return}}function $m(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new PA;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Vm=!0,m.add(o),i=zA.bind(null,i,s,o),s.then(i,i))}function zA(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Le&o)===o&&(_t===4||_t===3&&(Le&62914560)===Le&&300>cn()-pd?(Ye&2)===0&&Ao(i,0):Um|=o,So===Le&&(So=0)),Qi(i)}function O0(i,s){s===0&&(s=yc()),i=ua(i,s),i!==null&&(Qs(i,s),Qi(i))}function BA(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),O0(i,o)}function FA(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),O0(i,o)}function qA(i,s){return Ut(i,s)}var Td=null,Ro=null,Ym=!1,Ed=!1,Km=!1,ms=0;function Qi(i){i!==Ro&&i.next===null&&(Ro===null?Td=Ro=i:Ro=Ro.next=i),Ed=!0,Ym||(Ym=!0,GA())}function au(i,s){if(!Km&&Ed){Km=!0;do for(var o=!1,u=Td;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var w=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-wt(42|i)+1)-1,g&=m&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,P0(u,g))}else g=Le,g=Oi(u,u===it?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||fi(u,g)||(o=!0,P0(u,g));u=u.next}while(o);Km=!1}}function HA(){D0()}function D0(){Ed=Ym=!1;var i=0;ms!==0&&tC()&&(i=ms);for(var s=cn(),o=null,u=Td;u!==null;){var m=u.next,g=M0(u,s);g===0?(u.next=null,o===null?Td=m:o.next=m,m===null&&(Ro=o)):(o=u,(i!==0||(g&3)!==0)&&(Ed=!0)),u=m}zt!==0&&zt!==5||au(i),ms!==0&&(ms=0)}function M0(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-wt(g),A=1<<w,V=m[w];V===-1?((A&o)===0||(A&u)!==0)&&(m[w]=Ef(A,s)):V<=s&&(i.expiredLanes|=A),g&=~A}if(s=it,o=Le,o=Oi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Fr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||fi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Fr(u),lr(o)){case 2:case 8:o=gl;break;case 32:o=qr;break;case 268435456:o=hc;break;default:o=qr}return u=k0.bind(null,i),o=Ut(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Fr(u),i.callbackPriority=2,i.callbackNode=null,2}function k0(i,s){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(wd()&&i.callbackNode!==o)return null;var u=Le;return u=Oi(i,i===it?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(p0(i,u,s),M0(i,cn()),i.callbackNode!=null&&i.callbackNode===o?k0.bind(null,i):null)}function P0(i,s){if(wd())return null;p0(i,s,!0)}function GA(){iC(function(){(Ye&6)!==0?Ut(pl,HA):D0()})}function Qm(){if(ms===0){var i=fo;i===0&&(i=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),ms=i}return ms}function L0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wa(""+i)}function j0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function $A(i,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var g=L0((m[qt]||null).action),w=u.submitter;w&&(s=(s=w[qt]||null)?L0(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var A=new Fi("action","action",null,u,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ms!==0){var V=w?j0(m,w):new FormData(m);pm(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(A.preventDefault(),V=w?j0(m,w):new FormData(m),pm(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var Xm=0;Xm<Df.length;Xm++){var Wm=Df[Xm],YA=Wm.toLowerCase(),KA=Wm[0].toUpperCase()+Wm.slice(1);wi(YA,"on"+KA)}wi(mv,"onAnimationEnd"),wi(pv,"onAnimationIteration"),wi(gv,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(cA,"onTransitionRun"),wi(dA,"onTransitionStart"),wi(hA,"onTransitionCancel"),wi(yv,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function V0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var w=u.length-1;0<=w;w--){var A=u[w],V=A.instance,Q=A.currentTarget;if(A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(ie){Vc(ie)}m.currentTarget=null,g=V}else for(w=0;w<u.length;w++){if(A=u[w],V=A.instance,Q=A.currentTarget,A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(ie){Vc(ie)}m.currentTarget=null,g=V}}}}function Pe(i,s){var o=s[$a];o===void 0&&(o=s[$a]=new Set);var u=i+"__bubble";o.has(u)||(U0(s,i,2,!1),o.add(u))}function Jm(i,s,o){var u=0;s&&(u|=4),U0(o,i,u,s)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function Zm(i){if(!i[Sd]){i[Sd]=!0,_l.forEach(function(o){o!=="selectionchange"&&(QA.has(o)||Jm(o,!1,i),Jm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Sd]||(s[Sd]=!0,Jm("selectionchange",!1,s))}}function U0(i,s,o,u){switch(mb(s)){case 2:var m=EC;break;case 8:m=SC;break;default:m=mp}o=m.bind(null,s,o,i),m=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function ep(i,s,o,u,m){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===m)break;if(w===4)for(w=u.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;A!==null;){if(w=Pi(A),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){u=g=w;continue e}A=A.parentNode}}u=u.return}Qr(function(){var Q=g,ie=$n(o),oe=[];e:{var W=vv.get(i);if(W!==void 0){var te=Fi,ve=i;switch(i){case"keypress":if(ia(o)===0)break e;case"keydown":case"keyup":te=Pc;break;case"focusin":ve="focus",te=sa;break;case"focusout":ve="blur",te=sa;break;case"beforeblur":case"afterblur":te=sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=b;break;case mv:case pv:case gv:te=Rc;break;case yv:te=R;break;case"scroll":case"scrollend":te=Ol;break;case"wheel":te=Z;break;case"copy":case"cut":case"paste":te=Ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=dr;break;case"toggle":case"beforetoggle":te=Oe}var Ee=(s&4)!==0,nt=!Ee&&(i==="scroll"||i==="scrollend"),G=Ee?W!==null?W+"Capture":null:W;Ee=[];for(var H=Q,K;H!==null;){var se=H;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=yi(H,G),se!=null&&Ee.push(lu(H,se,K))),nt)break;H=H.return}0<Ee.length&&(W=new te(W,ve,null,o,ie),oe.push({event:W,listeners:Ee}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",W&&o!==Rl&&(ve=o.relatedTarget||o.fromElement)&&(Pi(ve)||ve[Mi]))break e;if((te||W)&&(W=ie.window===ie?ie:(W=ie.ownerDocument)?W.defaultView||W.parentWindow:window,te?(ve=o.relatedTarget||o.toElement,te=Q,ve=ve?Pi(ve):null,ve!==null&&(nt=l(ve),Ee=ve.tag,ve!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(ve=null)):(te=null,ve=Q),te!==ve)){if(Ee=Dl,se="onMouseLeave",G="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=dr,se="onPointerLeave",G="onPointerEnter",H="pointer"),nt=te==null?W:On(te),K=ve==null?W:On(ve),W=new Ee(se,H+"leave",te,o,ie),W.target=nt,W.relatedTarget=K,se=null,Pi(ie)===Q&&(Ee=new Ee(G,H+"enter",ve,o,ie),Ee.target=K,Ee.relatedTarget=nt,se=Ee),nt=se,te&&ve)t:{for(Ee=XA,G=te,H=ve,K=0,se=G;se;se=Ee(se))K++;se=0;for(var we=H;we;we=Ee(we))se++;for(;0<K-se;)G=Ee(G),K--;for(;0<se-K;)H=Ee(H),se--;for(;K--;){if(G===H||H!==null&&G===H.alternate){Ee=G;break t}G=Ee(G),H=Ee(H)}Ee=null}else Ee=null;te!==null&&z0(oe,W,te,Ee,!1),ve!==null&&nt!==null&&z0(oe,nt,ve,Ee,!0)}}e:{if(W=Q?On(Q):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var He=iv;else if(tv(W))if(rv)He=oA;else{He=sA;var _e=rA}else te=W.nodeName,!te||te.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Xa(Q.elementType)&&(He=iv):He=aA;if(He&&(He=He(i,Q))){nv(oe,He,o,ie);break e}_e&&_e(i,W,Q),i==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&xl(W,"number",W.value)}switch(_e=Q?On(Q):window,i){case"focusin":(tv(_e)||_e.contentEditable==="true")&&(ro=_e,If=Q,jl=null);break;case"focusout":jl=If=ro=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,hv(oe,o,ie);break;case"selectionchange":if(uA)break;case"keydown":case"keyup":hv(oe,o,ie)}var Me;if($e)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else io?aa(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Gi&&o.locale!=="ko"&&(io||je!=="onCompositionStart"?je==="onCompositionEnd"&&io&&(Me=Nl()):(Bi=ie,Il="value"in Bi?Bi.value:Bi.textContent,io=!0)),_e=xd(Q,je),0<_e.length&&(je=new Hi(je,i,null,o,ie),oe.push({event:je,listeners:_e}),Me?je.data=Me:(Me=no(o),Me!==null&&(je.data=Me)))),(Me=Kn?eA(i,o):tA(i,o))&&(je=xd(Q,"onBeforeInput"),0<je.length&&(_e=new Hi("onBeforeInput","beforeinput",null,o,ie),oe.push({event:_e,listeners:je}),_e.data=Me)),$A(oe,i,Q,o,ie)}V0(oe,s)})}function lu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function xd(i,s){for(var o=s+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=yi(i,o),m!=null&&u.unshift(lu(i,m,g)),m=yi(i,s),m!=null&&u.push(lu(i,m,g))),i.tag===3)return u;i=i.return}return[]}function XA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function z0(i,s,o,u,m){for(var g=s._reactName,w=[];o!==null&&o!==u;){var A=o,V=A.alternate,Q=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||Q===null||(V=Q,m?(Q=yi(o,g),Q!=null&&w.unshift(lu(o,Q,V))):m||(Q=yi(o,g),Q!=null&&w.push(lu(o,Q,V)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var WA=/\r\n?/g,JA=/\u0000|\uFFFD/g;function B0(i){return(typeof i=="string"?i:""+i).replace(WA,`
`).replace(JA,"")}function F0(i,s){return s=B0(s),B0(i)===s}function tt(i,s,o,u,m,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||_n(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&_n(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,u);break;case"style":Cl(i,u,g);break;case"data":if(s!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Wa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(i,s,"name",m.name,m,null),tt(i,s,"formEncType",m.formEncType,m,null),tt(i,s,"formMethod",m.formMethod,m,null),tt(i,s,"formTarget",m.formTarget,m,null)):(tt(i,s,"encType",m.encType,m,null),tt(i,s,"method",m.method,m,null),tt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Wa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=gi);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Wa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Ka(i,"popover",u);break;case"xlinkActuate":Nt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ka(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=xc.get(o)||o,Ka(i,o,u))}}function tp(i,s,o,u,m,g){switch(o){case"style":Cl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?_n(i,u):(typeof u=="number"||typeof u=="bigint")&&_n(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ka(i,o,u)}}}function Jt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,g,w,o,null)}}m&&tt(i,s,"srcSet",o.srcSet,o,null),u&&tt(i,s,"src",o.src,o,null);return;case"input":Pe("invalid",i);var A=g=w=m=null,V=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":m=ie;break;case"type":w=ie;break;case"checked":V=ie;break;case"defaultChecked":Q=ie;break;case"value":g=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:tt(i,s,u,ie,o,null)}}Tc(i,g,A,V,Q,w,m,!1);return;case"select":Pe("invalid",i),u=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:tt(i,s,m,A,o,null)}s=g,o=w,i.multiple=!!u,s!=null?Gr(i,!!u,s,!1):o!=null&&Gr(i,!!u,o,!0);return;case"textarea":Pe("invalid",i),g=m=u=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(i,s,w,A,o,null)}$r(i,u,m,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(i,s,V,u,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<ou.length;u++)Pe(ou[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,Q,u,o,null)}return;default:if(Xa(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&tp(i,s,ie,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&tt(i,s,A,u,o,null))}function ZA(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,A=null,V=null,Q=null,ie=null;for(te in o){var oe=o[te];if(o.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(te)||tt(i,s,te,null,u,oe)}}for(var W in u){var te=u[W];if(oe=o[W],u.hasOwnProperty(W)&&(te!=null||oe!=null))switch(W){case"type":g=te;break;case"name":m=te;break;case"checked":Q=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==oe&&tt(i,s,W,te,u,oe)}}Qa(i,w,A,V,Q,ie,g,m);return;case"select":te=w=A=W=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":te=V;default:u.hasOwnProperty(g)||tt(i,s,g,null,u,V)}for(m in u)if(g=u[m],V=o[m],u.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":W=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==V&&tt(i,s,m,g,u,V)}s=A,o=w,u=te,W!=null?Gr(i,!!o,W,!1):!!u!=!!o&&(s!=null?Gr(i,!!o,s,!0):Gr(i,!!o,o?[]:"",!1));return;case"textarea":te=W=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,s,A,null,u,m)}for(w in u)if(m=u[w],g=o[w],u.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":W=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&tt(i,s,w,m,u,g)}Ec(i,W,te);return;case"option":for(var ve in o)if(W=o[ve],o.hasOwnProperty(ve)&&W!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:tt(i,s,ve,null,u,W)}for(V in u)if(W=u[V],te=o[V],u.hasOwnProperty(V)&&W!==te&&(W!=null||te!=null))switch(V){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:tt(i,s,V,W,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)W=o[Ee],o.hasOwnProperty(Ee)&&W!=null&&!u.hasOwnProperty(Ee)&&tt(i,s,Ee,null,u,W);for(Q in u)if(W=u[Q],te=o[Q],u.hasOwnProperty(Q)&&W!==te&&(W!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:tt(i,s,Q,W,u,te)}return;default:if(Xa(s)){for(var nt in o)W=o[nt],o.hasOwnProperty(nt)&&W!==void 0&&!u.hasOwnProperty(nt)&&tp(i,s,nt,void 0,u,W);for(ie in u)W=u[ie],te=o[ie],!u.hasOwnProperty(ie)||W===te||W===void 0&&te===void 0||tp(i,s,ie,W,u,te);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!u.hasOwnProperty(G)&&tt(i,s,G,null,u,W);for(oe in u)W=u[oe],te=o[oe],!u.hasOwnProperty(oe)||W===te||W==null&&te==null||tt(i,s,oe,W,u,te)}function q0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,w=m.initiatorType,A=m.duration;if(g&&A&&q0(w)){for(w=0,A=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],Q=V.startTime;if(Q>A)break;var ie=V.transferSize,oe=V.initiatorType;ie&&q0(oe)&&(V=V.responseEnd,w+=ie*(V<A?1:(A-Q)/(V-Q)))}if(--u,s+=8*(g+w)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var np=null,ip=null;function Ad(i){return i.nodeType===9?i:i.ownerDocument}function H0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function rp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sp=null;function tC(){var i=window.event;return i&&i.type==="popstate"?i===sp?!1:(sp=i,!0):(sp=null,!1)}var $0=typeof setTimeout=="function"?setTimeout:void 0,nC=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(i){return Y0.resolve(null).then(i).catch(rC)}:$0;function rC(i){setTimeout(function(){throw i})}function ps(i){return i==="head"}function K0(i,s){var o=s,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),Do(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")uu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,uu(o);for(var g=o.firstChild;g;){var w=g.nextSibling,A=g.nodeName;g[ki]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&uu(i.ownerDocument.body);o=m}while(o);Do(s)}function Q0(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function ap(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ap(o),Ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function sC(i,s,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ki])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function aC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ti(i.nextSibling),i===null))return null;return i}function X0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ti(i.nextSibling),i===null))return null;return i}function op(i){return i.data==="$?"||i.data==="$~"}function lp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function oC(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var up=null;function W0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return ti(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function J0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function Z0(i,s,o){switch(s=Ad(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ya(i)}var ni=new Map,eb=new Set;function Cd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ar=J.d;J.d={f:lC,r:uC,D:cC,C:dC,L:hC,m:fC,X:pC,S:mC,M:gC};function lC(){var i=Ar.f(),s=vd();return i||s}function uC(i){var s=Gn(i);s!==null&&s.tag===5&&s.type==="form"?y_(s):Ar.r(i)}var Io=typeof document>"u"?null:document;function tb(i,s,o){var u=Io;if(u&&typeof s=="string"&&s){var m=vn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),eb.has(m)||(eb.add(m),i={rel:i,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Jt(s,"link",i),It(s),u.head.appendChild(s)))}}function cC(i){Ar.D(i),tb("dns-prefetch",i,null)}function dC(i,s){Ar.C(i,s),tb("preconnect",i,s)}function hC(i,s,o){Ar.L(i,s,o);var u=Io;if(u&&i&&s){var m='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var g=m;switch(s){case"style":g=No(i);break;case"script":g=Oo(i)}ni.has(g)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ni.set(g,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(cu(g))||s==="script"&&u.querySelector(du(g))||(s=u.createElement("link"),Jt(s,"link",i),It(s),u.head.appendChild(s)))}}function fC(i,s){Ar.m(i,s);var o=Io;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+vn(u)+'"][href="'+vn(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Oo(i)}if(!ni.has(g)&&(i=_({rel:"modulepreload",href:i},s),ni.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(g)))return}u=o.createElement("link"),Jt(u,"link",i),It(u),o.head.appendChild(u)}}}function mC(i,s,o){Ar.S(i,s,o);var u=Io;if(u&&i){var m=Li(u).hoistableStyles,g=No(i);s=s||"default";var w=m.get(g);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(cu(g)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ni.get(g))&&cp(i,o);var V=w=u.createElement("link");It(V),Jt(V,"link",i),V._p=new Promise(function(Q,ie){V.onload=Q,V.onerror=ie}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Rd(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(g,w)}}}function pC(i,s){Ar.X(i,s);var o=Io;if(o&&i){var u=Li(o).hoistableScripts,m=Oo(i),g=u.get(m);g||(g=o.querySelector(du(m)),g||(i=_({src:i,async:!0},s),(s=ni.get(m))&&dp(i,s),g=o.createElement("script"),It(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function gC(i,s){Ar.M(i,s);var o=Io;if(o&&i){var u=Li(o).hoistableScripts,m=Oo(i),g=u.get(m);g||(g=o.querySelector(du(m)),g||(i=_({src:i,async:!0,type:"module"},s),(s=ni.get(m))&&dp(i,s),g=o.createElement("script"),It(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function nb(i,s,o,u){var m=(m=Ae.current)?Cd(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=No(o.href),o=Li(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var g=Li(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(cu(i)))&&!g._p&&(w.instance=g,w.state.loading=5),ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(i,o),g||yC(m,i,o,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Oo(o),o=Li(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function No(i){return'href="'+vn(i)+'"'}function cu(i){return'link[rel="stylesheet"]['+i+"]"}function ib(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function yC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),It(s),i.head.appendChild(s))}function Oo(i){return'[src="'+vn(i)+'"]'}function du(i){return"script[async]"+i}function rb(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(u)return s.instance=u,It(u),u;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),It(u),Jt(u,"style",m),Rd(u,o.precedence,i),s.instance=u;case"stylesheet":m=No(o.href);var g=i.querySelector(cu(m));if(g)return s.state.loading|=4,s.instance=g,It(g),g;u=ib(o),(m=ni.get(m))&&cp(u,m),g=(i.ownerDocument||i).createElement("link"),It(g);var w=g;return w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Jt(g,"link",u),s.state.loading|=4,Rd(g,o.precedence,i),s.instance=g;case"script":return g=Oo(o.src),(m=i.querySelector(du(g)))?(s.instance=m,It(m),m):(u=o,(m=ni.get(g))&&(u=_({},o),dp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),It(m),Jt(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Rd(u,o.precedence,i));return s.instance}function Rd(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function cp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function dp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Id=null;function sb(i,s,o){if(Id===null){var u=new Map,m=Id=new Map;m.set(o,u)}else m=Id,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[ki]||g[Rt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=i+w;var A=u.get(w);A?A.push(g):u.set(w,[g])}}return u}function ab(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function vC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ob(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _C(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=No(u.href),g=s.querySelector(cu(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Nd.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,It(g);return}g=s.ownerDocument||s,u=ib(u),(m=ni.get(m))&&cp(u,m),g=g.createElement("link"),It(g);var w=g;w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Jt(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Nd.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var hp=0;function bC(i,s){return i.stylesheets&&i.count===0&&Dd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Dd(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&hp===0&&(hp=62500*eC());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Dd(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>hp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Od=null;function Dd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Od=new Map,s.forEach(wC,i),Od=null,Nd.call(i))}function wC(i,s){if(!(s.state.loading&4)){var o=Od.get(i);if(o)var u=o.get(null);else{o=new Map,Od.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}m=s.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||u,g===u&&o.set(null,m),o.set(w,m),this.count++,u=Nd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var hu={$$typeof:B,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function TC(i,s,o,u,m,g,w,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function lb(i,s,o,u,m,g,w,A,V,Q,ie,oe){return i=new TC(i,s,o,w,V,Q,ie,oe,A),s=1,g===!0&&(s|=24),g=kn(3,null,null,s),i.current=g,g.stateNode=i,s=Gf(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Qf(g),i}function ub(i){return i?(i=oo,i):oo}function cb(i,s,o,u,m,g){m=ub(m),u.context===null?u.context=m:u.pendingContext=m,u=rs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ss(i,u,s),o!==null&&(Sn(o,i,s),Hl(o,i,s))}function db(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function fp(i,s){db(i,s),(i=i.alternate)&&db(i,s)}function hb(i){if(i.tag===13||i.tag===31){var s=ua(i,67108864);s!==null&&Sn(s,i,67108864),fp(i,67108864)}}function fb(i){if(i.tag===13||i.tag===31){var s=Un();s=Ws(s);var o=ua(i,s);o!==null&&Sn(o,i,s),fp(i,s)}}var Md=!0;function EC(i,s,o,u){var m=q.T;q.T=null;var g=J.p;try{J.p=2,mp(i,s,o,u)}finally{J.p=g,q.T=m}}function SC(i,s,o,u){var m=q.T;q.T=null;var g=J.p;try{J.p=8,mp(i,s,o,u)}finally{J.p=g,q.T=m}}function mp(i,s,o,u){if(Md){var m=pp(u);if(m===null)ep(i,s,u,kd,o),pb(i,u);else if(AC(m,i,s,o,u))u.stopPropagation();else if(pb(i,u),s&4&&-1<xC.indexOf(i)){for(;m!==null;){var g=Gn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Ni(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var V=1<<31-wt(w);A.entanglements[1]|=V,w&=~V}Qi(g),(Ye&6)===0&&(gd=cn()+500,au(0))}}break;case 31:case 13:A=ua(g,2),A!==null&&Sn(A,g,2),vd(),fp(g,2)}if(g=pp(u),g===null&&ep(i,s,u,kd,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else ep(i,s,u,null,o)}}function pp(i){return i=$n(i),gp(i)}var kd=null;function gp(i){if(kd=null,i=Pi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return kd=i,null}function mb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ys()){case pl:return 2;case gl:return 8;case qr:case Tf:return 32;case hc:return 268435456;default:return 32}default:return 32}}var yp=!1,gs=null,ys=null,vs=null,fu=new Map,mu=new Map,_s=[],xC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(i,s){switch(i){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":fu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(s.pointerId)}}function pu(i,s,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Gn(s),s!==null&&hb(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function AC(i,s,o,u,m){switch(s){case"focusin":return gs=pu(gs,i,s,o,u,m),!0;case"dragenter":return ys=pu(ys,i,s,o,u,m),!0;case"mouseover":return vs=pu(vs,i,s,o,u,m),!0;case"pointerover":var g=m.pointerId;return fu.set(g,pu(fu.get(g)||null,i,s,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,mu.set(g,pu(mu.get(g)||null,i,s,o,u,m)),!0}return!1}function gb(i){var s=Pi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,mi(i.priority,function(){fb(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,mi(i.priority,function(){fb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=pp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Rl=u,o.target.dispatchEvent(u),Rl=null}else return s=Gn(o),s!==null&&hb(s),i.blockedOn=o,!1;s.shift()}return!0}function yb(i,s,o){Pd(i)&&o.delete(s)}function CC(){yp=!1,gs!==null&&Pd(gs)&&(gs=null),ys!==null&&Pd(ys)&&(ys=null),vs!==null&&Pd(vs)&&(vs=null),fu.forEach(yb),mu.forEach(yb)}function Ld(i,s){i.blockedOn===s&&(i.blockedOn=null,yp||(yp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CC)))}var jd=null;function vb(i){jd!==i&&(jd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jd===i&&(jd=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(gp(u||o)===null)continue;break}var g=Gn(o);g!==null&&(i.splice(s,3),s-=3,pm(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Do(i){function s(V){return Ld(V,i)}gs!==null&&Ld(gs,i),ys!==null&&Ld(ys,i),vs!==null&&Ld(vs,i),fu.forEach(s),mu.forEach(s);for(var o=0;o<_s.length;o++){var u=_s[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<_s.length&&(o=_s[0],o.blockedOn===null);)gb(o),o.blockedOn===null&&_s.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],w=m[qt]||null;if(typeof g=="function")w||vb(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[qt]||null)A=w.formAction;else if(gp(m)!==null)continue}else A=w.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),vb(o)}}}function _b(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function vp(i){this._internalRoot=i}Vd.prototype.render=vp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Un();cb(o,u,i,s,null,null)},Vd.prototype.unmount=vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;cb(i.current,2,null,i,null,null),vd(),s[Mi]=null}};function Vd(i){this._internalRoot=i}Vd.prototype.unstable_scheduleHydration=function(i){if(i){var s=vc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<_s.length&&s!==0&&s<_s[o].priority;o++);_s.splice(o,0,i),o===0&&gb(i)}};var bb=e.version;if(bb!=="19.2.0")throw Error(r(527,bb,"19.2.0"));J.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var RC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{hi=Ud.inject(RC),Yt=Ud}catch{}}return yu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",m=C_,g=R_,w=I_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=lb(i,1,!1,null,null,o,u,null,m,g,w,_b),i[Mi]=s.current,Zm(i),new vp(s)},yu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,m="",g=C_,w=R_,A=I_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=lb(i,1,!0,s,o??null,u,m,V,g,w,A,_b),s.context=ub(null),o=s.current,u=Un(),u=Ws(u),m=rs(u),m.callback=null,ss(o,m,u),o=u,s.current.lanes=o,Qs(s,o),Qi(s),i[Mi]=s.current,Zm(i),new Vd(s)},yu.version="19.2.0",yu}var Nb;function VC(){if(Nb)return wp.exports;Nb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wp.exports=jC(),wp.exports}var UC=VC();var Ob="popstate";function zC(n={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return Jp("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Pu(a)}return FC(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BC(){return Math.random().toString(36).substring(2,10)}function Db(n,e){return{usr:n.state,key:n.key,idx:e}}function Jp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:t,key:e&&e.key||r||BC()}}function Pu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function nl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function FC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",h=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){f="POP";let k=v(),L=k==null?null:k-p;p=k,h&&h({action:f,location:P.location,delta:L})}function E(k,L){f="PUSH";let U=Jp(P.location,k,L);p=v()+1;let B=Db(U,p),X=P.createHref(U);try{c.pushState(B,"",X)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(X)}l&&h&&h({action:f,location:P.location,delta:1})}function S(k,L){f="REPLACE";let U=Jp(P.location,k,L);p=v();let B=Db(U,p),X=P.createHref(U);c.replaceState(B,"",X),l&&h&&h({action:f,location:P.location,delta:0})}function O(k){return qC(k)}let P={get action(){return f},get location(){return n(a,c)},listen(k){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Ob,_),h=k,()=>{a.removeEventListener(Ob,_),h=null}},createHref(k){return e(a,k)},createURL:O,encodeLocation(k){let L=O(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:S,go(k){return c.go(k)}};return P}function qC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Pu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function $T(n,e,t="/"){return HC(n,e,t,!1)}function HC(n,e,t,r){let a=typeof e=="string"?nl(e):e,l=Pr(a.pathname||"/",t);if(l==null)return null;let c=YT(n);GC(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let p=nR(l);f=eR(c[h],p,r)}return f}function YT(n,e=[],t=[],r="",a=!1){let l=(c,f,h=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;mt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Dr([r,v.relativePath]),E=t.concat(v);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),YT(c.children,e,E,_,h)),!(c.path==null&&!c.index)&&e.push({path:_,score:JC(_,c.index),routesMeta:E})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let h of KT(c.path))l(c,f,!0,h)}),e}function KT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=KT(r.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function GC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ZC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var $C=/^:[\w-]+$/,YC=3,KC=2,QC=1,XC=10,WC=-2,Mb=n=>n==="*";function JC(n,e){let t=n.split("/"),r=t.length;return t.some(Mb)&&(r+=WC),e&&(r+=KC),t.filter(a=>!Mb(a)).reduce((a,l)=>a+($C.test(l)?YC:l===""?QC:XC),r)}function ZC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function eR(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let h=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=fh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),E=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=fh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Dr([l,_.pathname]),pathnameBase:oR(Dr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Dr([l,_.pathnameBase]))}return c}function fh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=tR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},E)=>{if(v==="*"){let O=f[E]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const S=f[E];return _&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function tR(n,e=!1,t=!0){oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function nR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var iR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rR=n=>iR.test(n);function sR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?nl(n):n,l;if(t)if(rR(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=kb(t.substring(1),"/"):l=kb(t,e)}else l=e;return{pathname:l,search:lR(r),hash:uR(a)}}function kb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function xp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function QT(n){let e=aR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function XT(n,e,t,r=!1){let a;typeof n=="string"?a=nl(n):(a={...n},mt(!a.pathname||!a.pathname.includes("?"),xp("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),xp("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),xp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let h=sR(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Dr=n=>n.join("/").replace(/\/\/+/g,"/"),oR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,uR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WT=["POST","PUT","PATCH","DELETE"];new Set(WT);var dR=["GET",...WT];new Set(dR);var il=F.createContext(null);il.displayName="DataRouter";var zh=F.createContext(null);zh.displayName="DataRouterState";F.createContext(!1);var JT=F.createContext({isTransitioning:!1});JT.displayName="ViewTransition";var hR=F.createContext(new Map);hR.displayName="Fetchers";var fR=F.createContext(null);fR.displayName="Await";var ar=F.createContext(null);ar.displayName="Navigation";var $u=F.createContext(null);$u.displayName="Location";var or=F.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var zg=F.createContext(null);zg.displayName="RouteError";function mR(n,{relative:e}={}){mt(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(ar),{hash:a,pathname:l,search:c}=Ku(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Dr([t,l])),r.createHref({pathname:f,search:c,hash:a})}function Yu(){return F.useContext($u)!=null}function zr(){return mt(Yu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext($u).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eE(n){F.useContext(ar).static||F.useLayoutEffect(n)}function ln(){let{isDataRoute:n}=F.useContext(or);return n?CR():pR()}function pR(){mt(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(il),{basename:e,navigator:t}=F.useContext(ar),{matches:r}=F.useContext(or),{pathname:a}=zr(),l=JSON.stringify(QT(r)),c=F.useRef(!1);return eE(()=>{c.current=!0}),F.useCallback((h,p={})=>{if(oi(c.current,ZT),!c.current)return;if(typeof h=="number"){t.go(h);return}let v=XT(h,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Dr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}F.createContext(null);function Bg(){let{matches:n}=F.useContext(or),e=n[n.length-1];return e?e.params:{}}function Ku(n,{relative:e}={}){let{matches:t}=F.useContext(or),{pathname:r}=zr(),a=JSON.stringify(QT(t));return F.useMemo(()=>XT(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function gR(n,e){return tE(n,e)}function tE(n,e,t,r,a){mt(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(ar),{matches:c}=F.useContext(or),f=c[c.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let U=_&&_.path||"";nE(p,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let E=zr(),S;if(e){let U=typeof e=="string"?nl(e):e;mt(v==="/"||U.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=E;let O=S.pathname||"/",P=O;if(v!=="/"){let U=v.replace(/^\//,"").split("/");P="/"+O.replace(/^\//,"").split("/").slice(U.length).join("/")}let k=$T(n,{pathname:P});oi(_||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),oi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=wR(k&&k.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:Dr([v,l.encodeLocation?l.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:Dr([v,l.encodeLocation?l.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),c,t,r,a);return e&&L?F.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function yR(){let n=AR(),e=cR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var vR=F.createElement(yR,null),_R=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(or.Provider,{value:this.props.routeContext},F.createElement(zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bR({routeContext:n,match:e,children:t}){let r=F.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(or.Provider,{value:n},t)}function wR(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,h=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=v),_.route.id){let{loaderData:E,errors:S}=t,O=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||O){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let p=t&&r?(v,_)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:_})}:void 0;return l.reduceRight((v,_,E)=>{let S,O=!1,P=null,k=null;t&&(S=c&&_.route.id?c[_.route.id]:void 0,P=_.route.errorElement||vR,f&&(h<0&&E===0?(nE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):h===E&&(O=!0,k=_.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,E+1)),U=()=>{let B;return S?B=P:O?B=k:_.route.Component?B=F.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=v,F.createElement(bR,{match:_,routeContext:{outlet:v,matches:L,isDataRoute:t!=null},children:B})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?F.createElement(_R,{location:t.location,revalidation:t.revalidation,component:P,error:S,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):U()},null)}function Fg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TR(n){let e=F.useContext(il);return mt(e,Fg(n)),e}function ER(n){let e=F.useContext(zh);return mt(e,Fg(n)),e}function SR(n){let e=F.useContext(or);return mt(e,Fg(n)),e}function qg(n){let e=SR(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xR(){return qg("useRouteId")}function AR(){let n=F.useContext(zg),e=ER("useRouteError"),t=qg("useRouteError");return n!==void 0?n:e.errors?.[t]}function CR(){let{router:n}=TR("useNavigate"),e=qg("useNavigate"),t=F.useRef(!1);return eE(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{oi(t.current,ZT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Pb={};function nE(n,e,t){!e&&!Pb[n]&&(Pb[n]=!0,oi(!1,t))}F.memo(RR);function RR({routes:n,future:e,state:t,unstable_onError:r}){return tE(n,void 0,t,r,e)}function xn(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){mt(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=nl(t));let{pathname:h="/",search:p="",hash:v="",state:_=null,key:E="default"}=t,S=F.useMemo(()=>{let O=Pr(h,c);return O==null?null:{location:{pathname:O,search:p,hash:v,state:_,key:E},navigationType:r}},[c,h,p,v,_,E,r]);return oi(S!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:F.createElement(ar.Provider,{value:f},F.createElement($u.Provider,{children:e,value:S}))}function NR({children:n,location:e}){return gR(Zp(n),e)}function Zp(n,e=[]){let t=[];return F.Children.forEach(n,(r,a)=>{if(!F.isValidElement(r))return;let l=[...e,a];if(r.type===F.Fragment){t.push.apply(t,Zp(r.props.children,l));return}mt(r.type===xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Zp(r.props.children,l)),t.push(c)}),t}var Wd="get",Jd="application/x-www-form-urlencoded";function Bh(n){return n!=null&&typeof n.tagName=="string"}function OR(n){return Bh(n)&&n.tagName.toLowerCase()==="button"}function DR(n){return Bh(n)&&n.tagName.toLowerCase()==="form"}function MR(n){return Bh(n)&&n.tagName.toLowerCase()==="input"}function kR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PR(n,e){return n.button===0&&(!e||e==="_self")&&!kR(n)}function eg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function LR(n,e){let t=eg(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var zd=null;function jR(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var VR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(n){return n!=null&&!VR.has(n)?(oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jd}"`),null):n}function UR(n,e){let t,r,a,l,c;if(DR(n)){let f=n.getAttribute("action");r=f?Pr(f,e):null,t=n.getAttribute("method")||Wd,a=Ap(n.getAttribute("enctype"))||Jd,l=new FormData(n)}else if(OR(n)||MR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Pr(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Wd,a=Ap(n.getAttribute("formenctype"))||Ap(f.getAttribute("enctype"))||Jd,l=new FormData(f,n),!jR()){let{name:p,type:v,value:_}=n;if(v==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Bh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wd,r=null,a=Jd,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Pr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function BR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await BR(l,t);return c.links?c.links():[]}return[]}));return YR(r.flat(1).filter(FR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lb(n,e,t,r,a,l){let c=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,p)=>c(h,p)||f(h,p)):l==="data"?e.filter((h,p)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function HR(n,e,{includeHydrateFallback:t}={}){return GR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function GR(n){return[...new Set(n)]}function $R(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function YR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify($R(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function iE(){let n=F.useContext(il);return Hg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function KR(){let n=F.useContext(zh);return Hg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gg=F.createContext(void 0);Gg.displayName="FrameworkContext";function rE(){let n=F.useContext(Gg);return Hg(n,"You must render this element inside a <HydratedRouter> element"),n}function QR(n,e){let t=F.useContext(Gg),[r,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,E=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let P=L=>{L.forEach(U=>{c(U.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[n]),F.useEffect(()=>{if(r){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[r]);let S=()=>{a(!0)},O=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:vu(f,S),onBlur:vu(h,O),onMouseEnter:vu(p,S),onMouseLeave:vu(v,O),onTouchStart:vu(_,S)}]:[!1,E,{}]}function vu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function XR({page:n,...e}){let{router:t}=iE(),r=F.useMemo(()=>$T(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(JR,{page:n,matches:r,...e}):null}function WR(n){let{manifest:e,routeModules:t}=rE(),[r,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return qR(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function JR({page:n,matches:e,...t}){let r=zr(),{manifest:a,routeModules:l}=rE(),{basename:c}=iE(),{loaderData:f,matches:h}=KR(),p=F.useMemo(()=>Lb(n,e,h,a,r,"data"),[n,e,h,a,r]),v=F.useMemo(()=>Lb(n,e,h,a,r,"assets"),[n,e,h,a,r]),_=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let O=new Set,P=!1;if(e.forEach(L=>{let U=a.routes[L.route.id];!U||!U.hasLoader||(!p.some(B=>B.route.id===L.route.id)&&L.route.id in f&&l[L.route.id]?.shouldRevalidate||U.hasClientLoader?P=!0:O.add(L.route.id))}),O.size===0)return[];let k=zR(n,c,"data");return P&&O.size>0&&k.searchParams.set("_routes",e.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[c,f,r,a,p,e,n,l]),E=F.useMemo(()=>HR(v,a),[v,a]),S=WR(v);return F.createElement(F.Fragment,null,_.map(O=>F.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),E.map(O=>F.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),S.map(({key:O,link:P})=>F.createElement("link",{key:O,nonce:t.nonce,...P})))}function ZR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sE&&(window.__reactRouterVersion="7.9.6")}catch{}function eI({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=zC({window:t,v5Compat:!0}));let a=r.current,[l,c]=F.useState({action:a.action,location:a.location}),f=F.useCallback(h=>{F.startTransition(()=>c(h))},[c]);return F.useLayoutEffect(()=>a.listen(f),[a,f]),F.createElement(IR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:h,to:p,preventScrollReset:v,viewTransition:_,...E},S){let{basename:O}=F.useContext(ar),P=typeof p=="string"&&aE.test(p),k,L=!1;if(typeof p=="string"&&P&&(k=p,sE))try{let M=new URL(window.location.href),I=p.startsWith("//")?new URL(M.protocol+p):new URL(p),C=Pr(I.pathname,O);I.origin===M.origin&&C!=null?p=C+I.search+I.hash:L=!0}catch{oi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=mR(p,{relative:a}),[B,X,ee]=QR(r,E),re=rI(p,{replace:c,state:f,target:h,preventScrollReset:v,relative:a,viewTransition:_});function D(M){e&&e(M),M.defaultPrevented||re(M)}let x=F.createElement("a",{...E,...ee,href:k||U,onClick:L||l?e:D,ref:ZR(S,X),target:h,"data-discover":!P&&t==="render"?"true":void 0});return B&&!P?F.createElement(F.Fragment,null,x,F.createElement(XR,{page:U})):x});Vt.displayName="Link";var tI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:h,...p},v){let _=Ku(c,{relative:p.relative}),E=zr(),S=F.useContext(zh),{navigator:O,basename:P}=F.useContext(ar),k=S!=null&&cI(_)&&f===!0,L=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,U=E.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(U=U.toLowerCase(),B=B?B.toLowerCase():null,L=L.toLowerCase()),B&&P&&(B=Pr(B,P)||B);const X=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ee=U===L||!a&&U.startsWith(L)&&U.charAt(X)==="/",re=B!=null&&(B===L||!a&&B.startsWith(L)&&B.charAt(L.length)==="/"),D={isActive:ee,isPending:re,isTransitioning:k},x=ee?e:void 0,M;typeof r=="function"?M=r(D):M=[r,ee?"active":null,re?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(D):l;return F.createElement(Vt,{...p,"aria-current":x,className:M,ref:v,style:I,to:c,viewTransition:f},typeof h=="function"?h(D):h)});tI.displayName="NavLink";var nI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Wd,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:_,...E},S)=>{let O=lI(),P=uI(f,{relative:p}),k=c.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&aE.test(f),U=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let X=B.nativeEvent.submitter,ee=X?.getAttribute("formmethod")||c;O(X||B.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return F.createElement("form",{ref:S,method:k,action:P,onSubmit:r?h:U,...E,"data-discover":!L&&n==="render"?"true":void 0})});nI.displayName="Form";function iI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(n){let e=F.useContext(il);return mt(e,iI(n)),e}function rI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=ln(),h=zr(),p=Ku(n,{relative:l});return F.useCallback(v=>{if(PR(v,e)){v.preventDefault();let _=t!==void 0?t:Pu(h)===Pu(p);f(n,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[h,f,p,t,r,e,n,a,l,c])}function sI(n){oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(eg(n)),t=F.useRef(!1),r=zr(),a=F.useMemo(()=>LR(r.search,t.current?null:e.current),[r.search]),l=ln(),c=F.useCallback((f,h)=>{const p=eg(typeof f=="function"?f(new URLSearchParams(a)):f);t.current=!0,l("?"+p,h)},[l,a]);return[a,c]}var aI=0,oI=()=>`__${String(++aI)}__`;function lI(){let{router:n}=oE("useSubmit"),{basename:e}=F.useContext(ar),t=xR();return F.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:h,body:p}=UR(r,e);if(a.navigate===!1){let v=a.fetcherKey||oI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function uI(n,{relative:e}={}){let{basename:t}=F.useContext(ar),r=F.useContext(or);mt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Ku(n||".",{relative:e})},c=zr();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Dr([t,l.pathname])),Pu(l)}function cI(n,{relative:e}={}){let t=F.useContext(JT);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oE("useViewTransitionState"),a=Ku(n,{relative:e});if(!t.isTransitioning)return!1;let l=Pr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Pr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return fh(a.pathname,c)!=null||fh(a.pathname,l)!=null}var lE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jb=Ke.createContext&&Ke.createContext(lE),dI=["attr","size","title"];function hI(n,e){if(n==null)return{};var t=fI(n,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function fI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function mh(){return mh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mh.apply(this,arguments)}function Vb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ph(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Vb(Object(t),!0).forEach(function(r){mI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Vb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function mI(n,e,t){return e=pI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pI(n){var e=gI(n,"string");return typeof e=="symbol"?e:e+""}function gI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uE(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,ph({key:t},e.attr),uE(e.child)))}function at(n){return e=>Ke.createElement(yI,mh({attr:ph({},n.attr)},e),uE(n.child))}function yI(n){var e=t=>{var{attr:r,size:a,title:l}=n,c=hI(n,dI),f=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ke.createElement("svg",mh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:h,style:ph(ph({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ke.createElement("title",null,l),n.children)};return jb!==void 0?Ke.createElement(jb.Consumer,null,t=>e(t)):e(lE)}function cE(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function vI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(n)}function _I(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(n)}function bI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(n)}function wI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(n)}function TI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function EI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(n)}function dE(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function SI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function xI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function Fh(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(n)}function AI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function CI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function RI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(n)}function II(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function NI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(n)}function hE(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function tg(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function OI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(n)}function DI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(n)}function Ra(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(n)}function Zd(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function fE(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function MI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function kI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function Ko(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}const Ub=n=>{let e;const t=new Set,r=(p,v)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const E=e;e=v??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(S=>S(e,E))}},a=()=>e,f={setState:r,getState:a,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=n(r,a,f);return f},PI=(n=>n?Ub(n):Ub),LI=n=>n;function jI(n,e=LI){const t=Ke.useSyncExternalStore(n.subscribe,Ke.useCallback(()=>e(n.getState()),[n,e]),Ke.useCallback(()=>e(n.getInitialState()),[n,e]));return Ke.useDebugValue(t),t}const zb=n=>{const e=PI(n),t=r=>jI(e,r);return Object.assign(t,e),t},Qu=(n=>n?zb(n):zb),zs=Qu((n,e)=>({items:[],addItem:t=>{const r=e().items.slice(),a=r.findIndex(l=>l.id===t.id);a>-1?r[a].qty=(r[a].qty||1)+(t.qty||1):r.push({...t,qty:t.qty||1}),n({items:r})},removeItem:t=>n(r=>({items:r.items.filter(a=>a.id!==t)})),updateQty:(t,r)=>n(a=>({items:a.items.map(l=>l.id===t?{...l,qty:r}:l)})),clear:()=>n({items:[]}),get totalCount(){return e().items.reduce((t,r)=>t+(r.qty||0),0)}}));function Bb({small:n=!1}){return y.jsx("span",{className:`font-bold ${n?"text-lg":"text-xl"} text-gray-900 whitespace-nowrap`,children:"Crodyto"})}const Va=F.createContext({language:"en",setLanguage:()=>{},t:n=>n}),Mo={en:{customerDetails:"Customer Details",name:"Name",email:"Email",phone:"Phone",contact:"Contact",address:"Address",edit:"Edit",save:"Save",cancel:"Cancel",village:"Village/City",po:"P.O (Post Office)",ps:"P.S (Police Station)",district:"District",pin:"PIN Code",landmark:"Landmark",mobile:"Mobile Number",customerSupport:"Customer Support",callNow:"Call Now",chat:"Chat",logout:"Logout",profilePhoto:"Profile Photo",viewOrders:"View Orders",recentlyViewed:"Recently Viewed",clear:"Clear",noRecentItems:"No recent items",change:"Change",savingAddress:"Saving...",saveAddress:"Save Address",language:"Language",home:"Home",search:"Search",cart:"Cart",account:"Account",wishlist:"Wishlist",orders:"Orders",products:"Products",price:"Price",rating:"Rating",inStock:"In Stock",outOfStock:"Out of Stock",addToCart:"Add to Cart",addToWishlist:"Add to Wishlist",removeFromWishlist:"Remove from Wishlist",quantity:"Quantity",description:"Description",reviews:"Reviews",checkout:"Checkout",subtotal:"Subtotal",shipping:"Shipping",total:"Total",placeOrder:"Place Order",orderConfirmed:"Order Confirmed",login:"Login",register:"Register",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",loading:"Loading...",error:"Error",success:"Success",noResults:"No results found",delete:"Delete",confirm:"Confirm",close:"Close"},hi:{customerDetails:" ",name:"",email:"",phone:"",contact:"",address:"",edit:" ",save:"",cancel:" ",village:"/",po:"",ps:" ",district:"",pin:" ",landmark:" ",mobile:" ",customerSupport:" ",callNow:"  ",chat:"",logout:"",profilePhoto:" ",viewOrders:" ",recentlyViewed:"    ",clear:"",noRecentItems:"    ",change:"",savingAddress:"  ...",saveAddress:" ",language:"",home:"",search:"",cart:"",account:"",wishlist:"",orders:"",products:"",price:"",rating:"",inStock:" ",outOfStock:"  ",addToCart:"  ",addToWishlist:"  ",removeFromWishlist:"  ",quantity:"",description:"",reviews:"",checkout:"",subtotal:" ",shipping:"",total:"",placeOrder:"  ",orderConfirmed:"  ",login:"",register:" ",password:"",confirmPassword:"   ",forgotPassword:"  ?",dontHaveAccount:"  ?",alreadyHaveAccount:"   ?",loading:"   ...",error:"",success:"",noResults:"  ",delete:"",confirm:" ",close:" "},bn:{customerDetails:" ",name:"",email:"",phone:"",contact:"",address:"",edit:" ",save:" ",cancel:" ",village:"/",po:" ",ps:" ",district:"",pin:" ",landmark:"",mobile:" ",customerSupport:" ",callNow:"  ",chat:"",logout:" ",profilePhoto:" ",viewOrders:" ",recentlyViewed:"  ",clear:" ",noRecentItems:"   ",change:" ",savingAddress:"  ...",saveAddress:"  ",language:"",home:"",search:"",cart:"",account:"",wishlist:"",orders:"",products:"",price:"",rating:"",inStock:" ",outOfStock:" ",addToCart:"  ",addToWishlist:"  ",removeFromWishlist:"  ",quantity:"",description:"",reviews:"",checkout:"",subtotal:"-",shipping:"",total:"",placeOrder:" ",orderConfirmed:" ",login:"",register:" ",password:"",confirmPassword:"  ",forgotPassword:"  ?",dontHaveAccount:" ?",alreadyHaveAccount:"  ?",loading:" ...",error:"",success:"",noResults:"  ",delete:"",confirm:" ",close:" "}};function VI({children:n}){const[e,t]=F.useState("en");F.useEffect(()=>{const l=localStorage.getItem("app_language");if(l&&Mo[l])t(l),document.documentElement.lang=l;else{const c=navigator.language||navigator.userLanguage||"en",f=c.startsWith("bn")?"bn":c.startsWith("hi")?"hi":"en";t(f),document.documentElement.lang=f}},[]);const r=F.useCallback(l=>{Mo[l]&&(t(l),localStorage.setItem("app_language",l),document.documentElement.lang=l)},[]),a=F.useCallback(l=>Mo[e]&&Mo[e][l]?Mo[e][l]:Mo.en[l]||l,[e]);return y.jsx(Va.Provider,{value:{language:e,setLanguage:r,t:a},children:n})}function UI({onCartClick:n}){const e=zs(f=>f.totalCount),t=ln(),[r,a]=F.useState(""),{t:l}=F.useContext(Va),c=f=>{f.preventDefault(),r.trim()&&(t("/products?q="+encodeURIComponent(r)),a(""))};return y.jsx("header",{className:"w-full bg-gradient-to-r from-orange-600 to-orange-700 border-b border-orange-800 px-3 sm:px-4 py-2 sm:py-3 sticky top-0 z-20 shadow-lg safe-area-top",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[y.jsx(Vt,{to:"/","aria-label":"Home",className:"flex-shrink-0 touch-area",children:y.jsx(Bb,{})}),y.jsx("form",{onSubmit:c,className:"flex-1 max-w-md",children:y.jsxs("div",{className:"flex items-center bg-white bg-opacity-20 rounded-lg overflow-hidden backdrop-blur-sm",children:[y.jsx("input",{className:"flex-1 px-3 py-2 bg-transparent outline-none text-sm text-white placeholder-orange-100 font-normal",placeholder:l("search")+" "+l("products")+"...",value:r,onChange:f=>a(f.target.value)}),y.jsx("button",{type:"submit",className:"px-3 py-2 text-white active:opacity-70","aria-label":"search",children:y.jsx(tg,{size:18})})]})}),y.jsx("div",{className:"flex items-center gap-3",children:y.jsxs("button",{onClick:n,className:"relative touch-area text-white active:opacity-70","aria-label":"cart",children:[y.jsx(Ra,{size:20}),e>0&&y.jsx("span",{className:"absolute top-0 right-0 bg-yellow-400 text-orange-700 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:e>99?"99+":e})]})})]}),y.jsxs("div",{className:"sm:hidden flex items-center justify-between gap-2",children:[y.jsx(Vt,{to:"/","aria-label":"Home",className:"flex-shrink-0 touch-area",children:y.jsx(Bb,{small:!0})}),y.jsx("form",{onSubmit:c,className:"flex-1 min-w-0",children:y.jsxs("div",{className:"flex items-center bg-white bg-opacity-90 rounded-lg overflow-hidden h-10",children:[y.jsx("input",{type:"search",className:"flex-1 px-3 py-2 bg-transparent outline-none text-sm text-gray-900 placeholder-gray-500",placeholder:l("search")+"...",value:r,onChange:f=>a(f.target.value)}),y.jsx("button",{type:"submit",className:"px-3 py-2 text-gray-600 active:opacity-70 flex-shrink-0","aria-label":"search",children:y.jsx(tg,{size:16})})]})}),y.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:y.jsxs("button",{onClick:n,className:"relative touch-area text-white active:opacity-70","aria-label":"cart",children:[y.jsx(Ra,{size:20}),e>0&&y.jsx("span",{className:"absolute top-0 right-0 bg-yellow-400 text-orange-700 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:e>99?"99+":e})]})})]})]})})}function zI(){const n=ln(),e=zs(a=>a.items),t=e.reduce((a,l)=>a+l.price*(l.qty||1),0);if(!e||e.length===0)return null;const r={bottom:"calc(env(safe-area-inset-bottom, 0px) + 64px)"};return y.jsx("div",{className:"fixed left-0 right-0 z-40 flex justify-center md:hidden",style:r,children:y.jsxs("div",{className:"max-w-3xl w-full mx-3 bg-white border border-gray-200 rounded-lg p-2 flex items-center justify-between shadow",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"text-sm font-medium",children:[e.length," item",e.length>1?"s":""]}),y.jsxs("div",{className:"text-sm text-gray-500",children:["",t.toFixed(0)]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"px-3 py-1 bg-white text-gray-900 border rounded",onClick:()=>n("/cart"),children:"View Cart"}),y.jsx("button",{className:"px-3 py-1 bg-gray-900 text-white rounded",onClick:()=>n("/checkout"),children:"Checkout"})]})]})})}function BI(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),f=(l=t.getItem(a))!=null?l:null;return f instanceof Promise?f.then(c):c(f)},setItem:(a,l)=>t.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>t.removeItem(a)}}const ng=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return ng(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return ng(r)(t)}}}},FI=(n,e)=>(t,r,a)=>{let l={storage:BI(()=>localStorage),partialize:P=>P,version:0,merge:(P,k)=>({...k,...P}),...e},c=!1;const f=new Set,h=new Set;let p=l.storage;if(!p)return n((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...P)},r,a);const v=()=>{const P=l.partialize({...r()});return p.setItem(l.name,{state:P,version:l.version})},_=a.setState;a.setState=(P,k)=>(_(P,k),v());const E=n((...P)=>(t(...P),v()),r,a);a.getInitialState=()=>E;let S;const O=()=>{var P,k;if(!p)return;c=!1,f.forEach(U=>{var B;return U((B=r())!=null?B:E)});const L=((k=l.onRehydrateStorage)==null?void 0:k.call(l,(P=r())!=null?P:E))||void 0;return ng(p.getItem.bind(p))(l.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==l.version){if(l.migrate){const B=l.migrate(U.state,U.version);return B instanceof Promise?B.then(X=>[!0,X]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var B;const[X,ee]=U;if(S=l.merge(ee,(B=r())!=null?B:E),t(S,!0),X)return v()}).then(()=>{L?.(S,void 0),S=r(),c=!0,h.forEach(U=>U(S))}).catch(U=>{L?.(void 0,U)})};return a.persist={setOptions:P=>{l={...l,...P},P.storage&&(p=P.storage)},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>O(),hasHydrated:()=>c,onHydrate:P=>(f.add(P),()=>{f.delete(P)}),onFinishHydration:P=>(h.add(P),()=>{h.delete(P)})},l.skipHydration||O(),S||E},$g=FI,qI=()=>{};var Fb={};const mE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},HI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,S=p&63;h||(S=64,c||(E=64)),r.push(t[v],t[_],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):HI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new GI;const E=l<<2|f>>4;if(r.push(E),p!==64){const S=f<<4&240|p>>2;if(r.push(S),_!==64){const O=p<<6&192|_;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $I=function(n){const e=mE(n);return pE.encodeByteArray(e,!0)},gh=function(n){return $I(n).replace(/\./g,"")},gE=function(n){try{return pE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KI=()=>YI().__FIREBASE_DEFAULTS__,QI=()=>{if(typeof process>"u"||typeof Fb>"u")return;const n=Fb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&gE(n[1]);return e&&JSON.parse(e)},qh=()=>{try{return qI()||KI()||QI()||XI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yE=n=>qh()?.emulatorHosts?.[n],vE=n=>{const e=yE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},_E=()=>qh()?.config,bE=n=>qh()?.[`_${n}`];class WI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Bs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yg(n){return(await fetch(n,{credentials:"include"})).ok}function wE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gh(JSON.stringify(t)),gh(JSON.stringify(c)),""].join(".")}const Au={};function JI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Au))Au[e]?n.emulator.push(e):n.prod.push(e);return n}function ZI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let qb=!1;function Kg(n,e){if(typeof window>"u"||typeof document>"u"||!Bs(window.location.host)||Au[n]===e||Au[n]||qb)return;Au[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=JI().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function h(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{qb=!0,c()},E}function v(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=ZI(r),S=t("text"),O=document.getElementById(S)||document.createElement("span"),P=t("learnmore"),k=document.getElementById(P)||document.createElement("a"),L=t("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;f(B),v(k,P);const X=p();h(U,L),B.append(U,O,k,X),document.body.appendChild(B)}l?(O.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function t2(){const n=qh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function i2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r2(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function s2(){return!t2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EE(){try{return typeof indexedDB=="object"}catch{return!1}}function SE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function a2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const o2="FirebaseError";class ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=o2,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ua.prototype.create)}}class Ua{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?l2(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ci(a,f,r)}}function l2(n,e){return n.replace(u2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const u2=/\{\$([^}]+)}/g;function c2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ia(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(Hb(l)&&Hb(c)){if(!Ia(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Hb(n){return n!==null&&typeof n=="object"}function Xu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function d2(n,e){const t=new h2(n,e);return t.subscribe.bind(t)}class h2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");f2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Cp),a.error===void 0&&(a.error=Cp),a.complete===void 0&&(a.complete=Cp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cp(){}const m2=1e3,p2=2,g2=14400*1e3,y2=.5;function Gb(n,e=m2,t=p2){const r=e*Math.pow(t,n),a=Math.round(y2*r*(Math.random()-.5)*2);return Math.min(g2,r+a)}function st(n){return n&&n._delegate?n._delegate:n}class li{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ta="[DEFAULT]";class v2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new WI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b2(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _2(n){return n===Ta?void 0:n}function b2(n){return n.instantiationMode==="EAGER"}class w2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new v2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const T2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},E2=Ve.INFO,S2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},x2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=S2[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hh{constructor(e){this.name=e,this._logLevel=E2,this._logHandler=x2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const A2=(n,e)=>e.some(t=>n instanceof t);let $b,Yb;function C2(){return $b||($b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return Yb||(Yb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xE=new WeakMap,ig=new WeakMap,AE=new WeakMap,Rp=new WeakMap,Qg=new WeakMap;function I2(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Cs(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&xE.set(t,n)}).catch(()=>{}),Qg.set(e,n),e}function N2(n){if(ig.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ig.set(n,e)}let rg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function O2(n){rg=n(rg)}function D2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ip(this),e,...t);return AE.set(r,e.sort?e.sort():[e]),Cs(r)}:R2().includes(n)?function(...e){return n.apply(Ip(this),e),Cs(xE.get(this))}:function(...e){return Cs(n.apply(Ip(this),e))}}function M2(n){return typeof n=="function"?D2(n):(n instanceof IDBTransaction&&N2(n),A2(n,C2())?new Proxy(n,rg):n)}function Cs(n){if(n instanceof IDBRequest)return I2(n);if(Rp.has(n))return Rp.get(n);const e=M2(n);return e!==n&&(Rp.set(n,e),Qg.set(e,n)),e}const Ip=n=>Qg.get(n);function CE(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Cs(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Cs(c.result),h.oldVersion,h.newVersion,Cs(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const k2=["get","getKey","getAll","getAllKeys","count"],P2=["put","add","delete","clear"],Np=new Map;function Kb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=P2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||k2.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&h.done]))[0]};return Np.set(e,l),l}O2(n=>({...n,get:(e,t,r)=>Kb(e,t)||n.get(e,t,r),has:(e,t)=>!!Kb(e,t)||n.has(e,t)}));class L2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(j2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function j2(n){return n.getComponent()?.type==="VERSION"}const sg="@firebase/app",Qb="0.14.6";const Lr=new Hh("@firebase/app"),V2="@firebase/app-compat",U2="@firebase/analytics-compat",z2="@firebase/analytics",B2="@firebase/app-check-compat",F2="@firebase/app-check",q2="@firebase/auth",H2="@firebase/auth-compat",G2="@firebase/database",$2="@firebase/data-connect",Y2="@firebase/database-compat",K2="@firebase/functions",Q2="@firebase/functions-compat",X2="@firebase/installations",W2="@firebase/installations-compat",J2="@firebase/messaging",Z2="@firebase/messaging-compat",eN="@firebase/performance",tN="@firebase/performance-compat",nN="@firebase/remote-config",iN="@firebase/remote-config-compat",rN="@firebase/storage",sN="@firebase/storage-compat",aN="@firebase/firestore",oN="@firebase/ai",lN="@firebase/firestore-compat",uN="firebase",cN="12.6.0";const ag="[DEFAULT]",dN={[sg]:"fire-core",[V2]:"fire-core-compat",[z2]:"fire-analytics",[U2]:"fire-analytics-compat",[F2]:"fire-app-check",[B2]:"fire-app-check-compat",[q2]:"fire-auth",[H2]:"fire-auth-compat",[G2]:"fire-rtdb",[$2]:"fire-data-connect",[Y2]:"fire-rtdb-compat",[K2]:"fire-fn",[Q2]:"fire-fn-compat",[X2]:"fire-iid",[W2]:"fire-iid-compat",[J2]:"fire-fcm",[Z2]:"fire-fcm-compat",[eN]:"fire-perf",[tN]:"fire-perf-compat",[nN]:"fire-rc",[iN]:"fire-rc-compat",[rN]:"fire-gcs",[sN]:"fire-gcs-compat",[aN]:"fire-fst",[lN]:"fire-fst-compat",[oN]:"fire-vertex","fire-js":"fire-js",[uN]:"fire-js-all"};const yh=new Map,hN=new Map,og=new Map;function Xb(n,e){try{n.container.addComponent(e)}catch(t){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ai(n){const e=n.name;if(og.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,n);for(const t of yh.values())Xb(t,n);for(const t of hN.values())Xb(t,n);return!0}function rl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rn(n){return n==null?!1:n.settings!==void 0}const fN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new Ua("app","Firebase",fN);class mN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}const za=cN;function RE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ag,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Rs.create("bad-app-name",{appName:String(a)});if(t||(t=_E()),!t)throw Rs.create("no-options");const l=yh.get(a);if(l){if(Ia(t,l.options)&&Ia(r,l.config))return l;throw Rs.create("duplicate-app",{appName:a})}const c=new w2(a);for(const h of og.values())c.addComponent(h);const f=new mN(t,r,c);return yh.set(a,f),f}function Xg(n=ag){const e=yh.get(n);if(!e&&n===ag&&_E())return RE();if(!e)throw Rs.create("no-app",{appName:n});return e}function Nn(n,e,t){let r=dN[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(c.join(" "));return}Ai(new li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const pN="firebase-heartbeat-database",gN=1,Lu="firebase-heartbeat-store";let Op=null;function IE(){return Op||(Op=CE(pN,gN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Rs.create("idb-open",{originalErrorMessage:n.message})})),Op}async function yN(n){try{const t=(await IE()).transaction(Lu),r=await t.objectStore(Lu).get(NE(n));return await t.done,r}catch(e){if(e instanceof ci)Lr.warn(e.message);else{const t=Rs.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(t.message)}}}async function Wb(n,e){try{const r=(await IE()).transaction(Lu,"readwrite");await r.objectStore(Lu).put(e,NE(n)),await r.done}catch(t){if(t instanceof ci)Lr.warn(t.message);else{const r=Rs.create("idb-set",{originalErrorMessage:t?.message});Lr.warn(r.message)}}}function NE(n){return`${n.name}!${n.options.appId}`}const vN=1024,_N=30;class bN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Jb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>_N){const a=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jb(),{heartbeatsToSend:t,unsentEntries:r}=wN(this._heartbeatsCache.heartbeats),a=gh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Lr.warn(e),""}}}function Jb(){return new Date().toISOString().substring(0,10)}function wN(n,e=vN){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Zb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Zb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class TN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EE()?SE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zb(n){return gh(JSON.stringify({version:2,heartbeats:n})).length}function EN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function SN(n){Ai(new li("platform-logger",e=>new L2(e),"PRIVATE")),Ai(new li("heartbeat",e=>new bN(e),"PRIVATE")),Nn(sg,Qb,n),Nn(sg,Qb,"esm2020"),Nn("fire-js","")}SN("");var xN="firebase",AN="12.6.0";Nn(xN,AN,"app");function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CN=OE,DE=new Ua("auth","Firebase",OE());const vh=new Hh("@firebase/auth");function RN(n,...e){vh.logLevel<=Ve.WARN&&vh.warn(`Auth (${za}): ${n}`,...e)}function eh(n,...e){vh.logLevel<=Ve.ERROR&&vh.error(`Auth (${za}): ${n}`,...e)}function ui(n,...e){throw Jg(n,...e)}function xi(n,...e){return Jg(n,...e)}function Wg(n,e,t){const r={...CN(),[e]:t};return new Ua("auth","Firebase",r).create(e,{appName:n.name})}function Mr(n){return Wg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(n,"argument-error"),Wg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DE.create(n,...e)}function Se(n,e,...t){if(!n)throw Jg(e,...t)}function Ir(n){const e="INTERNAL ASSERTION FAILED: "+n;throw eh(e),new Error(e)}function jr(n,e){n||Ir(e)}function lg(){return typeof self<"u"&&self.location?.href||""}function NN(){return ew()==="http:"||ew()==="https:"}function ew(){return typeof self<"u"&&self.location?.protocol||null}function ON(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NN()||TE()||"connection"in navigator)?navigator.onLine:!0}function DN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=e2()||i2()}get(){return ON()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zg(n,e){jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ME{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PN=new Wu(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Br(n,e,t,r,a={}){return kE(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Xu({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...l};return n2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Bs(n.emulatorConfig.host)&&(p.credentials="include"),ME.fetch()(await PE(n,n.config.apiHost,t,f),p)})}async function kE(n,e,t){n._canInitEmulator=!1;const r={...MN,...e};try{const a=new jN(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Bd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bd(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Bd(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Bd(n,"user-disabled",c);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Wg(n,v,p);ui(n,v)}}catch(a){if(a instanceof ci)throw a;ui(n,"network-request-failed",{message:String(a)})}}async function Ju(n,e,t,r,a={}){const l=await Br(n,e,t,r,a);return"mfaPendingCredential"in l&&ui(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function PE(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?Zg(n.config,a):`${n.config.apiScheme}://${a}`;return kN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function LN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),PN.get())})}}function Bd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=xi(n,e,r);return a.customData._tokenResponse=t,a}function tw(n){return n!==void 0&&n.enterprise!==void 0}class VN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return LN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UN(n,e){return Br(n,"GET","/v2/recaptchaConfig",Fs(n,e))}async function zN(n,e){return Br(n,"POST","/v1/accounts:delete",e)}async function _h(n,e){return Br(n,"POST","/v1/accounts:lookup",e)}function Cu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BN(n,e=!1){const t=st(n),r=await t.getIdToken(e),a=ey(r);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Cu(Dp(a.auth_time)),issuedAtTime:Cu(Dp(a.iat)),expirationTime:Cu(Dp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Dp(n){return Number(n)*1e3}function ey(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const a=gE(t);return a?JSON.parse(a):(eh("Failed to decode base64 JWT payload"),null)}catch(a){return eh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function nw(n){const e=ey(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ci&&FN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function FN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class qN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(n){const e=n.auth,t=await n.getIdToken(),r=await Qo(n,_h(e,{idToken:t}));Se(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?LE(a.providerUserInfo):[],c=GN(n.providerData,l),f=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,p=f?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function HN(n){const e=st(n);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GN(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function LE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function $N(n,e){const t=await kE(n,{},async()=>{const r=Xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await PE(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return n.emulatorConfig&&Bs(n.emulatorConfig.host)&&(h.credentials="include"),ME.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YN(n,e){return Br(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=nw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await $N(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Bo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function ws(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new qN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ug(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BN(this,e)}reload(){return HN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await Qo(this,zN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:O,stsTokenManager:P}=t;Se(_&&P,e,"internal-error");const k=Bo.fromJSON(this.name,P);Se(typeof _=="string",e,"internal-error"),ws(r,e.name),ws(a,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof S=="boolean",e,"internal-error"),ws(l,e.name),ws(c,e.name),ws(f,e.name),ws(h,e.name),ws(p,e.name),ws(v,e.name);const L=new Si({uid:_,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:k,createdAt:p,lastLoginAt:v});return O&&Array.isArray(O)&&(L.providerData=O.map(U=>({...U}))),h&&(L._redirectEventId=h),L}static async _fromIdTokenResponse(e,t,r=!1){const a=new Bo;a.updateFromServerResponse(t);const l=new Si({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await bh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?LE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Bo;f.updateFromIdToken(r);const h=new Si({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(h,p),h}}const iw=new Map;function Nr(n){jr(n instanceof Function,"Expected a class definition");let e=iw.get(n);return e?(jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,iw.set(n,e),e)}class jE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jE.type="NONE";const rw=jE;function th(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=th(this.userKey,a.apiKey,l),this.fullPersistenceKey=th("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _h(this.auth,{idToken:e}).catch(()=>{});return t?Si._fromGetAccountInfoResponse(this.auth,t,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fo(Nr(rw),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Nr(rw);const c=th(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const E=await _h(e,{idToken:v}).catch(()=>{});if(!E)break;_=await Si._fromGetAccountInfoResponse(e,E,v)}else _=Si._fromJSON(e,v);p!==l&&(f=_),l=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Fo(l,e,r):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Fo(l,e,r))}}function sw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qE(e))return"Blackberry";if(HE(e))return"Webos";if(UE(e))return"Safari";if((e.includes("chrome/")||zE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function VE(n=on()){return/firefox\//i.test(n)}function UE(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zE(n=on()){return/crios\//i.test(n)}function BE(n=on()){return/iemobile/i.test(n)}function FE(n=on()){return/android/i.test(n)}function qE(n=on()){return/blackberry/i.test(n)}function HE(n=on()){return/webos/i.test(n)}function ty(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KN(n=on()){return ty(n)&&!!window.navigator?.standalone}function QN(){return r2()&&document.documentMode===10}function GE(n=on()){return ty(n)||FE(n)||HE(n)||qE(n)||/windows phone/i.test(n)||BE(n)}function $E(n,e=[]){let t;switch(n){case"Browser":t=sw(on());break;case"Worker":t=`${sw(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${za}/${r}`}class XN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function WN(n,e={}){return Br(n,"GET","/v2/passwordPolicy",Fs(n,e))}const JN=6;class ZN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??JN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class eO{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aw(this),this.idTokenSubscription=new aw(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _h(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Mr(this));const t=e?st(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WN(this),t=new ZN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ua("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await YN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qs(n){return st(n)}class aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=d2(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tO(n){Gh=n}function YE(n){return Gh.loadJS(n)}function nO(){return Gh.recaptchaEnterpriseScript}function iO(){return Gh.gapiScript}function rO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class sO{constructor(){this.enterprise=new aO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const oO="recaptcha-enterprise",KE="NO_RECAPTCHA";class lO{constructor(e){this.type=oO,this.auth=qs(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{UN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new VN(h);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(h=>{f(h)})})}function a(l,c,f){const h=window.grecaptcha;tw(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(KE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!t&&tw(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=nO();h.length!==0&&(h+=f),YE(h).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function ow(n,e,t,r=!1,a=!1){const l=new lO(n);let c;if(a)c=KE;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function cg(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ow(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ow(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}function uO(n,e){const t=rl(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ia(l,e??{}))return a;ui(a,"already-initialized")}return t.initialize({options:e})}function cO(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Nr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function dO(n,e,t){const r=qs(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=QE(e),{host:c,port:f}=hO(e),h=f===null?"":`:${f}`,p={url:`${l}//${c}${h}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Ia(p,r.config.emulator)&&Ia(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Bs(c)?(Yg(`${l}//${c}${h}`),Kg("Auth",!0)):fO()}function QE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hO(n){const e=QE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:lw(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:lw(c)}}}function lw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class ny{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function mO(n,e){return Br(n,"POST","/v1/accounts:signUp",e)}async function pO(n,e){return Ju(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}async function gO(n,e){return Ju(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function yO(n,e){return Ju(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}class ju extends ny{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new ju(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ju(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,t,"signInWithPassword",pO);case"emailLink":return gO(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",mO);case"emailLink":return yO(e,{idToken:t,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qo(n,e){return Ju(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}const vO="http://localhost";class Na extends ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new Na(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,qo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:vO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xu(t)}return e}}function _O(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bO(n){const e=bu(wu(n)).link,t=e?bu(wu(e)).deep_link_id:null,r=bu(wu(n)).deep_link_id;return(r?bu(wu(r)).link:null)||r||t||e||n}class iy{constructor(e){const t=bu(wu(e)),r=t.apiKey??null,a=t.oobCode??null,l=_O(t.mode??null);Se(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=bO(e);try{return new iy(t)}catch{return null}}}class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,t){return ju._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=iy.parseLink(t);return Se(r,"argument-error"),ju._fromEmailAndCode(e,r.code,r.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ry{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zu extends ry{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rr extends Zu{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";class Wi extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Wi.credential(t,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";class Ts extends Zu{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";class Es extends Zu{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Es.credential(t,r)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";async function wO(n,e){return Ju(n,"POST","/v1/accounts:signUp",Fs(n,e))}class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Si._fromIdTokenResponse(e,r,a),c=uw(r);return new Oa({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=uw(r);return new Oa({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function uw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class wh extends ci{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new wh(e,t,r,a)}}function XE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(n,l,e,r):l})}async function TO(n,e,t=!1){const r=await Qo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Oa._forOperation(n,"link",r)}async function EO(n,e,t=!1){const{auth:r}=n;if(Rn(r.app))return Promise.reject(Mr(r));const a="reauthenticate";try{const l=await Qo(n,XE(r,a,e,n),t);Se(l.idToken,r,"internal-error");const c=ey(l.idToken);Se(c,r,"internal-error");const{sub:f}=c;return Se(n.uid===f,r,"user-mismatch"),Oa._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ui(r,"user-mismatch"),l}}async function WE(n,e,t=!1){if(Rn(n.app))return Promise.reject(Mr(n));const r="signIn",a=await XE(n,r,e),l=await Oa._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function SO(n,e){return WE(qs(n),e)}async function JE(n){const e=qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xO(n,e,t){if(Rn(n.app))return Promise.reject(Mr(n));const r=qs(n),c=await cg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&JE(n),h}),f=await Oa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function AO(n,e,t){return Rn(n.app)?Promise.reject(Mr(n)):SO(st(n),sl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JE(n),r})}async function CO(n,e){return Br(n,"POST","/v1/accounts:update",e)}async function ZE(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=st(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Qo(r,CO(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:h})=>h==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function RO(n,e,t,r){return st(n).onIdTokenChanged(e,t,r)}function IO(n,e,t){return st(n).beforeAuthStateChanged(e,t)}function NO(n,e,t,r){return st(n).onAuthStateChanged(e,t,r)}function OO(n){return st(n).signOut()}const Th="__sak";class eS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DO=1e3,MO=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);QN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,MO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tS.type="LOCAL";const kO=tS;class nS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nS.type="SESSION";const iS=nS;function PO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,l)),h=await PO(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function sy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class LO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const p=sy("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Zi(){return window}function jO(n){Zi().location.href=n}function rS(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function VO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UO(){return navigator?.serviceWorker?.controller||null}function zO(){return rS()?self:null}const sS="firebaseLocalStorageDb",BO=1,Eh="firebaseLocalStorage",aS="fbase_key";class ec{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(n,e){return n.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function FO(){const n=indexedDB.deleteDatabase(sS);return new ec(n).toPromise()}function dg(){const n=indexedDB.open(sS,BO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Eh,{keyPath:aS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await FO(),e(await dg()))})})}async function cw(n,e,t){const r=Yh(n,!0).put({[aS]:e,value:t});return new ec(r).toPromise()}async function qO(n,e){const t=Yh(n,!1).get(e),r=await new ec(t).toPromise();return r===void 0?null:r.value}function dw(n,e){const t=Yh(n,!0).delete(e);return new ec(t).toPromise()}const HO=800,GO=3;class oS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>GO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(zO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VO(),!this.activeServiceWorker)return;this.sender=new LO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await cw(e,Th,"1"),await dw(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>cw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>qO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Yh(a,!1).getAll();return new ec(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oS.type="LOCAL";const $O=oS;new Wu(3e4,6e4);function lS(n,e){return e?Nr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ay extends ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YO(n){return WE(n.auth,new ay(n),n.bypassAuthState)}function KO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),EO(t,new ay(n),n.bypassAuthState)}async function QO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),TO(t,new ay(n),n.bypassAuthState)}class uS{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YO;case"linkViaPopup":case"linkViaRedirect":return QO;case"reauthViaPopup":case"reauthViaRedirect":return KO;default:ui(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XO=new Wu(2e3,1e4);async function cS(n,e,t){if(Rn(n.app))return Promise.reject(xi(n,"operation-not-supported-in-this-environment"));const r=qs(n);IN(n,e,ry);const a=lS(r,t);return new Ea(r,"signInViaPopup",e,a).executeNotNull()}class Ea extends uS{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XO.get())};e()}}Ea.currentPopupAction=null;const WO="pendingRedirect",nh=new Map;class JO extends uS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await ZO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZO(n,e){const t=nD(e),r=tD(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function eD(n,e){nh.set(n._key(),e)}function tD(n){return Nr(n._redirectPersistence)}function nD(n){return th(WO,n.config.apiKey,n.name)}async function iD(n,e,t=!1){if(Rn(n.app))return Promise.reject(Mr(n));const r=qs(n),a=lS(r,e),c=await new JO(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const rD=600*1e3;class sD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!dS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rD&&this.cachedEventUids.clear(),this.cachedEventUids.has(hw(e))}saveEventToCache(e){this.cachedEventUids.add(hw(e)),this.lastProcessedEventTime=Date.now()}}function hw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function aD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dS(n);default:return!1}}async function oD(n,e={}){return Br(n,"GET","/v1/projects",e)}const lD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uD=/^https?/;async function cD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oD(n);for(const t of e)try{if(dD(t))return}catch{}ui(n,"unauthorized-domain")}function dD(n){const e=lg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!uD.test(t))return!1;if(lD.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const hD=new Wu(3e4,6e4);function fw(){const n=Zi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fD(n){return new Promise((e,t)=>{function r(){fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fw(),t(xi(n,"network-request-failed"))},timeout:hD.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)r();else{const a=rO("iframefcb");return Zi()[a]=()=>{gapi.load?r():t(xi(n,"network-request-failed"))},YE(`${iO()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ih=null,e})}let ih=null;function mD(n){return ih=ih||fD(n),ih}const pD=new Wu(5e3,15e3),gD="__/auth/iframe",yD="emulator/auth/iframe",vD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_D=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Zg(e,yD):`https://${n.config.authDomain}/${gD}`,r={apiKey:e.apiKey,appName:n.name,v:za},a=_D.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Xu(r).slice(1)}`}async function wD(n){const e=await mD(n),t=Zi().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:bD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vD,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=xi(n,"network-request-failed"),f=Zi().setTimeout(()=>{l(c)},pD.get());function h(){Zi().clearTimeout(f),a(r)}r.ping(h).then(h,()=>{l(c)})}))}const TD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ED=500,SD=600,xD="_blank",AD="http://localhost";class mw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CD(n,e,t,r=ED,a=SD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h={...TD,width:r.toString(),height:a.toString(),top:l,left:c},p=on().toLowerCase();t&&(f=zE(p)?xD:t),VE(p)&&(e=e||AD,h.scrollbars="yes");const v=Object.entries(h).reduce((E,[S,O])=>`${E}${S}=${O},`,"");if(KN(p)&&f!=="_self")return RD(e||"",f),new mw(null);const _=window.open(e||"",f,v);Se(_,n,"popup-blocked");try{_.focus()}catch{}return new mw(_)}function RD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const ID="__/auth/handler",ND="emulator/auth/handler",OD=encodeURIComponent("fac");async function pw(n,e,t,r,a,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:za,eventId:a};if(e instanceof ry){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",c2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Zu){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),p=h?`#${OD}=${encodeURIComponent(h)}`:"";return`${DD(n)}?${Xu(f).slice(1)}${p}`}function DD({config:n}){return n.emulator?Zg(n,ND):`https://${n.authDomain}/${ID}`}const Mp="webStorageSupport";class MD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iS,this._completeRedirectFn=iD,this._overrideRedirectResult=eD}async _openPopup(e,t,r,a){jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await pw(e,t,r,lg(),a);return CD(e,l,sy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await pw(e,t,r,lg(),a);return jO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(jr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wD(e),r=new sD(e);return t.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mp,{type:Mp},a=>{const l=a?.[0]?.[Mp];l!==void 0&&t(!!l),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GE()||UE()||ty()}}const kD=MD;var gw="@firebase/auth",yw="1.11.1";class PD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jD(n){Ai(new li("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(n)},p=new eO(r,a,l,h);return cO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ai(new li("auth-internal",e=>{const t=qs(e.getProvider("auth").getImmediate());return(r=>new PD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(gw,yw,LD(n)),Nn(gw,yw,"esm2020")}const VD=300,UD=bE("authIdTokenMaxAge")||VD;let vw=null;const zD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>UD)return;const a=t?.token;vw!==a&&(vw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function BD(n=Xg()){const e=rl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uO(n,{popupRedirectResolver:kD,persistence:[$O,kO,iS]}),r=bE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=zD(l.toString());IO(t,c,()=>c(t.currentUser)),RO(t,f=>c(f))}}const a=yE("auth");return a&&dO(t,`http://${a}`),t}function FD(){return document.getElementsByTagName("head")?.[0]??document}tO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=xi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",FD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jD("Browser");var _w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Is,hS;(function(){var n;function e(D,x){function M(){}M.prototype=x.prototype,D.F=x.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(I,C,z){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return x.prototype[C].apply(I,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,x,M){M||(M=0);const I=Array(16);if(typeof x=="string")for(var C=0;C<16;++C)I[C]=x.charCodeAt(M++)|x.charCodeAt(M++)<<8|x.charCodeAt(M++)<<16|x.charCodeAt(M++)<<24;else for(C=0;C<16;++C)I[C]=x[M++]|x[M++]<<8|x[M++]<<16|x[M++]<<24;x=D.g[0],M=D.g[1],C=D.g[2];let z=D.g[3],N;N=x+(z^M&(C^z))+I[0]+3614090360&4294967295,x=M+(N<<7&4294967295|N>>>25),N=z+(C^x&(M^C))+I[1]+3905402710&4294967295,z=x+(N<<12&4294967295|N>>>20),N=C+(M^z&(x^M))+I[2]+606105819&4294967295,C=z+(N<<17&4294967295|N>>>15),N=M+(x^C&(z^x))+I[3]+3250441966&4294967295,M=C+(N<<22&4294967295|N>>>10),N=x+(z^M&(C^z))+I[4]+4118548399&4294967295,x=M+(N<<7&4294967295|N>>>25),N=z+(C^x&(M^C))+I[5]+1200080426&4294967295,z=x+(N<<12&4294967295|N>>>20),N=C+(M^z&(x^M))+I[6]+2821735955&4294967295,C=z+(N<<17&4294967295|N>>>15),N=M+(x^C&(z^x))+I[7]+4249261313&4294967295,M=C+(N<<22&4294967295|N>>>10),N=x+(z^M&(C^z))+I[8]+1770035416&4294967295,x=M+(N<<7&4294967295|N>>>25),N=z+(C^x&(M^C))+I[9]+2336552879&4294967295,z=x+(N<<12&4294967295|N>>>20),N=C+(M^z&(x^M))+I[10]+4294925233&4294967295,C=z+(N<<17&4294967295|N>>>15),N=M+(x^C&(z^x))+I[11]+2304563134&4294967295,M=C+(N<<22&4294967295|N>>>10),N=x+(z^M&(C^z))+I[12]+1804603682&4294967295,x=M+(N<<7&4294967295|N>>>25),N=z+(C^x&(M^C))+I[13]+4254626195&4294967295,z=x+(N<<12&4294967295|N>>>20),N=C+(M^z&(x^M))+I[14]+2792965006&4294967295,C=z+(N<<17&4294967295|N>>>15),N=M+(x^C&(z^x))+I[15]+1236535329&4294967295,M=C+(N<<22&4294967295|N>>>10),N=x+(C^z&(M^C))+I[1]+4129170786&4294967295,x=M+(N<<5&4294967295|N>>>27),N=z+(M^C&(x^M))+I[6]+3225465664&4294967295,z=x+(N<<9&4294967295|N>>>23),N=C+(x^M&(z^x))+I[11]+643717713&4294967295,C=z+(N<<14&4294967295|N>>>18),N=M+(z^x&(C^z))+I[0]+3921069994&4294967295,M=C+(N<<20&4294967295|N>>>12),N=x+(C^z&(M^C))+I[5]+3593408605&4294967295,x=M+(N<<5&4294967295|N>>>27),N=z+(M^C&(x^M))+I[10]+38016083&4294967295,z=x+(N<<9&4294967295|N>>>23),N=C+(x^M&(z^x))+I[15]+3634488961&4294967295,C=z+(N<<14&4294967295|N>>>18),N=M+(z^x&(C^z))+I[4]+3889429448&4294967295,M=C+(N<<20&4294967295|N>>>12),N=x+(C^z&(M^C))+I[9]+568446438&4294967295,x=M+(N<<5&4294967295|N>>>27),N=z+(M^C&(x^M))+I[14]+3275163606&4294967295,z=x+(N<<9&4294967295|N>>>23),N=C+(x^M&(z^x))+I[3]+4107603335&4294967295,C=z+(N<<14&4294967295|N>>>18),N=M+(z^x&(C^z))+I[8]+1163531501&4294967295,M=C+(N<<20&4294967295|N>>>12),N=x+(C^z&(M^C))+I[13]+2850285829&4294967295,x=M+(N<<5&4294967295|N>>>27),N=z+(M^C&(x^M))+I[2]+4243563512&4294967295,z=x+(N<<9&4294967295|N>>>23),N=C+(x^M&(z^x))+I[7]+1735328473&4294967295,C=z+(N<<14&4294967295|N>>>18),N=M+(z^x&(C^z))+I[12]+2368359562&4294967295,M=C+(N<<20&4294967295|N>>>12),N=x+(M^C^z)+I[5]+4294588738&4294967295,x=M+(N<<4&4294967295|N>>>28),N=z+(x^M^C)+I[8]+2272392833&4294967295,z=x+(N<<11&4294967295|N>>>21),N=C+(z^x^M)+I[11]+1839030562&4294967295,C=z+(N<<16&4294967295|N>>>16),N=M+(C^z^x)+I[14]+4259657740&4294967295,M=C+(N<<23&4294967295|N>>>9),N=x+(M^C^z)+I[1]+2763975236&4294967295,x=M+(N<<4&4294967295|N>>>28),N=z+(x^M^C)+I[4]+1272893353&4294967295,z=x+(N<<11&4294967295|N>>>21),N=C+(z^x^M)+I[7]+4139469664&4294967295,C=z+(N<<16&4294967295|N>>>16),N=M+(C^z^x)+I[10]+3200236656&4294967295,M=C+(N<<23&4294967295|N>>>9),N=x+(M^C^z)+I[13]+681279174&4294967295,x=M+(N<<4&4294967295|N>>>28),N=z+(x^M^C)+I[0]+3936430074&4294967295,z=x+(N<<11&4294967295|N>>>21),N=C+(z^x^M)+I[3]+3572445317&4294967295,C=z+(N<<16&4294967295|N>>>16),N=M+(C^z^x)+I[6]+76029189&4294967295,M=C+(N<<23&4294967295|N>>>9),N=x+(M^C^z)+I[9]+3654602809&4294967295,x=M+(N<<4&4294967295|N>>>28),N=z+(x^M^C)+I[12]+3873151461&4294967295,z=x+(N<<11&4294967295|N>>>21),N=C+(z^x^M)+I[15]+530742520&4294967295,C=z+(N<<16&4294967295|N>>>16),N=M+(C^z^x)+I[2]+3299628645&4294967295,M=C+(N<<23&4294967295|N>>>9),N=x+(C^(M|~z))+I[0]+4096336452&4294967295,x=M+(N<<6&4294967295|N>>>26),N=z+(M^(x|~C))+I[7]+1126891415&4294967295,z=x+(N<<10&4294967295|N>>>22),N=C+(x^(z|~M))+I[14]+2878612391&4294967295,C=z+(N<<15&4294967295|N>>>17),N=M+(z^(C|~x))+I[5]+4237533241&4294967295,M=C+(N<<21&4294967295|N>>>11),N=x+(C^(M|~z))+I[12]+1700485571&4294967295,x=M+(N<<6&4294967295|N>>>26),N=z+(M^(x|~C))+I[3]+2399980690&4294967295,z=x+(N<<10&4294967295|N>>>22),N=C+(x^(z|~M))+I[10]+4293915773&4294967295,C=z+(N<<15&4294967295|N>>>17),N=M+(z^(C|~x))+I[1]+2240044497&4294967295,M=C+(N<<21&4294967295|N>>>11),N=x+(C^(M|~z))+I[8]+1873313359&4294967295,x=M+(N<<6&4294967295|N>>>26),N=z+(M^(x|~C))+I[15]+4264355552&4294967295,z=x+(N<<10&4294967295|N>>>22),N=C+(x^(z|~M))+I[6]+2734768916&4294967295,C=z+(N<<15&4294967295|N>>>17),N=M+(z^(C|~x))+I[13]+1309151649&4294967295,M=C+(N<<21&4294967295|N>>>11),N=x+(C^(M|~z))+I[4]+4149444226&4294967295,x=M+(N<<6&4294967295|N>>>26),N=z+(M^(x|~C))+I[11]+3174756917&4294967295,z=x+(N<<10&4294967295|N>>>22),N=C+(x^(z|~M))+I[2]+718787259&4294967295,C=z+(N<<15&4294967295|N>>>17),N=M+(z^(C|~x))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,x){x===void 0&&(x=D.length);const M=x-this.blockSize,I=this.C;let C=this.h,z=0;for(;z<x;){if(C==0)for(;z<=M;)a(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<x;)if(I[C++]=D.charCodeAt(z++),C==this.blockSize){a(this,I),C=0;break}}else for(;z<x;)if(I[C++]=D[z++],C==this.blockSize){a(this,I),C=0;break}}this.h=C,this.o+=x},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,M=0;M<4;++M)for(let I=0;I<32;I+=8)D[x++]=this.g[M]>>>I&255;return D};function l(D,x){var M=f;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=x(D)}function c(D,x){this.h=x;const M=[];let I=!0;for(let C=D.length-1;C>=0;C--){const z=D[C]|0;I&&z==x||(M[C]=z,I=!1)}this.g=M}var f={};function h(D){return-128<=D&&D<128?l(D,function(x){return new c([x|0],x<0?-1:0)}):new c([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return k(p(-D));const x=[];let M=1;for(let I=0;D>=M;I++)x[I]=D/M|0,M*=4294967296;return new c(x,0)}function v(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return k(v(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(x,8));let I=_;for(let z=0;z<D.length;z+=8){var C=Math.min(8,D.length-z);const N=parseInt(D.substring(z,z+C),x);C<8?(C=p(Math.pow(x,C)),I=I.j(C).add(p(N))):(I=I.j(M),I=I.add(p(N)))}return I}var _=h(0),E=h(1),S=h(16777216);n=c.prototype,n.m=function(){if(P(this))return-k(this).m();let D=0,x=1;for(let M=0;M<this.g.length;M++){const I=this.i(M);D+=(I>=0?I:4294967296+I)*x,x*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(P(this))return"-"+k(this).toString(D);const x=p(Math.pow(D,6));var M=this;let I="";for(;;){const C=X(M,x).g;M=L(M,C.j(x));let z=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=C,O(M))return z+I;for(;z.length<6;)z="0"+z;I=z+I}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function P(D){return D.h==-1}n.l=function(D){return D=L(this,D),P(D)?-1:O(D)?0:1};function k(D){const x=D.g.length,M=[];for(let I=0;I<x;I++)M[I]=~D.g[I];return new c(M,~D.h).add(E)}n.abs=function(){return P(this)?k(this):this},n.add=function(D){const x=Math.max(this.g.length,D.g.length),M=[];let I=0;for(let C=0;C<=x;C++){let z=I+(this.i(C)&65535)+(D.i(C)&65535),N=(z>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);I=N>>>16,z&=65535,N&=65535,M[C]=N<<16|z}return new c(M,M[M.length-1]&-2147483648?-1:0)};function L(D,x){return D.add(k(x))}n.j=function(D){if(O(this)||O(D))return _;if(P(this))return P(D)?k(this).j(k(D)):k(k(this).j(D));if(P(D))return k(this.j(k(D)));if(this.l(S)<0&&D.l(S)<0)return p(this.m()*D.m());const x=this.g.length+D.g.length,M=[];for(var I=0;I<2*x;I++)M[I]=0;for(I=0;I<this.g.length;I++)for(let C=0;C<D.g.length;C++){const z=this.i(I)>>>16,N=this.i(I)&65535,de=D.i(C)>>>16,ce=D.i(C)&65535;M[2*I+2*C]+=N*ce,U(M,2*I+2*C),M[2*I+2*C+1]+=z*ce,U(M,2*I+2*C+1),M[2*I+2*C+1]+=N*de,U(M,2*I+2*C+1),M[2*I+2*C+2]+=z*de,U(M,2*I+2*C+2)}for(D=0;D<x;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=x;D<2*x;D++)M[D]=0;return new c(M,0)};function U(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function B(D,x){this.g=D,this.h=x}function X(D,x){if(O(x))throw Error("division by zero");if(O(D))return new B(_,_);if(P(D))return x=X(k(D),x),new B(k(x.g),k(x.h));if(P(x))return x=X(D,k(x)),new B(k(x.g),x.h);if(D.g.length>30){if(P(D)||P(x))throw Error("slowDivide_ only works with positive integers.");for(var M=E,I=x;I.l(D)<=0;)M=ee(M),I=ee(I);var C=re(M,1),z=re(I,1);for(I=re(I,2),M=re(M,2);!O(I);){var N=z.add(I);N.l(D)<=0&&(C=C.add(M),z=N),I=re(I,1),M=re(M,1)}return x=L(D,C.j(x)),new B(C,x)}for(C=_;D.l(x)>=0;){for(M=Math.max(1,Math.floor(D.m()/x.m())),I=Math.ceil(Math.log(M)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),z=p(M),N=z.j(x);P(N)||N.l(D)>0;)M-=I,z=p(M),N=z.j(x);O(z)&&(z=E),C=C.add(z),D=L(D,N)}return new B(C,D)}n.B=function(D){return X(this,D).h},n.and=function(D){const x=Math.max(this.g.length,D.g.length),M=[];for(let I=0;I<x;I++)M[I]=this.i(I)&D.i(I);return new c(M,this.h&D.h)},n.or=function(D){const x=Math.max(this.g.length,D.g.length),M=[];for(let I=0;I<x;I++)M[I]=this.i(I)|D.i(I);return new c(M,this.h|D.h)},n.xor=function(D){const x=Math.max(this.g.length,D.g.length),M=[];for(let I=0;I<x;I++)M[I]=this.i(I)^D.i(I);return new c(M,this.h^D.h)};function ee(D){const x=D.g.length+1,M=[];for(let I=0;I<x;I++)M[I]=D.i(I)<<1|D.i(I-1)>>>31;return new c(M,D.h)}function re(D,x){const M=x>>5;x%=32;const I=D.g.length-M,C=[];for(let z=0;z<I;z++)C[z]=x>0?D.i(z+M)>>>x|D.i(z+M+1)<<32-x:D.i(z+M);return new c(C,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Is=c}).apply(typeof _w<"u"?_w:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fS,Tu,mS,rh,hg,pS,gS,yS;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var b=0;b<d.length;++b){var T=d[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(d,b){if(b)e:{var T=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var Y=d[R];if(!(Y in T))break e;T=T[Y]}d=d[d.length-1],R=T[d],b=b(R),b!=R&&b!=null&&e(T,d,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(b){var T=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&T.push([R,b[R]]);return T}});var l=l||{},c=this||self;function f(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function h(d,b,T){return d.call.apply(d.bind,arguments)}function p(d,b,T){return p=h,p.apply(null,arguments)}function v(d,b){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function _(d,b){function T(){}T.prototype=b.prototype,d.Z=b.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(R,Y,Z){for(var pe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)pe[Oe-2]=arguments[Oe];return b.prototype[Y].apply(R,pe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const b=d.length;if(b>0){const T=Array(b);for(let R=0;R<b;R++)T[R]=d[R];return T}return[]}function O(d,b){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=d.length||0;const Z=Y.length||0;d.length=T+Z;for(let pe=0;pe<Z;pe++)d[T+pe]=Y[pe]}else d.push(Y)}}class P{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function k(d){c.setTimeout(()=>{throw d},0)}function L(){var d=D;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,T){const R=B.get();R.set(b,T),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new P(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,D=new U,x=()=>{const d=Promise.resolve(void 0);ee=()=>{d.then(M)}};function M(){for(var d;d=L();){try{d.h.call(d.g)}catch(T){k(T)}var b=B;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}re=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function de(d,b){C.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}_(de,C),de.prototype.init=function(d,b){const T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(T=="mouseover"?b=d.fromElement:T=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(d,b,T,R,Y){this.listener=d,this.proxy=null,this.src=b,this.type=T,this.capture=!!R,this.ha=Y,this.key=++q,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function le(d,b,T){for(const R in d)b.call(T,d[R],R,d)}function fe(d,b){for(const T in d)b.call(void 0,d[T],T,d)}function j(d){const b={};for(const T in d)b[T]=d[T];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(d,b){let T,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(T in R)d[T]=R[T];for(let Z=0;Z<ne.length;Z++)T=ne[Z],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,b,T,R,Y){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const pe=Ae(d,b,R,Y);return pe>-1?(b=d[pe],T||(b.fa=!1)):(b=new J(b,this.src,Z,!!R,Y),b.fa=T,d.push(b)),b};function be(d,b){const T=b.type;if(T in d.g){var R=d.g[T],Y=Array.prototype.indexOf.call(R,b,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(R,Y,1),Z&&($(b),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ae(d,b,T,R){for(let Y=0;Y<d.length;++Y){const Z=d[Y];if(!Z.da&&Z.listener==b&&Z.capture==!!T&&Z.ha==R)return Y}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),ot={};function qe(d,b,T,R,Y){if(Array.isArray(b)){for(let Z=0;Z<b.length;Z++)qe(d,b[Z],T,R,Y);return null}return T=ml(T),d&&d[ce]?d.J(b,T,f(R)?!!R.capture:!1,Y):yt(d,b,T,!1,R,Y)}function yt(d,b,T,R,Y,Z){if(!b)throw Error("Invalid event type");const pe=f(Y)?!!Y.capture:!!Y;let Oe=$s(d);if(Oe||(d[Ne]=Oe=new me(d)),T=Oe.add(b,T,R,pe,Z),T.proxy)return T;if(R=un(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)z||(Y=pe),Y===void 0&&(Y=!1),d.addEventListener(b.toString(),R,Y);else if(d.attachEvent)d.attachEvent(Ri(b.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function un(){function d(T){return b.call(d.src,d.listener,T)}const b=hl;return d}function qn(d,b,T,R,Y){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)qn(d,b[Z],T,R,Y);else R=f(R)?!!R.capture:!!R,T=ml(T),d&&d[ce]?(d=d.i,Z=String(b).toString(),Z in d.g&&(b=d.g[Z],T=Ae(b,T,R,Y),T>-1&&($(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete d.g[Z],d.h--)))):d&&(d=$s(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ae(b,T,R,Y)),(T=d>-1?b[d]:null)&&di(T))}function di(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[ce])be(b.i,d);else{var T=d.type,R=d.proxy;b.removeEventListener?b.removeEventListener(T,R,d.capture):b.detachEvent?b.detachEvent(Ri(T),R):b.addListener&&b.removeListener&&b.removeListener(R),(T=$s(b))?(be(T,d),T.h==0&&(T.src=null,b[Ne]=null)):$(d)}}}function Ri(d){return d in ot?ot[d]:ot[d]="on"+d}function hl(d,b){if(d.da)d=!0;else{b=new de(b,this);const T=d.listener,R=d.ha||d.src;d.fa&&di(d),d=T.call(R,b)}return d}function $s(d){return d=d[Ne],d instanceof me?d:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(d){return typeof d=="function"?d:(d[fl]||(d[fl]=function(b){return d.handleEvent(b)}),d[fl])}function At(){I.call(this),this.i=new me(this),this.M=this,this.G=null}_(At,I),At.prototype[ce]=!0,At.prototype.removeEventListener=function(d,b,T,R){qn(this,d,b,T,R)};function Ut(d,b){var T,R=d.G;if(R)for(T=[];R;R=R.G)T.push(R);if(d=d.M,R=b.type||b,typeof b=="string")b=new C(b,d);else if(b instanceof C)b.target=b.target||d;else{var Y=b;b=new C(R,d),he(b,Y)}Y=!0;let Z,pe;if(T)for(pe=T.length-1;pe>=0;pe--)Z=b.g=T[pe],Y=Fr(Z,R,!0,b)&&Y;if(Z=b.g=d,Y=Fr(Z,R,!0,b)&&Y,Y=Fr(Z,R,!1,b)&&Y,T)for(pe=0;pe<T.length;pe++)Z=b.g=T[pe],Y=Fr(Z,R,!1,b)&&Y}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const T=d.g[b];for(let R=0;R<T.length;R++)$(T[R]);delete d.g[b],d.h--}}this.G=null},At.prototype.J=function(d,b,T,R){return this.i.add(String(d),b,!1,T,R)},At.prototype.K=function(d,b,T,R){return this.i.add(String(d),b,!0,T,R)};function Fr(d,b,T,R){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let Z=0;Z<b.length;++Z){const pe=b[Z];if(pe&&!pe.da&&pe.capture==T){const Oe=pe.listener,Tt=pe.ha||pe.src;pe.fa&&be(d.i,pe),Y=Oe.call(Tt,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function wf(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(d,b||0)}function dc(d){d.g=wf(()=>{d.g=null,d.i&&(d.i=!1,dc(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class cn extends I{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:dc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(d){I.call(this),this.h=d,this.g={}}_(Ys,I);var pl=[];function gl(d){le(d.g,function(b,T){this.g.hasOwnProperty(T)&&di(b)},d),d.g={}}Ys.prototype.N=function(){Ys.Z.N.call(this),gl(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qr=c.JSON.stringify,Tf=c.JSON.parse,hc=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function fc(){}function mc(){}var hi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){C.call(this,"d")}_(Yt,C);function Hn(){C.call(this,"c")}_(Hn,C);var wt={},pc=null;function Ga(){return pc=pc||new At}wt.Ia="serverreachability";function gc(d){C.call(this,wt.Ia,d)}_(gc,C);function Ii(d){const b=Ga();Ut(b,new gc(b))}wt.STAT_EVENT="statevent";function Ks(d,b){C.call(this,wt.STAT_EVENT,d),this.stat=b}_(Ks,C);function Ct(d){const b=Ga();Ut(b,new Ks(b,d))}wt.Ja="timingevent";function Ni(d,b){C.call(this,wt.Ja,d),this.size=b}_(Ni,C);function Oi(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},b)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function Ef(d,b,T,R,Y,Z){d.info(function(){if(d.g)if(Z){var pe="",Oe=Z.split("&");for(let $e=0;$e<Oe.length;$e++){var Tt=Oe[$e].split("=");if(Tt.length>1){const ht=Tt[0];Tt=Tt[1];const Kn=ht.split("_");pe=Kn.length>=2&&Kn[1]=="type"?pe+(ht+"="+Tt+"&"):pe+(ht+"=redacted&")}}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+b+`
`+T+`
`+pe})}function yc(d,b,T,R,Y,Z,pe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+b+`
`+T+`
`+Z+" "+pe})}function Di(d,b,T,R){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Sf(d,T)+(R?" "+R:"")})}function Qs(d,b){d.info(function(){return"TIMEOUT: "+b})}fi.prototype.info=function(){};function Sf(d,b){if(!d.g)return b;if(!b)return null;try{const Z=JSON.parse(b);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var T=Z[d];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let pe=1;pe<R.length;pe++)R[pe]=""}}}}return qr(Z)}catch{return b}}var Xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function Ws(){}_(Ws,fc),Ws.prototype.g=function(){return new XMLHttpRequest},vl=new Ws;function lr(d){return encodeURIComponent(String(d))}function vc(d){var b=1;d=d.split(":");const T=[];for(;b>0&&d.length;)T.push(d.shift()),b--;return d.length&&T.push(d.join(":")),T}function mi(d,b,T,R){this.j=d,this.i=b,this.l=T,this.S=R||1,this.V=new Ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function Mi(d,b,T){d.M=1,d.A=Js(Nt(b)),d.u=T,d.R=!0,$a(d,null)}function $a(d,b){d.F=Date.now(),ki(d),d.B=Nt(d.A);var T=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),Xa(T.i,"t",R),d.C=0,T=d.j.L,d.h=new pi,d.g=Mc(d.j,T?b:null,!d.u),d.P>0&&(d.O=new cn(p(d.Y,d,d.g),d.P)),b=d.V,T=d.g,R=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(pl[0]=Y.toString()),Y=pl);for(let Z=0;Z<Y.length;Z++){const pe=qe(T,Y[Z],R||b.handleEvent,!1,b.h||b);if(!pe)break;b.g[pe.key]=pe}b=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Ii(),Ef(d.i,d.v,d.B,d.l,d.S,d.u)}mi.prototype.ba=function(d){d=d.target;const b=this.O;b&&vi(d)==3?b.j():this.Y(d)},mi.prototype.Y=function(d){try{if(d==this.g)e:{const Oe=vi(this.g),Tt=this.g.ya(),$e=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Oe!=4||Tt==7||(Tt==8||$e<=0?Ii(3):Ii(2)),Pi(this);var b=this.g.ca();this.X=b;var T=xf(this);if(this.o=b==200,yc(this.i,this.v,this.B,this.l,this.S,Oe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var Z=R;break t}}Z=null}if(d=Z)Di(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,d);else{this.o=!1,this.m=3,Ct(12),On(this),Gn(this);break e}}if(this.R){d=!0;let ht;for(;!this.K&&this.C<T.length;)if(ht=bc(this,T),ht==qt){Oe==4&&(this.m=4,Ct(14),d=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,Ct(15),Di(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Di(this.i,this.l,ht,null),Li(this,ht);if(_c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),d=!1),this.o=this.o&&d,!d)Di(this.i,this.l,T,"[Invalid Chunked Response]"),On(this),Gn(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ml(pe),pe.P=!0,Ct(11))}}else Di(this.i,this.l,T,null),Li(this,T);Oe==4&&On(this),this.o&&!this.K&&(Oe==4?Ic(this.j,this):(this.o=!1,ki(this)))}else cr(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),On(this),Gn(this)}}}catch{}finally{}};function xf(d){if(!_c(d))return d.g.la();const b=Kt(d.g);if(b==="")return"";let T="";const R=b.length,Y=vi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return On(d),Gn(d),"";d.h.i=new c.TextDecoder}for(let Z=0;Z<R;Z++)d.h.h=!0,T+=d.h.i.decode(b[Z],{stream:!(Y&&Z==R-1)});return b.length=0,d.h.g+=T,d.C=0,d.h.g}function _c(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function bc(d,b){var T=d.C,R=b.indexOf(`
`,T);return R==-1?qt:(T=Number(b.substring(T,R)),isNaN(T)?Rt:(R+=1,R+T>b.length?qt:(b=b.slice(R,R+T),d.C=R+T,b)))}mi.prototype.cancel=function(){this.K=!0,On(this)};function ki(d){d.T=Date.now()+d.H,Ya(d,d.H)}function Ya(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Oi(p(d.aa,d),b)}function Pi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}mi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Qs(this.i,this.B),this.M!=2&&(Ii(),Ct(17)),On(this),this.m=2,Gn(this)):Ya(this,this.T-d)};function Gn(d){d.j.I==0||d.K||Ic(d.j,d)}function On(d){Pi(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,gl(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Li(d,b){try{var T=d.j;if(T.I!=0&&(T.g==d||Vi(T.h,d))){if(!d.L&&Vi(T.h,d)&&T.I==3){try{var R=T.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)to(T),Wr(T);else break e;sa(T),Ct(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Oi(p(T.Va,T),6e3));ji(T.h)<=1&&T.ta&&(T.ta=void 0)}else Hi(T,11)}else if((d.L||T.g==d)&&to(T),!N(b))for(Y=T.Ba.g.parse(b),b=0;b<Y.length;b++){let $e=Y[b];const ht=$e[0];if(!(ht<=T.K))if(T.K=ht,$e=$e[1],T.I==2)if($e[0]=="c"){T.M=$e[1],T.ba=$e[2];const Kn=$e[3];Kn!=null&&(T.ka=Kn,T.j.info("VER="+T.ka));const Gi=$e[4];Gi!=null&&(T.za=Gi,T.j.info("SVER="+T.za));const _i=$e[5];_i!=null&&typeof _i=="number"&&_i>0&&(R=1.5*_i,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const bi=d.g;if(bi){const aa=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var Z=R.h;Z.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(wl(Z,Z.h),Z.h=null))}if(R.G){const no=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;no&&(R.wa=no,Xe(R.J,R.G,no))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var pe=d;if(R.na=Dc(R,R.L?R.ba:null,R.W),pe.L){Tl(R.h,pe);var Oe=pe,Tt=R.O;Tt&&(Oe.H=Tt),Oe.D&&(Pi(Oe),ki(Oe)),R.g=pe}else Cc(R);T.i.length>0&&qi(T)}else $e[0]!="stop"&&$e[0]!="close"||Hi(T,7);else T.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Hi(T,7):Ol(T):$e[0]!="noop"&&T.l&&T.l.qa($e),T.A=0)}}Ii(4)}catch{}}var It=class{constructor(d,b){this.g=d,this.map=b}};function _l(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ji(d){return d.h?1:d.g?d.g.size:0}function Vi(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function wl(d,b){d.g?d.g.add(b):d.h=b}function Tl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}_l.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function El(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const T of d.g.values())b=b.concat(T.G);return b}return S(d.i)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(d,b){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const R=d[T].indexOf("=");let Y,Z=null;R>=0?(Y=d[T].substring(0,R),Z=d[T].substring(R+1)):Y=d[T],b(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Dn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Dn?(this.l=d.l,Ht(this,d.j),this.o=d.o,this.g=d.g,Hr(this,d.u),this.h=d.h,Sl(this,xc(d.i)),this.m=d.m):d&&(b=String(d).match(wc))?(this.l=!1,Ht(this,b[1]||"",!0),this.o=Ui(b[2]||""),this.g=Ui(b[3]||"",!0),Hr(this,b[4]),this.h=Ui(b[5]||"",!0),Sl(this,b[6]||"",!0),this.m=Ui(b[7]||"")):(this.l=!1,this.i=new $r(null,this.l))}Dn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Zs(b,Qa,!0),":");var T=this.g;return(T||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Zs(b,Qa,!0),"@"),d.push(lr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Zs(T,T.charAt(0)=="/"?xl:Tc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Zs(T,Ec)),d.join("")},Dn.prototype.resolve=function(d){const b=Nt(this);let T=!!d.j;T?Ht(b,d.j):T=!!d.o,T?b.o=d.o:T=!!d.g,T?b.g=d.g:T=d.u!=null;var R=d.h;if(T)Hr(b,d.u);else if(T=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(R=b.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let pe=0;pe<Y.length;){const Oe=Y[pe++];Oe=="."?R&&pe==Y.length&&Z.push(""):Oe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),R&&pe==Y.length&&Z.push("")):(Z.push(Oe),R=!0)}R=Z.join("/")}else R=Y}return T?b.h=R:T=d.i.toString()!=="",T?Sl(b,xc(d.i)):T=!!d.m,T&&(b.m=d.m),b};function Nt(d){return new Dn(d)}function Ht(d,b,T){d.j=T?Ui(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Hr(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function Sl(d,b,T){b instanceof $r?(d.i=b,Wa(d.i,d.l)):(T||(b=Zs(b,Gr)),d.i=new $r(b,d.l))}function Xe(d,b,T){d.i.set(b,T)}function Js(d){return Xe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ui(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zs(d,b,T){return typeof d=="string"?(d=encodeURI(d).replace(b,vn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qa=/[#\/\?@]/g,Tc=/[#\?:]/g,xl=/[#\?]/g,Gr=/[#\?@]/g,Ec=/#/g;function $r(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&Ka(d.i,function(b,T){d.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=$r.prototype,n.add=function(d,b){_n(this),this.i=null,d=Yr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(b),this.h+=1,this};function Sc(d,b){_n(d),b=Yr(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Al(d,b){return _n(d),b=Yr(d,b),d.g.has(b)}n.forEach=function(d,b){_n(this),this.g.forEach(function(T,R){T.forEach(function(Y){d.call(b,Y,R,this)},this)},this)};function Cl(d,b){_n(d);let T=[];if(typeof b=="string")Al(d,b)&&(T=T.concat(d.g.get(Yr(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)T=T.concat(d[b]);return T}n.set=function(d,b){return _n(this),this.i=null,d=Yr(this,d),Al(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},n.get=function(d,b){return d?(d=Cl(this,d),d.length>0?String(d[0]):b):b};function Xa(d,b,T){Sc(d,b),T.length>0&&(d.i=null,d.g.set(Yr(d,b),S(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var T=b[R];const Y=lr(T);T=Cl(this,T);for(let Z=0;Z<T.length;Z++){let pe=Y;T[Z]!==""&&(pe+="="+lr(T[Z])),d.push(pe)}}return this.i=d.join("&")};function xc(d){const b=new $r;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Yr(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Wa(d,b){b&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(T,R){const Y=R.toLowerCase();R!=Y&&(Sc(this,R),Xa(this,Y,T))},d)),d.j=b}function gi(d,b){const T=new fi;if(c.Image){const R=new Image;R.onload=v($n,T,"TestLoadImage: loaded",!0,b,R),R.onerror=v($n,T,"TestLoadImage: error",!1,b,R),R.onabort=v($n,T,"TestLoadImage: abort",!1,b,R),R.ontimeout=v($n,T,"TestLoadImage: timeout",!1,b,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else b(!1)}function Rl(d,b){const T=new fi,R=new AbortController,Y=setTimeout(()=>{R.abort(),$n(T,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:R.signal}).then(Z=>{clearTimeout(Y),Z.ok?$n(T,"TestPingServer: ok",!0,b):$n(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),$n(T,"TestPingServer: error",!1,b)})}function $n(d,b,T,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(T)}catch{}}function Kr(){this.g=new hc}function zi(d){this.i=d.Sb||null,this.h=d.ab||!1}_(zi,fc),zi.prototype.g=function(){return new ea(this.i,this.h)};function ea(d,b){At.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ea,At),n=ea.prototype,n.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,yi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ja(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ja(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Qr(this):yi(this),this.readyState==3&&Ja(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Qr(this))},n.Na=function(d){this.g&&(this.response=d,Qr(this))},n.ga=function(){this.g&&Qr(this)};function Qr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,yi(d)}n.setRequestHeader=function(d,b){this.A.append(d,b)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=b.next();return d.join(`\r
`)};function yi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Yn(d){let b="";return le(d,function(T,R){b+=R,b+=":",b+=T,b+=`\r
`}),b}function ta(d,b,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Yn(T),typeof d=="string"?T!=null&&lr(T):Xe(d,b,T))}function Ze(d){At.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,At);var Bi=/^https?$/i,Il=["POST","PUT"];n=Ze.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,b,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(Z){na(this,Z);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)T.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())T.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Il,b,void 0)>=0)||R||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of T)this.g.setRequestHeader(Z,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){na(this,Z)}};function na(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,Nl(d),ur(d)}function Nl(d){d.A||(d.A=!0,Ut(d,"complete"),Ut(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ut(this,"complete"),Ut(this,"abort"),ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),Ze.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},n.Xa=function(){ia(this)};function ia(d){if(d.h&&typeof l<"u"){if(d.v&&vi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ut(d,"readystatechange"),vi(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var R;if(R=Z===0){let pe=String(d.D).match(wc)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),R=!Bi.test(pe?pe.toLowerCase():"")}T=R}if(T)Ut(d,"complete"),Ut(d,"success");else{d.o=6;try{var Y=vi(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Nl(d)}}finally{ur(d)}}}}function ur(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,b||Ut(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Tf(b)}};function Kt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cr(d){const b={};d=(d.g&&vi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(N(d[R]))continue;var T=vc(d[R]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=b[Y]||[];b[Y]=Z,Z.push(T)}fe(b,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(d,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||b}function Xr(d){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,d),this.Za=Fi("retryDelaySeedMs",1e4,d),this.Ta=Fi("forwardChannelMaxRetries",2,d),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(d&&d.concurrentRequestLimit),this.Ba=new Kr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xr.prototype,n.ka=8,n.I=1,n.connect=function(d,b,T,R){Ct(0),this.W=d,this.H=b||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Dc(this,null,this.W),qi(this)};function Ol(d){if(Za(d),d.I==3){var b=d.V++,T=Nt(d.J);if(Xe(T,"SID",d.M),Xe(T,"RID",b),Xe(T,"TYPE","terminate"),ra(d,T),b=new mi(d,d.j,b),b.M=2,b.A=Js(Nt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=Mc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ki(b)}Oc(d)}function Wr(d){d.g&&(Ml(d),d.g.cancel(),d.g=null)}function Za(d){Wr(d),d.v&&(c.clearTimeout(d.v),d.v=null),to(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function qi(d){if(!bl(d.h)&&!d.m){d.m=!0;var b=d.Ea;ee||x(),re||(ee(),re=!0),D.add(b,d),d.D=0}}function eo(d,b){return ji(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Oi(p(d.Ea,d,b),Nc(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new mi(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=j(Z),he(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Ac(this,Y,b),T=Nt(this.J),Xe(T,"RID",d),Xe(T,"CVER",22),this.G&&Xe(T,"X-HTTP-Session-Id",this.G),ra(this,T),Z&&(this.R?b="headers="+lr(Yn(Z))+"&"+b:this.u&&ta(T,this.u,Z)),wl(this.h,Y),this.Ra&&Xe(T,"TYPE","init"),this.S?(Xe(T,"$req",b),Xe(T,"SID","null"),Y.U=!0,Mi(Y,T,null)):Mi(Y,T,b),this.I=2}}else this.I==3&&(d?Dl(this,d):this.i.length==0||bl(this.h)||Dl(this))};function Dl(d,b){var T;b?T=b.l:T=d.V++;const R=Nt(d.J);Xe(R,"SID",d.M),Xe(R,"RID",T),Xe(R,"AID",d.K),ra(d,R),d.u&&d.o&&ta(R,d.u,d.o),T=new mi(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Ac(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),wl(d.h,T),Mi(T,R,b)}function ra(d,b){d.H&&le(d.H,function(T,R){Xe(b,R,T)}),d.l&&le({},function(T,R){Xe(b,R,T)})}function Ac(d,b,T){T=Math.min(d.i.length,T);const R=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Oe=-1;for(;;){const Tt=["count="+T];Oe==-1?T>0?(Oe=Y[0].g,Tt.push("ofs="+Oe)):Oe=0:Tt.push("ofs="+Oe);let $e=!0;for(let ht=0;ht<T;ht++){var Z=Y[ht].g;const Kn=Y[ht].map;if(Z-=Oe,Z<0)Oe=Math.max(0,Y[ht].g-100),$e=!1;else try{Z="req"+Z+"_"||"";try{var pe=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Gi,_i]of pe){let bi=_i;f(_i)&&(bi=qr(_i)),Tt.push(Z+Gi+"="+encodeURIComponent(bi))}}catch(Gi){throw Tt.push(Z+"type="+encodeURIComponent("_badmap")),Gi}}catch{R&&R(Kn)}}if($e){pe=Tt.join("&");break e}}pe=void 0}return d=d.i.splice(0,T),b.G=d,pe}function Cc(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;ee||x(),re||(ee(),re=!0),D.add(b,d),d.A=0}}function sa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Oi(p(d.Da,d),Nc(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Oi(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Wr(this),Rc(this))};function Ml(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Rc(d){d.g=new mi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=Nt(d.na);Xe(b,"RID","rpc"),Xe(b,"SID",d.M),Xe(b,"AID",d.K),Xe(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xe(b,"TO",d.ia),Xe(b,"TYPE","xmlhttp"),ra(d,b),d.u&&d.o&&ta(b,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=Js(Nt(b)),T.u=null,T.R=!0,$a(T,d)}n.Va=function(){this.C!=null&&(this.C=null,Wr(this),sa(this),Ct(19))};function to(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ic(d,b){var T=null;if(d.g==b){to(d),Ml(d),d.g=null;var R=2}else if(Vi(d.h,b))T=b.G,Tl(d.h,b),R=1;else return;if(d.I!=0){if(b.o)if(R==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var Y=d.D;R=Ga(),Ut(R,new Ni(R,T)),qi(d)}else Cc(d);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(R==1&&eo(d,b)||R==2&&sa(d)))switch(T&&T.length>0&&(b=d.h,b.i=b.i.concat(T)),Y){case 1:Hi(d,5);break;case 4:Hi(d,10);break;case 3:Hi(d,6);break;default:Hi(d,2)}}}function Nc(d,b){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*b}function Hi(d,b){if(d.j.info("Error code "+b),b==2){var T=p(d.bb,d),R=d.Ua;const Y=!R;R=new Dn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ht(R,"https"),Js(R),Y?gi(R.toString(),T):Rl(R.toString(),T)}else Ct(2);d.I=0,d.l&&d.l.pa(b),Oc(d),Za(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Oc(d){if(d.I=0,d.ja=[],d.l){const b=El(d.h);(b.length!=0||d.i.length!=0)&&(O(d.ja,b),O(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function Dc(d,b,T){var R=T instanceof Dn?Nt(T):new Dn(T);if(R.g!="")b&&(R.g=b+"."+R.g),Hr(R,R.u);else{var Y=c.location;R=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Dn(null);R&&Ht(Z,R),b&&(Z.g=b),Y&&Hr(Z,Y),T&&(Z.h=T),R=Z}return T=d.G,b=d.wa,T&&b&&Xe(R,T,b),Xe(R,"VER",d.ka),ra(d,R),R}function Mc(d,b,T){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new Ze(new zi({ab:T})):new Ze(d.ma),b.Fa(d.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}n=kc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Jr(){}Jr.prototype.g=function(d,b){return new dn(d,b)};function dn(d,b){At.call(this),this.g=new Xr(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!N(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new dr(this)}_(dn,At),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ol(this.g)},dn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=qr(d),d=T);b.i.push(new It(b.Ya++,d)),b.I==3&&qi(b)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,dn.Z.N.call(this)};function Pc(d){Yt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const T in b){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}_(Pc,Yt);function Lc(){Hn.call(this),this.status=1}_(Lc,Hn);function dr(d){this.g=d}_(dr,kc),dr.prototype.ra=function(){Ut(this.g,"a")},dr.prototype.qa=function(d){Ut(this.g,new Pc(d))},dr.prototype.pa=function(d){Ut(this.g,new Lc)},dr.prototype.oa=function(){Ut(this.g,"b")},Jr.prototype.createWebChannel=Jr.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,yS=function(){return new Jr},gS=function(){return Ga()},pS=wt,hg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,rh=Xs,yl.COMPLETE="complete",mS=yl,mc.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",At.prototype.listen=At.prototype.J,Tu=mc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,fS=Ze}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});const bw="@firebase/firestore",ww="4.9.2";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let al="12.3.0";const Da=new Hh("@firebase/firestore");function Po(){return Da.logLevel}function ye(n,...e){if(Da.logLevel<=Ve.DEBUG){const t=e.map(oy);Da.debug(`Firestore (${al}): ${n}`,...t)}}function Vr(n,...e){if(Da.logLevel<=Ve.ERROR){const t=e.map(oy);Da.error(`Firestore (${al}): ${n}`,...t)}}function Xo(n,...e){if(Da.logLevel<=Ve.WARN){const t=e.map(oy);Da.warn(`Firestore (${al}): ${n}`,...t)}}function oy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function xe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vS(n,r,t)}function vS(n,e,t){let r=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vr(r),new Error(r)}function Qe(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||vS(e,a,r)}function Ie(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ns{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class _S{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class HD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let l=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ns,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},f=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ns)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new _S(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class $D{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new $D(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const r=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=QD(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function fg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return kp(a)===kp(l)?Ue(a,l):kp(a)?1:-1}return Ue(n.length,e.length)}const XD=55296,WD=57343;function kp(n){const e=n.charCodeAt(0);return e>=XD&&e<=WD}function Wo(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const Ew="__name__";class Xi{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Xi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const r=Xi.isNumericId(e),a=Xi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Xi.extractNumericId(e).compare(Xi.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class rt extends Xi{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Xi{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return JD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ew}static keyField(){return new en([Ew])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(rt.fromString(e))}static fromName(e){return new Te(rt.fromString(e).popFirst(5))}static empty(){return new Te(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new rt(e.slice()))}}function bS(n,e,t){if(!t)throw new ge(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZD(n,e,t,r){if(e===!0&&r===!0)throw new ge(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Sw(n){if(!Te.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xw(n){if(Te.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function ri(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kh(n);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jt(n,e){const t={typeString:n};return e&&(t.value=e),t}function tc(n,e){if(!wS(n))throw new ge(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ge(ae.INVALID_ARGUMENT,t);return!0}const Aw=-62135596800,Cw=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Cw);return new ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Aw)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cw}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Aw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:jt("string",ct._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ct(0,0))}static max(){return new Ce(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vu=-1;function eM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new Ms(a,Te.empty(),e)}function tM(n){return new Ms(n.readTime,n.key,Vu)}class Ms{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ms(Ce.min(),Te.empty(),Vu)}static max(){return new Ms(Ce.max(),Te.empty(),Vu)}}function nM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}const iM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==iM)throw n;ye("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,r)=>{t(e)}))}static reject(e){return new ue(((t,r)=>{r(e)}))}static waitFor(e){return new ue(((t,r)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(h=>r(h)))})),c=!0,l===a&&t()}))}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next((a=>a?ue.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ue(((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const p=h;t(e[p]).next((v=>{c[p]=v,++f,f===l&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ue(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function sM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ll(n){return n.name==="IndexedDbTransactionError"}class Qh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const uy=-1;function Xh(n){return n==null}function Sh(n){return n===0&&1/n==-1/0}function aM(n){return typeof n=="number"&&Number.isInteger(n)&&!Sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const TS="";function oM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rw(e)),e=lM(n.get(t),e);return Rw(e)}function lM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case TS:t+="";break;default:t+=l}}return t}function Rw(n){return n+TS+""}function Iw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ES(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qd(this.root,e,this.comparator,!0)}}class qd{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Zt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new Ft(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class SS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new SS("Invalid base64 string: "+l):l}})(e);return new tn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const uM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=uM.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ps(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const xS="server_timestamp",AS="__type__",CS="__previous_value__",RS="__local_write_time__";function cy(n){return(n?.mapValue?.fields||{})[AS]?.stringValue===xS}function Wh(n){const e=n.mapValue.fields[CS];return cy(e)?Wh(e):e}function Uu(n){const e=ks(n.mapValue.fields[RS].timestampValue);return new ct(e.seconds,e.nanos)}class cM{constructor(e,t,r,a,l,c,f,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=v}}const xh="(default)";class zu{constructor(e,t){this.projectId=e,this.database=t||xh}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}const IS="__type__",dM="__max__",Hd={mapValue:{}},NS="__vector__",Ah="value";function Ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cy(n)?4:fM(n)?9007199254740991:hM(n)?10:11:xe(28295,{value:n})}function rr(n,e){if(n===e)return!0;const t=Ls(n);if(t!==Ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Uu(n).isEqual(Uu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ks(a.timestampValue),f=ks(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Ps(a.bytesValue).isEqual(Ps(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return xt(a.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return xt(a.integerValue)===xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=xt(a.doubleValue),f=xt(l.doubleValue);return c===f?Sh(c)===Sh(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Iw(c)!==Iw(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!rr(c[h],f[h])))return!1;return!0})(n,e);default:return xe(52216,{left:n})}}function Bu(n,e){return(n.values||[]).find((t=>rr(t,e)))!==void 0}function Jo(n,e){if(n===e)return 0;const t=Ls(n),r=Ls(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=xt(l.integerValue||l.doubleValue),h=xt(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return Ow(n.timestampValue,e.timestampValue);case 4:return Ow(Uu(n),Uu(e));case 5:return fg(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ps(l),h=Ps(c);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),h=c.split("/");for(let p=0;p<f.length&&p<h.length;p++){const v=Ue(f[p],h[p]);if(v!==0)return v}return Ue(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ue(xt(l.latitude),xt(c.latitude));return f!==0?f:Ue(xt(l.longitude),xt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Dw(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},h=c.fields||{},p=f[Ah]?.arrayValue,v=h[Ah]?.arrayValue,_=Ue(p?.values?.length||0,v?.values?.length||0);return _!==0?_:Dw(p,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Hd.mapValue&&c===Hd.mapValue)return 0;if(l===Hd.mapValue)return 1;if(c===Hd.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),p=c.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let _=0;_<h.length&&_<v.length;++_){const E=fg(h[_],v[_]);if(E!==0)return E;const S=Jo(f[h[_]],p[v[_]]);if(S!==0)return S}return Ue(h.length,v.length)})(n.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function Ow(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=ks(n),r=ks(e),a=Ue(t.seconds,r.seconds);return a!==0?a:Ue(t.nanos,r.nanos)}function Dw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Jo(t[a],r[a]);if(l)return l}return Ue(t.length,r.length)}function Zo(n){return mg(n)}function mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ks(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ps(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Te.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=mg(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${mg(t.fields[c])}`;return a+"}"})(n.mapValue):xe(61005,{value:n})}function sh(n){switch(Ls(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(n);return e?16+sh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+sh(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Hs(r.fields,((l,c)=>{a+=l.length+sh(c)})),a})(n.mapValue);default:throw xe(13486,{value:n})}}function Mw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function dy(n){return!!n&&"arrayValue"in n}function kw(n){return!!n&&"nullValue"in n}function Pw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ah(n){return!!n&&"mapValue"in n}function hM(n){return(n?.mapValue?.fields||{})[IS]?.stringValue===NS}function Ru(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Hs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ru(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ru(n.arrayValue.values[t]);return e}return{...n}}function fM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dM}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(t)}setAll(e){let t=en.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=Ru(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ah(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Hs(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new In(Ru(this.value))}}function OS(n){const e=[];return Hs(n.fields,((t,r)=>{const a=new en([t]);if(ah(r)){const l=OS(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Bn(e)}class an{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new an(e,0,Ce.min(),Ce.min(),Ce.min(),In.empty(),0)}static newFoundDocument(e,t,r,a){return new an(e,1,t,Ce.min(),r,a,0)}static newNoDocument(e,t){return new an(e,2,t,Ce.min(),Ce.min(),In.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ce.min(),Ce.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,t){this.position=e,this.inclusive=t}}function Lw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=Te.comparator(Te.fromName(c.referenceValue),t.key):r=Jo(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function jw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rr(n.position[t],e.position[t]))return!1;return!0}class Fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function mM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class DS{}class Lt extends DS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gM(e,t,r):t==="array-contains"?new _M(e,r):t==="in"?new bM(e,r):t==="not-in"?new wM(e,r):t==="array-contains-any"?new TM(e,r):new Lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new yM(e,r):new vM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jo(t,this.value)):t!==null&&Ls(this.value)===Ls(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends DS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ci(e,t)}matches(e){return MS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MS(n){return n.op==="and"}function kS(n){return pM(n)&&MS(n)}function pM(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function gg(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+Zo(n.value);if(kS(n))return n.filters.map((e=>gg(e))).join(",");{const e=n.filters.map((t=>gg(t))).join(",");return`${n.op}(${e})`}}function PS(n,e){return n instanceof Lt?(function(r,a){return a instanceof Lt&&r.op===a.op&&r.field.isEqual(a.field)&&rr(r.value,a.value)})(n,e):n instanceof Ci?(function(r,a){return a instanceof Ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&PS(c,a.filters[f])),!0):!1})(n,e):void xe(19439)}function LS(n){return n instanceof Lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`})(n):n instanceof Ci?(function(t){return t.op.toString()+" {"+t.getFilters().map(LS).join(" ,")+"}"})(n):"Filter"}class gM extends Lt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class yM extends Lt{constructor(e,t){super(e,"in",t),this.keys=jS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vM extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=jS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jS(n,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class _M extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dy(t)&&Bu(t.arrayValue,this.value)}}class bM extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bu(this.value.arrayValue,t)}}class wM extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bu(this.value.arrayValue,t)}}class TM extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Bu(this.value.arrayValue,r)))}}class EM{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Vw(n,e=null,t=[],r=[],a=null,l=null,c=null){return new EM(n,e,t,r,a,l,c)}function hy(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>gg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Zo(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Zo(r))).join(",")),e.Te=t}return e.Te}function fy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jw(n.startAt,e.startAt)&&jw(n.endAt,e.endAt)}function yg(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ul{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SM(n,e,t,r,a,l,c,f){return new ul(n,e,t,r,a,l,c,f)}function Jh(n){return new ul(n)}function Uw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VS(n){return n.collectionGroup!==null}function Iu(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ft(en.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Fu(l,r))})),t.has(en.keyField().canonicalString())||e.Ie.push(new Fu(en.keyField(),r))}return e.Ie}function er(n){const e=Ie(n);return e.Ee||(e.Ee=xM(e,Iu(n))),e.Ee}function xM(n,e){if(n.limitType==="F")return Vw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Fu(a.field,l)}));const t=n.endAt?new Ch(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ch(n.startAt.position,n.startAt.inclusive):null;return Vw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vg(n,e){const t=n.filters.concat([e]);return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _g(n,e,t){return new ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zh(n,e){return fy(er(n),er(e))&&n.limitType===e.limitType}function US(n){return`${hy(er(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>LS(a))).join(", ")}]`),Xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Zo(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Zo(a))).join(",")),`Target(${r})`})(er(n))}; limitType=${n.limitType})`}function ef(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Te.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Iu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,h){const p=Lw(c,f,h);return c.inclusive?p<=0:p<0})(r.startAt,Iu(r),a)||r.endAt&&!(function(c,f,h){const p=Lw(c,f,h);return c.inclusive?p>=0:p>0})(r.endAt,Iu(r),a))})(n,e)}function AM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zS(n){return(e,t)=>{let r=!1;for(const a of Iu(n)){const l=CM(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function CM(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,c,f){const h=c.data.field(l),p=f.data.field(l);return h!==null&&p!==null?Jo(h,p):xe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:n.dir})}}class Ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return ES(this.inner)}size(){return this.innerSize}}const RM=new pt(Te.comparator);function Ur(){return RM}const BS=new pt(Te.comparator);function Eu(...n){let e=BS;for(const t of n)e=e.insert(t.key,t);return e}function FS(n){let e=BS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Sa(){return Nu()}function qS(){return Nu()}function Nu(){return new Ba((n=>n.toString()),((n,e)=>n.isEqual(e)))}const IM=new pt(Te.comparator),NM=new Ft(Te.comparator);function ze(...n){let e=NM;for(const t of n)e=e.add(t);return e}const OM=new Ft(Ue);function DM(){return OM}function my(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function HS(n){return{integerValue:""+n}}function MM(n,e){return aM(e)?HS(e):my(n,e)}class tf{constructor(){this._=void 0}}function kM(n,e,t){return n instanceof qu?(function(a,l){const c={fields:{[AS]:{stringValue:xS},[RS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&cy(l)&&(l=Wh(l)),l&&(c.fields[CS]=l),{mapValue:c}})(t,e):n instanceof Hu?$S(n,e):n instanceof Gu?YS(n,e):(function(a,l){const c=GS(a,l),f=zw(c)+zw(a.Ae);return pg(c)&&pg(a.Ae)?HS(f):my(a.serializer,f)})(n,e)}function PM(n,e,t){return n instanceof Hu?$S(n,e):n instanceof Gu?YS(n,e):t}function GS(n,e){return n instanceof Rh?(function(r){return pg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class qu extends tf{}class Hu extends tf{constructor(e){super(),this.elements=e}}function $S(n,e){const t=KS(e);for(const r of n.elements)t.some((a=>rr(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Gu extends tf{constructor(e){super(),this.elements=e}}function YS(n,e){let t=KS(e);for(const r of n.elements)t=t.filter((a=>!rr(a,r)));return{arrayValue:{values:t}}}class Rh extends tf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zw(n){return xt(n.integerValue||n.doubleValue)}function KS(n){return dy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class LM{constructor(e,t){this.field=e,this.transform=t}}function jM(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Hu&&a instanceof Hu||r instanceof Gu&&a instanceof Gu?Wo(r.elements,a.elements,rr):r instanceof Rh&&a instanceof Rh?rr(r.Ae,a.Ae):r instanceof qu&&a instanceof qu})(n.transform,e.transform)}class VM{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nf{}function QS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new py(n.key,si.none()):new nc(n.key,n.data,si.none());{const t=n.data,r=In.empty();let a=new Ft(en.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Gs(n.key,r,new Bn(a.toArray()),si.none())}}function UM(n,e,t){n instanceof nc?(function(a,l,c){const f=a.value.clone(),h=Fw(a.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Gs?(function(a,l,c){if(!oh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Fw(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(XS(a)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ou(n,e,t,r){return n instanceof nc?(function(l,c,f,h){if(!oh(l.precondition,c))return f;const p=l.value.clone(),v=qw(l.fieldTransforms,h,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Gs?(function(l,c,f,h){if(!oh(l.precondition,c))return f;const p=qw(l.fieldTransforms,h,c),v=c.data;return v.setAll(XS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(l,c,f){return oh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function zM(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=GS(r.transform,a||null);l!=null&&(t===null&&(t=In.empty()),t.set(r.field,l))}return t||null}function Bw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Wo(r,a,((l,c)=>jM(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class nc extends nf{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gs extends nf{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function XS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Fw(n,e,t){const r=new Map;Qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,PM(c,f,t[a]))}return r}function qw(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,kM(l,c,e))}return r}class py extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BM extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FM{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&UM(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ou(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ou(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const h=QS(c,f);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((t,r)=>Bw(t,r)))&&Wo(this.baseMutations,e.baseMutations,((t,r)=>Bw(t,r)))}}class gy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return IM})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new gy(e,t,r,a)}}class qM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HM{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pt,Fe;function GM(n){switch(n){case ae.OK:return xe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function WS(n){if(n===void 0)return Vr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Pt.OK:return ae.OK;case Pt.CANCELLED:return ae.CANCELLED;case Pt.UNKNOWN:return ae.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ae.INTERNAL;case Pt.UNAVAILABLE:return ae.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ae.NOT_FOUND;case Pt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Pt.ABORTED:return ae.ABORTED;case Pt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Pt.DATA_LOSS:return ae.DATA_LOSS;default:return xe(39323,{code:n})}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function $M(){return new TextEncoder}const YM=new Is([4294967295,4294967295],0);function Hw(n){const e=$M().encode(n),t=new hS;return t.update(e),new Uint8Array(t.digest())}function Gw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Is([t,r],0),new Is([a,l],0)]}class yy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Su(`Invalid padding: ${t}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Su(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Is.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Is.fromNumber(r)));return a.compare(YM)===1&&(a=new Is([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Hw(e),[r,a]=Gw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new yy(l,a,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=Hw(e),[r,a]=Gw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rf(Ce.min(),a,new pt(Ue),Ur(),ze())}}class ic{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ic(r,t,ze(),ze(),ze())}}class lh{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class JS{constructor(e,t){this.targetId=e,this.Ce=t}}class ZS{constructor(e,t,r=tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class $w{constructor(){this.ve=0,this.Fe=Yw(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:l})}})),new ic(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Yw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=Gd(),this.He=Gd(),this.Ye=new pt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(yg(l))if(r===0){const c=new Te(l.path);this.et(t,c,an.newNoDocument(c,Ce.min()))}else Qe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Ps(r).toUint8Array()}catch(h){if(h instanceof SS)return Xo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new yy(c,a,l)}catch(h){return Xo(h instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&yg(f.target)){const h=new Te(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,an.newNoDocument(h,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=ze();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new rf(e,t,this.Ye,this.je,r);return this.je=Ur(),this.Je=Gd(),this.He=Gd(),this.Ye=new pt(Ue),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new $w,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $w),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Gd(){return new pt(Te.comparator)}function Yw(){return new pt(Te.comparator)}const QM={asc:"ASCENDING",desc:"DESCENDING"},XM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WM={and:"AND",or:"OR"};class JM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bg(n,e){return n.useProto3Json||Xh(e)?e:{value:e}}function Ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ex(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZM(n,e){return Ih(n,e.toTimestamp())}function tr(n){return Qe(!!n,49232),Ce.fromTimestamp((function(t){const r=ks(t);return new ct(r.seconds,r.nanos)})(n))}function vy(n,e){return wg(n,e).canonicalString()}function wg(n,e){const t=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function tx(n){const e=rt.fromString(n);return Qe(ax(e),10190,{key:e.toString()}),e}function Tg(n,e){return vy(n.databaseId,e.path)}function Pp(n,e){const t=tx(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(ix(t))}function nx(n,e){return vy(n.databaseId,e)}function ek(n){const e=tx(n);return e.length===4?rt.emptyPath():ix(e)}function Eg(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ix(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Kw(n,e,t){return{name:Tg(n,e),fields:t.value.mapValue.fields}}function tk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ae.UNKNOWN:WS(p.code);return new ge(v,p.message||"")})(c);t=new ZS(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Pp(n,r.document.name),l=tr(r.document.updateTime),c=r.document.createTime?tr(r.document.createTime):Ce.min(),f=new In({mapValue:{fields:r.document.fields}}),h=an.newFoundDocument(a,l,c,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new lh(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Pp(n,r.document),l=r.readTime?tr(r.readTime):Ce.min(),c=an.newNoDocument(a,l),f=r.removedTargetIds||[];t=new lh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Pp(n,r.document),l=r.removedTargetIds||[];t=new lh([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new HM(a,l),f=r.targetId;t=new JS(f,c)}}return t}function nk(n,e){let t;if(e instanceof nc)t={update:Kw(n,e.key,e.value)};else if(e instanceof py)t={delete:Tg(n,e.key)};else if(e instanceof Gs)t={update:Kw(n,e.key,e.data),updateMask:dk(e.fieldMask)};else{if(!(e instanceof BM))return xe(16599,{Vt:e.type});t={verify:Tg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof qu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Rh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ZM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(n,e.precondition)),t}function ik(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?tr(a.updateTime):tr(l);return c.isEqual(Ce.min())&&(c=tr(l)),new VM(c,a.transformResults||[])})(t,e)))):[]}function rk(n,e){return{documents:[nx(n,e.path)]}}function sk(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nx(n,a);const l=(function(p){if(p.length!==0)return sx(Ci.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(E){return{field:jo(E.field),direction:lk(E.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=bg(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function ak(n){let e=ek(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Qe(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(_){const E=rx(_);return E instanceof Ci&&kS(E)?E.getFilters():[E]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((E=>(function(O){return new Fu(Vo(O.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(E)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let E;return E=typeof _=="object"?_.value:_,Xh(E)?null:E})(t.limit));let h=null;t.startAt&&(h=(function(_){const E=!!_.before,S=_.values||[];return new Ch(S,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(_){const E=!_.before,S=_.values||[];return new Ch(S,E)})(t.endAt)),SM(e,a,c,l,f,"F",h,p)}function ok(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Vo(t.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(t.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(t.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Lt.create(Vo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ci.create(t.compositeFilter.filters.map((r=>rx(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(n):xe(30097,{filter:n})}function lk(n){return QM[n]}function uk(n){return XM[n]}function ck(n){return WM[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Vo(n){return en.fromServerFormat(n.fieldPath)}function sx(n){return n instanceof Lt?(function(t){if(t.op==="=="){if(Pw(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(kw(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Pw(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(kw(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:uk(t.op),value:t.value}}})(n):n instanceof Ci?(function(t){const r=t.getFilters().map((a=>sx(a)));return r.length===1?r[0]:{compositeFilter:{op:ck(t.op),filters:r}}})(n):xe(54877,{filter:n})}function dk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ax(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class xs{constructor(e,t,r,a,l=Ce.min(),c=Ce.min(),f=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hk{constructor(e){this.yt=e}}function fk(n){const e=ak({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_g(e,e.limit,"L"):e}class mk{constructor(){this.Cn=new pk}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ms.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class pk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ft(rt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ft(rt.comparator)).toArray()}}const Qw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ox=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(ox,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Xw="LruGarbageCollector",gk=1048576;function Ww([n,e],[t,r]){const a=Ue(n,t);return a===0?Ue(e,r):a}class yk{constructor(e){this.Ir=e,this.buffer=new Ft(Ww),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ww(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Xw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ll(t)?ye(Xw,"Ignoring IndexedDB error during garbage collection: ",t):await ol(t)}await this.Vr(3e5)}))}}class _k{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Qh.ce);const r=new yk(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Qw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,f,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,f=Date.now(),this.removeTargets(e,r,t)))).next((_=>(l=_,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),Po()<=Ve.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function bk(n,e){return new _k(n,e)}class wk{constructor(){this.changes=new Ba((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ek{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Ou(r.mutation,a,Bn.empty(),ct.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const a=Sa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Eu();return l.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Sa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,a){let l=Ur();const c=Nu(),f=(function(){return Nu()})();return t.forEach(((h,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Gs)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Ou(v.mutation,p,v.mutation.getFieldMask(),ct.now())):c.set(p.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((p,v)=>c.set(p,v))),t.forEach(((p,v)=>f.set(p,new Tk(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=Nu();let a=new pt(((c,f)=>c-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let v=r.get(h)||Bn.empty();v=f.applyToLocalView(p,v),r.set(h,v);const _=(a.get(f.batchId)||ze()).add(h);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,v=h.value,_=qS();v.forEach((E=>{if(!l.has(E)){const S=QS(t.get(E),r.get(E));S!==null&&_.set(E,S),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ue.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ue.resolve(Sa());let f=Vu,h=l;return c.next((p=>ue.forEach(p,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{h=h.insert(v,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,h,p,ze()))).next((v=>({batchId:f,changes:FS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((r=>{let a=Eu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Eu();return this.indexManager.getCollectionParents(e,l).next((f=>ue.forEach(f,(h=>{const p=(function(_,E){return new ul(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((h,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,an.newInvalidDocument(v)))}));let f=Eu();return c.forEach(((h,p)=>{const v=l.get(h);v!==void 0&&Ou(v.mutation,p,Bn.empty(),ct.now()),ef(t,p)&&(f=f.insert(h,p))})),f}))}}class Sk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:tr(a.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:fk(a.bundledQuery),readTime:tr(a.readTime)}})(t)),ue.resolve()}}class xk{constructor(){this.overlays=new pt(Te.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Sa();return ue.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const a=Sa(),l=t.length+1,c=new Te(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>r&&a.set(h.getKey(),h)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new pt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=Sa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Sa(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return ue.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new qM(t,r));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class Ak{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}class _y{constructor(){this.Qr=new Ft($t.$r),this.Ur=new Ft($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new $t(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new $t(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Te(new rt([])),r=new $t(t,e),a=new $t(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new rt([])),r=new $t(t,e),a=new $t(t,e+1);let l=ze();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new $t(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}class Ck{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft($t.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new FM(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?uy:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),a=new $t(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Ue);return t.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Te.isDocumentKey(l)||(l=l.child(""));const c=new $t(new Te(l),0);let f=new Ft(Ue);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(h.Yr)),!0)}),c),ue.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ue.forEach(t.mutations,(a=>{const l=new $t(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new $t(t,0),a=this.Zr.firstAfterOrEqual(r);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Rk{constructor(e){this.ri=e,this.docs=(function(){return new pt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=Ur();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))})),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Ur();const c=t.path,f=new Te(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||nM(tM(v),r)<=0||(a.has(v.key)||ef(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,r,a){xe(9500)}ii(e,t){return ue.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Ik(this)}getSize(e){return ue.resolve(this.size)}}class Ik extends wk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Nk{constructor(e){this.persistence=e,this.si=new Ba((t=>hy(t)),fy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new _y,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new el(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}class lx{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new Ak,this.referenceDelegate=e(this),this.Pi=new Nk(this),this.indexManager=new mk,this.remoteDocumentCache=(function(a){return new Rk(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hk(t),this.Ii=new Sk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Ck(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const a=new Ok(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class Ok extends rM{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Ri=new _y,this.Vi=null}static mi(e){return new by(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(r=>{const a=Te.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nh{constructor(e,t){this.persistence=e,this.pi=new Ba((r=>oM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=bk(this,t)}static mi(e,t){return new Nh(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ue.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,l.removeEntry(c,Ce.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sh(e.data.value)),t}br(e,t,r){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new wy(e,t.fromCache,r,a)}}class Dk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return s2()?8:sM(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Dk;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(Po()<=Ve.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Po()<=Ve.DEBUG&&ye("QueryEngine","Query:",Lo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Po()<=Ve.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(t))):ue.resolve())}ys(e,t){if(Uw(t))return ue.resolve(null);let r=er(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=_g(t,null,"F"),r=er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,f);return this.Cs(t,p,c,h.readTime)?this.ys(e,_g(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,a){return Uw(t)||a.isEqual(Ce.min())?ue.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?ue.resolve(null):(Po()<=Ve.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Lo(t)),this.vs(e,c,t,eM(a,Vu)).next((f=>f)))}))}Ds(e,t){let r=new Ft(zS(e));return t.forEach(((a,l)=>{ef(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return Po()<=Ve.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ms.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Ty="LocalStore",kk=3e8;class Pk{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new pt(Ue),this.xs=new Ba((l=>hy(l)),fy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ek(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Lk(n,e,t,r){return new Pk(n,e,t,r)}async function ux(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let h=ze();for(const p of a){c.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function jk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,p,v){const _=p.batch,E=_.keys();let S=ue.resolve();return E.forEach((O=>{S=S.next((()=>v.getEntry(h,O))).next((P=>{const k=p.docVersions.get(O);Qe(k!==null,48541),P.version.compareTo(k)<0&&(_.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),v.addEntry(P)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(h,_)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function cx(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Vk(n,e){const t=Ie(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((v,_)=>{const E=a.get(_);if(!E)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,_))));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(tn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,r)),a=a.insert(_,S),(function(P,k,L){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=kk?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(E,S,v)&&f.push(t.Pi.updateTargetData(l,S))}));let h=Ur(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(Uk(l,c,e.documentUpdates).next((v=>{h=v.ks,p=v.qs}))),!r.isEqual(Ce.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(v)}return ue.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,h,p))).next((()=>h))})).then((l=>(t.Ms=a,l)))}function Uk(n,e,t){let r=ze(),a=ze();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=Ur();return t.forEach(((f,h)=>{const p=l.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(Ce.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):ye(Ty,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function zk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=uy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Bk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new xs(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Sg(n,e,t){const r=Ie(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ll(c))throw c;ye(Ty,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Jw(n,e,t){const r=Ie(n);let a=Ce.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,v){const _=Ie(h),E=_.xs.get(v);return E!==void 0?ue.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,v)})(r,c,er(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{l=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Ce.min(),t?l:ze()))).next((f=>(Fk(r,AM(e),f),{documents:f,Qs:l})))))}function Fk(n,e,t){let r=n.Os.get(e)||Ce.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class Zw{constructor(){this.activeTargetIds=DM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qk{constructor(){this.Mo=new Zw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hk{Oo(e){}shutdown(){}}const eT="ConnectivityMonitor";class tT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(eT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(eT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $d=null;function xg(){return $d===null?$d=(function(){return 268435456+Math.round(2147483648*Math.random())})():$d++,"0x"+$d.toString(16)}const Lp="RestConnection",Gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $k{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=xg(),f=this.zo(e,t.toUriEncodedString());ye(Lp,`Sending RPC '${e}' ${c}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,l);const{host:p}=new URL(f),v=Bs(p);return this.Jo(e,f,h,r,v).then((_=>(ye(Lp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Xo(Lp,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",r),_}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=Gk[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Yk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class Kk extends $k{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=xg();return new Promise(((f,h)=>{const p=new fS;p.setWithCredentials(!0),p.listenOnce(mS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const _=p.getResponseJson();ye(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case rh.TIMEOUT:ye(rn,`RPC '${e}' ${c} timed out`),h(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const E=p.getStatus();if(ye(rn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S?.error;if(O&&O.status&&O.message){const P=(function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(U)>=0?U:ae.UNKNOWN})(O.status);h(new ge(P,O.message))}else h(new ge(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(rn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ye(rn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=xg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=yS(),f=gS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=l.join("");ye(rn,`Creating RPC '${e}' stream ${a}: ${v}`,h);const _=c.createWebChannel(v,h);this.I_(_);let E=!1,S=!1;const O=new Yk({Yo:k=>{S?ye(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(E||(ye(rn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ye(rn,`RPC '${e}' stream ${a} sending:`,k),_.send(k))},Zo:()=>_.close()}),P=(k,L,U)=>{k.listen(L,(B=>{try{U(B)}catch(X){setTimeout((()=>{throw X}),0)}}))};return P(_,Tu.EventType.OPEN,(()=>{S||(ye(rn,`RPC '${e}' stream ${a} transport opened.`),O.o_())})),P(_,Tu.EventType.CLOSE,(()=>{S||(S=!0,ye(rn,`RPC '${e}' stream ${a} transport closed`),O.a_(),this.E_(_))})),P(_,Tu.EventType.ERROR,(k=>{S||(S=!0,Xo(rn,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),O.a_(new ge(ae.UNAVAILABLE,"The operation could not be completed")))})),P(_,Tu.EventType.MESSAGE,(k=>{if(!S){const L=k.data[0];Qe(!!L,16349);const U=L,B=U?.error||U[0]?.error;if(B){ye(rn,`RPC '${e}' stream ${a} received error:`,B);const X=B.status;let ee=(function(x){const M=Pt[x];if(M!==void 0)return WS(M)})(X),re=B.message;ee===void 0&&(ee=ae.INTERNAL,re="Unknown error status: "+X+" with message "+B.message),S=!0,O.a_(new ge(ee,re)),_.close()}else ye(rn,`RPC '${e}' stream ${a} received:`,L),O.u_(L)}})),P(f,pS.STAT_EVENT,(k=>{k.stat===hg.PROXY?ye(rn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===hg.NOPROXY&&ye(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function jp(){return typeof document<"u"?document:null}function sf(n){return new JM(n,!0)}class dx{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nT="PersistentStream";class hx{constructor(e,t,r,a,l,c,f,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ge(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(nT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(nT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qk extends hx{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=tk(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?tr(c.readTime):Ce.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Eg(this.serializer),t.addTarget=(function(l,c){let f;const h=c.target;if(f=yg(h)?{documents:rk(l,h)}:{query:sk(l,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=ex(l,c.resumeToken);const p=bg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Ih(l,c.snapshotVersion.toTimestamp());const p=bg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=ok(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Eg(this.serializer),t.removeTarget=e,this.q_(t)}}class Xk extends hx{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ik(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Eg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>nk(this.serializer,r)))};this.q_(t)}}class Wk{}class Jk extends Wk{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,wg(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ae.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,wg(t,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Zk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ma="RemoteStore";class eP{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Fa(this)&&(ye(Ma,"Restarting streams for network reachability change."),await(async function(h){const p=Ie(h);p.Ea.add(4),await rc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await af(p)})(this))}))})),this.Ra=new Zk(r,a)}}async function af(n){if(Fa(n))for(const e of n.da)await e(!0)}async function rc(n){for(const e of n.da)await e(!1)}function fx(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ay(t)?xy(t):cl(t).O_()&&Sy(t,e))}function Ey(n,e){const t=Ie(n),r=cl(t);t.Ia.delete(e),r.O_()&&mx(t,e),t.Ia.size===0&&(r.O_()?r.L_():Fa(t)&&t.Ra.set("Unknown"))}function Sy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cl(n).Y_(e)}function mx(n,e){n.Va.Ue(e),cl(n).Z_(e)}function xy(n){n.Va=new KM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),cl(n).start(),n.Ra.ua()}function Ay(n){return Fa(n)&&!cl(n).x_()&&n.Ia.size>0}function Fa(n){return Ie(n).Ea.size===0}function px(n){n.Va=void 0}async function tP(n){n.Ra.set("Online")}async function nP(n){n.Ia.forEach(((e,t)=>{Sy(n,e)}))}async function iP(n,e){px(n),Ay(n)?(n.Ra.ha(e),xy(n)):n.Ra.set("Unknown")}async function rP(n,e,t){if(n.Ra.set("Online"),e instanceof ZS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){ye(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(n,r)}else if(e instanceof lh?n.Va.Ze(e):e instanceof JS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const r=await cx(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,p)=>{const v=l.Ia.get(h);if(!v)return;l.Ia.set(h,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),mx(l,h);const _=new xs(v.target,h,p,v.sequenceNumber);Sy(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){ye(Ma,"Failed to raise snapshot:",r),await Oh(n,r)}}async function Oh(n,e,t){if(!ll(e))throw e;n.Ea.add(1),await rc(n),n.Ra.set("Offline"),t||(t=()=>cx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(Ma,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await af(n)}))}function gx(n,e){return e().catch((t=>Oh(n,t,e)))}async function of(n){const e=Ie(n),t=js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uy;for(;sP(e);)try{const a=await zk(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,aP(e,a)}catch(a){await Oh(e,a)}yx(e)&&vx(e)}function sP(n){return Fa(n)&&n.Ta.length<10}function aP(n,e){n.Ta.push(e);const t=js(n);t.O_()&&t.X_&&t.ea(e.mutations)}function yx(n){return Fa(n)&&!js(n).x_()&&n.Ta.length>0}function vx(n){js(n).start()}async function oP(n){js(n).ra()}async function lP(n){const e=js(n);for(const t of n.Ta)e.ea(t.mutations)}async function uP(n,e,t){const r=n.Ta.shift(),a=gy.from(r,e,t);await gx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await of(n)}async function cP(n,e){e&&js(n).X_&&await(async function(r,a){if((function(c){return GM(c)&&c!==ae.ABORTED})(a.code)){const l=r.Ta.shift();js(r).B_(),await gx(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await of(r)}})(n,e),yx(n)&&vx(n)}async function iT(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ye(Ma,"RemoteStore received new credentials");const r=Fa(t);t.Ea.add(3),await rc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await af(t)}async function dP(n,e){const t=Ie(n);e?(t.Ea.delete(2),await af(t)):e||(t.Ea.add(2),await rc(t),t.Ra.set("Unknown"))}function cl(n){return n.ma||(n.ma=(function(t,r,a){const l=Ie(t);return l.sa(),new Qk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:tP.bind(null,n),t_:nP.bind(null,n),r_:iP.bind(null,n),H_:rP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ay(n)?xy(n):n.Ra.set("Unknown")):(await n.ma.stop(),px(n))}))),n.ma}function js(n){return n.fa||(n.fa=(function(t,r,a){const l=Ie(t);return l.sa(),new Xk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:oP.bind(null,n),r_:cP.bind(null,n),ta:lP.bind(null,n),na:uP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await of(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(Ma,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Cy{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new Cy(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),ll(n))return new ge(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Eu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rT{constructor(){this.ga=new pt(Te.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class tl{constructor(e,t,r,a,l,c,f,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new tl(e,t,Ho.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class hP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fP{constructor(){this.queries=sT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ie(t),l=a.queries;a.queries=sT(),l.forEach(((c,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function sT(){return new Ba((n=>US(n)),Zh)}async function _x(n,e){const t=Ie(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new hP,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Ry(c,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Iy(t)}async function bx(n,e){const t=Ie(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function mP(n,e){const t=Ie(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&Iy(t)}function pP(n,e,t){const r=Ie(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function Iy(n){n.Ca.forEach((e=>{e.next()}))}var Ag,aT;(aT=Ag||(Ag={})).Ma="default",aT.Cache="cache";class wx{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ag.Cache}}class Tx{constructor(e){this.key=e}}class Ex{constructor(e){this.key=e}}class gP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=zS(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new rT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const E=a.get(v),S=ef(this.query,_)?_:null,O=!!E&&this.mutatedKeys.has(E.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;E&&S?E.data.isEqual(S.data)?O!==P&&(r.track({type:3,doc:S}),k=!0):this.su(E,S)||(r.track({type:2,doc:S}),k=!0,(h&&this.eu(S,h)>0||p&&this.eu(S,p)<0)&&(f=!0)):!E&&S?(r.track({type:0,doc:S}),k=!0):E&&!S&&(r.track({type:1,doc:E}),k=!0,(h||p)&&(f=!0)),k&&(S?(c=c.add(S),l=P?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(S,O){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:k})}};return P(S)-P(O)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,p=h!==this.Za;return this.Za=h,c.length!==0||p?{snapshot:new tl(this.query,e.tu,l,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Ex(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Tx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ny="SyncEngine";class yP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vP{constructor(e){this.key=e,this.hu=!1}}class _P{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((f=>US(f)),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new pt(Te.comparator),this.Au=new Map,this.Ru=new _y,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bP(n,e,t=!0){const r=Ix(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Sx(r,e,t,!0),a}async function wP(n,e){const t=Ix(n);await Sx(t,e,!0,!1)}async function Sx(n,e,t,r){const a=await Bk(n.localStore,er(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await TP(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&fx(n.remoteStore,a),f}async function TP(n,e,t,r,a){n.pu=(_,E,S)=>(async function(P,k,L,U){let B=k.view.ru(L);B.Cs&&(B=await Jw(P.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,B))));const X=U&&U.targetChanges.get(k.targetId),ee=U&&U.targetMismatches.get(k.targetId)!=null,re=k.view.applyChanges(B,P.isPrimaryClient,X,ee);return lT(P,k.targetId,re.au),re.snapshot})(n,_,E,S);const l=await Jw(n.localStore,e,!0),c=new gP(e,l.Qs),f=c.ru(l.documents),h=ic.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,h);lT(n,t,p.au);const v=new yP(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function EP(n,e,t){const r=Ie(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Zh(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Sg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ey(r.remoteStore,a.targetId),Cg(r,a.targetId)})).catch(ol)):(Cg(r,a.targetId),await Sg(r.localStore,a.targetId,!0))}async function SP(n,e){const t=Ie(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ey(t.remoteStore,r.targetId))}async function xP(n,e,t){const r=DP(n);try{const a=await(function(c,f){const h=Ie(c),p=ct.now(),v=f.reduce(((S,O)=>S.add(O.key)),ze());let _,E;return h.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let O=Ur(),P=ze();return h.Ns.getEntries(S,v).next((k=>{O=k,O.forEach(((L,U)=>{U.isValidDocument()||(P=P.add(L))}))})).next((()=>h.localDocuments.getOverlayedDocuments(S,O))).next((k=>{_=k;const L=[];for(const U of f){const B=zM(U,_.get(U.key).overlayedDocument);B!=null&&L.push(new Gs(U.key,B,OS(B.value.mapValue),si.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,L,f)})).next((k=>{E=k;const L=k.applyToLocalDocumentSet(_,P);return h.documentOverlayCache.saveOverlays(S,k.batchId,L)}))})).then((()=>({batchId:E.batchId,changes:FS(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,h){let p=c.Vu[c.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(f,h),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,t),await sc(r,a.changes),await of(r.remoteStore)}catch(a){const l=Ry(a,"Failed to persist write");t.reject(l)}}async function xx(n,e){const t=Ie(n);try{const r=await Vk(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qe(c.hu,14607):a.removedDocuments.size>0&&(Qe(c.hu,42227),c.hu=!1))})),await sc(t,r,e)}catch(r){await ol(r)}}function oT(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const h=Ie(c);h.onlineState=f;let p=!1;h.queries.forEach(((v,_)=>{for(const E of _.Sa)E.va(f)&&(p=!0)})),p&&Iy(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AP(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new pt(Te.comparator);c=c.insert(l,an.newNoDocument(l,Ce.min()));const f=ze().add(l),h=new rf(Ce.min(),new Map,new pt(Ue),c,f);await xx(r,h),r.du=r.du.remove(l),r.Au.delete(e),Oy(r)}else await Sg(r.localStore,e,!1).then((()=>Cg(r,e,t))).catch(ol)}async function CP(n,e){const t=Ie(n),r=e.batch.batchId;try{const a=await jk(t.localStore,e);Cx(t,r,null),Ax(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await sc(t,a)}catch(a){await ol(a)}}async function RP(n,e,t){const r=Ie(n);try{const a=await(function(c,f){const h=Ie(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return h.mutationQueue.lookupMutationBatch(p,f).next((_=>(Qe(_!==null,37113),v=_.keys(),h.mutationQueue.removeMutationBatch(p,_)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>h.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);Cx(r,e,t),Ax(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await sc(r,a)}catch(a){await ol(a)}}function Ax(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Cx(n,e,t){const r=Ie(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Cg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Rx(n,r)}))}function Rx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ey(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Oy(n))}function lT(n,e,t){for(const r of t)r instanceof Tx?(n.Ru.addReference(r.key,e),IP(n,r)):r instanceof Ex?(ye(Ny,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Rx(n,r.key)):xe(19791,{wu:r})}function IP(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ye(Ny,"New document in limbo: "+t),n.Eu.add(r),Oy(n))}function Oy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Te(rt.fromString(e)),r=n.fu.next();n.Au.set(r,new vP(t)),n.du=n.du.insert(t,r),fx(n.remoteStore,new xs(er(Jh(t.path)),r,"TargetPurposeLimboResolution",Qh.ce))}}async function sc(n,e,t){const r=Ie(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{c.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){a.push(p);const v=wy.As(h.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,p){const v=Ie(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ue.forEach(p,(E=>ue.forEach(E.Es,(S=>v.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>ue.forEach(E.ds,(S=>v.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!ll(_))throw _;ye(Ty,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=v.Ms.get(E),O=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(E,P)}}})(r.localStore,l))}async function NP(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ye(Ny,"User change. New user:",e.toKey());const r=await ux(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((h=>{h.reject(new ge(ae.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sc(t,r.Ls)}}function OP(n,e){const t=Ie(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Ix(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AP.bind(null,e),e.Pu.H_=mP.bind(null,e.eventManager),e.Pu.yu=pP.bind(null,e.eventManager),e}function DP(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RP.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Lk(this.persistence,new Mk,e.initialUser,this.serializer)}Cu(e){return new lx(by.mi,this.serializer)}Du(e){return new qk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class MP extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof Nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new lx((r=>Nh.mi(r,t)),this.serializer)}}class Rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NP.bind(null,this.syncEngine),await dP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fP})()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),r=(function(l){return new Kk(l)})(e.databaseInfo);return(function(l,c,f,h){return new Jk(l,c,f,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,f){return new eP(r,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>oT(this.syncEngine,t,0)),(function(){return tT.v()?new tT:new Hk})())}createSyncEngine(e,t){return(function(a,l,c,f,h,p,v){const _=new _P(a,l,c,f,h,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ie(t);ye(Ma,"RemoteStore shutting down."),r.Ea.add(5),await rc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rg.provider={build:()=>new Rg};class Nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Vs="FirestoreClient";class kP{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ye(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ry(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await ux(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function uT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await PP(n);ye(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>iT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>iT(e.remoteStore,a))),n._onlineComponents=e}async function PP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Vs,"Using user provided OfflineComponentProvider");try{await Vp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await Vp(n,new Dh)}}else ye(Vs,"Using default OfflineComponentProvider"),await Vp(n,new MP(void 0));return n._offlineComponents}async function Ox(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Vs,"Using user provided OnlineComponentProvider"),await uT(n,n._uninitializedComponentsProvider._online)):(ye(Vs,"Using default OnlineComponentProvider"),await uT(n,new Rg))),n._onlineComponents}function LP(n){return Ox(n).then((e=>e.syncEngine))}async function Ig(n){const e=await Ox(n),t=e.eventManager;return t.onListen=bP.bind(null,e.syncEngine),t.onUnlisten=EP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SP.bind(null,e.syncEngine),t}function jP(n,e,t={}){const r=new Ns;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,h,p){const v=new Nx({next:E=>{v.Nu(),c.enqueueAndForget((()=>bx(l,_)));const S=E.docs.has(f);!S&&E.fromCache?p.reject(new ge(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&h&&h.source==="server"?p.reject(new ge(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new wx(Jh(f.path),v,{includeMetadataChanges:!0,qa:!0});return _x(l,_)})(await Ig(n),n.asyncQueue,e,t,r))),r.promise}function Dx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const cT=new Map;const Mx="firestore.googleapis.com",dT=!0;class hT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mx,this.ssl=dT}else this.host=e.host,this.ssl=e.ssl??dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ox;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gk)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qD;switch(r.type){case"firstParty":return new YD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=cT.get(t);r&&(ye("ComponentProvider","Removing Datastore"),cT.delete(t),r.terminate())})(this),Promise.resolve()}}function VP(n,e,t,r={}){n=ri(n,lf);const a=Bs(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(Yg(`https://${f}`),Kg("Firestore",!0)),l.host!==Mx&&l.host!==f&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:f,ssl:a,emulatorOptions:r};if(!Ia(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=sn.MOCK_USER;else{p=wE(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(_)}n._authCredentials=new HD(new _S(p,v))}}class qa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(tc(t,bt._jsonSchema))return new bt(e,r||null,new Te(rt.fromString(t.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:jt("string",bt._jsonSchemaVersion),referencePath:jt("string")};class Os extends qa{constructor(e,t,r){super(e,t,Jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Te(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function Du(n,e,...t){if(n=st(n),bS("collection","path",e),n instanceof lf){const r=rt.fromString(e,...t);return xw(r),new Os(n,null,r)}{if(!(n instanceof bt||n instanceof Os))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return xw(r),new Os(n.firestore,null,r)}}function mn(n,e,...t){if(n=st(n),arguments.length===1&&(e=ly.newId()),bS("doc","path",e),n instanceof lf){const r=rt.fromString(e,...t);return Sw(r),new bt(n,null,new Te(r))}{if(!(n instanceof bt||n instanceof Os))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Sw(r),new bt(n.firestore,n instanceof Os?n.converter:null,new Te(r))}}const fT="AsyncQueue";class mT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dx(this,"async_queue_retry"),this._c=()=>{const r=jp();r&&ye(fT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;ye(fT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",pT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Cy.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:pT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function pT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function gT(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Us extends lf{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new mT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mT(e),this._firestoreClient=void 0,await e}}}function UP(n,e){const t=typeof n=="object"?n:Xg(),r=typeof n=="string"?n:xh,a=rl(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=vE("firestore");l&&VP(a,...l)}return a}function Dy(n){if(n._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zP(n),n._firestoreClient}function zP(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new cM(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Dx(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(tn.fromBase64String(e))}catch(t){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ii(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tc(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:jt("string",ii._jsonSchemaVersion),bytes:jt("string")};class uf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cf{constructor(e){this._methodName=e}}class nr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(tc(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:jt("string",nr._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class ir{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tc(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ir(e.vectorValues);throw new ge(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:jt("string",ir._jsonSchemaVersion),vectorValues:jt("object")};const BP=/^__.*__$/;class FP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new nc(e,this.data,t,this.fieldTransforms)}}class kx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Px(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:n})}}class My{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new My({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Px(this.Ac)&&BP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sf(e)}Cc(e,t,r,a=!1){return new My({Ac:e,methodName:t,Dc:r,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function df(n){const e=n._freezeSettings(),t=sf(n._databaseId);return new qP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lx(n,e,t,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);Py("Data must be an object, but it was:",c,r);const f=jx(r,c);let h,p;if(l.merge)h=new Bn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const E=Ng(e,_,t);if(!c.contains(E))throw new ge(ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Ux(v,E)||v.push(E)}h=new Bn(v),p=c.fieldTransforms.filter((_=>h.covers(_.field)))}else h=null,p=c.fieldTransforms;return new FP(new In(f),h,p)}class hf extends cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}class ky extends cf{_toFieldTransform(e){return new LM(e.path,new qu)}isEqual(e){return e instanceof ky}}function HP(n,e,t,r){const a=n.Cc(1,e,t);Py("Data must be an object, but it was:",a,r);const l=[],c=In.empty();Hs(r,((h,p)=>{const v=Ly(e,h,t);p=st(p);const _=a.yc(v);if(p instanceof hf)l.push(v);else{const E=ac(p,_);E!=null&&(l.push(v),c.set(v,E))}}));const f=new Bn(l);return new kx(c,f,a.fieldTransforms)}function GP(n,e,t,r,a,l){const c=n.Cc(1,e,t),f=[Ng(e,r,t)],h=[a];if(l.length%2!=0)throw new ge(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Ng(e,l[E])),h.push(l[E+1]);const p=[],v=In.empty();for(let E=f.length-1;E>=0;--E)if(!Ux(p,f[E])){const S=f[E];let O=h[E];O=st(O);const P=c.yc(S);if(O instanceof hf)p.push(S);else{const k=ac(O,P);k!=null&&(p.push(S),v.set(S,k))}}const _=new Bn(p);return new kx(v,_,c.fieldTransforms)}function $P(n,e,t,r=!1){return ac(t,n.Cc(r?4:3,e))}function ac(n,e){if(Vx(n=st(n)))return Py("Unsupported field value:",e,n),jx(n,e);if(n instanceof cf)return(function(r,a){if(!Px(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let h=ac(f,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ct.fromDate(r);return{timestampValue:Ih(a.serializer,l)}}if(r instanceof ct){const l=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(a.serializer,l)}}if(r instanceof nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:ex(a.serializer,r._byteString)};if(r instanceof bt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ir)return(function(c,f){return{mapValue:{fields:{[IS]:{stringValue:NS},[Ah]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return my(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Kh(r)}`)})(n,e)}function jx(n,e){const t={};return ES(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(n,((r,a)=>{const l=ac(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function Vx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof nr||n instanceof ii||n instanceof bt||n instanceof cf||n instanceof ir)}function Py(n,e,t){if(!Vx(t)||!wS(t)){const r=Kh(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Ng(n,e,t){if((e=st(e))instanceof uf)return e._internalPath;if(typeof e=="string")return Ly(n,e);throw Mh("Field path arguments must be of type string or ",n,!1,void 0,t)}const YP=new RegExp("[~\\*/\\[\\]]");function Ly(n,e,t){if(e.search(YP)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uf(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mh(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new ge(ae.INVALID_ARGUMENT,f+n+h)}function Ux(n,e){return n.some((t=>t.isEqual(e)))}class zx{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ff("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KP extends zx{data(){return super.data()}}function ff(n,e){return typeof e=="string"?Ly(n,e):e instanceof uf?e._internalPath:e._delegate._internalPath}function QP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class Bx extends jy{}function Fx(n,e,...t){let r=[];e instanceof jy&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((h=>h instanceof Vy)).length,f=l.filter((h=>h instanceof mf)).length;if(c>1||c>0&&f>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class mf extends Bx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mf(e,t,r)}_apply(e){const t=this._parse(e);return qx(e._query,t),new qa(e.firestore,e.converter,vg(e._query,t))}_parse(e){const t=df(e.firestore);return(function(l,c,f,h,p,v,_){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){vT(_,v);const O=[];for(const P of _)O.push(yT(h,l,P));E={arrayValue:{values:O}}}else E=yT(h,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||vT(_,v),E=$P(f,c,_,v==="in"||v==="not-in");return Lt.create(p,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function XP(n,e,t){const r=e,a=ff("where",n);return mf._create(a,r,t)}class Vy extends jy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const h of f)qx(c,h),c=vg(c,h)})(e._query,t),new qa(e.firestore,e.converter,vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uy extends Bx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uy(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fu(l,c)})(e._query,this._field,this._direction);return new qa(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new ul(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function WP(n,e="asc"){const t=e,r=ff("orderBy",n);return Uy._create(r,t)}function yT(n,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VS(e)&&t.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!Te.isDocumentKey(r))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mw(n,new Te(r))}if(t instanceof bt)return Mw(n,t._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(t)}.`)}function vT(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qx(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JP{convertValue(e,t="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hs(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Ah].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new ir(t)}convertGeoPoint(e){return new nr(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const t=ks(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Qe(ax(r),9688,{name:e});const a=new zu(r.get(1),r.get(3)),l=new Te(r.popFirst(5));return a.isEqual(t)||Vr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Hx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends zx{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ff("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Aa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:jt("string",Aa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class uh extends Aa{data(e={}){return super.data(e)}}class Go{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new xu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new uh(this._firestore,this._userDataWriter,r.key,r,new xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const h=new uh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const h=new uh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:ZP(f.type),doc:h,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}function zy(n){n=ri(n,bt);const e=ri(n.firestore,Us);return jP(Dy(e),n._key).then((t=>Yx(e,n,t)))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:jt("string",Go._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Gx extends JP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function Ds(n,e,t){n=ri(n,bt);const r=ri(n.firestore,Us),a=Hx(n.converter,e,t);return pf(r,[Lx(df(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,si.none())])}function _T(n,e,t,...r){n=ri(n,bt);const a=ri(n.firestore,Us),l=df(a);let c;return c=typeof(e=st(e))=="string"||e instanceof uf?GP(l,"updateDoc",n._key,e,t,r):HP(l,"updateDoc",n._key,e),pf(a,[c.toMutation(n._key,si.exists(!0))])}function e4(n){return pf(ri(n.firestore,Us),[new py(n._key,si.none())])}function $x(n,e){const t=ri(n.firestore,Us),r=mn(n),a=Hx(n.converter,e);return pf(t,[Lx(df(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then((()=>r))}function Og(n,...e){n=st(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||gT(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(gT(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let l,c,f;if(n instanceof bt)c=ri(n.firestore,Us),f=Jh(n._key.path),l={next:h=>{e[r]&&e[r](Yx(c,n,h))},error:e[r+1],complete:e[r+2]};else{const h=ri(n,qa);c=ri(h.firestore,Us),f=h._query;const p=new Gx(c);l={next:v=>{e[r]&&e[r](new Go(c,p,h,v))},error:e[r+1],complete:e[r+2]},QP(n._query)}return(function(p,v,_,E){const S=new Nx(E),O=new wx(v,S,_);return p.asyncQueue.enqueueAndForget((async()=>_x(await Ig(p),O))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>bx(await Ig(p),O)))}})(Dy(c),f,a,l)}function pf(n,e){return(function(r,a){const l=new Ns;return r.asyncQueue.enqueueAndForget((async()=>xP(await LP(r),a,l))),l.promise})(Dy(n),e)}function Yx(n,e,t){const r=t.docs.get(e._key),a=new Gx(n);return new Aa(n,a,e._key,r,new xu(t.hasPendingWrites,t.fromCache),e.converter)}function kh(){return new ky("serverTimestamp")}(function(e,t=!0){(function(a){al=a})(za),Ai(new li("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Us(new GD(r.getProvider("auth-internal")),new KD(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Nn(bw,ww,e),Nn(bw,ww,"esm2020")})();const Kx="firebasestorage.googleapis.com",Qx="storageBucket",t4=120*1e3,n4=600*1e3,i4=1e3;class gt extends ci{constructor(e,t,r=0){super(Up(e),`Firebase Storage: ${t} (${Up(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function Up(n){return"storage/"+n}function By(){const n="An unknown error occurred, please check the error payload for server response.";return new gt(dt.UNKNOWN,n)}function r4(n){return new gt(dt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function s4(n){return new gt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function a4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(dt.UNAUTHENTICATED,n)}function o4(){return new gt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function l4(n){return new gt(dt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Xx(){return new gt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wx(){return new gt(dt.CANCELED,"User canceled the upload/download.")}function u4(n){return new gt(dt.INVALID_URL,"Invalid URL '"+n+"'.")}function c4(n){return new gt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function d4(){return new gt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Qx+"' property when initializing the app?")}function Jx(){return new gt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function h4(){return new gt(dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function f4(){return new gt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function m4(n){return new gt(dt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dg(n){return new gt(dt.INVALID_ARGUMENT,n)}function Zx(){return new gt(dt.APP_DELETED,"The Firebase app was deleted.")}function p4(n){return new gt(dt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mu(n,e){return new gt(dt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function _u(n){throw new gt(dt.INTERNAL_ERROR,"Internal error: "+n)}class Fn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Fn.makeFromUrl(e,t)}catch{return new Fn(e,"")}if(r.path==="")return r;throw c4(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${v}/b/${a}/o${E}`,"i"),O={bucket:1,path:3},P=t===Kx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",L=new RegExp(`^https?://${P}/${a}/${k}`,"i"),B=[{regex:f,indices:h,postModify:l},{regex:S,indices:O,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<B.length;X++){const ee=B[X],re=ee.regex.exec(e);if(re){const D=re[ee.indices.bucket];let x=re[ee.indices.path];x||(x=""),r=new Fn(D,x),ee.postModify(r);break}}if(r==null)throw u4(e);return r}}class g4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function y4(n,e,t){let r=1,a=null,l=null,c=!1,f=0;function h(){return f===2}let p=!1;function v(...k){p||(p=!0,e.apply(null,k))}function _(k){a=setTimeout(()=>{a=null,n(S,h())},k)}function E(){l&&clearTimeout(l)}function S(k,...L){if(p){E();return}if(k){E(),v.call(null,k,...L);return}if(h()||c){E(),v.call(null,k,...L);return}r<64&&(r*=2);let B;f===1?(f=2,B=0):B=(r+Math.random())*1e3,_(B)}let O=!1;function P(k){O||(O=!0,E(),!p&&(a!==null?(k||(f=2),clearTimeout(a),_(0)):k||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,P(!0)},t),P}function v4(n){n(!1)}function _4(n){return n!==void 0}function b4(n){return typeof n=="function"}function w4(n){return typeof n=="object"&&!Array.isArray(n)}function gf(n){return typeof n=="string"||n instanceof String}function bT(n){return Fy()&&n instanceof Blob}function Fy(){return typeof Blob<"u"}function wT(n,e,t,r){if(r<e)throw Dg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Dg(`Invalid value for '${n}'. Expected ${t} or less.`)}function oc(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function e1(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ca;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ca||(Ca={}));function t1(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class T4{constructor(e,t,r,a,l,c,f,h,p,v,_,E=!0,S=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,P)=>{this.resolve_=O,this.reject_=P,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Yd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const h=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ca.NO_ERROR,h=l.getStatus();if(!f||t1(h,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ca.ABORT;r(!1,new Yd(!1,null,v));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Yd(p,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());_4(h)?l(h):l()}catch(h){c(h)}else if(f!==null){const h=By();h.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,h)):c(h)}else if(a.canceled){const h=this.appDelete_?Zx():Wx();c(h)}else{const h=Xx();c(h)}};this.canceled_?t(!1,new Yd(!1,null,!0)):this.backoffId_=y4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&v4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function E4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function S4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x4(n,e){e&&(n["X-Firebase-GMPID"]=e)}function A4(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function C4(n,e,t,r,a,l,c=!0,f=!1){const h=e1(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return x4(v,e),E4(v,t),S4(v,l),A4(v,r),new T4(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}function R4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function I4(...n){const e=R4();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Fy())return new Blob(n);throw new gt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function N4(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function O4(n){if(typeof atob>"u")throw m4("base-64");return atob(n)}const Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zp{constructor(e,t){this.data=e,this.contentType=t||null}}function D4(n,e){switch(n){case Ji.RAW:return new zp(n1(e));case Ji.BASE64:case Ji.BASE64URL:return new zp(i1(n,e));case Ji.DATA_URL:return new zp(k4(e),P4(e))}throw By()}function n1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,c=n.charCodeAt(++t);r=65536|(l&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function M4(n){let e;try{e=decodeURIComponent(n)}catch{throw Mu(Ji.DATA_URL,"Malformed data URL.")}return n1(e)}function i1(n,e){switch(n){case Ji.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Mu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Mu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=O4(e)}catch(a){throw a.message.includes("polyfill")?a:Mu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class r1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Mu(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=L4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function k4(n){const e=new r1(n);return e.base64?i1(Ji.BASE64,e.rest):M4(e.rest)}function P4(n){return new r1(n).contentType}function L4(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ss{constructor(e,t){let r=0,a="";bT(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(bT(this.data_)){const r=this.data_,a=N4(r,e,t);return a===null?null:new Ss(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ss(r,!0)}}static getBlob(...e){if(Fy()){const t=e.map(r=>r instanceof Ss?r.data_:r);return new Ss(I4.apply(null,t))}else{const t=e.map(c=>gf(c)?D4(Ji.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Ss(a,!0)}}uploadData(){return this.data_}}function s1(n){let e;try{e=JSON.parse(n)}catch{return null}return w4(e)?e:null}function j4(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function V4(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function a1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function U4(n,e){return e}class fn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||U4}}let Kd=null;function z4(n){return!gf(n)||n.length<2?n:a1(n)}function o1(){if(Kd)return Kd;const n=[];n.push(new fn("bucket")),n.push(new fn("generation")),n.push(new fn("metageneration")),n.push(new fn("name","fullPath",!0));function e(l,c){return z4(c)}const t=new fn("name");t.xform=e,n.push(t);function r(l,c){return c!==void 0?Number(c):c}const a=new fn("size");return a.xform=r,n.push(a),n.push(new fn("timeCreated")),n.push(new fn("updated")),n.push(new fn("md5Hash",null,!0)),n.push(new fn("cacheControl",null,!0)),n.push(new fn("contentDisposition",null,!0)),n.push(new fn("contentEncoding",null,!0)),n.push(new fn("contentLanguage",null,!0)),n.push(new fn("contentType",null,!0)),n.push(new fn("metadata","customMetadata",!0)),Kd=n,Kd}function B4(n,e){function t(){const r=n.bucket,a=n.fullPath,l=new Fn(r,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function F4(n,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return B4(r,n),r}function l1(n,e,t){const r=s1(e);return r===null?null:F4(n,r,t)}function q4(n,e,t,r){const a=s1(e);if(a===null||!gf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=n.bucket,_=n.fullPath,E="/b/"+c(v)+"/o/"+c(_),S=oc(E,t,r),O=e1({alt:"media",token:p});return S+O})[0]}function u1(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class dl{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kr(n){if(!n)throw By()}function qy(n,e){function t(r,a){const l=l1(n,a,e);return kr(l!==null),l}return t}function H4(n,e){function t(r,a){const l=l1(n,a,e);return kr(l!==null),q4(l,a,n.host,n._protocol)}return t}function lc(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=o4():a=a4():t.getStatus()===402?a=s4(n.bucket):t.getStatus()===403?a=l4(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function c1(n){const e=lc(n);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=r4(n.path)),l.serverResponse=a.serverResponse,l}return t}function G4(n,e,t){const r=e.fullServerUrl(),a=oc(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new dl(a,l,qy(n,t),c);return f.errorHandler=c1(e),f}function $4(n,e,t){const r=e.fullServerUrl(),a=oc(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new dl(a,l,H4(n,t),c);return f.errorHandler=c1(e),f}function Y4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function d1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Y4(null,e)),r}function K4(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let B="";for(let X=0;X<2;X++)B=B+Math.random().toString().slice(2);return B}const h=f();c["Content-Type"]="multipart/related; boundary="+h;const p=d1(e,r,a),v=u1(p,t),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+h+"--",S=Ss.getBlob(_,r,E);if(S===null)throw Jx();const O={name:p.fullPath},P=oc(l,n.host,n._protocol),k="POST",L=n.maxUploadRetryTime,U=new dl(P,k,qy(n,t),L);return U.urlParams=O,U.headers=c,U.body=S.uploadData(),U.errorHandler=lc(e),U}class Ph{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function Hy(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{kr(!1)}return kr(!!t&&(e||["active"]).indexOf(t)!==-1),t}function Q4(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c=d1(e,r,a),f={name:c.fullPath},h=oc(l,n.host,n._protocol),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},_=u1(c,t),E=n.maxUploadRetryTime;function S(P){Hy(P);let k;try{k=P.getResponseHeader("X-Goog-Upload-URL")}catch{kr(!1)}return kr(gf(k)),k}const O=new dl(h,p,S,E);return O.urlParams=f,O.headers=v,O.body=_,O.errorHandler=lc(e),O}function X4(n,e,t,r){const a={"X-Goog-Upload-Command":"query"};function l(p){const v=Hy(p,["active","final"]);let _=null;try{_=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{kr(!1)}_||kr(!1);const E=Number(_);return kr(!isNaN(E)),new Ph(E,r.size(),v==="final")}const c="POST",f=n.maxUploadRetryTime,h=new dl(t,c,l,f);return h.headers=a,h.errorHandler=lc(e),h}const TT=256*1024;function W4(n,e,t,r,a,l,c,f){const h=new Ph(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw h4();const p=h.total-h.current;let v=p;a>0&&(v=Math.min(v,a));const _=h.current,E=_+v;let S="";v===0?S="finalize":p===v?S="upload, finalize":S="upload";const O={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${h.current}`},P=r.slice(_,E);if(P===null)throw Jx();function k(X,ee){const re=Hy(X,["active","final"]),D=h.current+v,x=r.size();let M;return re==="final"?M=qy(e,l)(X,ee):M=null,new Ph(D,x,re==="final",M)}const L="POST",U=e.maxUploadRetryTime,B=new dl(t,L,k,U);return B.headers=O,B.body=P.uploadData(),B.progressCallback=f||null,B.errorHandler=lc(n),B}const Cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bp(n){switch(n){case"running":case"pausing":case"canceling":return Cn.RUNNING;case"paused":return Cn.PAUSED;case"success":return Cn.SUCCESS;case"canceled":return Cn.CANCELED;case"error":return Cn.ERROR;default:return Cn.ERROR}}let J4=class{constructor(e,t,r){if(b4(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}};function ko(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Z4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw _u("cannot .send() more than once");if(Bs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eL extends Z4{initXhr(){this.xhr_.responseType="text"}}function Uo(){return new eL}class tL{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=o1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(t1(a.status,[]))if(l)a=Xx();else{this.sleepTime=Math.max(this.sleepTime*2,i4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(dt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=Q4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=X4(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Uo,t,r);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=TT*this._chunkMultiplier,t=new Ph(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=W4(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Uo,a,l,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){TT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=G4(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,Uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=K4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Wx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Bp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const l=new J4(t||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Bp(this._state)){case Cn.SUCCESS:ko(this._resolve.bind(null,this.snapshot))();break;case Cn.CANCELED:case Cn.ERROR:const t=this._reject;ko(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Bp(this._state)){case Cn.RUNNING:case Cn.PAUSED:e.next&&ko(e.next.bind(e,this.snapshot))();break;case Cn.SUCCESS:e.complete&&ko(e.complete.bind(e))();break;case Cn.CANCELED:case Cn.ERROR:e.error&&ko(e.error.bind(e,this._error))();break;default:e.error&&ko(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class ka{constructor(e,t){this._service=e,t instanceof Fn?this._location=t:this._location=Fn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ka(e,t)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a1(this._location.path)}get storage(){return this._service}get parent(){const e=j4(this._location.path);if(e===null)return null;const t=new Fn(this._location.bucket,e);return new ka(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw p4(e)}}function nL(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new tL(n,new Ss(e),t)}function iL(n){n._throwIfRoot("getDownloadURL");const e=$4(n.storage,n._location,o1());return n.storage.makeRequestWithTokens(e,Uo).then(t=>{if(t===null)throw f4();return t})}function rL(n,e){const t=V4(n._location.path,e),r=new Fn(n._location.bucket,t);return new ka(n.storage,r)}function sL(n){return/^[A-Za-z]+:\/\//.test(n)}function aL(n,e){return new ka(n,e)}function h1(n,e){if(n instanceof Gy){const t=n;if(t._bucket==null)throw d4();const r=new ka(t,t._bucket);return e!=null?h1(r,e):r}else return e!==void 0?rL(n,e):n}function oL(n,e){if(e&&sL(e)){if(n instanceof Gy)return aL(n,e);throw Dg("To use ref(service, url), the first argument must be a Storage instance.")}else return h1(n,e)}function ET(n,e){const t=e?.[Qx];return t==null?null:Fn.makeFromBucketSpec(t,n)}function lL(n,e,t,r={}){n.host=`${e}:${t}`;const a=Bs(e);a&&(Yg(`https://${n.host}/b`),Kg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:wE(l,n.app.options.projectId))}class Gy{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Kx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t4,this._maxUploadRetryTime=n4,this._requests=new Set,a!=null?this._bucket=Fn.makeFromBucketSpec(a,this._host):this._bucket=ET(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=ET(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ka(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new g4(Zx());{const c=C4(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const ST="@firebase/storage",xT="0.14.0";const f1="storage";function uL(n,e,t){return n=st(n),nL(n,e,t)}function cL(n){return n=st(n),iL(n)}function dL(n,e){return n=st(n),oL(n,e)}function hL(n=Xg(),e){n=st(n);const r=rl(n,f1).getImmediate({identifier:e}),a=vE("storage");return a&&fL(r,...a),r}function fL(n,e,t,r={}){lL(n,e,t,r)}function mL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Gy(t,r,a,e,za)}function pL(){Ai(new li(f1,mL,"PUBLIC").setMultipleInstances(!0)),Nn(ST,xT,""),Nn(ST,xT,"esm2020")}pL();const m1="@firebase/installations",$y="0.6.19";const p1=1e4,g1=`w:${$y}`,y1="FIS_v2",gL="https://firebaseinstallations.googleapis.com/v1",yL=3600*1e3,vL="installations",_L="Installations";const bL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new Ua(vL,_L,bL);function v1(n){return n instanceof ci&&n.code.includes("request-failed")}function _1({projectId:n}){return`${gL}/projects/${n}/installations`}function b1(n){return{token:n.token,requestStatus:2,expiresIn:TL(n.expiresIn),creationTime:Date.now()}}async function w1(n,e){const r=(await e.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function T1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function wL(n,{refreshToken:e}){const t=T1(n);return t.append("Authorization",EL(e)),t}async function E1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function TL(n){return Number(n.replace("s","000"))}function EL(n){return`${y1} ${n}`}async function SL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=_1(n),a=T1(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:t,authVersion:y1,appId:n.appId,sdkVersion:g1},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await E1(()=>fetch(r,f));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:b1(p.authToken)}}else throw await w1("Create Installation",h)}function S1(n){return new Promise(e=>{setTimeout(e,n)})}function xL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const AL=/^[cdef][\w-]{21}$/,Mg="";function CL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=RL(n);return AL.test(t)?t:Mg}catch{return Mg}}function RL(n){return xL(n).substr(0,22)}function yf(n){return`${n.appName}!${n.appId}`}const x1=new Map;function A1(n,e){const t=yf(n);C1(t,e),IL(t,e)}function C1(n,e){const t=x1.get(n);if(t)for(const r of t)r(e)}function IL(n,e){const t=NL();t&&t.postMessage({key:n,fid:e}),OL()}let xa=null;function NL(){return!xa&&"BroadcastChannel"in self&&(xa=new BroadcastChannel("[Firebase] FID Change"),xa.onmessage=n=>{C1(n.data.key,n.data.fid)}),xa}function OL(){x1.size===0&&xa&&(xa.close(),xa=null)}const DL="firebase-installations-database",ML=1,La="firebase-installations-store";let Fp=null;function Yy(){return Fp||(Fp=CE(DL,ML,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(La)}}})),Fp}async function Lh(n,e){const t=yf(n),a=(await Yy()).transaction(La,"readwrite"),l=a.objectStore(La),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&A1(n,e.fid),e}async function R1(n){const e=yf(n),r=(await Yy()).transaction(La,"readwrite");await r.objectStore(La).delete(e),await r.done}async function vf(n,e){const t=yf(n),a=(await Yy()).transaction(La,"readwrite"),l=a.objectStore(La),c=await l.get(t),f=e(c);return f===void 0?await l.delete(t):await l.put(f,t),await a.done,f&&(!c||c.fid!==f.fid)&&A1(n,f.fid),f}async function Ky(n){let e;const t=await vf(n.appConfig,r=>{const a=kL(r),l=PL(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Mg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function kL(n){const e=n||{fid:CL(),registrationStatus:0};return I1(e)}function PL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Pa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=LL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jL(n)}:{installationEntry:e}}async function LL(n,e){try{const t=await SL(n,e);return Lh(n.appConfig,t)}catch(t){throw v1(t)&&t.customData.serverCode===409?await R1(n.appConfig):await Lh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function jL(n){let e=await AT(n.appConfig);for(;e.registrationStatus===1;)await S1(100),e=await AT(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Ky(n);return r||t}return e}function AT(n){return vf(n,e=>{if(!e)throw Pa.create("installation-not-found");return I1(e)})}function I1(n){return VL(n)?{fid:n.fid,registrationStatus:0}:n}function VL(n){return n.registrationStatus===1&&n.registrationTime+p1<Date.now()}async function UL({appConfig:n,heartbeatServiceProvider:e},t){const r=zL(n,t),a=wL(n,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:g1,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await E1(()=>fetch(r,f));if(h.ok){const p=await h.json();return b1(p)}else throw await w1("Generate Auth Token",h)}function zL(n,{fid:e}){return`${_1(n)}/${e}/authTokens:generate`}async function Qy(n,e=!1){let t;const r=await vf(n.appConfig,l=>{if(!N1(l))throw Pa.create("not-registered");const c=l.authToken;if(!e&&qL(c))return l;if(c.requestStatus===1)return t=BL(n,e),l;{if(!navigator.onLine)throw Pa.create("app-offline");const f=GL(l);return t=FL(n,f),f}});return t?await t:r.authToken}async function BL(n,e){let t=await CT(n.appConfig);for(;t.authToken.requestStatus===1;)await S1(100),t=await CT(n.appConfig);const r=t.authToken;return r.requestStatus===0?Qy(n,e):r}function CT(n){return vf(n,e=>{if(!N1(e))throw Pa.create("not-registered");const t=e.authToken;return $L(t)?{...e,authToken:{requestStatus:0}}:e})}async function FL(n,e){try{const t=await UL(n,e),r={...e,authToken:t};return await Lh(n.appConfig,r),t}catch(t){if(v1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await R1(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Lh(n.appConfig,r)}throw t}}function N1(n){return n!==void 0&&n.registrationStatus===2}function qL(n){return n.requestStatus===2&&!HL(n)}function HL(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+yL}function GL(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function $L(n){return n.requestStatus===1&&n.requestTime+p1<Date.now()}async function YL(n){const e=n,{installationEntry:t,registrationPromise:r}=await Ky(e);return r?r.catch(console.error):Qy(e).catch(console.error),t.fid}async function KL(n,e=!1){const t=n;return await QL(t),(await Qy(t,e)).token}async function QL(n){const{registrationPromise:e}=await Ky(n);e&&await e}function XL(n){if(!n||!n.options)throw qp("App Configuration");if(!n.name)throw qp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw qp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function qp(n){return Pa.create("missing-app-config-values",{valueName:n})}const O1="installations",WL="installations-internal",JL=n=>{const e=n.getProvider("app").getImmediate(),t=XL(e),r=rl(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ZL=n=>{const e=n.getProvider("app").getImmediate(),t=rl(e,O1).getImmediate();return{getId:()=>YL(t),getToken:a=>KL(t,a)}};function ej(){Ai(new li(O1,JL,"PUBLIC")),Ai(new li(WL,ZL,"PRIVATE"))}ej();Nn(m1,$y);Nn(m1,$y,"esm2020");const RT="analytics",tj="firebase_id",nj="origin",ij=60*1e3,rj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xy="https://www.googletagmanager.com/gtag/js";const pn=new Hh("@firebase/analytics");const sj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ai=new Ua("analytics","Analytics",sj);function aj(n){if(!n.startsWith(Xy)){const e=ai.create("invalid-gtag-resource",{gtagURL:n});return pn.warn(e.message),""}return n}function D1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function oj(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function lj(n,e){const t=oj("firebase-js-sdk-policy",{createScriptURL:aj}),r=document.createElement("script"),a=`${Xy}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function uj(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function cj(n,e,t,r,a,l){const c=r[a];try{if(c)await e[c];else{const h=(await D1(t)).find(p=>p.measurementId===a);h&&await e[h.appId]}}catch(f){pn.error(f)}n("config",a,l)}async function dj(n,e,t,r,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const f=await D1(t);for(const h of c){const p=f.find(_=>_.measurementId===h),v=p&&e[p.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,a||{})}catch(l){pn.error(l)}}function hj(n,e,t,r){async function a(l,...c){try{if(l==="event"){const[f,h]=c;await dj(n,e,t,f,h)}else if(l==="config"){const[f,h]=c;await cj(n,e,t,r,f,h)}else if(l==="consent"){const[f,h]=c;n("consent",f,h)}else if(l==="get"){const[f,h,p]=c;n("get",f,h,p)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){pn.error(f)}}return a}function fj(n,e,t,r,a){let l=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=hj(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function mj(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Xy)&&t.src.includes(n))return t;return null}const pj=30,gj=1e3;class yj{constructor(e={},t=gj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const M1=new yj;function vj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function _j(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:vj(t)},a=rj.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();f.error?.message&&(c=f.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function bj(n,e=M1,t){const{appId:r,apiKey:a,measurementId:l}=n.options;if(!r)throw ai.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw ai.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Ej;return setTimeout(async()=>{f.abort()},ij),k1({appId:r,apiKey:a,measurementId:l},c,f,e)}async function k1(n,{throttleEndTimeMillis:e,backoffCount:t},r,a=M1){const{appId:l,measurementId:c}=n;try{await wj(r,e)}catch(f){if(c)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw f}try{const f=await _j(n);return a.deleteThrottleMetadata(l),f}catch(f){const h=f;if(!Tj(h)){if(a.deleteThrottleMetadata(l),c)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:c};throw f}const p=Number(h?.customData?.httpStatus)===503?Gb(t,a.intervalMillis,pj):Gb(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return a.setThrottleMetadata(l,v),pn.debug(`Calling attemptFetch again in ${p} millis`),k1(n,v,r,a)}}function wj(n,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),r(ai.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Tj(n){if(!(n instanceof ci)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Ej{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Sj(n,e,t,r,a){if(a&&a.global){n("event",t,r);return}else{const l=await e,c={...r,send_to:l};n("event",t,c)}}async function xj(n,e,t,r){if(r&&r.global){const a={};for(const l of Object.keys(t))a[`user_properties.${l}`]=t[l];return n("set",a),Promise.resolve()}else{const a=await e;n("config",a,{update:!0,user_properties:t})}}async function Aj(){if(EE())try{await SE()}catch(n){return pn.warn(ai.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return pn.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Cj(n,e,t,r,a,l,c){const f=bj(n);f.then(E=>{t[E.measurementId]=E.appId,n.options.measurementId&&E.measurementId!==n.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>pn.error(E)),e.push(f);const h=Aj().then(E=>{if(E)return r.getId()}),[p,v]=await Promise.all([f,h]);mj(l)||lj(l,p.measurementId),a("js",new Date);const _=c?.config??{};return _[nj]="firebase",_.update=!0,v!=null&&(_[tj]=v),a("config",p.measurementId,_),p.measurementId}class Rj{constructor(e){this.app=e}_delete(){return delete $o[this.app.options.appId],Promise.resolve()}}let $o={},IT=[];const NT={};let Hp="dataLayer",Ij="gtag",OT,Wy,DT=!1;function Nj(){const n=[];if(TE()&&n.push("This is a browser extension environment."),a2()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=ai.create("invalid-analytics-context",{errorInfo:e});pn.warn(t.message)}}function Oj(n,e,t){Nj();const r=n.options.appId;if(!r)throw ai.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ai.create("no-api-key");if($o[r]!=null)throw ai.create("already-exists",{id:r});if(!DT){uj(Hp);const{wrappedGtag:l,gtagCore:c}=fj($o,IT,NT,Hp,Ij);Wy=l,OT=c,DT=!0}return $o[r]=Cj(n,IT,NT,e,OT,Hp,t),new Rj(n)}function Dj(n,e,t){n=st(n),xj(Wy,$o[n.app.options.appId],e,t).catch(r=>pn.error(r))}function Mj(n,e,t,r){n=st(n),Sj(Wy,$o[n.app.options.appId],e,t,r).catch(a=>pn.error(a))}const MT="@firebase/analytics",kT="0.10.19";function kj(){Ai(new li(RT,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Oj(r,a,t)},"PUBLIC")),Ai(new li("analytics-internal",n,"PRIVATE")),Nn(MT,kT),Nn(MT,kT,"esm2020");function n(e){try{const t=e.getProvider(RT).getImmediate();return{logEvent:(r,a,l)=>Mj(t,r,a,l),setUserProperties:(r,a)=>Dj(t,r,a)}}catch(t){throw ai.create("interop-component-reg-failed",{reason:t})}}}kj();const kg={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};kg.apiKey?console.info("[Firebase] Config loaded successfully. Project:",kg.projectId):console.error("Firebase config not loaded. Check your .env file.");const Jy=RE(kg),gn=BD(Jy),Bt=UP(Jy),Pj=hL(Jy),uc=Qu($g((n,e)=>({items:[],loading:!1,error:null,addItem:async t=>{const r=gn.currentUser;if(n(a=>({items:a.items.some(l=>l.id===t.id)?a.items:[...a.items,t]})),r)try{const a=mn(Bt,"wishlists",r.uid),l=e().items;await Ds(a,{items:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(a){console.error("Failed to save wishlist to Firebase:",a)}},removeItem:async t=>{n(a=>({items:a.items.filter(l=>l.id!==t)}));const r=gn.currentUser;if(r)try{const a=mn(Bt,"wishlists",r.uid),l=e().items;await Ds(a,{items:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(a){console.error("Failed to update wishlist in Firebase:",a)}},isWishlisted:t=>e().items.some(r=>r.id===t),fetchWishlist:async t=>{if(t){n({loading:!0});try{const r=mn(Bt,"wishlists",t),a=await zy(r);if(a.exists()){const l=a.data();n({items:l.items||[],loading:!1,error:null})}else n({loading:!1})}catch(r){n({error:r.message,loading:!1})}}},clear:async()=>{n({items:[]});const t=gn.currentUser;if(t)try{const r=mn(Bt,"wishlists",t.uid);await Ds(r,{items:[]},{merge:!0})}catch(r){console.error("Failed to clear wishlist:",r)}}}),{name:"wishlist"}));function Lj(){const{pathname:n}=zr(),e=ln(),t=uc(c=>c.items),{t:r}=F.useContext(Va),a=c=>n===c||c==="/products"&&n.startsWith("/products"),l=[{icon:AI,label:r("home"),path:"/"},{icon:tg,label:r("search"),path:"/products"},{icon:kI,label:r("account"),path:"/account"},{icon:DI,label:r("orders"),path:"/orders"},{icon:Fh,label:r("wishlist"),path:"/wishlist",badge:t.length}];return y.jsxs(y.Fragment,{children:[y.jsx(zI,{}),y.jsx("nav",{className:"bottom-nav fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-10 safe-area-bottom",children:y.jsx("div",{className:"max-w-6xl mx-auto flex justify-between items-stretch h-16",children:l.map(c=>{const f=c.icon,h=a(c.path);return y.jsxs("button",{onClick:()=>e(c.path),className:`flex-1 flex flex-col items-center justify-center gap-1 py-2 touch-area relative transition-colors ${h?"text-orange-600 border-t-2 border-orange-600 bg-orange-50":"text-gray-600 border-t-2 border-transparent hover:text-gray-900"}`,"aria-label":c.label,"aria-current":h?"page":void 0,children:[y.jsx(f,{size:20}),y.jsx("span",{className:"text-xs font-medium truncate",children:c.label}),c.badge&&c.badge>0&&y.jsx("span",{className:"absolute top-1 right-2 bg-orange-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:c.badge>99?"99+":c.badge})]},c.path)})})})]})}function jj({isOpen:n,onClose:e}){const t=ln(),{items:r,removeItem:a,updateQty:l}=zs(),c=r.reduce((p,v)=>p+v.price*(v.qty||1),0),f=r.reduce((p,v)=>p+(v.qty||1),0),h=()=>{e(),t("/checkout")};return n?y.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[y.jsx("div",{onClick:e,className:"flex-1 bg-black bg-opacity-50 backdrop-blur-sm"}),y.jsxs("div",{className:"w-full sm:max-w-md bg-white shadow-2xl flex flex-col",children:[y.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 bg-gradient-to-r from-orange-600 to-orange-700 flex items-center justify-between sticky top-0 z-10 safe-area-top",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ra,{className:"text-white",size:20}),y.jsx("h2",{className:"font-bold text-base sm:text-lg text-white",children:"Cart"}),f>0&&y.jsx("span",{className:"bg-yellow-400 text-orange-700 text-xs font-bold px-2 py-0.5 rounded-full",children:f})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-orange-500 rounded-lg transition-colors touch-area active:opacity-70","aria-label":"close cart",children:y.jsx(Ko,{size:20,className:"text-white"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto scrollable",children:r.length===0?y.jsxs("div",{className:"p-4 sm:p-6 text-center flex flex-col items-center justify-center h-full",children:[y.jsx(Ra,{size:48,className:"text-gray-300 mb-3"}),y.jsx("p",{className:"text-gray-600 font-semibold text-sm",children:"Your cart is empty"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add products to get started"}),y.jsx("button",{onClick:()=>{e(),t("/products")},className:"mt-4 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold active:opacity-70 touch-area min-h-[44px]",children:"Start Shopping"})]}):y.jsx("div",{className:"divide-y divide-gray-200",children:r.map(p=>y.jsxs("div",{className:"p-3 sm:p-4 active:bg-gray-50",children:[y.jsxs("div",{className:"flex gap-3 mb-3",children:[y.jsx("div",{className:"w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:p.image?y.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"Img"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"font-semibold text-xs sm:text-sm text-gray-900 line-clamp-2",children:p.name}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.category||"Product"}),y.jsxs("p",{className:"text-orange-600 font-bold mt-1.5 text-sm",children:["",p.price]})]}),y.jsx("button",{onClick:()=>a(p.id),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors flex-shrink-0 active:opacity-70 touch-area","aria-label":"remove item",children:y.jsx(Ko,{size:16,className:"text-red-500"})})]}),y.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[y.jsxs("div",{className:"flex items-center gap-1.5 border border-gray-300 rounded-lg",children:[y.jsx("button",{onClick:()=>l(p.id,Math.max(1,(p.qty||1)-1)),className:"p-1.5 text-gray-600 active:bg-orange-50 touch-area min-h-[40px] min-w-[40px]","aria-label":"decrease quantity",children:y.jsx(II,{size:14})}),y.jsx("span",{className:"w-8 text-center text-sm font-semibold text-gray-900",children:p.qty||1}),y.jsx("button",{onClick:()=>l(p.id,(p.qty||1)+1),className:"p-1.5 text-gray-600 active:bg-orange-50 touch-area min-h-[40px] min-w-[40px]","aria-label":"increase quantity",children:y.jsx(hE,{size:14})})]}),y.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["",(p.price*(p.qty||1)).toFixed(0)]})]})]},p.id))})}),r.length>0&&y.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-gradient-to-t from-gray-50 space-y-2.5 sticky bottom-0 safe-area-bottom",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-gray-700 font-medium text-sm",children:"Subtotal:"}),y.jsxs("span",{className:"text-lg sm:text-xl font-bold text-orange-600",children:["",c.toFixed(0)]})]}),y.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Shipping & taxes at checkout"}),y.jsx("button",{onClick:h,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-bold active:opacity-90 touch-area min-h-[48px] text-sm transition",children:"Checkout"}),y.jsx("button",{onClick:e,className:"w-full bg-gray-100 text-gray-900 py-2.5 rounded-lg font-semibold active:opacity-70 touch-area min-h-[44px] text-sm transition",children:"Continue"})]})]})]}):null}function PT(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Zy(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:PT(e[r])&&PT(n[r])&&Object.keys(e[r]).length>0&&Zy(n[r],e[r])})}const P1={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ha(){const n=typeof document<"u"?document:{};return Zy(n,P1),n}const Vj={document:P1,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function yn(){const n=typeof window<"u"?window:{};return Zy(n,Vj),n}function Uj(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function zj(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function L1(n,e=0){return setTimeout(n,e)}function jh(){return Date.now()}function Bj(n){const e=yn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Fj(n,e="x"){const t=yn();let r,a,l;const c=Bj(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(f=>f.replace(",",".")).join(", ")),l=new t.WebKitCSSMatrix(a==="none"?"":a)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=l.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=l.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=l.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Qd(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function qj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function zn(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<n.length;r+=1){const a=n[r];if(a!=null&&!qj(a)){const l=Object.keys(Object(a)).filter(c=>t.indexOf(c)<0);for(let c=0,f=l.length;c<f;c+=1){const h=l[c],p=Object.getOwnPropertyDescriptor(a,h);p!==void 0&&p.enumerable&&(Qd(e[h])&&Qd(a[h])?a[h].__swiper__?e[h]=a[h]:zn(e[h],a[h]):!Qd(e[h])&&Qd(a[h])?(e[h]={},a[h].__swiper__?e[h]=a[h]:zn(e[h],a[h])):e[h]=a[h])}}}return e}function Xd(n,e,t){n.style.setProperty(e,t)}function j1({swiper:n,targetPosition:e,side:t}){const r=yn(),a=-n.translate;let l=null,c;const f=n.params.speed;n.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(n.cssModeFrameID);const h=e>a?"next":"prev",p=(_,E)=>h==="next"&&_>=E||h==="prev"&&_<=E,v=()=>{c=new Date().getTime(),l===null&&(l=c);const _=Math.max(Math.min((c-l)/f,1),0),E=.5-Math.cos(_*Math.PI)/2;let S=a+E*(e-a);if(p(S,e)&&(S=e),n.wrapperEl.scrollTo({[t]:S}),p(S,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:S})}),r.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=r.requestAnimationFrame(v)};v()}function Or(n,e=""){const t=yn(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function Hj(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Gj(n,e){const t=yn();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=Hj(n,e))),r}function Vh(n){try{console.warn(n);return}catch{}}function Pg(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Uj(e)),t}function $j(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Yj(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function As(n,e){return yn().getComputedStyle(n,null).getPropertyValue(e)}function LT(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Kj(n,e){const t=[];let r=n.parentElement;for(;r;)t.push(r),r=r.parentElement;return t}function jT(n,e,t){const r=yn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function VT(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Gp;function Qj(){const n=yn(),e=Ha();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function V1(){return Gp||(Gp=Qj()),Gp}let $p;function Xj({userAgent:n}={}){const e=V1(),t=yn(),r=t.navigator.platform,a=n||t.navigator.userAgent,l={ios:!1,android:!1},c=t.screen.width,f=t.screen.height,h=a.match(/(Android);?[\s\/]+([\d.]+)?/);let p=a.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const v=a.match(/(iPod)(.*OS\s([\d_]+))?/),_=!p&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),E=r==="Win32";let S=r==="MacIntel";const O=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&S&&e.touch&&O.indexOf(`${c}x${f}`)>=0&&(p=a.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),S=!1),h&&!E&&(l.os="android",l.android=!0),(p||_||v)&&(l.os="ios",l.ios=!0),l}function U1(n={}){return $p||($p=Xj(n)),$p}let Yp;function Wj(){const n=yn(),e=U1();let t=!1;function r(){const f=n.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(r()){const f=String(n.navigator.userAgent);if(f.includes("Version/")){const[h,p]=f.split("Version/")[1].split(" ")[0].split(".").map(v=>Number(v));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),l=r(),c=l||a&&e.ios;return{isSafari:t||l,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function z1(){return Yp||(Yp=Wj()),Yp}function Jj({swiper:n,on:e,emit:t}){const r=yn();let a=null,l=null;const c=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},f=()=>{!n||n.destroyed||!n.initialized||(a=new ResizeObserver(v=>{l=r.requestAnimationFrame(()=>{const{width:_,height:E}=n;let S=_,O=E;v.forEach(({contentBoxSize:P,contentRect:k,target:L})=>{L&&L!==n.el||(S=k?k.width:(P[0]||P).inlineSize,O=k?k.height:(P[0]||P).blockSize)}),(S!==_||O!==E)&&c()})}),a.observe(n.el))},h=()=>{l&&r.cancelAnimationFrame(l),a&&a.unobserve&&n.el&&(a.unobserve(n.el),a=null)},p=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof r.ResizeObserver<"u"){f();return}r.addEventListener("resize",c),r.addEventListener("orientationchange",p)}),e("destroy",()=>{h(),r.removeEventListener("resize",c),r.removeEventListener("orientationchange",p)})}function Zj({swiper:n,extendParams:e,on:t,emit:r}){const a=[],l=yn(),c=(p,v={})=>{const _=l.MutationObserver||l.WebkitMutationObserver,E=new _(S=>{if(n.__preventObserver__)return;if(S.length===1){r("observerUpdate",S[0]);return}const O=function(){r("observerUpdate",S[0])};l.requestAnimationFrame?l.requestAnimationFrame(O):l.setTimeout(O,0)});E.observe(p,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:n.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),a.push(E)},f=()=>{if(n.params.observer){if(n.params.observeParents){const p=Kj(n.hostEl);for(let v=0;v<p.length;v+=1)c(p[v])}c(n.hostEl,{childList:n.params.observeSlideChildren}),c(n.wrapperEl,{attributes:!1})}},h=()=>{a.forEach(p=>{p.disconnect()}),a.splice(0,a.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",f),t("destroy",h)}var eV={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(l=>{r.eventsListeners[l]||(r.eventsListeners[l]=[]),r.eventsListeners[l][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(...l){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy,e.apply(r,l)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,l)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(l,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,r,a;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],r=n.slice(1,n.length),a=e):(t=n[0].events,r=n[0].data,a=n[0].context||e),r.unshift(a),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(f=>{f.apply(a,[c,...r])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(f=>{f.apply(a,r)})}),e}};function tV(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(As(r,"padding-left")||0,10)-parseInt(As(r,"padding-right")||0,10),t=t-parseInt(As(r,"padding-top")||0,10)-parseInt(As(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function nV(){const n=this;function e(I,C){return parseFloat(I.getPropertyValue(n.getDirectionLabel(C))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,rtlTranslate:l,wrongRTL:c}=n,f=n.virtual&&t.virtual.enabled,h=f?n.virtual.slides.length:n.slides.length,p=Or(a,`.${n.params.slideClass}, swiper-slide`),v=f?n.virtual.slides.length:p.length;let _=[];const E=[],S=[];let O=t.slidesOffsetBefore;typeof O=="function"&&(O=t.slidesOffsetBefore.call(n));let P=t.slidesOffsetAfter;typeof P=="function"&&(P=t.slidesOffsetAfter.call(n));const k=n.snapGrid.length,L=n.slidesGrid.length,U=n.size-O-P;let B=t.spaceBetween,X=-O,ee=0,re=0;if(typeof U>"u")return;typeof B=="string"&&B.indexOf("%")>=0?B=parseFloat(B.replace("%",""))/100*U:typeof B=="string"&&(B=parseFloat(B)),n.virtualSize=-B-O-P,p.forEach(I=>{l?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Xd(r,"--swiper-centered-offset-before",""),Xd(r,"--swiper-centered-offset-after",""));const D=t.grid&&t.grid.rows>1&&n.grid;D?n.grid.initSlides(p):n.grid&&n.grid.unsetSlides();let x;const M=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(I=>typeof t.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<v;I+=1){x=0;const C=p[I];if(!(C&&(D&&n.grid.updateSlide(I,C,p),As(C,"display")==="none"))){if(f&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(x=t.virtual.slidesPerViewAutoSlideSize),x&&C&&(t.roundLengths&&(x=Math.floor(x)),C.style[n.getDirectionLabel("width")]=`${x}px`);else if(t.slidesPerView==="auto"){M&&(C.style[n.getDirectionLabel("width")]="");const z=getComputedStyle(C),N=C.style.transform,de=C.style.webkitTransform;if(N&&(C.style.transform="none"),de&&(C.style.webkitTransform="none"),t.roundLengths)x=n.isHorizontal()?jT(C,"width"):jT(C,"height");else{const ce=e(z,"width"),q=e(z,"padding-left"),J=e(z,"padding-right"),$=e(z,"margin-left"),le=e(z,"margin-right"),fe=z.getPropertyValue("box-sizing");if(fe&&fe==="border-box")x=ce+$+le;else{const{clientWidth:j,offsetWidth:ne}=C;x=ce+q+J+$+le+(ne-j)}}N&&(C.style.transform=N),de&&(C.style.webkitTransform=de),t.roundLengths&&(x=Math.floor(x))}else x=(U-(t.slidesPerView-1)*B)/t.slidesPerView,t.roundLengths&&(x=Math.floor(x)),C&&(C.style[n.getDirectionLabel("width")]=`${x}px`);C&&(C.swiperSlideSize=x),S.push(x),t.centeredSlides?(X=X+x/2+ee/2+B,ee===0&&I!==0&&(X=X-U/2-B),I===0&&(X=X-U/2-B),Math.abs(X)<1/1e3&&(X=0),t.roundLengths&&(X=Math.floor(X)),re%t.slidesPerGroup===0&&_.push(X),E.push(X)):(t.roundLengths&&(X=Math.floor(X)),(re-Math.min(n.params.slidesPerGroupSkip,re))%n.params.slidesPerGroup===0&&_.push(X),E.push(X),X=X+x+B),n.virtualSize+=x+B,ee=x,re+=1}}if(n.virtualSize=Math.max(n.virtualSize,U)+P,l&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+B}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+B}px`),D&&n.grid.updateWrapperSize(x,_),!t.centeredSlides){const I=[];for(let C=0;C<_.length;C+=1){let z=_[C];t.roundLengths&&(z=Math.floor(z)),_[C]<=n.virtualSize-U&&I.push(z)}_=I,Math.floor(n.virtualSize-U)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-U)}if(f&&t.loop){const I=S[0]+B;if(t.slidesPerGroup>1){const C=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),z=I*t.slidesPerGroup;for(let N=0;N<C;N+=1)_.push(_[_.length-1]+z)}for(let C=0;C<n.virtual.slidesBefore+n.virtual.slidesAfter;C+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+I),E.push(E[E.length-1]+I),n.virtualSize+=I}if(_.length===0&&(_=[0]),B!==0){const I=n.isHorizontal()&&l?"marginLeft":n.getDirectionLabel("marginRight");p.filter((C,z)=>!t.cssMode||t.loop?!0:z!==p.length-1).forEach(C=>{C.style[I]=`${B}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let I=0;S.forEach(z=>{I+=z+(B||0)}),I-=B;const C=I>U?I-U:0;_=_.map(z=>z<=0?-O:z>C?C+P:z)}if(t.centerInsufficientSlides){let I=0;S.forEach(z=>{I+=z+(B||0)}),I-=B;const C=(O||0)+(P||0);if(I+C<U){const z=(U-I-C)/2;_.forEach((N,de)=>{_[de]=N-z}),E.forEach((N,de)=>{E[de]=N+z})}}if(Object.assign(n,{slides:p,snapGrid:_,slidesGrid:E,slidesSizesGrid:S}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Xd(r,"--swiper-centered-offset-before",`${-_[0]}px`),Xd(r,"--swiper-centered-offset-after",`${n.size/2-S[S.length-1]/2}px`);const I=-n.snapGrid[0],C=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(z=>z+I),n.slidesGrid=n.slidesGrid.map(z=>z+C)}if(v!==h&&n.emit("slidesLengthChange"),_.length!==k&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),E.length!==L&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const I=`${t.containerModifierClass}backface-hidden`,C=n.el.classList.contains(I);v<=t.maxBackfaceHiddenSlides?C||n.el.classList.add(I):C&&n.el.classList.remove(I)}}function iV(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,l;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{t.push(f)});else for(l=0;l<Math.ceil(e.params.slidesPerView);l+=1){const f=e.activeIndex+l;if(f>e.slides.length&&!r)break;t.push(c(f))}else t.push(c(e.activeIndex));for(l=0;l<t.length;l+=1)if(typeof t[l]<"u"){const f=t[l].offsetHeight;a=f>a?f:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function rV(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const UT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function sV(n=this&&this.translate||0){const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:l}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=t.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let h=0;h<r.length;h+=1){const p=r[h];let v=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(v-=r[0].swiperSlideOffset);const _=(c+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+f),E=(c-l[0]+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+f),S=-(c-v),O=S+e.slidesSizesGrid[h],P=S>=0&&S<=e.size-e.slidesSizesGrid[h],k=S>=0&&S<e.size-1||O>1&&O<=e.size||S<=0&&O>=e.size;k&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),UT(p,k,t.slideVisibleClass),UT(p,P,t.slideFullyVisibleClass),p.progress=a?-_:_,p.originalProgress=a?-E:E}}function aV(n){const e=this;if(typeof n>"u"){const v=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*v||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:l,isEnd:c,progressLoop:f}=e;const h=l,p=c;if(r===0)a=0,l=!0,c=!0;else{a=(n-e.minTranslate())/r;const v=Math.abs(n-e.minTranslate())<1,_=Math.abs(n-e.maxTranslate())<1;l=v||a<=0,c=_||a>=1,v&&(a=0),_&&(a=1)}if(t.loop){const v=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[v],S=e.slidesGrid[_],O=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=E?f=(P-E)/O:f=(P+O-S)/O,f>1&&(f-=1)}Object.assign(e,{progress:a,progressLoop:f,isBeginning:l,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),l&&!h&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(h&&!l||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const Kp=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function oV(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,l=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,f=_=>Or(r,`.${t.slideClass}${_}, swiper-slide${_}`)[0];let h,p,v;if(l)if(t.loop){let _=a-n.virtual.slidesBefore;_<0&&(_=n.virtual.slides.length+_),_>=n.virtual.slides.length&&(_-=n.virtual.slides.length),h=f(`[data-swiper-slide-index="${_}"]`)}else h=f(`[data-swiper-slide-index="${a}"]`);else c?(h=e.find(_=>_.column===a),v=e.find(_=>_.column===a+1),p=e.find(_=>_.column===a-1)):h=e[a];h&&(c||(v=Yj(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v&&(v=e[0]),p=$j(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(_=>{Kp(_,_===h,t.slideActiveClass),Kp(_,_===v,t.slideNextClass),Kp(_,_===p,t.slidePrevClass)}),n.emitSlidesClasses()}const ch=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},Qp=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Lg=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,f=[c-e];f.push(...Array.from({length:e}).map((h,p)=>c+r+p)),n.slides.forEach((h,p)=>{f.includes(h.column)&&Qp(n,p)});return}const l=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=l+e;c+=1){const f=(c%t+t)%t;(f<a||f>l)&&Qp(n,f)}else for(let c=Math.max(a-e,0);c<=Math.min(l+e,t-1);c+=1)c!==a&&(c>l||c<a)&&Qp(n,c)};function lV(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let l=0;l<e.length;l+=1)typeof e[l+1]<"u"?r>=e[l]&&r<e[l+1]-(e[l+1]-e[l])/2?a=l:r>=e[l]&&r<e[l+1]&&(a=l+1):r>=e[l]&&(a=l);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function uV(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:l,realIndex:c,snapIndex:f}=e;let h=n,p;const v=S=>{let O=S-e.virtual.slidesBefore;return O<0&&(O=e.virtual.slides.length+O),O>=e.virtual.slides.length&&(O-=e.virtual.slides.length),O};if(typeof h>"u"&&(h=lV(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const S=Math.min(a.slidesPerGroupSkip,h);p=S+Math.floor((h-S)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===l&&!e.params.loop){p!==f&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===l&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=v(h);return}const _=e.grid&&a.grid&&a.grid.rows>1;let E;if(e.virtual&&a.virtual.enabled&&a.loop)E=v(h);else if(_){const S=e.slides.find(P=>P.column===h);let O=parseInt(S.getAttribute("data-swiper-slide-index"),10);Number.isNaN(O)&&(O=Math.max(e.slides.indexOf(S),0)),E=Math.floor(O/a.grid.rows)}else if(e.slides[h]){const S=e.slides[h].getAttribute("data-swiper-slide-index");S?E=parseInt(S,10):E=h}else E=h;Object.assign(e,{previousSnapIndex:f,snapIndex:p,previousRealIndex:c,realIndex:E,previousIndex:l,activeIndex:h}),e.initialized&&Lg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==E&&e.emit("realIndexChange"),e.emit("slideChange"))}function cV(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(f=>{!a&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(a=f)});let l=!1,c;if(a){for(let f=0;f<t.slides.length;f+=1)if(t.slides[f]===a){l=!0,c=f;break}}if(a&&l)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var dV={updateSize:tV,updateSlides:nV,updateAutoHeight:iV,updateSlidesOffset:rV,updateSlidesProgress:sV,updateProgress:aV,updateSlidesClasses:oV,updateActiveIndex:uV,updateClickedSlide:cV};function hV(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:l}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=Fj(l,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function fV(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:l,progress:c}=t;let f=0,h=0;const p=0;t.isHorizontal()?f=r?-n:n:h=n,a.roundLengths&&(f=Math.floor(f),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:h,a.cssMode?l[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-h:a.virtualTranslate||(t.isHorizontal()?f-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),l.style.transform=`translate3d(${f}px, ${h}px, ${p}px)`);let v;const _=t.maxTranslate()-t.minTranslate();_===0?v=0:v=(n-t.minTranslate())/_,v!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function mV(){return-this.snapGrid[0]}function pV(){return-this.snapGrid[this.snapGrid.length-1]}function gV(n=0,e=this.params.speed,t=!0,r=!0,a){const l=this,{params:c,wrapperEl:f}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const h=l.minTranslate(),p=l.maxTranslate();let v;if(r&&n>h?v=h:r&&n<p?v=p:v=n,l.updateProgress(v),c.cssMode){const _=l.isHorizontal();if(e===0)f[_?"scrollLeft":"scrollTop"]=-v;else{if(!l.support.smoothScroll)return j1({swiper:l,targetPosition:-v,side:_?"left":"top"}),!0;f.scrollTo({[_?"left":"top"]:-v,behavior:"smooth"})}return!0}return e===0?(l.setTransition(0),l.setTranslate(v),t&&(l.emit("beforeTransitionStart",e,a),l.emit("transitionEnd"))):(l.setTransition(e),l.setTranslate(v),t&&(l.emit("beforeTransitionStart",e,a),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(E){!l||l.destroyed||E.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,l.animating=!1,t&&l.emit("transitionEnd"))}),l.wrapperEl.addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd))),!0}var yV={getTranslate:hV,setTranslate:fV,minTranslate:mV,maxTranslate:pV,translateTo:gV};function vV(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function B1({swiper:n,runCallbacks:e,direction:t,step:r}){const{activeIndex:a,previousIndex:l}=n;let c=t;c||(a>l?c="next":a<l?c="prev":c="reset"),n.emit(`transition${r}`),e&&c==="reset"?n.emit(`slideResetTransition${r}`):e&&a!==l&&(n.emit(`slideChangeTransition${r}`),c==="next"?n.emit(`slideNextTransition${r}`):n.emit(`slidePrevTransition${r}`))}function _V(n=!0,e){const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),B1({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function bV(n=!0,e){const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),B1({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var wV={setTransition:vV,transitionStart:_V,transitionEnd:bV};function TV(n=0,e,t=!0,r,a){typeof n=="string"&&(n=parseInt(n,10));const l=this;let c=n;c<0&&(c=0);const{params:f,snapGrid:h,slidesGrid:p,previousIndex:v,activeIndex:_,rtlTranslate:E,wrapperEl:S,enabled:O}=l;if(!O&&!r&&!a||l.destroyed||l.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=l.params.speed);const P=Math.min(l.params.slidesPerGroupSkip,c);let k=P+Math.floor((c-P)/l.params.slidesPerGroup);k>=h.length&&(k=h.length-1);const L=-h[k];if(f.normalizeSlideIndex)for(let D=0;D<p.length;D+=1){const x=-Math.floor(L*100),M=Math.floor(p[D]*100),I=Math.floor(p[D+1]*100);typeof p[D+1]<"u"?x>=M&&x<I-(I-M)/2?c=D:x>=M&&x<I&&(c=D+1):x>=M&&(c=D)}if(l.initialized&&c!==_&&(!l.allowSlideNext&&(E?L>l.translate&&L>l.minTranslate():L<l.translate&&L<l.minTranslate())||!l.allowSlidePrev&&L>l.translate&&L>l.maxTranslate()&&(_||0)!==c))return!1;c!==(v||0)&&t&&l.emit("beforeSlideChangeStart"),l.updateProgress(L);let U;c>_?U="next":c<_?U="prev":U="reset";const B=l.virtual&&l.params.virtual.enabled;if(!(B&&a)&&(E&&-L===l.translate||!E&&L===l.translate))return l.updateActiveIndex(c),f.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),f.effect!=="slide"&&l.setTranslate(L),U!=="reset"&&(l.transitionStart(t,U),l.transitionEnd(t,U)),!1;if(f.cssMode){const D=l.isHorizontal(),x=E?L:-L;if(e===0)B&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),B&&!l._cssModeVirtualInitialSet&&l.params.initialSlide>0?(l._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{S[D?"scrollLeft":"scrollTop"]=x})):S[D?"scrollLeft":"scrollTop"]=x,B&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._immediateVirtual=!1});else{if(!l.support.smoothScroll)return j1({swiper:l,targetPosition:x,side:D?"left":"top"}),!0;S.scrollTo({[D?"left":"top"]:x,behavior:"smooth"})}return!0}const re=z1().isSafari;return B&&!a&&re&&l.isElement&&l.virtual.update(!1,!1,c),l.setTransition(e),l.setTranslate(L),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",e,r),l.transitionStart(t,U),e===0?l.transitionEnd(t,U):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(x){!l||l.destroyed||x.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(t,U))}),l.wrapperEl.addEventListener("transitionend",l.onSlideToWrapperTransitionEnd)),!0}function EV(n=0,e,t=!0,r){typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const l=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let f;if(l){const P=c*a.params.grid.rows;f=a.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===P).column}else f=a.getSlideIndexByData(c);const h=l?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p,slidesOffsetBefore:v,slidesOffsetAfter:_}=a.params,E=p||!!v||!!_;let S=a.params.slidesPerView;S==="auto"?S=a.slidesPerViewDynamic():(S=Math.ceil(parseFloat(a.params.slidesPerView,10)),E&&S%2===0&&(S=S+1));let O=h-f<S;if(E&&(O=O||f<Math.ceil(S/2)),r&&E&&a.params.slidesPerView!=="auto"&&!l&&(O=!1),O){const P=E?f<a.activeIndex?"prev":"next":f-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:P,slideTo:!0,activeSlideIndex:P==="next"?f+1:f-h+1,slideRealIndex:P==="next"?a.realIndex:void 0})}if(l){const P=c*a.params.grid.rows;c=a.slides.find(k=>k.getAttribute("data-swiper-slide-index")*1===P).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function SV(n,e=!0,t){const r=this,{enabled:a,params:l,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let f=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<l.slidesPerGroupSkip?1:f,p=r.virtual&&l.virtual.enabled;if(l.loop){if(c&&!p&&l.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&l.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return l.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function xV(n,e=!0,t){const r=this,{params:a,snapGrid:l,slidesGrid:c,rtlTranslate:f,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const v=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!v&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const _=f?r.translate:-r.translate;function E(U){return U<0?-Math.floor(Math.abs(U)):Math.floor(U)}const S=E(_),O=l.map(U=>E(U)),P=a.freeMode&&a.freeMode.enabled;let k=l[O.indexOf(S)-1];if(typeof k>"u"&&(a.cssMode||P)){let U;l.forEach((B,X)=>{S>=B&&(U=X)}),typeof U<"u"&&(k=P?l[U]:l[U>0?U-1:U])}let L=0;if(typeof k<"u"&&(L=c.indexOf(k),L<0&&(L=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(L=L-r.slidesPerViewDynamic("previous",!0)+1,L=Math.max(L,0))),a.rewind&&r.isBeginning){const U=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(U,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(L,n,e,t)}),!0;return r.slideTo(L,n,e,t)}function AV(n,e=!0,t){const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function CV(n,e=!0,t,r=.5){const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let l=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,l),f=c+Math.floor((l-c)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[f]){const p=a.snapGrid[f],v=a.snapGrid[f+1];h-p>(v-p)*r&&(l+=a.params.slidesPerGroup)}else{const p=a.snapGrid[f-1],v=a.snapGrid[f];h-p<=(v-p)*r&&(l-=a.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,a.slidesGrid.length-1),a.slideTo(l,n,e,t)}function RV(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.getSlideIndexWhenGrid(n.clickedIndex),l;const c=n.isElement?"swiper-slide":`.${e.slideClass}`,f=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;l=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(l):a>(f?(n.slides.length-r)/2-(n.params.grid.rows-1):n.slides.length-r)?(n.loopFix(),a=n.getSlideIndex(Or(t,`${c}[data-swiper-slide-index="${l}"]`)[0]),L1(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var IV={slideTo:TV,slideToLoop:EV,slideNext:SV,slidePrev:xV,slideReset:AV,slideToClosest:CV,slideToClickedSlide:RV};function NV(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const l=()=>{Or(a,`.${r.slideClass}, swiper-slide`).forEach((O,P)=>{O.setAttribute("data-swiper-slide-index",P)})},c=()=>{const S=Or(a,`.${r.slideBlankClass}`);S.forEach(O=>{O.remove()}),S.length>0&&(t.recalcSlides(),t.updateSlides())},f=t.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||f)&&c();const h=r.slidesPerGroup*(f?r.grid.rows:1),p=t.slides.length%h!==0,v=f&&t.slides.length%r.grid.rows!==0,_=S=>{for(let O=0;O<S;O+=1){const P=t.isElement?Pg("swiper-slide",[r.slideBlankClass]):Pg("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(P)}};if(p){if(r.loopAddBlankSlides){const S=h-t.slides.length%h;_(S),t.recalcSlides(),t.updateSlides()}else Vh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else if(v){if(r.loopAddBlankSlides){const S=r.grid.rows-t.slides.length%r.grid.rows;_(S),t.recalcSlides(),t.updateSlides()}else Vh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else l();const E=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:E?void 0:"next",initial:e})}function OV({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:r,activeSlideIndex:a,initial:l,byController:c,byMousewheel:f}={}){const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:p,allowSlidePrev:v,allowSlideNext:_,slidesEl:E,params:S}=h,{centeredSlides:O,slidesOffsetBefore:P,slidesOffsetAfter:k,initialSlide:L}=S,U=O||!!P||!!k;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&S.virtual.enabled){e&&(!U&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):U&&h.snapIndex<S.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=v,h.allowSlideNext=_,h.emit("loopFix");return}let B=S.slidesPerView;B==="auto"?B=h.slidesPerViewDynamic():(B=Math.ceil(parseFloat(S.slidesPerView,10)),U&&B%2===0&&(B=B+1));const X=S.slidesPerGroupAuto?B:S.slidesPerGroup;let ee=U?Math.max(X,Math.ceil(B/2)):X;ee%X!==0&&(ee+=X-ee%X),ee+=S.loopAdditionalSlides,h.loopedSlides=ee;const re=h.grid&&S.grid&&S.grid.rows>1;p.length<B+ee||h.params.effect==="cards"&&p.length<B+ee*2?Vh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):re&&S.grid.fill==="row"&&Vh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const D=[],x=[],M=re?Math.ceil(p.length/S.grid.rows):p.length,I=l&&M-L<B&&!U;let C=I?L:h.activeIndex;typeof a>"u"?a=h.getSlideIndex(p.find($=>$.classList.contains(S.slideActiveClass))):C=a;const z=t==="next"||!t,N=t==="prev"||!t;let de=0,ce=0;const J=(re?p[a].column:a)+(U&&typeof r>"u"?-B/2+.5:0);if(J<ee){de=Math.max(ee-J,X);for(let $=0;$<ee-J;$+=1){const le=$-Math.floor($/M)*M;if(re){const fe=M-le-1;for(let j=p.length-1;j>=0;j-=1)p[j].column===fe&&D.push(j)}else D.push(M-le-1)}}else if(J+B>M-ee){ce=Math.max(J-(M-ee*2),X),I&&(ce=Math.max(ce,B-M+L+1));for(let $=0;$<ce;$+=1){const le=$-Math.floor($/M)*M;re?p.forEach((fe,j)=>{fe.column===le&&x.push(j)}):x.push(le)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&p.length<B+ee*2&&(x.includes(a)&&x.splice(x.indexOf(a),1),D.includes(a)&&D.splice(D.indexOf(a),1)),N&&D.forEach($=>{p[$].swiperLoopMoveDOM=!0,E.prepend(p[$]),p[$].swiperLoopMoveDOM=!1}),z&&x.forEach($=>{p[$].swiperLoopMoveDOM=!0,E.append(p[$]),p[$].swiperLoopMoveDOM=!1}),h.recalcSlides(),S.slidesPerView==="auto"?h.updateSlides():re&&(D.length>0&&N||x.length>0&&z)&&h.slides.forEach(($,le)=>{h.grid.updateSlide(le,$,h.slides)}),S.watchSlidesProgress&&h.updateSlidesOffset(),e){if(D.length>0&&N){if(typeof n>"u"){const $=h.slidesGrid[C],fe=h.slidesGrid[C+de]-$;f?h.setTranslate(h.translate-fe):(h.slideTo(C+Math.ceil(de),0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-fe,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-fe))}else if(r){const $=re?D.length/S.grid.rows:D.length;h.slideTo(h.activeIndex+$,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(x.length>0&&z)if(typeof n>"u"){const $=h.slidesGrid[C],fe=h.slidesGrid[C-ce]-$;f?h.setTranslate(h.translate-fe):(h.slideTo(C-ce,0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-fe,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-fe))}else{const $=re?x.length/S.grid.rows:x.length;h.slideTo(h.activeIndex-$,0,!1,!0)}}if(h.allowSlidePrev=v,h.allowSlideNext=_,h.controller&&h.controller.control&&!c){const $={slideRealIndex:n,direction:t,setTranslate:r,activeSlideIndex:a,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(le=>{!le.destroyed&&le.params.loop&&le.loopFix({...$,slideTo:le.params.slidesPerView===S.slidesPerView?e:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...$,slideTo:h.controller.control.params.slidesPerView===S.slidesPerView?e:!1})}h.emit("loopFix")}function DV(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const l=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[l]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var MV={loopCreate:NV,loopFix:OV,loopDestroy:DV};function kV(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function PV(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var LV={setGrabCursor:kV,unsetGrabCursor:PV};function jV(n,e=this){function t(r){if(!r||r===Ha()||r===yn())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function zT(n,e,t){const r=yn(),{params:a}=n,l=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return l&&(t<=c||t>=r.innerWidth-c)?l==="prevent"?(e.preventDefault(),!0):!1:!0}function VV(n){const e=this,t=Ha();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){zT(e,r,r.targetTouches[0].pageX);return}const{params:l,touches:c,enabled:f}=e;if(!f||!l.simulateTouch&&r.pointerType==="mouse"||e.animating&&l.preventInteractionOnTransition)return;!e.animating&&l.cssMode&&l.loop&&e.loopFix();let h=r.target;if(l.touchEventsTarget==="wrapper"&&!Gj(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!l.noSwipingClass&&l.noSwipingClass!=="",v=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&v&&(h=v[0]);const _=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,E=!!(r.target&&r.target.shadowRoot);if(l.noSwiping&&(E?jV(_,h):h.closest(_))){e.allowClick=!0;return}if(l.swipeHandler&&!h.closest(l.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const S=c.currentX,O=c.currentY;if(!zT(e,r,S))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=S,c.startY=O,a.touchStartTime=jh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,l.threshold>0&&(a.allowThresholdMove=!1);let P=!0;h.matches(a.focusableElements)&&(P=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const k=P&&e.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||k)&&!h.isContentEditable&&r.preventDefault(),l.freeMode&&l.freeMode.enabled&&e.freeMode&&e.animating&&!l.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function UV(n){const e=Ha(),t=this,r=t.touchEventsData,{params:a,touches:l,rtlTranslate:c,enabled:f}=t;if(!f||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(ee=>ee.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const v=p.pageX,_=p.pageY;if(h.preventedByNestedSwiper){l.startX=v,l.startY=_;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(l,{startX:v,startY:_,currentX:v,currentY:_}),r.touchStartTime=jh());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(_<l.startY&&t.translate<=t.maxTranslate()||_>l.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(v>l.startX&&-t.translate<=t.maxTranslate()||v<l.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(v<l.startX&&t.translate<=t.maxTranslate()||v>l.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),l.previousX=l.currentX,l.previousY=l.currentY,l.currentX=v,l.currentY=_;const E=l.currentX-l.startX,S=l.currentY-l.startY;if(t.params.threshold&&Math.sqrt(E**2+S**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let ee;t.isHorizontal()&&l.currentY===l.startY||t.isVertical()&&l.currentX===l.startX?r.isScrolling=!1:E*E+S*S>=25&&(ee=Math.atan2(Math.abs(S),Math.abs(E))*180/Math.PI,r.isScrolling=t.isHorizontal()?ee>a.touchAngle:90-ee>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let O=t.isHorizontal()?E:S,P=t.isHorizontal()?l.currentX-l.previousX:l.currentY-l.previousY;a.oneWayMovement&&(O=Math.abs(O)*(c?1:-1),P=Math.abs(P)*(c?1:-1)),l.diff=O,O*=a.touchRatio,c&&(O=-O,P=-P);const k=t.touchesDirection;t.swipeDirection=O>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const L=t.params.loop&&!a.cssMode,U=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(L&&U&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ee=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ee)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&k!==t.touchesDirection&&L&&U&&Math.abs(O)>=1){Object.assign(l,{startX:v,startY:_,currentX:v,currentY:_,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=O+r.startTranslate;let B=!0,X=a.resistanceRatio;if(a.touchReleaseOnEdges&&(X=0),O>0?(L&&U&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(B=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+O)**X))):O<0&&(L&&U&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(B=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-O)**X))),B&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(O)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,r.currentTranslate=r.startTranslate,l.diff=t.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function zV(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(ee=>ee.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:f,rtlTranslate:h,slidesGrid:p,enabled:v}=e;if(!v||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=jh(),E=_-t.touchStartTime;if(e.allowClick){const ee=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(ee&&ee[0]||r.target,ee),e.emit("tap click",r),E<300&&_-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=jh(),L1(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||f.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let S;if(c.followFinger?S=h?e.translate:-e.translate:S=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:S});return}const O=S>=-e.maxTranslate()&&!e.params.loop;let P=0,k=e.slidesSizesGrid[0];for(let ee=0;ee<p.length;ee+=ee<c.slidesPerGroupSkip?1:c.slidesPerGroup){const re=ee<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[ee+re]<"u"?(O||S>=p[ee]&&S<p[ee+re])&&(P=ee,k=p[ee+re]-p[ee]):(O||S>=p[ee])&&(P=ee,k=p[p.length-1]-p[p.length-2])}let L=null,U=null;c.rewind&&(e.isBeginning?U=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(L=0));const B=(S-p[P])/k,X=P<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(E>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(B>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?L:P+X):e.slideTo(P)),e.swipeDirection==="prev"&&(B>1-c.longSwipesRatio?e.slideTo(P+X):U!==null&&B<0&&Math.abs(B)>c.longSwipesRatio?e.slideTo(U):e.slideTo(P))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+X):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(L!==null?L:P+X),e.swipeDirection==="prev"&&e.slideTo(U!==null?U:P))}}function BT(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:l}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const f=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!f?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&l!==n.snapGrid&&n.checkOverflow()}function BV(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function FV(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const l=n.maxTranslate()-n.minTranslate();l===0?a=0:a=(n.translate-n.minTranslate())/l,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function qV(n){const e=this;ch(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function HV(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const F1=(n,e)=>{const t=Ha(),{params:r,el:a,wrapperEl:l,device:c}=n,f=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:f}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:f}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:f}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&l[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",BT,!0):n[p]("observerUpdate",BT,!0),a[h]("load",n.onLoad,{capture:!0}))};function GV(){const n=this,{params:e}=n;n.onTouchStart=VV.bind(n),n.onTouchMove=UV.bind(n),n.onTouchEnd=zV.bind(n),n.onDocumentTouchStart=HV.bind(n),e.cssMode&&(n.onScroll=FV.bind(n)),n.onClick=BV.bind(n),n.onLoad=qV.bind(n),F1(n,"on")}function $V(){F1(this,"off")}var YV={attachEvents:GV,detachEvents:$V};const FT=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function KV(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,l=r.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const c=Ha(),f=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(l,f,h);if(!p||n.currentBreakpoint===p)return;const _=(p in l?l[p]:void 0)||n.originalParams,E=FT(n,r),S=FT(n,_),O=n.params.grabCursor,P=_.grabCursor,k=r.enabled;E&&!S?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!E&&S&&(a.classList.add(`${r.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),O&&!P?n.unsetGrabCursor():!O&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(re=>{if(typeof _[re]>"u")return;const D=r[re]&&r[re].enabled,x=_[re]&&_[re].enabled;D&&!x&&n[re].disable(),!D&&x&&n[re].enable()});const L=_.direction&&_.direction!==r.direction,U=r.loop&&(_.slidesPerView!==r.slidesPerView||L),B=r.loop;L&&t&&n.changeDirection(),zn(n.params,_);const X=n.params.enabled,ee=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),k&&!X?n.disable():!k&&X&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",_),t&&(U?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!B&&ee?(n.loopCreate(e),n.updateSlides()):B&&!ee&&n.loopDestroy()),n.emit("breakpoint",_)}function QV(n,e="window",t){if(!n||e==="container"&&!t)return;let r=!1;const a=yn(),l=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const h=parseFloat(f.substr(1));return{value:l*h,point:f}}return{value:f,point:f}});c.sort((f,h)=>parseInt(f.value,10)-parseInt(h.value,10));for(let f=0;f<c.length;f+=1){const{point:h,value:p}=c[f];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var XV={setBreakpoint:KV,getBreakpoint:QV};function WV(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function JV(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:l}=n,c=WV(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:l.android},{ios:l.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function ZV(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var e3={addClasses:JV,removeClasses:ZV};function t3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,l=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>l}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var n3={checkOverflow:t3},jg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function i3(n,e){return function(r={}){const a=Object.keys(r)[0],l=r[a];if(typeof l!="object"||l===null){zn(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in l)){zn(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),zn(e,r)}}const Xp={eventsEmitter:eV,update:dV,translate:yV,transition:wV,slide:IV,loop:MV,grabCursor:LV,events:YV,breakpoints:XV,checkOverflow:n3,classes:e3},Wp={};let ev=class Cr{constructor(...e){let t,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[t,r]=e,r||(r={}),r=zn({},r),t&&!r.el&&(r.el=t);const a=Ha();if(r.el&&typeof r.el=="string"&&a.querySelectorAll(r.el).length>1){const h=[];return a.querySelectorAll(r.el).forEach(p=>{const v=zn({},r,{el:p});h.push(new Cr(v))}),h}const l=this;l.__swiper__=!0,l.support=V1(),l.device=U1({userAgent:r.userAgent}),l.browser=z1(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],r.modules&&Array.isArray(r.modules)&&l.modules.push(...r.modules);const c={};l.modules.forEach(h=>{h({params:r,swiper:l,extendParams:i3(r,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const f=zn({},jg,c);return l.params=zn({},f,Wp,r),l.originalParams=zn({},l.params),l.passedParams=zn({},r),l.params&&l.params.on&&Object.keys(l.params.on).forEach(h=>{l.on(h,l.params.on[h])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=Or(t,`.${r.slideClass}, swiper-slide`),l=LT(a[0]);return LT(e)-l}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Or(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const r=this,{params:a,slides:l,slidesGrid:c,slidesSizesGrid:f,size:h,activeIndex:p}=r;let v=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let _=l[p]?Math.ceil(l[p].swiperSlideSize):0,E;for(let S=p+1;S<l.length;S+=1)l[S]&&!E&&(_+=Math.ceil(l[S].swiperSlideSize),v+=1,_>h&&(E=!0));for(let S=p-1;S>=0;S-=1)l[S]&&!E&&(_+=l[S].swiperSlideSize,v+=1,_>h&&(E=!0))}else if(e==="current")for(let _=p+1;_<l.length;_+=1)(t?c[_]+f[_]-c[p]<h:c[_]-c[p]<h)&&(v+=1);else for(let _=p-1;_>=0;_-=1)c[p]-c[_]<h&&(v+=1);return v}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&ch(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let l;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;l=e.slideTo(c.length-1,0,!1,!0)}else l=e.slideTo(e.activeIndex,0,!1,!0);l||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(l=>{e==="vertical"?l.style.width="":l.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):Or(r,a())[0];return!c&&t.params.createElements&&(c=Pg("div",t.params.wrapperClass),r.append(c),Or(r,`.${t.params.slideClass}`).forEach(f=>{c.append(f)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||As(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||As(r,"direction")==="rtl"),wrongRTL:As(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(l=>{l.complete?ch(t,l):l.addEventListener("load",c=>{ch(t,c.target)})}),Lg(t),t.initialized=!0,Lg(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const r=this,{params:a,el:l,wrapperEl:c,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),l&&typeof l!="string"&&l.removeAttribute("style"),c&&c.removeAttribute("style"),f&&f.length&&f.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),zj(r)),r.destroyed=!0),null}static extendDefaults(e){zn(Wp,e)}static get extendedDefaults(){return Wp}static get defaults(){return jg}static installModule(e){Cr.prototype.__modules__||(Cr.prototype.__modules__=[]);const t=Cr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Cr.installModule(t)),Cr):(Cr.installModule(e),Cr)}};Object.keys(Xp).forEach(n=>{Object.keys(Xp[n]).forEach(e=>{ev.prototype[e]=Xp[n][e]})});ev.use([Jj,Zj]);const q1=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ja(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Yo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:ja(e[r])&&ja(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Yo(n[r],e[r]):n[r]=e[r]})}function H1(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function G1(n={}){return n.pagination&&typeof n.pagination.el>"u"}function $1(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function Y1(n=""){const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function r3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function s3({swiper:n,slides:e,passedParams:t,changedParams:r,nextEl:a,prevEl:l,scrollbarEl:c,paginationEl:f}){const h=r.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:p,pagination:v,navigation:_,scrollbar:E,virtual:S,thumbs:O}=n;let P,k,L,U,B,X,ee,re;r.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&p.thumbs&&(!p.thumbs.swiper||p.thumbs.swiper.destroyed)&&(P=!0),r.includes("controller")&&t.controller&&t.controller.control&&p.controller&&!p.controller.control&&(k=!0),r.includes("pagination")&&t.pagination&&(t.pagination.el||f)&&(p.pagination||p.pagination===!1)&&v&&!v.el&&(L=!0),r.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||c)&&(p.scrollbar||p.scrollbar===!1)&&E&&!E.el&&(U=!0),r.includes("navigation")&&t.navigation&&(t.navigation.prevEl||l)&&(t.navigation.nextEl||a)&&(p.navigation||p.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(B=!0);const D=x=>{n[x]&&(n[x].destroy(),x==="navigation"?(n.isElement&&(n[x].prevEl.remove(),n[x].nextEl.remove()),p[x].prevEl=void 0,p[x].nextEl=void 0,n[x].prevEl=void 0,n[x].nextEl=void 0):(n.isElement&&n[x].el.remove(),p[x].el=void 0,n[x].el=void 0))};r.includes("loop")&&n.isElement&&(p.loop&&!t.loop?X=!0:!p.loop&&t.loop?ee=!0:re=!0),h.forEach(x=>{if(ja(p[x])&&ja(t[x]))Object.assign(p[x],t[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in t[x]&&!t[x].enabled&&D(x);else{const M=t[x];(M===!0||M===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?M===!1&&D(x):p[x]=t[x]}}),h.includes("controller")&&!k&&n.controller&&n.controller.control&&p.controller&&p.controller.control&&(n.controller.control=p.controller.control),r.includes("children")&&e&&S&&p.virtual.enabled?(S.slides=e,S.update(!0)):r.includes("virtual")&&S&&p.virtual.enabled&&(e&&(S.slides=e),S.update(!0)),r.includes("children")&&e&&p.loop&&(re=!0),P&&O.init()&&O.update(!0),k&&(n.controller.control=p.controller.control),L&&(n.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),n.el.appendChild(f)),f&&(p.pagination.el=f),v.init(),v.render(),v.update()),U&&(n.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),n.el.appendChild(c)),c&&(p.scrollbar.el=c),E.init(),E.updateSize(),E.setTranslate()),B&&(n.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),VT(a,n.navigation.arrowSvg),a.part.add("button-next"),n.el.appendChild(a)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),VT(l,n.navigation.arrowSvg),l.part.add("button-prev"),n.el.appendChild(l))),a&&(p.navigation.nextEl=a),l&&(p.navigation.prevEl=l),_.init(),_.update()),r.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),r.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),r.includes("direction")&&n.changeDirection(t.direction,!1),(X||re)&&n.loopDestroy(),(ee||re)&&n.loopCreate(),n.update()}function a3(n={},e=!0){const t={on:{}},r={},a={};Yo(t,jg),t._emitClasses=!0,t.init=!1;const l={},c=q1.map(h=>h.replace(/_/,"")),f=Object.assign({},n);return Object.keys(f).forEach(h=>{typeof n[h]>"u"||(c.indexOf(h)>=0?ja(n[h])?(t[h]={},a[h]={},Yo(t[h],n[h]),Yo(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:l[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:l,events:r}}function o3({el:n,nextEl:e,prevEl:t,paginationEl:r,scrollbarEl:a,swiper:l},c){H1(c)&&e&&t&&(l.params.navigation.nextEl=e,l.originalParams.navigation.nextEl=e,l.params.navigation.prevEl=t,l.originalParams.navigation.prevEl=t),G1(c)&&r&&(l.params.pagination.el=r,l.originalParams.pagination.el=r),$1(c)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function l3(n,e,t,r,a){const l=[];if(!e)return l;const c=h=>{l.indexOf(h)<0&&l.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return q1.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(ja(n[h])&&ja(e[h])){const p=Object.keys(n[h]),v=Object.keys(e[h]);p.length!==v.length?c(h):(p.forEach(_=>{n[h][_]!==e[h][_]&&c(h)}),v.forEach(_=>{n[h][_]!==e[h][_]&&c(h)}))}else n[h]!==e[h]&&c(h)}),l}const u3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Uh(){return Uh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uh.apply(this,arguments)}function K1(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function Q1(n){const e=[];return Ke.Children.toArray(n).forEach(t=>{K1(t)?e.push(t):t.props&&t.props.children&&Q1(t.props.children).forEach(r=>e.push(r))}),e}function c3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ke.Children.toArray(n).forEach(r=>{if(K1(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=Q1(r.props.children);a.length>0?a.forEach(l=>e.push(l)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function d3(n,e,t){if(!t)return null;const r=v=>{let _=v;return v<0?_=e.length+v:_>=e.length&&(_=_-e.length),_},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:l,to:c}=t,f=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let v=f;v<h;v+=1)v>=l&&v<=c&&p.push(e[r(v)]);return p.map((v,_)=>Ke.cloneElement(v,{swiper:n,style:a,key:v.props.virtualIndex||v.key||`slide-${_}`}))}function ku(n,e){return typeof window>"u"?F.useEffect(n,e):F.useLayoutEffect(n,e)}const qT=F.createContext(null),h3=F.createContext(null),X1=F.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:r,onSwiper:a,...l}={},c)=>{let f=!1;const[h,p]=F.useState("swiper"),[v,_]=F.useState(null),[E,S]=F.useState(!1),O=F.useRef(!1),P=F.useRef(null),k=F.useRef(null),L=F.useRef(null),U=F.useRef(null),B=F.useRef(null),X=F.useRef(null),ee=F.useRef(null),re=F.useRef(null),{params:D,passedParams:x,rest:M,events:I}=a3(l),{slides:C,slots:z}=c3(r),N=()=>{S(!E)};Object.assign(D.on,{_containerClasses($,le){p(le)}});const de=()=>{Object.assign(D.on,I),f=!0;const $={...D};if(delete $.wrapperClass,k.current=new ev($),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=C;const le={cache:!1,slides:C,renderExternal:_,renderExternalUpdate:!1};Yo(k.current.params.virtual,le),Yo(k.current.originalParams.virtual,le)}};P.current||de(),k.current&&k.current.on("_beforeBreakpoint",N);const ce=()=>{f||!I||!k.current||Object.keys(I).forEach($=>{k.current.on($,I[$])})},q=()=>{!I||!k.current||Object.keys(I).forEach($=>{k.current.off($,I[$])})};F.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",N)}),F.useEffect(()=>{!O.current&&k.current&&(k.current.emitSlidesClasses(),O.current=!0)}),ku(()=>{if(c&&(c.current=P.current),!!P.current)return k.current.destroyed&&de(),o3({el:P.current,nextEl:B.current,prevEl:X.current,paginationEl:ee.current,scrollbarEl:re.current,swiper:k.current},D),a&&!k.current.destroyed&&a(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),ku(()=>{ce();const $=l3(x,L.current,C,U.current,le=>le.key);return L.current=x,U.current=C,$.length&&k.current&&!k.current.destroyed&&s3({swiper:k.current,slides:C,passedParams:x,changedParams:$,nextEl:B.current,prevEl:X.current,scrollbarEl:re.current,paginationEl:ee.current}),()=>{q()}}),ku(()=>{u3(k.current)},[v]);function J(){return D.virtual?d3(k.current,C,v):C.map(($,le)=>Ke.cloneElement($,{swiper:k.current,swiperSlideIndex:le}))}return Ke.createElement(e,Uh({ref:P,className:Y1(`${h}${n?` ${n}`:""}`)},M),Ke.createElement(h3.Provider,{value:k.current},z["container-start"],Ke.createElement(t,{className:r3(D.wrapperClass)},z["wrapper-start"],J(),z["wrapper-end"]),H1(D)&&Ke.createElement(Ke.Fragment,null,Ke.createElement("div",{ref:X,className:"swiper-button-prev"}),Ke.createElement("div",{ref:B,className:"swiper-button-next"})),$1(D)&&Ke.createElement("div",{ref:re,className:"swiper-scrollbar"}),G1(D)&&Ke.createElement("div",{ref:ee,className:"swiper-pagination"}),z["container-end"]))});X1.displayName="Swiper";const W1=F.forwardRef(({tag:n="div",children:e,className:t="",swiper:r,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:f,...h}={},p)=>{const v=F.useRef(null),[_,E]=F.useState("swiper-slide"),[S,O]=F.useState(!1);function P(B,X,ee){X===v.current&&E(ee)}ku(()=>{if(typeof f<"u"&&(v.current.swiperSlideIndex=f),p&&(p.current=v.current),!(!v.current||!r)){if(r.destroyed){_!=="swiper-slide"&&E("swiper-slide");return}return r.on("_slideClass",P),()=>{r&&r.off("_slideClass",P)}}}),ku(()=>{r&&v.current&&!r.destroyed&&E(r.getSlideClasses(v.current))},[r]);const k={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},L=()=>typeof e=="function"?e(k):e,U=()=>{O(!0)};return Ke.createElement(n,Uh({ref:v,className:Y1(`${_}${t?` ${t}`:""}`),"data-swiper-slide-index":c,onLoad:U},h),a&&Ke.createElement(qT.Provider,{value:k},Ke.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},L(),l&&!S&&Ke.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Ke.createElement(qT.Provider,{value:k},L(),l&&!S&&Ke.createElement("div",{className:"swiper-lazy-preloader"})))});W1.displayName="SwiperSlide";const sr=Qu((n,e)=>({products:[],loading:!0,_unsubscribe:null,subscribeToProducts:()=>{if(e()._unsubscribe)return;const t=Fx(Du(Bt,"products"),WP("createdAt","desc"));let r=Og(t,a=>{const l=a.docs.map(c=>({id:c.id,...c.data()}));console.info("[products] products snapshot received, count=",l.length),n({products:l,loading:!1})},a=>{if(console.error("Products snapshot error",a),n({loading:!1}),!e()._triedFallback){console.warn("[productStore] retrying snapshot without orderBy(createdAt)");try{const l=Du(Bt,"products"),c=Og(l,f=>{const h=f.docs.map(p=>({id:p.id,...p.data()}));console.info("[productStore] fallback snapshot received, count=",h.length),n({products:h,loading:!1})},f=>{console.error("Products fallback snapshot error",f),n({loading:!1})});n({_unsubscribe:c,_triedFallback:!0})}catch(l){console.error("[productStore] fallback subscribe failed",l)}}});n({_unsubscribe:r})},unsubscribeProducts:async()=>{const t=e()._unsubscribe;if(t){try{t()}catch(r){console.warn("unsubscribe error",r)}n({_unsubscribe:null})}},addProduct:async t=>{const r={...t,createdAt:kh()};try{await $x(Du(Bt,"products"),r)}catch(a){throw console.error("addProduct failed",a),a}},updateProduct:async(t,r)=>{try{await Ds(mn(Bt,"products",t),{...r,updatedAt:kh()},{merge:!0})}catch(a){throw console.error("updateProduct failed",a),a}},deleteProduct:async t=>{try{await e4(mn(Bt,"products",t))}catch(r){throw console.error("deleteProduct failed",r),r}},getProduct:t=>e().products.find(r=>r.id===t),getAllProducts:()=>e().products}));function f3(){const n=ln(),{products:e}=sr(),{addItem:t}=zs(),{addItem:r,removeItem:a,isWishlisted:l}=uc(),[c,f]=F.useState(null),h=F.useMemo(()=>e.slice(0,4),[e]),p=async(S,O)=>{S.preventDefault(),S.stopPropagation(),f(`wishlist-${O.id}`);try{l(O.id)?await a(O.id):await r(O)}finally{f(null)}},v=(S,O)=>{S.preventDefault(),S.stopPropagation(),t({...O,qty:1,size:"M"})},_=(S,O)=>{S.preventDefault(),S.stopPropagation(),t({...O,qty:1,size:"M"}),n("/checkout")},E=[{id:1,title:"Big Sale",color:"bg-indigo-500"},{id:2,title:"New Arrivals",color:"bg-emerald-500"},{id:3,title:"Trending",color:"bg-pink-500"}];return y.jsxs("div",{className:"w-full max-w-4xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsx("section",{className:"mb-6",children:y.jsx(X1,{spaceBetween:12,slidesPerView:1,className:"rounded-lg overflow-hidden",children:E.map(S=>y.jsx(W1,{children:y.jsx("div",{className:`${S.color} rounded-lg h-40 sm:h-48 flex items-center justify-center text-white font-bold text-xl sm:text-2xl transition-all hover:scale-105 animate-slideUp`,children:S.title})},S.id))})}),y.jsxs("section",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 animate-slideInLeft",children:"Featured Products"}),y.jsx(Vt,{to:"/products",className:"text-sm font-medium text-orange-600 hover:text-orange-700 hover:translate-x-1 transition-all",children:"View all "})]}),h.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500",children:y.jsx("p",{children:"No products available"})}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4",children:h.map((S,O)=>{const P=l(S.id);return y.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-lg transition-all border border-gray-200 overflow-hidden group animate-slideUp",style:{animationDelay:`${O*.1}s`},children:[y.jsxs(Vt,{to:`/product/${S.id}`,className:"block h-24 sm:h-32 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center font-bold text-gray-400 overflow-hidden relative hover:scale-110 transition-transform",children:[S.image?y.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover"}):"Image",S.discount&&y.jsxs("div",{className:"absolute top-1 right-1 bg-gradient-to-r from-orange-600 to-orange-700 text-white text-xs font-bold px-1.5 py-0.5 rounded-full shadow-lg animate-bounce-gentle",children:[S.discount,"%"]})]}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsx(Vt,{to:`/product/${S.id}`,className:"text-sm sm:text-base font-medium text-gray-900 truncate hover:text-orange-600 transition-colors block",children:S.name}),y.jsxs("div",{className:"text-xs sm:text-sm text-orange-600 font-bold mt-1",children:["",S.price]}),y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:" (42)"}),y.jsxs("div",{className:"flex gap-1 sm:gap-2 mt-2",children:[y.jsxs("button",{onClick:k=>v(k,S),className:"flex-1 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white text-xs sm:text-sm font-medium py-1.5 rounded transition-all flex items-center justify-center gap-1 hover:shadow-lg hover:shadow-orange-200",children:[y.jsx(Ra,{size:14,className:"hidden sm:block"}),y.jsx("span",{className:"text-xs sm:text-sm",children:"Add"})]}),y.jsx("button",{onClick:k=>p(k,S),disabled:c===`wishlist-${S.id}`,className:`px-2 py-1.5 rounded transition-all hover:scale-110 ${P?"bg-gradient-to-r from-orange-100 to-orange-50 shadow-md":"bg-gray-100 hover:bg-gray-200"}`,children:y.jsx(Fh,{size:16,className:P?"text-orange-600 fill-current animate-glow":"text-gray-600"})}),y.jsx("button",{onClick:k=>_(k,S),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white text-xs sm:text-sm font-medium py-1.5 rounded transition-all hover:shadow-lg hover:shadow-green-200",children:"Buy"})]})]})]},S.id)})})]})]})}function m3(){const[n]=sI(),e=ln(),{products:t}=sr(),{addItem:r}=zs(),{addItem:a,isWishlisted:l,removeItem:c}=uc(),{t:f}=F.useContext(Va),h=n.get("q")||"",[p,v]=F.useState(null),[_,E]=F.useState({min:0,max:1e5}),[S,O]=F.useState(!1),P=F.useMemo(()=>[...new Set(t.map(U=>U.category).filter(Boolean))],[t]),k=F.useMemo(()=>{let L=t;if(h.trim()){const U=h.toLowerCase();L=L.filter(B=>B.name?.toLowerCase().includes(U)||B.description?.toLowerCase().includes(U)||B.category?.toLowerCase().includes(U))}return p&&(L=L.filter(U=>U.category===p)),L=L.filter(U=>U.price>=_.min&&U.price<=_.max),L},[t,h,p,_]);return y.jsxs("div",{className:"w-full max-w-6xl mx-auto px-3 sm:px-4 pb-20 pt-2",children:[y.jsxs("div",{className:"mb-4 sticky top-0 bg-white z-10 py-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3 gap-2",children:[y.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 truncate flex-1",children:h?`${f("search")}: "${h}"`:p||f("products")}),y.jsxs("button",{onClick:()=>O(!S),className:"flex items-center gap-2 px-3 py-2 border rounded-lg text-gray-700 active:opacity-70 min-h-[44px] font-medium text-sm",children:[y.jsx(xI,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:f("Filter")})]})]}),y.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[k.length," ",(k.length!==1,f("products"))]})]}),S&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>O(!1)}),y.jsxs("div",{className:"flex gap-3 lg:gap-4",children:[S&&y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 md:relative md:bottom-auto bg-white p-4 rounded-t-lg md:rounded-lg border md:w-48 md:sticky md:top-32 max-h-96 md:max-h-[calc(100vh-200px)] overflow-y-auto z-50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4 md:hidden",children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),y.jsx("button",{onClick:()=>O(!1),className:"p-1 text-gray-500 active:opacity-70","aria-label":"close filters",children:y.jsx(Ko,{size:20})})]}),P.length>0&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"font-semibold text-sm mb-3 text-gray-900",children:"Categories"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("button",{onClick:()=>{v(null),O(!1)},className:`w-full text-left text-sm px-3 py-2 rounded touch-area min-h-[44px] transition ${p?"hover:bg-gray-100 text-gray-700":"bg-orange-100 text-orange-700 font-medium"}`,children:"All Categories"}),P.map(L=>y.jsx("button",{onClick:()=>{v(L),O(!1)},className:`w-full text-left text-sm px-3 py-2 rounded touch-area min-h-[44px] transition ${p===L?"bg-orange-100 text-orange-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:L},L))]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"font-semibold text-sm mb-3 text-gray-900",children:"Price Range"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Min: ",_.min]}),y.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:_.min,onChange:L=>E({..._,min:Number(L.target.value)}),className:"w-full h-2 cursor-pointer"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Max: ",_.max]}),y.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:_.max,onChange:L=>E({..._,max:Number(L.target.value)}),className:"w-full h-2 cursor-pointer"})]})]})]}),(p||_.min!==0||_.max!==1e5)&&y.jsx("button",{onClick:()=>{v(null),E({min:0,max:1e5})},className:"w-full py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-gray-700 active:opacity-70 touch-area",children:"Reset"})]}),k.length===0?y.jsxs("div",{className:"w-full text-center py-12",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),y.jsx(Vt,{to:"/products",className:"text-orange-600 hover:text-orange-700 font-medium",children:"View all products "})]}):y.jsx("div",{className:"flex-1 min-w-0",children:y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:k.map(L=>{const U=l(L.id),B=re=>{re.preventDefault(),re.stopPropagation(),U?c(L.id):a(L)},X=re=>{re.preventDefault(),re.stopPropagation(),r({...L,qty:1,size:"M"})},ee=re=>{re.preventDefault(),re.stopPropagation(),r({...L,qty:1,size:"M"}),e("/checkout")};return y.jsxs(Vt,{to:`/product/${L.id}`,className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden group active:shadow-lg transition-shadow",children:[y.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 h-24 sm:h-32",children:[L.image?y.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover group-active:scale-105 transition-transform"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-gray-400",children:"Image"}),L.discount&&y.jsxs("div",{className:"absolute top-1 right-1 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow",children:[L.discount,"%"]})]}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsxs("div",{className:"mb-1 sm:mb-2",children:[y.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 line-clamp-2",children:L.name}),L.category&&y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:L.category})]}),y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"text-xs sm:text-sm font-bold text-orange-600",children:["",L.price]}),y.jsxs("div",{className:"text-xs text-gray-500",children:[" ",(L.rating||4.5).toFixed(1)]})]}),y.jsxs("div",{className:"flex gap-1 text-xs sm:text-sm",children:[y.jsx("button",{onClick:X,className:"flex-1 py-1.5 sm:py-2 bg-orange-100 text-orange-700 rounded font-medium active:opacity-70 min-h-[40px]",title:"Add to cart",children:y.jsx(Ra,{size:14,className:"mx-auto"})}),y.jsx("button",{onClick:B,className:`flex-1 py-1.5 sm:py-2 rounded font-medium active:opacity-70 min-h-[40px] transition ${U?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,title:U?"Remove from wishlist":"Add to wishlist",children:y.jsx(Fh,{size:14,className:"mx-auto",fill:U?"currentColor":"none"})}),y.jsx("button",{onClick:ee,className:"flex-1 py-1.5 sm:py-2 bg-green-600 text-white rounded font-medium active:opacity-70 min-h-[40px]",title:"Buy now",children:"Buy"})]})]})]},L.id)})})})]})]})}const p3=Qu($g((n,e)=>({reviews:[],addReview:(t,r,a,l)=>{const c={id:Date.now(),productId:t,userId:r,rating:a,comment:l,createdAt:new Date().toISOString()};n(f=>({reviews:[c,...f.reviews]}))},getProductReviews:t=>e().reviews.filter(a=>a.productId===t),hasUserReviewed:(t,r)=>e().reviews.some(l=>l.productId===t&&l.userId===r),getAverageRating:t=>{const r=e().getProductReviews(t);if(r.length===0)return 0;const a=r.reduce((l,c)=>l+c.rating,0)/r.length;return Math.round(a*10)/10}}),{name:"reviews"})),_f=Qu($g((n,e)=>({orders:[],loading:!1,error:null,addOrder:async t=>{try{const r=gn.currentUser;if(!r)throw new Error("User not authenticated");const a=[{step:"Order placed",completed:!0,date:new Date().toISOString()},{step:"Confirmed",completed:!0,date:new Date().toISOString()},{step:"Processing",completed:!1,date:null},{step:"Shipped",completed:!1,date:null},{step:"Out for delivery",completed:!1,date:null},{step:"Delivered",completed:!1,date:null}],l={...t,userId:r.uid,createdAt:new Date().toISOString(),status:"confirmed",deliveryStatus:a},c=await $x(Du(Bt,"orders"),l);return n(f=>({orders:[{id:c.id,...l},...f.orders]})),c.id}catch(r){throw n({error:r.message}),r}},fetchOrders:async t=>{if(t){n({loading:!0});try{const r=Fx(Du(Bt,"orders"),XP("userId","==",t));return Og(r,l=>{const c=l.docs.map(f=>({id:f.id,...f.data()}));n({orders:c,loading:!1,error:null})},l=>n({error:l.message,loading:!1}))}catch(r){n({error:r.message,loading:!1})}}},updateStatus:async(t,r)=>{try{const a=e().orders.find(f=>f.id===t);if(!a)throw new Error("Order not found");const l=a.deliveryStatus.map(f=>f.step.toLowerCase()===r.toLowerCase()?{...f,completed:!0,date:new Date().toISOString()}:f),c=mn(Bt,"orders",t);await _T(c,{status:r,deliveryStatus:l}),n(f=>({orders:f.orders.map(h=>h.id===t?{...h,status:r,deliveryStatus:l}:h)}))}catch(a){n({error:a.message})}},cancelOrder:async t=>{try{const r=[{step:"Cancelled",completed:!0,date:new Date().toISOString()}],a=mn(Bt,"orders",t);await _T(a,{status:"cancelled",deliveryStatus:r}),n(l=>({orders:l.orders.map(c=>c.id===t?{...c,status:"cancelled",deliveryStatus:r}:c)}))}catch(r){n({error:r.message})}},getOrder:t=>e().orders.find(r=>r.id===t)}),{name:"orders"}));function g3(n,e,t,r){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(v){try{p(r.next(v))}catch(_){c(_)}}function h(v){try{p(r.throw(v))}catch(_){c(_)}}function p(v){v.done?l(v.value):a(v.value).then(f,h)}p((r=r.apply(n,[])).next())})}function y3(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,a=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){t.label=p[1];break}if(p[0]===6&&t.label<l[1]){t.label=l[1],l=p;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(p);break}l[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(v){p=[6,v],a=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var zo=function(){return zo=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},zo.apply(this,arguments)},J1=function(n){return{loading:n==null,value:n}},v3=function(){return function(n,e){switch(e.type){case"error":return zo(zo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return J1(e.defaultValue);case"value":return zo(zo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},_3=(function(n){var e=n?n():void 0,t=F.useReducer(v3(),J1(e)),r=t[0],a=t[1],l=F.useCallback(function(){var h=n?n():void 0;a({type:"reset",defaultValue:h})},[n]),c=F.useCallback(function(h){a({type:"error",error:h})},[]),f=F.useCallback(function(h){a({type:"value",value:h})},[]);return F.useMemo(function(){return{error:r.error,loading:r.loading,reset:l,setError:c,setValue:f,value:r.value}},[r.error,r.loading,l,c,f,r.value])}),cc=(function(n,e){var t=_3(function(){return n.currentUser}),r=t.error,a=t.loading,l=t.setError,c=t.setValue,f=t.value;return F.useEffect(function(){var h=NO(n,function(p){return g3(void 0,void 0,void 0,function(){var v;return y3(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return _.sent(),[3,4];case 3:return v=_.sent(),l(v),[3,4];case 4:return c(p),[2]}})})},l);return function(){h()}},[n]),[f,a,r]}),dh={exports:{}},b3=dh.exports,HT;function w3(){return HT||(HT=1,(function(n,e){(function(t,r){n.exports=r()})(b3,(function(){var t=1e3,r=6e4,a=36e5,l="millisecond",c="second",f="minute",h="hour",p="day",v="week",_="month",E="quarter",S="year",O="date",P="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(de){var ce=["th","st","nd","rd"],q=de%100;return"["+de+(ce[(q-20)%10]||ce[q]||ce[0])+"]"}},B=function(de,ce,q){var J=String(de);return!J||J.length>=ce?de:""+Array(ce+1-J.length).join(q)+de},X={s:B,z:function(de){var ce=-de.utcOffset(),q=Math.abs(ce),J=Math.floor(q/60),$=q%60;return(ce<=0?"+":"-")+B(J,2,"0")+":"+B($,2,"0")},m:function de(ce,q){if(ce.date()<q.date())return-de(q,ce);var J=12*(q.year()-ce.year())+(q.month()-ce.month()),$=ce.clone().add(J,_),le=q-$<0,fe=ce.clone().add(J+(le?-1:1),_);return+(-(J+(q-$)/(le?$-fe:fe-$))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:_,y:S,w:v,d:p,D:O,h,m:f,s:c,ms:l,Q:E}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},ee="en",re={};re[ee]=U;var D="$isDayjsObject",x=function(de){return de instanceof z||!(!de||!de[D])},M=function de(ce,q,J){var $;if(!ce)return ee;if(typeof ce=="string"){var le=ce.toLowerCase();re[le]&&($=le),q&&(re[le]=q,$=le);var fe=ce.split("-");if(!$&&fe.length>1)return de(fe[0])}else{var j=ce.name;re[j]=ce,$=j}return!J&&$&&(ee=$),$||!J&&ee},I=function(de,ce){if(x(de))return de.clone();var q=typeof ce=="object"?ce:{};return q.date=de,q.args=arguments,new z(q)},C=X;C.l=M,C.i=x,C.w=function(de,ce){return I(de,{locale:ce.$L,utc:ce.$u,x:ce.$x,$offset:ce.$offset})};var z=(function(){function de(q){this.$L=M(q.locale,null,!0),this.parse(q),this.$x=this.$x||q.x||{},this[D]=!0}var ce=de.prototype;return ce.parse=function(q){this.$d=(function(J){var $=J.date,le=J.utc;if($===null)return new Date(NaN);if(C.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var fe=$.match(k);if(fe){var j=fe[2]-1||0,ne=(fe[7]||"0").substring(0,3);return le?new Date(Date.UTC(fe[1],j,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ne)):new Date(fe[1],j,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ne)}}return new Date($)})(q),this.init()},ce.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},ce.$utils=function(){return C},ce.isValid=function(){return this.$d.toString()!==P},ce.isSame=function(q,J){var $=I(q);return this.startOf(J)<=$&&$<=this.endOf(J)},ce.isAfter=function(q,J){return I(q)<this.startOf(J)},ce.isBefore=function(q,J){return this.endOf(J)<I(q)},ce.$g=function(q,J,$){return C.u(q)?this[J]:this.set($,q)},ce.unix=function(){return Math.floor(this.valueOf()/1e3)},ce.valueOf=function(){return this.$d.getTime()},ce.startOf=function(q,J){var $=this,le=!!C.u(J)||J,fe=C.p(q),j=function(qe,yt){var un=C.w($.$u?Date.UTC($.$y,yt,qe):new Date($.$y,yt,qe),$);return le?un:un.endOf(p)},ne=function(qe,yt){return C.w($.toDate()[qe].apply($.toDate("s"),(le?[0,0,0,0]:[23,59,59,999]).slice(yt)),$)},he=this.$W,me=this.$M,be=this.$D,Ae="set"+(this.$u?"UTC":"");switch(fe){case S:return le?j(1,0):j(31,11);case _:return le?j(1,me):j(0,me+1);case v:var Ne=this.$locale().weekStart||0,ot=(he<Ne?he+7:he)-Ne;return j(le?be-ot:be+(6-ot),me);case p:case O:return ne(Ae+"Hours",0);case h:return ne(Ae+"Minutes",1);case f:return ne(Ae+"Seconds",2);case c:return ne(Ae+"Milliseconds",3);default:return this.clone()}},ce.endOf=function(q){return this.startOf(q,!1)},ce.$set=function(q,J){var $,le=C.p(q),fe="set"+(this.$u?"UTC":""),j=($={},$[p]=fe+"Date",$[O]=fe+"Date",$[_]=fe+"Month",$[S]=fe+"FullYear",$[h]=fe+"Hours",$[f]=fe+"Minutes",$[c]=fe+"Seconds",$[l]=fe+"Milliseconds",$)[le],ne=le===p?this.$D+(J-this.$W):J;if(le===_||le===S){var he=this.clone().set(O,1);he.$d[j](ne),he.init(),this.$d=he.set(O,Math.min(this.$D,he.daysInMonth())).$d}else j&&this.$d[j](ne);return this.init(),this},ce.set=function(q,J){return this.clone().$set(q,J)},ce.get=function(q){return this[C.p(q)]()},ce.add=function(q,J){var $,le=this;q=Number(q);var fe=C.p(J),j=function(me){var be=I(le);return C.w(be.date(be.date()+Math.round(me*q)),le)};if(fe===_)return this.set(_,this.$M+q);if(fe===S)return this.set(S,this.$y+q);if(fe===p)return j(1);if(fe===v)return j(7);var ne=($={},$[f]=r,$[h]=a,$[c]=t,$)[fe]||1,he=this.$d.getTime()+q*ne;return C.w(he,this)},ce.subtract=function(q,J){return this.add(-1*q,J)},ce.format=function(q){var J=this,$=this.$locale();if(!this.isValid())return $.invalidDate||P;var le=q||"YYYY-MM-DDTHH:mm:ssZ",fe=C.z(this),j=this.$H,ne=this.$m,he=this.$M,me=$.weekdays,be=$.months,Ae=$.meridiem,Ne=function(yt,un,qn,di){return yt&&(yt[un]||yt(J,le))||qn[un].slice(0,di)},ot=function(yt){return C.s(j%12||12,yt,"0")},qe=Ae||function(yt,un,qn){var di=yt<12?"AM":"PM";return qn?di.toLowerCase():di};return le.replace(L,(function(yt,un){return un||(function(qn){switch(qn){case"YY":return String(J.$y).slice(-2);case"YYYY":return C.s(J.$y,4,"0");case"M":return he+1;case"MM":return C.s(he+1,2,"0");case"MMM":return Ne($.monthsShort,he,be,3);case"MMMM":return Ne(be,he);case"D":return J.$D;case"DD":return C.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return Ne($.weekdaysMin,J.$W,me,2);case"ddd":return Ne($.weekdaysShort,J.$W,me,3);case"dddd":return me[J.$W];case"H":return String(j);case"HH":return C.s(j,2,"0");case"h":return ot(1);case"hh":return ot(2);case"a":return qe(j,ne,!0);case"A":return qe(j,ne,!1);case"m":return String(ne);case"mm":return C.s(ne,2,"0");case"s":return String(J.$s);case"ss":return C.s(J.$s,2,"0");case"SSS":return C.s(J.$ms,3,"0");case"Z":return fe}return null})(yt)||fe.replace(":","")}))},ce.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ce.diff=function(q,J,$){var le,fe=this,j=C.p(J),ne=I(q),he=(ne.utcOffset()-this.utcOffset())*r,me=this-ne,be=function(){return C.m(fe,ne)};switch(j){case S:le=be()/12;break;case _:le=be();break;case E:le=be()/3;break;case v:le=(me-he)/6048e5;break;case p:le=(me-he)/864e5;break;case h:le=me/a;break;case f:le=me/r;break;case c:le=me/t;break;default:le=me}return $?le:C.a(le)},ce.daysInMonth=function(){return this.endOf(_).$D},ce.$locale=function(){return re[this.$L]},ce.locale=function(q,J){if(!q)return this.$L;var $=this.clone(),le=M(q,J,!0);return le&&($.$L=le),$},ce.clone=function(){return C.w(this.$d,this)},ce.toDate=function(){return new Date(this.valueOf())},ce.toJSON=function(){return this.isValid()?this.toISOString():null},ce.toISOString=function(){return this.$d.toISOString()},ce.toString=function(){return this.$d.toUTCString()},de})(),N=z.prototype;return I.prototype=N,[["$ms",l],["$s",c],["$m",f],["$H",h],["$W",p],["$M",_],["$y",S],["$D",O]].forEach((function(de){N[de[1]]=function(ce){return this.$g(ce,de[0],de[1])}})),I.extend=function(de,ce){return de.$i||(de(ce,z,I),de.$i=!0),I},I.locale=M,I.isDayjs=x,I.unix=function(de){return I(1e3*de)},I.en=re[ee],I.Ls=re,I.p={},I}))})(dh)),dh.exports}var T3=w3();const bf=Vg(T3);var hh={exports:{}},E3=hh.exports,GT;function S3(){return GT||(GT=1,(function(n,e){(function(t,r){n.exports=r()})(E3,(function(){return function(t,r,a){t=t||{};var l=r.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function f(p,v,_,E){return l.fromToBase(p,v,_,E)}a.en.relativeTime=c,l.fromToBase=function(p,v,_,E,S){for(var O,P,k,L=_.$locale().relativeTime||c,U=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],B=U.length,X=0;X<B;X+=1){var ee=U[X];ee.d&&(O=E?a(p).diff(_,ee.d,!0):_.diff(p,ee.d,!0));var re=(t.rounding||Math.round)(Math.abs(O));if(k=O>0,re<=ee.r||!ee.r){re<=1&&X>0&&(ee=U[X-1]);var D=L[ee.l];S&&(re=S(""+re)),P=typeof D=="string"?D.replace("%d",re):D(re,v,ee.l,k);break}}if(v)return P;var x=k?L.future:L.past;return typeof x=="function"?x(P):x.replace("%s",P)},l.to=function(p,v){return f(p,v,this,!0)},l.from=function(p,v){return f(p,v,this)};var h=function(p){return p.$u?a.utc():a()};l.toNow=function(p){return this.to(h(this),p)},l.fromNow=function(p){return this.from(h(this),p)}}}))})(hh)),hh.exports}var x3=S3();const A3=Vg(x3);bf.extend(A3);function Z1({productId:n,showFormOnly:e=!1}){const[t]=cc(gn),{addReview:r,getProductReviews:a,hasUserReviewed:l,getAverageRating:c}=p3(),{orders:f}=_f(),[h,p]=F.useState(5),[v,_]=F.useState(""),[E,S]=F.useState(!1),O=!!t&&(f??[]).some(B=>B.items?.some(X=>String(X.id)===String(n))),P=a(n)??[],k=c(n)??0,L=t&&l(n,t.uid),U=B=>{B.preventDefault(),!(!t||!O)&&(L||(r(n,t.uid,h,v),_(""),p(5),S(!0),setTimeout(()=>S(!1),3e3)))};return e?y.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:t&&O&&!L?y.jsxs("form",{onSubmit:U,className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-semibold",children:"Write a Review"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium mb-2",children:"Rating"}),y.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(B=>y.jsx("button",{type:"button",onClick:()=>p(B),className:"p-2 transition hover:scale-110",children:y.jsx(Zd,{size:20,fill:B<=h?"currentColor":"none",className:B<=h?"text-yellow-400":"text-gray-300"})},B))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium mb-2",children:"Comment"}),y.jsx("textarea",{value:v,onChange:B=>_(B.target.value),placeholder:"Share your experience with this product...",className:"w-full p-2 border rounded text-sm",rows:3})]}),y.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded font-medium hover:bg-blue-700 transition",children:E?" Review submitted":"Submit Review"})]}):L?y.jsx("p",{className:"text-sm text-gray-500",children:" You have already reviewed this product"}):y.jsx("p",{className:"text-sm text-gray-500",children:"You can only review products you have purchased"})}):y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4 animate-fadeIn",children:[y.jsxs("div",{className:"mb-6 pb-4 border-b",children:[y.jsxs("h3",{className:"font-semibold mb-3",children:["Ratings & Reviews (",P.length,")"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"text-3xl font-bold",children:k.toFixed(1)}),y.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((B,X)=>y.jsx(Zd,{size:18,fill:X<Math.round(k)?"currentColor":"none"},X))}),y.jsxs("div",{className:"text-sm text-gray-500",children:["(",P.length," reviews)"]})]})]}),P.length===0?y.jsx("p",{className:"text-xs text-gray-500",children:"No reviews yet"}):y.jsx("div",{className:"space-y-3",children:P.map((B,X)=>y.jsxs("div",{className:"border-t pt-3 animate-fadeIn",style:{animationDelay:`${X*50}ms`},children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsxs("div",{children:[y.jsx("div",{className:"flex gap-1 text-yellow-400",children:[...Array(5)].map((ee,re)=>y.jsx(Zd,{size:14,fill:re<B.rating?"currentColor":"none"},re))}),B.userId===t?.uid&&y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"(Your review)"})]}),y.jsx("div",{className:"text-xs text-gray-400",children:B.createdAt?bf(B.createdAt).fromNow():"Just now"})]}),B.comment&&y.jsx("p",{className:"text-sm text-gray-700 mt-2",children:B.comment})]},B.id))})]})}function C3({images:n,initialIndex:e=0,isOpen:t,onClose:r}){const[a,l]=F.useState(e);if(!t||!n||n.length===0)return null;const c=()=>{l(p=>p===0?n.length-1:p-1)},f=()=>{l(p=>p===n.length-1?0:p+1)},h=p=>{p.key==="ArrowLeft"&&c(),p.key==="ArrowRight"&&f(),p.key==="Escape"&&r()};return y.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:r,onKeyDown:h,role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-screen flex items-center justify-center",onClick:p=>p.stopPropagation(),children:[y.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Close",children:y.jsx(Ko,{size:24})}),y.jsx("img",{src:n[a],alt:`Product ${a+1}`,className:"max-w-full max-h-[90vh] object-contain"}),n.length>1&&y.jsx("button",{onClick:c,className:"absolute left-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Previous image",children:y.jsx(bI,{size:24})}),n.length>1&&y.jsx("button",{onClick:f,className:"absolute right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Next image",children:y.jsx(wI,{size:24})}),n.length>1&&y.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/10 text-white px-3 py-1 rounded-full text-sm",children:[a+1," / ",n.length]}),n.length>1&&y.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 flex gap-2 flex-wrap justify-center max-w-2xl",children:n.map((p,v)=>y.jsx("button",{onClick:()=>l(v),className:`w-12 h-12 rounded overflow-hidden border-2 transition ${v===a?"border-white":"border-transparent opacity-60 hover:opacity-100"}`,children:y.jsx("img",{src:p,alt:`Thumbnail ${v+1}`,className:"w-full h-full object-cover"})},v))})]})})}function R3({currentProductId:n}){const{products:e}=sr(),t=F.useMemo(()=>{if(!e.length)return[];const r=e.find(l=>l.id===n);return r?e.filter(l=>l.id!==n&&l.category===r.category).sort((l,c)=>{const f=(c.rating||0)-(l.rating||0);return f!==0?f:Math.abs(c.price-r.price)-Math.abs(l.price-r.price)}).slice(0,4):[]},[e,n]);return t.length===0?null:y.jsxs("div",{className:"mt-8 glass-morphism p-6 rounded-xl border border-opacity-20",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(MI,{className:"text-red-600",size:20}),y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"You Might Also Like"})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:t.map(r=>y.jsxs(Vt,{to:`/product/${r.id}`,className:"group hover-lift",children:[y.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg h-24 overflow-hidden mb-2 relative",children:[r.image&&y.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),y.jsxs("div",{className:"absolute top-1 right-1 flex items-center gap-1 bg-yellow-400 text-gray-900 px-2 py-0.5 rounded-full text-xs font-bold",children:[y.jsx(Zd,{size:12,fill:"currentColor"}),(r.rating||4.5).toFixed(1)]})]}),y.jsx("p",{className:"text-xs font-semibold text-gray-900 truncate",children:r.name}),y.jsxs("p",{className:"text-sm font-bold text-red-600",children:["",r.price]})]},r.id))})]})}function I3(){const{id:n}=Bg(),e=zs(I=>I.addItem),{addItem:t,removeItem:r,items:a}=uc(),[l,c]=F.useState(1),[f,h]=F.useState("M"),[p,v]=F.useState(!1),[_,E]=F.useState(!1),[S,O]=F.useState(0),L=sr(I=>I.getProduct)(n)||{id:n,name:`Product ${n}`,price:Number(n)*10,rating:4.5,reviews:120,image:`https://picsum.photos/500/500?random=${n}`},U=F.useMemo(()=>L.images&&L.images.length?L.images:L.image?[L.image]:[`https://picsum.photos/500/500?random=${n}1`,`https://picsum.photos/500/500?random=${n}2`,`https://picsum.photos/500/500?random=${n}3`],[L.images,L.image,n]),B=a.some(I=>I.id===n),X=()=>{e({...L,qty:l,size:f}),v(!0),setTimeout(()=>v(!1),2e3)},ee=()=>{B?r(n):t(L)},re=ln(),D=()=>{e({...L,qty:l,size:f}),re("/checkout")},x=async()=>{const I=window.location.href,C=`Check out ${L.name} - $${L.price}`;if(navigator.share)navigator.share({title:"MiniFlip",text:C,url:I}).catch(()=>{});else{navigator.clipboard.writeText(`${C}
${I}`);const z=`https://wa.me/?text=${encodeURIComponent(C+" "+I)}`;window.open(z,"_blank")}},M=I=>{O(I),E(!0)};return F.useEffect(()=>{try{const I="recentlyViewed",C=localStorage.getItem(I),N=(C?JSON.parse(C):[]).filter(q=>String(q.id)!==String(n)),de={id:n,name:L.name,image:U[0]||"",viewedAt:Date.now()};N.unshift(de);const ce=N.slice(0,10);localStorage.setItem(I,JSON.stringify(ce))}catch(I){console.warn("Failed to update recently viewed",I)}},[n,L.name,U]),y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsx("div",{onClick:()=>M(0),className:"bg-gray-200 dark:bg-gray-700 rounded h-64 mb-4 cursor-pointer hover:opacity-80 transition overflow-hidden",children:y.jsx("img",{src:U[0],alt:"Product main",className:"w-full h-full object-cover"})}),U.length>1&&y.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:U.map((I,C)=>y.jsx("button",{onClick:()=>M(C),className:"flex-shrink-0 w-16 h-16 rounded border-2 border-transparent hover:border-gray-400 cursor-pointer transition overflow-hidden",children:y.jsx("img",{src:I,alt:`Product ${C+1}`,className:"w-full h-full object-cover"})},C))}),y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold mb-1",children:L.name}),L.category&&y.jsx("div",{className:"text-sm text-gray-500 mb-2",children:L.category}),y.jsxs("div",{className:"text-sm font-medium",children:[y.jsx("span",{className:"text-yellow-500",children:""}),y.jsxs("span",{className:"text-gray-700 ml-2",children:[(L.rating||4.5).toFixed(1)," (",L.reviewCount||42,")"]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:ee,className:`p-2 rounded border ${B?"bg-orange-50 text-orange-500 border-orange-300":""}`,children:y.jsx(Fh,{fill:B?"currentColor":"none"})}),y.jsx("button",{onClick:x,className:"p-2 rounded border",children:y.jsx(OI,{size:18})})]})]}),y.jsxs("p",{className:"text-2xl font-bold mb-6",children:["",L.price]}),L.description&&y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 p-5 rounded-lg mb-6",children:[y.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-900 dark:text-gray-100",children:"Details"}),y.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap text-base",children:L.description})]}),y.jsxs("div",{className:"space-y-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Size"}),y.jsxs("select",{value:f,onChange:I=>h(I.target.value),className:"w-full p-2 border rounded",children:[y.jsx("option",{children:"XS"}),y.jsx("option",{children:"S"}),y.jsx("option",{children:"M"}),y.jsx("option",{children:"L"}),y.jsx("option",{children:"XL"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>c(Math.max(1,l-1)),className:"px-3 py-1 border rounded",children:"-"}),y.jsx("span",{className:"w-8 text-center",children:l}),y.jsx("button",{onClick:()=>c(l+1),className:"px-3 py-1 border rounded",children:"+"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{onClick:X,className:`w-full py-3 rounded font-medium transition ${p?"bg-green-600 text-white":"bg-red-600 text-white hover:bg-red-700"}`,children:p?" Added":"Add to cart"}),y.jsx("button",{onClick:D,className:"w-full py-3 rounded font-medium bg-green-600 text-white hover:bg-green-700",children:"Buy Now"})]})]}),y.jsx(C3,{images:U,initialIndex:S,isOpen:_,onClose:()=>E(!1)}),y.jsx(Z1,{productId:n}),y.jsx(R3,{currentProductId:n}),L.category&&y.jsx(N3,{category:L.category,currentProductId:n})]})}function N3({category:n,currentProductId:e}){const{products:t}=sr(),r=F.useMemo(()=>t.filter(a=>a.category===n&&a.id!==e).slice(0,6),[t,n,e]);return r.length===0?null:y.jsxs("div",{className:"mt-8 border-t pt-6",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["More from ",n]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:r.map(a=>y.jsxs(Vt,{to:`/product/${a.id}`,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsx("div",{className:"h-24 sm:h-28 bg-gray-100 flex items-center justify-center overflow-hidden",children:a.image?y.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):"Image"}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),y.jsxs("div",{className:"text-sm text-red-600 font-semibold mt-1",children:["",a.price]}),y.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" ",(a.rating||4.5).toFixed(1)]})]})]},a.id))})]})}function O3(){const{items:n,removeItem:e,fetchWishlist:t,loading:r}=uc(),{addItem:a}=zs(),[l]=cc(gn);F.useEffect(()=>{l&&t(l.uid)},[l,t]);const c=f=>{a({...f,qty:1,size:"M"})};return r?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Loading wishlist..."})}):y.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[y.jsxs("h1",{className:"text-2xl font-semibold mb-4",children:["My Wishlist (",n.length,")"]}),n.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-12",children:[y.jsx("p",{className:"mb-3",children:"Your wishlist is empty"}),y.jsx(Vt,{to:"/products",className:"text-red-600 font-medium",children:"Continue shopping "})]}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:n.map(f=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsx("button",{onClick:()=>e(f.id),className:"absolute top-2 right-2 z-10 p-1.5 bg-white dark:bg-gray-700 rounded-full hover:bg-red-50",title:"Remove from wishlist",children:y.jsx(Ko,{size:16,className:"text-red-600"})}),y.jsx(Vt,{to:`/product/${f.id}`,className:"block relative overflow-hidden bg-gray-100 h-28 sm:h-32",children:f.image?y.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Image"})}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsxs(Vt,{to:`/product/${f.id}`,className:"block",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate hover:text-red-600",children:f.name}),f.category&&y.jsx("div",{className:"text-xs text-gray-500",children:f.category}),y.jsxs("div",{className:"text-sm text-red-600 font-semibold mt-1",children:["",f.price]})]}),y.jsxs("button",{onClick:()=>c(f),className:"w-full mt-2 flex items-center justify-center gap-1 py-1.5 bg-red-50 text-red-600 rounded text-xs font-medium hover:bg-red-100 transition",children:[y.jsx(Ra,{size:14})," Add to cart"]})]})]},f.id))})]})}function D3({onSuccess:n,onClose:e,amount:t,upiId:r}){const[a,l]=F.useState(!1),[c,f]=F.useState(""),h=F.useRef(null),p=async()=>{try{const _=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});h.current&&(h.current.srcObject=_)}catch(_){f("Camera access denied. Please enable camera permissions."),console.error("Camera error:",_)}};F.useEffect(()=>(a&&setTimeout(()=>p(),0),()=>{const _=h.current;_?.srcObject&&_.srcObject.getTracks().forEach(E=>E.stop())}),[a]);const v=()=>{setTimeout(()=>{n({transactionId:"UPI_"+Date.now(),status:"success",amount:t})},1e3)};return y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-fadeIn",children:y.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md overflow-hidden animate-slideUp",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[y.jsx("h2",{className:"font-semibold",children:"UPI Payment"}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded",children:y.jsx(Ko,{size:20})})]}),y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{className:"text-center py-4 bg-blue-50 rounded",children:[y.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"}),y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["",t]})]}),y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[y.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"UPI ID"}),y.jsx("div",{className:"text-sm font-mono font-bold",children:r})]}),a?y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"relative bg-black rounded overflow-hidden h-64",children:[y.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 border-2 border-green-500 border-dashed m-8 rounded"})]}),y.jsx("button",{onClick:()=>l(!1),className:"w-full py-2 bg-gray-200 text-gray-900 rounded font-medium",children:"Close Scanner"})]}):y.jsxs("button",{onClick:()=>l(!0),className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors",children:[y.jsx(vI,{size:20})," Open Camera"]}),y.jsx("button",{onClick:v,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Complete Payment"}),c&&y.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded text-sm",children:c}),y.jsx("div",{className:"text-xs text-gray-500 text-center",children:`Click "Complete Payment" once you've sent the payment via UPI`})]})]})})}function M3(){const n=ln(),{items:e,clear:t}=zs(),{addOrder:r}=_f(),[a]=cc(gn),[l,c]=F.useState("cod"),[f,h]=F.useState(""),[p,v]=F.useState(""),[_,E]=F.useState(""),[S,O]=F.useState(!1),[P,k]=F.useState(null);F.useEffect(()=>{(async()=>{if(a)try{const ee=mn(Bt,"users",a.uid),re=await zy(ee);if(re.exists()){const x=re.data().address;if(x){const M=[x.village||x.city,x.po,x.ps,x.district,x.pin].filter(Boolean).join(", "),I=x.landmark?`${M} (${x.landmark})`:M;h(I),v(x.mobile||x.phone||a.phoneNumber||"")}}}catch(ee){console.warn("Failed to load address",ee)}})()},[a]);const L=e.reduce((X,ee)=>X+ee.price*(ee.qty||1),0),U=async X=>{if(X.preventDefault(),E(""),!f||!p){E("Please fill in all fields");return}if(l==="upi"){if(!P){E("Please complete UPI payment to place order"),O(!0);return}if(P.status!=="success"){E("Payment was not successful. Please try again"),k(null),O(!0);return}}const ee={items:e,total:L,paymentMethod:l,address:f,phone:p,paymentDetails:P||null,deliveryStatus:[{step:"confirmed",completed:!0,date:new Date().toISOString()},{step:"processing",completed:!1,date:null},{step:"shipped",completed:!1,date:null},{step:"delivered",completed:!1,date:null}]};try{await r(ee),t(),n("/orders")}catch(re){E("Failed to place order: "+re.message)}},B=async X=>{k(X),O(!1),setTimeout(async()=>{const ee={items:e,total:L,paymentMethod:l,address:f,phone:p,paymentDetails:X,deliveryStatus:[{step:"confirmed",completed:!0,date:new Date().toISOString()},{step:"processing",completed:!1,date:null},{step:"shipped",completed:!1,date:null},{step:"delivered",completed:!1,date:null}]};try{await r(ee),t(),n("/orders")}catch(re){E("Failed to place order: "+re.message)}},1e3)};return e.length===0?y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 py-12 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"Cart is empty"}),y.jsx("a",{href:"/products",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Continue Shopping "})]}):y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Checkout"}),y.jsxs("form",{onSubmit:U,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Delivery Address"}),y.jsx("textarea",{value:f,onChange:X=>h(X.target.value),placeholder:"Enter your full address including house number, street, city, state and pin code",className:"w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:border-orange-600 focus:outline-none min-h-[100px]",rows:4})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),y.jsx("input",{type:"tel",value:p,onChange:X=>v(X.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit phone number",className:"w-full px-3 py-3 text-base border-2 border-gray-200 rounded-lg focus:border-orange-600 focus:outline-none min-h-[44px]",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Payment Method"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border-2 border-gray-200 rounded-lg active:bg-gray-50 transition-colors touch-area min-h-[50px]",children:[y.jsx("input",{type:"radio",value:"cod",checked:l==="cod",onChange:X=>c(X.target.value),className:"w-5 h-5 cursor-pointer"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Cash on Delivery"}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pay when you receive the order"})]})]}),y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border-2 border-gray-200 rounded-lg active:bg-gray-50 transition-colors touch-area min-h-[50px]",children:[y.jsx("input",{type:"radio",value:"upi",checked:l==="upi",onChange:X=>c(X.target.value),className:"w-5 h-5 cursor-pointer"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"UPI Payment"}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pay securely using UPI"})]})]})]})]}),l==="upi"&&y.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 p-3 rounded-lg",children:[y.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Scan to Pay"}),y.jsxs("p",{className:"text-xs text-blue-700 mt-1.5",children:["UPI ID: ",y.jsx("strong",{children:"support@dsmart.upi"})]}),y.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:["Amount: ",y.jsxs("strong",{children:["",L.toFixed(0)]})]})]}),_&&y.jsx("div",{className:"text-sm text-red-700 bg-red-50 p-3 rounded-lg border-2 border-red-200",children:_}),y.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-3 rounded-lg border-2 border-gray-200 sticky top-20 z-10",children:[y.jsx("h3",{className:"font-bold text-sm text-gray-900 mb-2",children:"Order Summary"}),y.jsx("div",{className:"space-y-1.5 mb-2.5 max-h-32 overflow-y-auto",children:e.map(X=>y.jsxs("div",{className:"flex justify-between text-xs text-gray-700",children:[y.jsxs("span",{className:"truncate flex-1",children:[X.name," ",y.jsxs("span",{className:"font-semibold",children:["",X.qty||1]})]}),y.jsxs("span",{className:"font-medium ml-2",children:["",(X.price*(X.qty||1)).toFixed(0)]})]},X.id))}),y.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 flex justify-between items-center",children:[y.jsx("span",{className:"font-bold text-gray-900",children:"Total:"}),y.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["",L.toFixed(0)]})]})]}),y.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold rounded-lg active:opacity-90 touch-area min-h-[48px] text-base transition",children:l==="upi"?"Continue to UPI Payment":"Place Order"})]}),S&&y.jsx(D3,{onSuccess:B,onClose:()=>O(!1),amount:L,upiId:"support@dsmart.upi"})]})}function k3(){const{orders:n,fetchOrders:e,loading:t,error:r,cancelOrder:a,updateStatus:l}=_f(),[c]=cc(gn);return F.useEffect(()=>{c&&e(c.uid)},[c,e]),t?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Loading orders..."})}):r?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:y.jsxs("p",{className:"text-red-600 bg-red-50 p-3 rounded",children:["Error loading orders: ",r]})}):c?y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"My Orders"}),n.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx("p",{className:"mb-3",children:"No orders yet"}),y.jsx(Vt,{to:"/products",className:"text-gray-900",children:"Continue shopping"})]}):y.jsx("div",{className:"space-y-3",children:n.map(f=>y.jsxs("div",{className:"bg-white dark:bg-white-800 p-4 rounded border",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:f.id}),y.jsx("div",{className:"text-xs text-gray-500",children:bf(f.createdAt).format("MMM DD, YYYY")})]}),y.jsx("div",{className:`text-sm px-2 py-1 rounded ${f.status==="confirmed"?"bg-blue-100 text-blue-800":f.status==="processing"?"bg-yellow-100 text-yellow-800":f.status==="shipped"?"bg-orange-100 text-orange-800":f.status==="delivered"?"bg-green-100 text-green-700":f.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-900"}`,children:f.status.toUpperCase()})]}),y.jsxs("div",{className:"text-sm mb-3",children:[y.jsxs("div",{className:"text-gray-600",children:["Items: ",f.items.length]}),y.jsxs("div",{className:"font-medium",children:["",f.total.toFixed(0)]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsxs(Vt,{to:`/order/${f.id}`,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-yellow-400 text-black rounded text-sm hover:bg-yellow-500 border-2 border-yellow-600",children:[y.jsx(SI,{size:16})," Track"]}),f.status==="confirmed"&&y.jsxs("button",{onClick:()=>a(f.id),className:"flex-1 flex items-center justify-center gap-2 py-2 bg-yellow-100 text-yellow-800 rounded text-sm hover:bg-yellow-200 border",children:[y.jsx(fE,{size:16})," Cancel"]})]})]},f.id))})]}):y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"Please login to view your orders"}),y.jsx(Vt,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"})]})}function P3(){const{id:n}=Bg(),{getOrder:e}=_f(),t=e(n);if(!t)return y.jsx("div",{className:"max-w-2xl mx-auto p-4 py-12 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Order not found"})});const r=()=>{navigator.clipboard.writeText(t.id)},a=t.deliveryStatus??[];return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsx("div",{className:"mb-4",children:y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Order Details"}),y.jsxs("button",{onClick:r,className:"flex items-center gap-1 px-2 py-1 text-sm bg-gray-100 dark:bg-gray-800 rounded",title:"Copy order ID",children:[y.jsx(EI,{size:14})," ",t.id]})]})}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4 border-b",children:[y.jsx("h3",{className:"font-semibold mb-4",children:"Delivery Status"}),y.jsx("div",{className:"space-y-3",children:a.length===0?y.jsx("p",{className:"text-sm text-gray-500",children:"Status not available yet"}):a.map((l,c)=>y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:`mt-1 w-6 h-6 rounded-full flex items-center justify-center ${l.completed?"bg-green-500 text-white":"bg-white text-gray-600 border"}`,children:l.completed?y.jsx(_I,{size:16}):y.jsx(TI,{size:16})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-medium capitalize",children:l.step}),l.date&&y.jsx("div",{className:"text-xs text-gray-500",children:bf(l.date).format("MMM DD, YYYY hh:mm A")})]})]},c))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Items Ordered"}),y.jsx("div",{className:"space-y-2",children:t.items?.map(l=>y.jsxs("div",{className:"flex justify-between text-sm pb-2 border-b last:border-0",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:l.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Size: ",l.size," | Qty: ",l.qty||1]})]}),y.jsxs("div",{className:"font-medium",children:["$",(l.price*(l.qty||1)).toFixed(2)]})]},l.id))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),y.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.address}),y.jsxs("p",{className:"text-sm mt-2",children:["Phone: ",t.phone]})]}),y.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{children:"Subtotal:"}),y.jsxs("span",{children:["",t.total.toFixed(0)]})]}),y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{children:"Shipping:"}),y.jsx("span",{children:"Free"})]}),y.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{children:["",t.total.toFixed(0)]})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rate & Review Products"}),t.items?.map(l=>y.jsxs("div",{className:"mb-6 pb-6 border-b last:border-0",children:[y.jsxs("div",{className:"flex gap-3 mb-4",children:[l.image&&y.jsx("img",{src:l.image,alt:l.name,className:"w-16 h-16 rounded object-cover"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium",children:l.name}),y.jsxs("p",{className:"text-sm text-orange-500",children:["Qty: ",l.qty||1]})]})]}),y.jsx(Z1,{productId:l.id,showFormOnly:!0})]},l.id))]})]})}function L3(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,l]=F.useState(""),c=ln(),{t:f}=F.useContext(Va),h=async v=>{v.preventDefault(),l("");try{await AO(gn,n,t),c("/")}catch(_){l(_.message)}},p=async()=>{try{const v=new Wi;await cS(gn,v),c("/")}catch(v){l(v.message)}};return y.jsxs("div",{className:"max-w-md mx-auto p-4",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:f("login")}),y.jsxs("form",{onSubmit:h,className:"space-y-3",children:[y.jsx("input",{value:n,onChange:v=>e(v.target.value),placeholder:f("email"),className:"w-full p-2 border rounded"}),y.jsx("input",{value:t,onChange:v=>r(v.target.value),placeholder:f("password"),type:"password",className:"w-full p-2 border rounded"}),a&&y.jsx("div",{className:"text-sm text-red-500",children:a}),y.jsx("button",{className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700",children:f("login")})]}),y.jsx("div",{className:"mt-3",children:y.jsx("button",{onClick:p,className:"w-full py-2 border rounded",children:"Sign in with Google"})}),y.jsxs("p",{className:"mt-3 text-sm",children:[f("dontHaveAccount")," ",y.jsx(Vt,{to:"/register",className:"text-red-600 hover:text-red-700",children:f("register")})]})]})}function j3(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,l]=F.useState(""),[c,f]=F.useState(""),[h,p]=F.useState(""),v=ln(),{t:_}=F.useContext(Va),E=async O=>{O.preventDefault(),p("");try{if(!c)throw new Error("Mobile number is required");const k=(await xO(gn,n,t)).user;a&&await ZE(k,{displayName:a});try{await Ds(mn(Bt,"users",k.uid),{name:a||k.displayName||"",email:k.email,phone:c,createdAt:kh()})}catch(L){console.warn("Failed to write user doc",L)}v("/")}catch(P){p(P.message)}},S=async O=>{p("");try{let P;if(O==="google")P=new Wi;else if(O==="facebook")P=new Rr;else throw new Error("Unsupported provider");const L=(await cS(gn,P)).user;try{await Ds(mn(Bt,"users",L.uid),{name:L.displayName||"",email:L.email||"",phone:L.phoneNumber||"",provider:O,updatedAt:kh()},{merge:!0})}catch(U){console.warn("Failed to write user doc for provider sign-in",U)}v("/")}catch(P){p(P.message)}};return y.jsxs("div",{className:"max-w-md mx-auto p-4",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:_("register")}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{type:"button",onClick:()=>S("google"),className:"w-full flex items-center justify-center gap-2 border p-2 rounded bg-white hover:bg-gray-50",children:y.jsx("span",{children:"Continue with Google"})}),y.jsx("button",{type:"button",onClick:()=>S("facebook"),className:"w-full flex items-center justify-center gap-2 border p-2 rounded bg-white hover:bg-gray-50",children:y.jsx("span",{children:"Continue with Facebook"})}),y.jsxs("div",{className:"text-center text-sm text-gray-500",children:[_("loading")," with email"]}),y.jsxs("form",{onSubmit:E,className:"space-y-3",children:[y.jsx("input",{value:a,onChange:O=>l(O.target.value),placeholder:_("name"),className:"w-full p-2 border rounded"}),y.jsx("input",{value:n,onChange:O=>e(O.target.value),placeholder:_("email"),className:"w-full p-2 border rounded"}),y.jsx("input",{value:c,onChange:O=>f(O.target.value),placeholder:_("mobile")+" ("+_("loading")+")",className:"w-full p-2 border rounded",required:!0,inputMode:"tel"}),y.jsx("input",{value:t,onChange:O=>r(O.target.value),placeholder:_("password"),type:"password",className:"w-full p-2 border rounded"}),h&&y.jsx("div",{className:"text-sm text-red-500",children:h}),y.jsx("button",{className:"w-full bg-green-600 text-white py-2 rounded",children:"Create account"})]})]}),y.jsxs("p",{className:"mt-3 text-sm",children:[_("alreadyHaveAccount")," ",y.jsx(Vt,{to:"/login",className:"text-gray-900",children:_("login")})]})]})}function V3(){const n=ln(),{products:e,deleteProduct:t}=sr();return y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Manage Products"}),y.jsxs("button",{onClick:()=>n("/admin/add-product"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded text-sm",children:[y.jsx(hE,{size:16})," Add Product"]})]}),e.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx("p",{className:"mb-3",children:"No products yet"}),y.jsx("button",{onClick:()=>n("/admin/add-product"),className:"text-green-600",children:"Create the first product"})]}):y.jsx("div",{className:"space-y-2",children:e.map(r=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-semibold",children:r.name}),y.jsxs("div",{className:"text-sm text-gray-500",children:["$",r.price," | ",r.category]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>n(`/admin/edit-product/${r.id}`),className:"p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-900/20",children:y.jsx(dE,{size:16})}),y.jsx("button",{onClick:async()=>{if(confirm("Delete this product?"))try{await t(r.id)}catch(a){console.error("Delete failed",a),alert("Failed to delete product")}},className:"p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-900/20 text-gray-900",children:y.jsx(fE,{size:16})})]})]},r.id))})]})}function U3(){const n=ln(),{addProduct:e}=sr(),[t,r]=F.useState({name:"",price:"",description:"",category:"electronics",image:""}),a=async l=>{if(l.preventDefault(),!(!t.name||!t.price))try{await e({name:t.name,price:Number(t.price),description:t.description,category:t.category,image:t.image||"https://picsum.photos/300"}),n("/admin/products")}catch(c){console.error("Add product failed",c),alert("Failed to add product: "+c.message)}};return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>n("/admin/products"),className:"p-2",children:y.jsx(cE,{})}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Add Product"})]}),y.jsxs("form",{onSubmit:a,className:"bg-white dark:bg-gray-800 p-4 rounded space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name *"}),y.jsx("input",{type:"text",value:t.name,onChange:l=>r({...t,name:l.target.value}),placeholder:"Enter product name",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),y.jsx("input",{type:"number",value:t.price,onChange:l=>r({...t,price:l.target.value}),placeholder:"Enter price",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),y.jsxs("select",{value:t.category,onChange:l=>r({...t,category:l.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700",children:[y.jsx("option",{children:"electronics"}),y.jsx("option",{children:"clothing"}),y.jsx("option",{children:"books"}),y.jsx("option",{children:"home"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:t.image,onChange:l=>r({...t,image:l.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:t.description,onChange:l=>r({...t,description:l.target.value}),placeholder:"Product description",rows:3,className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded font-medium",children:"Add Product"})]})]})}function z3(){const{id:n}=Bg(),e=ln(),{getProduct:t,updateProduct:r}=sr(),[a,l]=F.useState({name:"",price:"",description:"",category:"electronics",image:""});F.useEffect(()=>{const f=t(n);f&&setTimeout(()=>l(f),0)},[n,t]);const c=f=>{if(f.preventDefault(),!a.name||!a.price)return;(async()=>{try{await r(n,{name:a.name,price:Number(a.price),description:a.description,category:a.category,image:a.image}),e("/admin/products")}catch(p){console.error("Update failed",p),alert("Failed to update product")}})()};return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>e("/admin/products"),className:"p-2",children:y.jsx(cE,{})}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Edit Product"})]}),y.jsxs("form",{onSubmit:c,className:"bg-white dark:bg-gray-800 p-4 rounded space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name *"}),y.jsx("input",{type:"text",value:a.name,onChange:f=>l({...a,name:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),y.jsx("input",{type:"number",value:a.price,onChange:f=>l({...a,price:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),y.jsxs("select",{value:a.category,onChange:f=>l({...a,category:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700",children:[y.jsx("option",{children:"electronics"}),y.jsx("option",{children:"clothing"}),y.jsx("option",{children:"books"}),y.jsx("option",{children:"home"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:a.image,onChange:f=>l({...a,image:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:a.description,onChange:f=>l({...a,description:f.target.value}),rows:3,className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsx("button",{type:"submit",className:"w-full bg-white text-gray-900 py-2 rounded font-medium",children:"Update Product"})]})]})}function B3(){const[n]=cc(gn),e=ln(),[t,r]=F.useState(!0),[a,l]=F.useState({name:"",email:"",phone:"",address:{village:"",city:"",po:"",ps:"",district:"",pin:"",landmark:"",mobile:""}}),[c,f]=F.useState(!1),[h,p]=F.useState(a.address),[v,_]=F.useState(!1),[E,S]=F.useState([]),[O,P]=F.useState(!1),[k,L]=F.useState(0);F.useEffect(()=>{(async()=>{if(n)try{const de=mn(Bt,"users",n.uid),ce=await zy(de);if(ce.exists()){const q=ce.data();l(J=>({...J,name:n.displayName||q.name||"",email:n.email||q.email||"",phone:n.phoneNumber||q.phone||"",address:q.address||J.address})),p(q.address||a.address)}else l(q=>({...q,name:n.displayName||"",email:n.email||"",phone:n.phoneNumber||""}))}catch(de){console.error("Error loading user data:",de)}r(!1)})()},[n,a.address]),F.useEffect(()=>{try{const N=localStorage.getItem("recentlyViewed"),de=N?JSON.parse(N):[];S(de)}catch{S([])}},[]);const U=(N,de)=>{p(ce=>({...ce,[N]:de}))},B=async()=>{if(n){_(!0);try{const N=mn(Bt,"users",n.uid);await Ds(N,{name:a.name,email:a.email,phone:a.phone,address:h,updatedAt:new Date},{merge:!0}),l(de=>({...de,address:h})),f(!1),alert("Address saved successfully!")}catch(N){console.error("Error saving address:",N),alert("Error saving address. Please try again.")}_(!1)}},X=()=>{p(a.address),f(!1)},ee=()=>{window.location.href="tel:+919000000000"},re=async N=>{const de=N.target.files&&N.target.files[0];if(!de||!n)return;const ce=`profiles/${n.uid}/${Date.now()}_${de.name}`,q=dL(Pj,ce);try{P(!0),L(0);const J=uL(q,de);J.on("state_changed",le=>{const fe=Math.round(le.bytesTransferred/le.totalBytes*100);L(fe)}),await J;const $=await cL(q);try{await ZE(gn.currentUser,{photoURL:$})}catch(le){console.warn("updateProfile failed",le)}try{const le=mn(Bt,"users",n.uid);await Ds(le,{photoURL:$,updatedAt:new Date},{merge:!0})}catch(le){console.warn("Failed to update user doc with photoURL",le)}alert("Profile picture updated")}catch(J){console.error("Profile upload failed",J),alert("Failed to upload profile picture")}finally{P(!1),L(0)}},D=()=>{window.open("https://wa.me/919000000000?text=Hello%20I%20need%20support","_blank")},x=async()=>{if(window.confirm(C("logout")+"  Are you sure?"))try{await OO(gn),e("/")}catch(N){console.warn("Logout failed",N),alert("Failed to logout. Please try again.")}},{language:M,setLanguage:I,t:C}=F.useContext(Va),z=N=>{I(N.target.value)};return t?y.jsx("div",{className:"max-w-md mx-auto p-4 pb-32 flex items-center justify-center h-screen",children:y.jsx("div",{className:"text-gray-600",children:"Loading..."})}):y.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:n?.photoURL?y.jsx("img",{src:n.photoURL,alt:"profile",className:"w-full h-full object-cover"}):y.jsx("div",{className:"text-xl text-gray-600",children:n?.displayName?.[0]||"U"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-500",children:C("profilePhoto")}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("input",{id:"profileFile",type:"file",accept:"image/*",onChange:re,className:"hidden"}),y.jsx("label",{htmlFor:"profileFile",className:"text-sm px-3 py-1 border rounded bg-white hover:bg-gray-50 cursor-pointer",children:C("change")}),O&&y.jsxs("div",{className:"text-xs text-gray-500",children:["Uploading ",k,"%"]})]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold text-lg",children:n?.displayName||"Guest"}),y.jsx("div",{className:"text-sm text-gray-500",children:n?.email||"Not signed in"})]})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsx("h3",{className:"font-semibold mb-2",children:C("customerDetails")}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("name"),": ",a.name]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("contact"),": ",a.phone||""]}),y.jsx("button",{onClick:()=>e("/orders"),className:"mt-3 text-sm text-gray-900",children:C("viewOrders")})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:"font-semibold",children:C("address")}),!c&&y.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm",children:[y.jsx(dE,{size:16})," ",C("edit")]})]}),c?y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("village")}),y.jsx("input",{type:"text",value:h.village,onChange:N=>U("village",N.target.value),placeholder:"Village or City name",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("po")}),y.jsx("input",{type:"text",value:h.po,onChange:N=>U("po",N.target.value),placeholder:"Post Office",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("ps")}),y.jsx("input",{type:"text",value:h.ps,onChange:N=>U("ps",N.target.value),placeholder:"Police Station",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("district")}),y.jsx("input",{type:"text",value:h.district,onChange:N=>U("district",N.target.value),placeholder:"District",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("pin")}),y.jsx("input",{type:"text",value:h.pin,onChange:N=>U("pin",N.target.value),placeholder:"PIN Code",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("landmark")}),y.jsx("input",{type:"text",value:h.landmark,onChange:N=>U("landmark",N.target.value),placeholder:"Landmark (Optional)",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("mobile")}),y.jsx("input",{type:"tel",value:h.mobile,onChange:N=>U("mobile",N.target.value),placeholder:"10-digit mobile number",className:"w-full p-2 border rounded text-sm",maxLength:"10"})]}),y.jsxs("div",{className:"flex gap-2 pt-2",children:[y.jsx("button",{onClick:B,disabled:v,className:"flex-1 bg-blue-600 text-white py-2 rounded text-sm font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition",children:C(v?"savingAddress":"saveAddress")}),y.jsx("button",{onClick:X,disabled:v,className:"flex-1 bg-gray-300 text-gray-800 py-2 rounded text-sm font-medium hover:bg-gray-400 disabled:opacity-50 transition",children:C("cancel")})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-sm text-gray-700",children:[C("village"),": ",a.address.village||a.address.city||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("po"),": ",a.address.po||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("ps"),": ",a.address.ps||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("district"),": ",a.address.district||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("pin"),": ",a.address.pin||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("landmark"),": ",a.address.landmark||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("mobile"),": ",a.address.mobile||""]})]})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h3",{className:"font-semibold",children:C("recentlyViewed")}),y.jsx("button",{onClick:()=>{localStorage.removeItem("recentlyViewed"),S([])},className:"text-xs text-gray-500 hover:text-gray-700",children:C("clear")})]}),E.length===0?y.jsx("p",{className:"text-sm text-gray-500",children:C("noRecentItems")}):y.jsx("div",{className:"space-y-2",children:E.map(N=>y.jsxs(Vt,{to:`/product/${N.id}`,className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded overflow-hidden",children:N.image?y.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Viewed ",new Date(N.viewedAt).toLocaleString()]})]})]},N.id))})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsx("h3",{className:"font-semibold mb-3",children:C("customerSupport")}),y.jsxs("div",{className:"space-y-2 mb-3",children:[y.jsx("p",{className:"text-sm text-gray-700",children:"Email: support@crodyto.example"}),y.jsx("p",{className:"text-sm text-gray-700",children:"Phone: +91 90000 00000"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:ee,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white py-2 rounded font-medium hover:bg-green-700 transition",children:[y.jsx(NI,{size:18})," Call Now"]}),y.jsxs("button",{onClick:D,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded font-medium hover:bg-blue-700 transition",children:[y.jsx(RI,{size:18})," Chat"]})]})]}),y.jsx("section",{className:"mb-2 bg-white p-2 rounded border",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"font-semibold text-sm",children:"Language"}),y.jsxs("select",{value:M,onChange:z,className:"p-2 text-sm border rounded w-32",children:[y.jsx("option",{value:"en",children:"EN"}),y.jsx("option",{value:"hi",children:"HI"}),y.jsx("option",{value:"bn",children:"BN"})]})]})}),n&&y.jsx("section",{className:"mb-4 bg-white p-3 rounded border border-red-200 bg-red-50",children:y.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white py-2.5 rounded-lg font-semibold hover:bg-red-700 active:opacity-90 transition touch-area min-h-[44px]",children:[y.jsx(CI,{size:18})," Logout"]})})]})}function F3(){const[n,e]=F.useState(!1),[t,r]=F.useState(null);return F.useEffect(()=>{try{sr.getState().subscribeToProducts()}catch(a){console.warn("subscribeToProducts failed",a)}return()=>{try{sr.getState().unsubscribeProducts()}catch(a){console.warn("unsubscribeProducts failed",a)}}},[]),F.useEffect(()=>{const a=c=>{console.error("Global error:",c.error),r(`Error: ${c.error?.message||"Unknown error"}`)};window.addEventListener("error",a);const l=c=>{c.target.closest(".scrollable")||c.preventDefault()};return document.addEventListener("touchmove",l,{passive:!1}),()=>{window.removeEventListener("error",a),document.removeEventListener("touchmove",l)}},[]),t?y.jsx("div",{className:"flex flex-col h-screen bg-white text-gray-900 overflow-hidden",children:y.jsx("main",{className:"flex-1 overflow-y-auto flex items-center justify-center",children:y.jsxs("div",{className:"text-center p-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),y.jsx("p",{className:"text-gray-600 mb-4",children:t}),y.jsx("button",{onClick:()=>{r(null),window.location.href="/my-ecommerce/"},className:"px-4 py-2 bg-white text-gray-900 rounded hover:bg-gray-100",children:"Go Home"})]})})}):y.jsx(VI,{children:y.jsx(eI,{basename:"/my-ecommerce/",children:y.jsxs("div",{className:"flex flex-col h-screen bg-white text-gray-900 overflow-hidden",children:[y.jsx(UI,{onCartClick:()=>e(!0)}),y.jsx(jj,{isOpen:n,onClose:()=>e(!1)}),y.jsx("main",{className:"flex-1 overflow-y-auto scrollable",children:y.jsxs(NR,{children:[y.jsx(xn,{path:"/",element:y.jsx(f3,{})}),y.jsx(xn,{path:"/products",element:y.jsx(m3,{})}),y.jsx(xn,{path:"/product/:id",element:y.jsx(I3,{})}),y.jsx(xn,{path:"/wishlist",element:y.jsx(O3,{})}),y.jsx(xn,{path:"/checkout",element:y.jsx(M3,{})}),y.jsx(xn,{path:"/orders",element:y.jsx(k3,{})}),y.jsx(xn,{path:"/order/:id",element:y.jsx(P3,{})}),y.jsx(xn,{path:"/login",element:y.jsx(L3,{})}),y.jsx(xn,{path:"/register",element:y.jsx(j3,{})}),y.jsx(xn,{path:"/account",element:y.jsx(B3,{})}),y.jsx(xn,{path:"/admin/products",element:y.jsx(V3,{})}),y.jsx(xn,{path:"/admin/add-product",element:y.jsx(U3,{})}),y.jsx(xn,{path:"/admin/edit-product/:id",element:y.jsx(z3,{})})]})}),y.jsx(Lj,{})]})})})}UC.createRoot(document.getElementById("root")).render(y.jsx(F.StrictMode,{children:y.jsx(F3,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
