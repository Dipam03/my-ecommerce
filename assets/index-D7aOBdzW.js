(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Lg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yp={exports:{}},pu={};var _b;function RC(){if(_b)return pu;_b=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return pu.Fragment=e,pu.jsx=t,pu.jsxs=t,pu}var bb;function IC(){return bb||(bb=1,yp.exports=RC()),yp.exports}var y=IC(),vp={exports:{}},Re={};var wb;function NC(){if(wb)return Re;wb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function U(L,te,he){this.props=L,this.context=te,this.refs=N,this.updater=he||M}U.prototype.isReactComponent={},U.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=U.prototype;function z(L,te,he){this.props=L,this.context=te,this.refs=N,this.updater=he||M}var ne=z.prototype=new B;ne.constructor=z,k(ne,U.prototype),ne.isPureReactComponent=!0;var ee=Array.isArray;function ie(){}var O={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function D(L,te,he){var me=he.ref;return{$$typeof:n,type:L,key:te,ref:me!==void 0?me:null,props:he}}function I(L,te){return D(L.type,te,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function j(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return te[he]})}var P=/\/+/g;function de(L,te){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):te.toString(36)}function ce(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ie,ie):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,te,he,me,be){var Ae=typeof L;(Ae==="undefined"||Ae==="boolean")&&(L=null);var Ne=!1;if(L===null)Ne=!0;else switch(Ae){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(L.$$typeof){case n:case e:Ne=!0;break;case v:return Ne=L._init,q(Ne(L._payload),te,he,me,be)}}if(Ne)return be=be(L),Ne=me===""?"."+de(L,0):me,ee(be)?(he="",Ne!=null&&(he=Ne.replace(P,"$&/")+"/"),q(be,te,he,"",function(yt){return yt})):be!=null&&(C(be)&&(be=I(be,he+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(P,"$&/")+"/")+Ne)),te.push(be)),1;Ne=0;var at=me===""?".":me+":";if(ee(L))for(var qe=0;qe<L.length;qe++)me=L[qe],Ae=at+de(me,qe),Ne+=q(me,te,he,Ae,be);else if(qe=E(L),typeof qe=="function")for(L=qe.call(L),qe=0;!(me=L.next()).done;)me=me.value,Ae=at+de(me,qe++),Ne+=q(me,te,he,Ae,be);else if(Ae==="object"){if(typeof L.then=="function")return q(ce(L),te,he,me,be);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function J(L,te,he){if(L==null)return L;var me=[],be=0;return q(L,me,"","",function(Ae){return te.call(he,Ae,be++)}),me}function $(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},fe={map:J,forEach:function(L,te,he){J(L,function(){te.apply(this,arguments)},he)},count:function(L){var te=0;return J(L,function(){te++}),te},toArray:function(L){return J(L,function(te){return te})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Re.Activity=b,Re.Children=fe,Re.Component=U,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=z,Re.StrictMode=r,Re.Suspense=h,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Re.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Re.cache=function(L){return function(){return L.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(L,te,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=k({},L.props),be=L.key;if(te!=null)for(Ae in te.key!==void 0&&(be=""+te.key),te)!x.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(me[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)me.children=he;else if(1<Ae){for(var Ne=Array(Ae),at=0;at<Ae;at++)Ne[at]=arguments[at+2];me.children=Ne}return D(L.type,be,me)},Re.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Re.createElement=function(L,te,he){var me,be={},Ae=null;if(te!=null)for(me in te.key!==void 0&&(Ae=""+te.key),te)x.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(be[me]=te[me]);var Ne=arguments.length-2;if(Ne===1)be.children=he;else if(1<Ne){for(var at=Array(Ne),qe=0;qe<Ne;qe++)at[qe]=arguments[qe+2];be.children=at}if(L&&L.defaultProps)for(me in Ne=L.defaultProps,Ne)be[me]===void 0&&(be[me]=Ne[me]);return D(L,Ae,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:f,render:L}},Re.isValidElement=C,Re.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:$}},Re.memo=function(L,te){return{$$typeof:p,type:L,compare:te===void 0?null:te}},Re.startTransition=function(L){var te=O.T,he={};O.T=he;try{var me=L(),be=O.S;be!==null&&be(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ie,ue)}catch(Ae){ue(Ae)}finally{te!==null&&he.types!==null&&(te.types=he.types),O.T=te}},Re.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Re.use=function(L){return O.H.use(L)},Re.useActionState=function(L,te,he){return O.H.useActionState(L,te,he)},Re.useCallback=function(L,te){return O.H.useCallback(L,te)},Re.useContext=function(L){return O.H.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L,te){return O.H.useDeferredValue(L,te)},Re.useEffect=function(L,te){return O.H.useEffect(L,te)},Re.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Re.useId=function(){return O.H.useId()},Re.useImperativeHandle=function(L,te,he){return O.H.useImperativeHandle(L,te,he)},Re.useInsertionEffect=function(L,te){return O.H.useInsertionEffect(L,te)},Re.useLayoutEffect=function(L,te){return O.H.useLayoutEffect(L,te)},Re.useMemo=function(L,te){return O.H.useMemo(L,te)},Re.useOptimistic=function(L,te){return O.H.useOptimistic(L,te)},Re.useReducer=function(L,te,he){return O.H.useReducer(L,te,he)},Re.useRef=function(L){return O.H.useRef(L)},Re.useState=function(L){return O.H.useState(L)},Re.useSyncExternalStore=function(L,te,he){return O.H.useSyncExternalStore(L,te,he)},Re.useTransition=function(){return O.H.useTransition()},Re.version="19.2.0",Re}var Tb;function jg(){return Tb||(Tb=1,vp.exports=NC()),vp.exports}var F=jg();const Ke=Lg(F);var _p={exports:{}},gu={},bp={exports:{}},wp={};var Eb;function OC(){return Eb||(Eb=1,(function(n){function e(q,J){var $=q.length;q.push(J);e:for(;0<$;){var ue=$-1>>>1,fe=q[ue];if(0<a(fe,J))q[ue]=J,q[$]=fe,$=ue;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],$=q.pop();if($!==J){q[0]=$;e:for(var ue=0,fe=q.length,L=fe>>>1;ue<L;){var te=2*(ue+1)-1,he=q[te],me=te+1,be=q[me];if(0>a(he,$))me<fe&&0>a(be,he)?(q[ue]=be,q[me]=$,ue=me):(q[ue]=he,q[te]=$,ue=te);else if(me<fe&&0>a(be,$))q[ue]=be,q[me]=$,ue=me;else break e}}return J}function a(q,J){var $=q.sortIndex-J.sortIndex;return $!==0?$:q.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],p=[],v=1,b=null,S=3,E=!1,M=!1,k=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function ne(q){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=q)r(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(p)}}function ee(q){if(k=!1,ne(q),!M)if(t(h)!==null)M=!0,ie||(ie=!0,j());else{var J=t(p);J!==null&&ce(ee,J.startTime-q)}}var ie=!1,O=-1,x=5,D=-1;function I(){return N?!0:!(n.unstable_now()-D<x)}function C(){if(N=!1,ie){var q=n.unstable_now();D=q;var J=!0;try{e:{M=!1,k&&(k=!1,B(O),O=-1),E=!0;var $=S;try{t:{for(ne(q),b=t(h);b!==null&&!(b.expirationTime>q&&I());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,S=b.priorityLevel;var fe=ue(b.expirationTime<=q);if(q=n.unstable_now(),typeof fe=="function"){b.callback=fe,ne(q),J=!0;break t}b===t(h)&&r(h),ne(q)}else r(h);b=t(h)}if(b!==null)J=!0;else{var L=t(p);L!==null&&ce(ee,L.startTime-q),J=!1}}break e}finally{b=null,S=$,E=!1}J=void 0}}finally{J?j():ie=!1}}}var j;if(typeof z=="function")j=function(){z(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,de=P.port2;P.port1.onmessage=C,j=function(){de.postMessage(null)}}else j=function(){U(C,0)};function ce(q,J){O=U(function(){q(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(q){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var $=S;S=J;try{return q()}finally{S=$}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=S;S=q;try{return J()}finally{S=$}},n.unstable_scheduleCallback=function(q,J,$){var ue=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ue+$:ue):$=ue,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=$+fe,q={id:v++,callback:J,priorityLevel:q,startTime:$,expirationTime:fe,sortIndex:-1},$>ue?(q.sortIndex=$,e(p,q),t(h)===null&&q===t(p)&&(k?(B(O),O=-1):k=!0,ce(ee,$-ue))):(q.sortIndex=fe,e(h,q),M||E||(M=!0,ie||(ie=!0,j()))),q},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(q){var J=S;return function(){var $=S;S=J;try{return q.apply(this,arguments)}finally{S=$}}}})(wp)),wp}var Sb;function DC(){return Sb||(Sb=1,bp.exports=OC()),bp.exports}var Tp={exports:{}},nn={};var xb;function MC(){if(xb)return nn;xb=1;var n=jg();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,v)},nn.flushSync=function(h){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=v,r.d.f()}},nn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},nn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},nn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:E}):v==="script"&&r.d.X(h,{crossOrigin:b,integrity:S,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},nn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);r.d.L(h,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},nn.requestFormReset=function(h){r.d.r(h)},nn.unstable_batchedUpdates=function(h,p){return h(p)},nn.useFormState=function(h,p,v){return c.H.useFormState(h,p,v)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var Ab;function kC(){if(Ab)return Tp.exports;Ab=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tp.exports=MC(),Tp.exports}var Cb;function PC(){if(Cb)return gu;Cb=1;var n=DC(),e=jg(),t=kC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return h(m),i;if(g===u)return h(m),s;g=g.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=g;else{for(var w=!1,A=m.child;A;){if(A===l){w=!0,l=m,u=g;break}if(A===u){w=!0,u=m,l=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===l){w=!0,l=g,u=m;break}if(A===u){w=!0,u=g,l=m;break}A=A.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),z=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case ee:return"Suspense";case ie:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case z:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case ne:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:de(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return de(i(s))}catch{}}return null}var ce=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ue=[],fe=-1;function L(i){return{current:i}}function te(i){0>fe||(i.current=ue[fe],ue[fe]=null,fe--)}function he(i,s){fe++,ue[fe]=i.current,i.current=s}var me=L(null),be=L(null),Ae=L(null),Ne=L(null);function at(i,s){switch(he(Ae,s),he(be,i),he(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?F0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=F0(s),i=q0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(me),he(me,i)}function qe(){te(me),te(be),te(Ae)}function yt(i){i.memoizedState!==null&&he(Ne,i);var s=me.current,l=q0(s,i.type);s!==l&&(he(be,i),he(me,l))}function cn(i){be.current===i&&(te(me),te(be)),Ne.current===i&&(te(Ne),du._currentValue=$)}var qn,di;function Ri(i){if(qn===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);qn=s&&s[1]||"",di=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qn+i+di}var dl=!1;function $s(i,s){if(!i||dl)return"";dl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var X=Z}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(Z){X=Z}i.call(oe.prototype)}}else{try{throw Error()}catch(Z){X=Z}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var V=w.split(`
`),Q=A.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===Q.length)for(u=V.length-1,m=Q.length-1;1<=u&&0<=m&&V[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==Q[m]){var re=`
`+V[u].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=u&&0<=m);break}}}finally{dl=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ri(l):""}function hl(i,s){switch(i.tag){case 26:case 27:case 5:return Ri(i.type);case 16:return Ri("Lazy");case 13:return i.child!==s&&s!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return $s(i.type,!1);case 11:return $s(i.type.render,!1);case 1:return $s(i.type,!0);case 31:return Ri("Activity");default:return""}}function fl(i){try{var s="",l=null;do s+=hl(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,qr=n.unstable_cancelCallback,_f=n.unstable_shouldYield,uc=n.unstable_requestPaint,dn=n.unstable_now,Ys=n.unstable_getCurrentPriorityLevel,ml=n.unstable_ImmediatePriority,pl=n.unstable_UserBlockingPriority,Hr=n.unstable_NormalPriority,bf=n.unstable_LowPriority,cc=n.unstable_IdlePriority,dc=n.log,hc=n.unstable_setDisableYieldValue,hi=null,Yt=null;function Hn(i){if(typeof dc=="function"&&hc(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(hi,i)}catch{}}var Tt=Math.clz32?Math.clz32:mc,fc=Math.log,Ha=Math.LN2;function mc(i){return i>>>=0,i===0?32:31-(fc(i)/Ha|0)|0}var Ii=256,Ks=262144,Rt=4194304;function Ni(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oi(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?m=Ni(u):(w&=A,w!==0?m=Ni(w):l||(l=A&~i,l!==0&&(m=Ni(l))))):(A=u&~g,A!==0?m=Ni(A):w!==0?m=Ni(w):l||(l=u&~i,l!==0&&(m=Ni(l)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:m}function fi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function wf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pc(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Di(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Qs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Tf(i,s,l,u,m,g){var w=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,Q=i.hiddenUpdates;for(l=w&~l;0<l;){var re=31-Tt(l),oe=1<<re;A[re]=0,V[re]=-1;var X=Q[re];if(X!==null)for(Q[re]=null,re=0;re<X.length;re++){var Z=X[re];Z!==null&&(Z.lane&=-536870913)}l&=~oe}u!==0&&Xs(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~s))}function Xs(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Tt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function gl(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-Tt(l),m=1<<u;m&s|i[u]&s&&(i[u]|=s),l&=~m}}function yl(i,s){var l=s&-s;return l=(l&42)!==0?1:Ws(l),(l&(i.suspendedLanes|s))!==0?0:l}function Ws(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gc(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:hb(i.type))}function mi(i,s){var l=J.p;try{return J.p=i,s()}finally{J.p=l}}var pi=Math.random().toString(36).slice(2),It="__reactFiber$"+pi,qt="__reactProps$"+pi,Mi="__reactContainer$"+pi,Ga="__reactEvents$"+pi,Ef="__reactListeners$"+pi,yc="__reactHandles$"+pi,vc="__reactResources$"+pi,ki="__reactMarker$"+pi;function $a(i){delete i[It],delete i[qt],delete i[Ga],delete i[Ef],delete i[yc]}function Pi(i){var s=i[It];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Mi]||l[It]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=X0(i);i!==null;){if(l=i[It])return l;i=X0(i)}return s}i=l,l=i.parentNode}return null}function Gn(i){if(i=i[It]||i[Mi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function On(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Li(i){var s=i[vc];return s||(s=i[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(i){i[ki]=!0}var vl=new Set,_l={};function ji(i,s){Vi(i,s),Vi(i+"Capture",s)}function Vi(i,s){for(_l[i]=s,i=0;i<s.length;i++)vl.add(s[i])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Tl={};function _c(i){return Ct.call(Tl,i)?!0:Ct.call(wl,i)?!1:bl.test(i)?Tl[i]=!0:(wl[i]=!0,!1)}function Ya(i,s,l){if(_c(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Dn(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Ot(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function El(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){l=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=Gr(i)?"checked":"value";i._valueTracker=El(i,s,""+i[s])}}function Js(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=Gr(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Zs=/[\n"\\]/g;function vn(i){return i.replace(Zs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ka(i,s,l,u,m,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ht(s)):i.value!==""+Ht(s)&&(i.value=""+Ht(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?Sl(i,w,Ht(s)):l!=null?Sl(i,w,Ht(l)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Ht(A):i.removeAttribute("name")}function bc(i,s,l,u,m,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Xe(i);return}l=l!=null?""+Ht(l):"",s=s!=null?""+Ht(s):l,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),Xe(i)}function Sl(i,s,l){s==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function $r(i,s,l,u){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Ht(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function wc(i,s,l){if(s!=null&&(s=""+Ht(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Ht(l):""}function Yr(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Ht(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),Xe(i)}function _n(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Tc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||Tc.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Al(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&l[m]!==u&&xl(i,m,u)}else for(var g in s)s.hasOwnProperty(g)&&xl(i,g,s[g])}function Qa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(i){return Kr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gi(){}var Cl=null;function $n(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qr=null,zi=null;function ea(i){var s=Gn(i);if(s&&(i=s.stateNode)){var l=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ka(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var m=u[qt]||null;if(!m)throw Error(r(90));Ka(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&Js(u)}break e;case"textarea":wc(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&$r(i,!!l.multiple,s,!1)}}}var Wa=!1;function Xr(i,s,l){if(Wa)return i(s,l);Wa=!0;try{var u=i(s);return u}finally{if(Wa=!1,(Qr!==null||zi!==null)&&(gd(),Qr&&(s=Qr,i=zi,zi=Qr=null,ea(s),i)))for(s=0;s<i.length;s++)ea(i[s])}}function yi(i,s){var l=i.stateNode;if(l===null)return null;var u=l[qt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=!1;if(Yn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ta=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ta=!1}var Bi=null,Rl=null,na=null;function Il(){if(na)return na;var i,s=Rl,l=s.length,u,m="value"in Bi?Bi.value:Bi.textContent,g=m.length;for(i=0;i<l&&s[i]===m[i];i++);var w=l-i;for(u=1;u<=w&&s[l-u]===m[g-u];u++);return na=m.slice(i,1<u?1-u:void 0)}function ia(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ur(){return!0}function vi(){return!1}function Kt(i){function s(l,u,m,g,w){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ur:vi,this.isPropagationStopped=vi,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),s}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Kt(cr),Wr=b({},cr,{view:0,detail:0}),Nl=Kt(Wr),Jr,Ja,qi,Za=b({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qi&&(qi&&i.type==="mousemove"?(Jr=i.screenX-qi.screenX,Ja=i.screenY-qi.screenY):Ja=Jr=0,qi=i),Jr)},movementY:function(i){return"movementY"in i?i.movementY:Ja}}),Ol=Kt(Za),ra=b({},Za,{dataTransfer:0}),Sc=Kt(ra),xc=b({},Wr,{relatedTarget:0}),sa=Kt(xc),Dl=b({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ac=Kt(Dl),eo=b({},cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Cc=Kt(eo),Rc=b({},cr,{data:0}),Hi=Kt(Rc),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Oc[i])?!!s[i]:!1}function Zr(){return Dc}var hn=b({},Wr,{key:function(i){if(i.key){var s=Ic[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(i){return i.type==="keypress"?ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Mc=Kt(hn),kc=b({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=Kt(kc),d=b({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),_=Kt(d),T=b({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Kt(T),Y=b({},Za,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Kt(Y),pe=b({},cr,{newState:0,oldState:0}),Oe=Kt(pe),Et=[9,13,27,32],$e=Yn&&"CompositionEvent"in window,ht=null;Yn&&"documentMode"in document&&(ht=document.documentMode);var Kn=Yn&&"TextEvent"in window&&!ht,Gi=Yn&&(!$e||ht&&8<ht&&11>=ht),_i=" ",bi=!1;function aa(i,s){switch(i){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function to(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var no=!1;function J1(i,s){switch(i){case"compositionend":return to(s);case"keypress":return s.which!==32?null:(bi=!0,_i);case"textInput":return i=s.data,i===_i&&bi?null:i;default:return null}}function Z1(i,s){if(no)return i==="compositionend"||!$e&&aa(i,s)?(i=Il(),na=Rl=Bi=null,no=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gi&&s.locale!=="ko"?null:s.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!eA[i.type]:s==="textarea"}function ev(i,s,l,u){Qr?zi?zi.push(u):zi=[u]:Qr=u,s=Ed(s,"onChange"),0<s.length&&(l=new Fi("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var Ml=null,kl=null;function tA(i){L0(i,0)}function Pc(i){var s=On(i);if(Js(s))return i}function tv(i,s){if(i==="change")return s}var nv=!1;if(Yn){var Sf;if(Yn){var xf="oninput"in document;if(!xf){var iv=document.createElement("div");iv.setAttribute("oninput","return;"),xf=typeof iv.oninput=="function"}Sf=xf}else Sf=!1;nv=Sf&&(!document.documentMode||9<document.documentMode)}function rv(){Ml&&(Ml.detachEvent("onpropertychange",sv),kl=Ml=null)}function sv(i){if(i.propertyName==="value"&&Pc(kl)){var s=[];ev(s,kl,i,$n(i)),Xr(tA,s)}}function nA(i,s,l){i==="focusin"?(rv(),Ml=s,kl=l,Ml.attachEvent("onpropertychange",sv)):i==="focusout"&&rv()}function iA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pc(kl)}function rA(i,s){if(i==="click")return Pc(s)}function sA(i,s){if(i==="input"||i==="change")return Pc(s)}function aA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Mn=typeof Object.is=="function"?Object.is:aA;function Pl(i,s){if(Mn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Ct.call(s,m)||!Mn(i[m],s[m]))return!1}return!0}function av(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ov(i,s){var l=av(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=av(l)}}function lv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?lv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function uv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ui(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ui(i.document)}return s}function Af(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var oA=Yn&&"documentMode"in document&&11>=document.documentMode,io=null,Cf=null,Ll=null,Rf=!1;function cv(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rf||io==null||io!==Ui(u)||(u=io,"selectionStart"in u&&Af(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ll&&Pl(Ll,u)||(Ll=u,u=Ed(Cf,"onSelect"),0<u.length&&(s=new Fi("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=io)))}function oa(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var ro={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},If={},dv={};Yn&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function la(i){if(If[i])return If[i];if(!ro[i])return i;var s=ro[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in dv)return If[i]=s[l];return i}var hv=la("animationend"),fv=la("animationiteration"),mv=la("animationstart"),lA=la("transitionrun"),uA=la("transitionstart"),cA=la("transitioncancel"),pv=la("transitionend"),gv=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function wi(i,s){gv.set(i,s),ji(s,[i])}var Lc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qn=[],so=0,Of=0;function jc(){for(var i=so,s=Of=so=0;s<i;){var l=Qn[s];Qn[s++]=null;var u=Qn[s];Qn[s++]=null;var m=Qn[s];Qn[s++]=null;var g=Qn[s];if(Qn[s++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}g!==0&&yv(l,m,g)}}function Vc(i,s,l,u){Qn[so++]=i,Qn[so++]=s,Qn[so++]=l,Qn[so++]=u,Of|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Df(i,s,l,u){return Vc(i,s,l,u),Uc(i)}function ua(i,s){return Vc(i,null,null,s),Uc(i)}function yv(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,g=i.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-Tt(l),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=l|536870912),g):null}function Uc(i){if(50<ru)throw ru=0,Bm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ao={};function dA(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,s,l,u){return new dA(i,s,l,u)}function Mf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hr(i,s){var l=i.alternate;return l===null?(l=kn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function vv(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function zc(i,s,l,u,m,g){var w=0;if(u=i,typeof i=="function")Mf(i)&&(w=1);else if(typeof i=="string")w=gC(i,l,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=kn(31,l,s,m),i.elementType=D,i.lanes=g,i;case k:return ca(l.children,m,g,s);case N:w=8,m|=24;break;case U:return i=kn(12,l,s,m|2),i.elementType=U,i.lanes=g,i;case ee:return i=kn(13,l,s,m),i.elementType=ee,i.lanes=g,i;case ie:return i=kn(19,l,s,m),i.elementType=ie,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:w=10;break e;case B:w=9;break e;case ne:w=11;break e;case O:w=14;break e;case x:w=16,u=null;break e}w=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=kn(w,l,s,m),s.elementType=i,s.type=u,s.lanes=g,s}function ca(i,s,l,u){return i=kn(7,i,u,s),i.lanes=l,i}function kf(i,s,l){return i=kn(6,i,null,s),i.lanes=l,i}function _v(i){var s=kn(18,null,null,0);return s.stateNode=i,s}function Pf(i,s,l){return s=kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var bv=new WeakMap;function Xn(i,s){if(typeof i=="object"&&i!==null){var l=bv.get(i);return l!==void 0?l:(s={value:i,source:s,stack:fl(s)},bv.set(i,s),s)}return{value:i,source:s,stack:fl(s)}}var oo=[],lo=0,Bc=null,jl=0,Wn=[],Jn=0,es=null,$i=1,Yi="";function fr(i,s){oo[lo++]=jl,oo[lo++]=Bc,Bc=i,jl=s}function wv(i,s,l){Wn[Jn++]=$i,Wn[Jn++]=Yi,Wn[Jn++]=es,es=i;var u=$i;i=Yi;var m=32-Tt(u)-1;u&=~(1<<m),l+=1;var g=32-Tt(s)+m;if(30<g){var w=m-m%5;g=(u&(1<<w)-1).toString(32),u>>=w,m-=w,$i=1<<32-Tt(s)+m|l<<m|u,Yi=g+i}else $i=1<<g|l<<m|u,Yi=i}function Lf(i){i.return!==null&&(fr(i,1),wv(i,1,0))}function jf(i){for(;i===Bc;)Bc=oo[--lo],oo[lo]=null,jl=oo[--lo],oo[lo]=null;for(;i===es;)es=Wn[--Jn],Wn[Jn]=null,Yi=Wn[--Jn],Wn[Jn]=null,$i=Wn[--Jn],Wn[Jn]=null}function Tv(i,s){Wn[Jn++]=$i,Wn[Jn++]=Yi,Wn[Jn++]=es,$i=s.id,Yi=s.overflow,es=i}var Qt=null,ot=null,Be=!1,ts=null,Zn=!1,Vf=Error(r(519));function ns(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Xn(s,i)),Vf}function Ev(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[It]=i,s[qt]=u,l){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(l=0;l<au.length;l++)Pe(au[l],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),bc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Yr(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||z0(s.textContent,l)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=gi),s=!0):s=!1,s||ns(i,!0)}function Sv(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Qt=Qt.return}}function uo(i){if(i!==Qt)return!1;if(!Be)return Sv(i),Be=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||np(i.type,i.memoizedProps)),l=!l),l&&ot&&ns(i),Sv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=Q0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=Q0(i)}else s===27?(s=ot,gs(i.type)?(i=op,op=null,ot=i):ot=s):ot=Qt?ti(i.stateNode.nextSibling):null;return!0}function da(){ot=Qt=null,Be=!1}function Uf(){var i=ts;return i!==null&&(En===null?En=i:En.push.apply(En,i),ts=null),i}function Vl(i){ts===null?ts=[i]:ts.push(i)}var zf=L(null),ha=null,mr=null;function is(i,s,l){he(zf,s._currentValue),s._currentValue=l}function pr(i){i._currentValue=zf.current,te(zf)}function Bf(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Ff(i,s,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var V=0;V<s.length;V++)if(A.context===s[V]){g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),Bf(g.return,l,i),u||(w=null);break e}g=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=l,g=w.alternate,g!==null&&(g.lanes|=l),Bf(w,l,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function co(i,s,l,u){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var A=m.type;Mn(m.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(m===Ne.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(du):i=[du])}m=m.return}i!==null&&Ff(s,i,l,u),s.flags|=262144}function Fc(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fa(i){ha=i,mr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return xv(ha,i)}function qc(i,s){return ha===null&&fa(i),xv(i,s)}function xv(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},mr===null){if(i===null)throw Error(r(308));mr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else mr=mr.next=s;return l}var hA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},fA=n.unstable_scheduleCallback,mA=n.unstable_NormalPriority,Dt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new hA,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&fA(mA,function(){i.controller.abort()})}var zl=null,Hf=0,ho=0,fo=null;function pA(i,s){if(zl===null){var l=zl=[];Hf=0,ho=Ym(),fo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Hf++,s.then(Av,Av),s}function Av(){if(--Hf===0&&zl!==null){fo!==null&&(fo.status="fulfilled");var i=zl;zl=null,ho=0,fo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function gA(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var Cv=q.S;q.S=function(i,s){c0=dn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&pA(i,s),Cv!==null&&Cv(i,s)};var ma=L(null);function Gf(){var i=ma.current;return i!==null?i:it.pooledCache}function Hc(i,s){s===null?he(ma,ma.current):he(ma,s.pool)}function Rv(){var i=Gf();return i===null?null:{parent:Dt._currentValue,pool:i}}var mo=Error(r(460)),$f=Error(r(474)),Gc=Error(r(542)),$c={then:function(){}};function Iv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Nv(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(gi,gi),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Dv(i),i;default:if(typeof s.status=="string")s.then(gi,gi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Dv(i),i}throw ga=s,mo}}function pa(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ga=l,mo):l}}var ga=null;function Ov(){if(ga===null)throw Error(r(459));var i=ga;return ga=null,i}function Dv(i){if(i===mo||i===Gc)throw Error(r(483))}var po=null,Bl=0;function Yc(i){var s=Bl;return Bl+=1,po===null&&(po=[]),Nv(po,i,s)}function Fl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Kc(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Mv(i){function s(G,H){if(i){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function l(G,H){if(!i)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function m(G,H){return G=hr(G,H),G.index=0,G.sibling=null,G}function g(G,H,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function w(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,H,K,se){return H===null||H.tag!==6?(H=kf(K,G.mode,se),H.return=G,H):(H=m(H,K),H.return=G,H)}function V(G,H,K,se){var we=K.type;return we===k?re(G,H,K.props.children,se,K.key):H!==null&&(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&pa(we)===H.type)?(H=m(H,K.props),Fl(H,K),H.return=G,H):(H=zc(K.type,K.key,K.props,null,G.mode,se),Fl(H,K),H.return=G,H)}function Q(G,H,K,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Pf(K,G.mode,se),H.return=G,H):(H=m(H,K.children||[]),H.return=G,H)}function re(G,H,K,se,we){return H===null||H.tag!==7?(H=ca(K,G.mode,se,we),H.return=G,H):(H=m(H,K),H.return=G,H)}function oe(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=kf(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return K=zc(H.type,H.key,H.props,null,G.mode,K),Fl(K,H),K.return=G,K;case M:return H=Pf(H,G.mode,K),H.return=G,H;case x:return H=pa(H),oe(G,H,K)}if(ce(H)||j(H))return H=ca(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return oe(G,Yc(H),K);if(H.$$typeof===z)return oe(G,qc(G,H),K);Kc(G,H)}return null}function X(G,H,K,se){var we=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:A(G,H,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===we?V(G,H,K,se):null;case M:return K.key===we?Q(G,H,K,se):null;case x:return K=pa(K),X(G,H,K,se)}if(ce(K)||j(K))return we!==null?null:re(G,H,K,se,null);if(typeof K.then=="function")return X(G,H,Yc(K),se);if(K.$$typeof===z)return X(G,H,qc(G,K),se);Kc(G,K)}return null}function Z(G,H,K,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,A(H,G,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return G=G.get(se.key===null?K:se.key)||null,V(H,G,se,we);case M:return G=G.get(se.key===null?K:se.key)||null,Q(H,G,se,we);case x:return se=pa(se),Z(G,H,K,se,we)}if(ce(se)||j(se))return G=G.get(K)||null,re(H,G,se,we,null);if(typeof se.then=="function")return Z(G,H,K,Yc(se),we);if(se.$$typeof===z)return Z(G,H,K,qc(H,se),we);Kc(H,se)}return null}function ve(G,H,K,se){for(var we=null,He=null,_e=H,Me=H=0,je=null;_e!==null&&Me<K.length;Me++){_e.index>Me?(je=_e,_e=null):je=_e.sibling;var Ge=X(G,_e,K[Me],se);if(Ge===null){_e===null&&(_e=je);break}i&&_e&&Ge.alternate===null&&s(G,_e),H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge,_e=je}if(Me===K.length)return l(G,_e),Be&&fr(G,Me),we;if(_e===null){for(;Me<K.length;Me++)_e=oe(G,K[Me],se),_e!==null&&(H=g(_e,H,Me),He===null?we=_e:He.sibling=_e,He=_e);return Be&&fr(G,Me),we}for(_e=u(_e);Me<K.length;Me++)je=Z(_e,G,Me,K[Me],se),je!==null&&(i&&je.alternate!==null&&_e.delete(je.key===null?Me:je.key),H=g(je,H,Me),He===null?we=je:He.sibling=je,He=je);return i&&_e.forEach(function(ws){return s(G,ws)}),Be&&fr(G,Me),we}function Ee(G,H,K,se){if(K==null)throw Error(r(151));for(var we=null,He=null,_e=H,Me=H=0,je=null,Ge=K.next();_e!==null&&!Ge.done;Me++,Ge=K.next()){_e.index>Me?(je=_e,_e=null):je=_e.sibling;var ws=X(G,_e,Ge.value,se);if(ws===null){_e===null&&(_e=je);break}i&&_e&&ws.alternate===null&&s(G,_e),H=g(ws,H,Me),He===null?we=ws:He.sibling=ws,He=ws,_e=je}if(Ge.done)return l(G,_e),Be&&fr(G,Me),we;if(_e===null){for(;!Ge.done;Me++,Ge=K.next())Ge=oe(G,Ge.value,se),Ge!==null&&(H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge);return Be&&fr(G,Me),we}for(_e=u(_e);!Ge.done;Me++,Ge=K.next())Ge=Z(_e,G,Me,Ge.value,se),Ge!==null&&(i&&Ge.alternate!==null&&_e.delete(Ge.key===null?Me:Ge.key),H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge);return i&&_e.forEach(function(CC){return s(G,CC)}),Be&&fr(G,Me),we}function nt(G,H,K,se){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var we=K.key;H!==null;){if(H.key===we){if(we=K.type,we===k){if(H.tag===7){l(G,H.sibling),se=m(H,K.props.children),se.return=G,G=se;break e}}else if(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&pa(we)===H.type){l(G,H.sibling),se=m(H,K.props),Fl(se,K),se.return=G,G=se;break e}l(G,H);break}else s(G,H);H=H.sibling}K.type===k?(se=ca(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=zc(K.type,K.key,K.props,null,G.mode,se),Fl(se,K),se.return=G,G=se)}return w(G);case M:e:{for(we=K.key;H!==null;){if(H.key===we)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){l(G,H.sibling),se=m(H,K.children||[]),se.return=G,G=se;break e}else{l(G,H);break}else s(G,H);H=H.sibling}se=Pf(K,G.mode,se),se.return=G,G=se}return w(G);case x:return K=pa(K),nt(G,H,K,se)}if(ce(K))return ve(G,H,K,se);if(j(K)){if(we=j(K),typeof we!="function")throw Error(r(150));return K=we.call(K),Ee(G,H,K,se)}if(typeof K.then=="function")return nt(G,H,Yc(K),se);if(K.$$typeof===z)return nt(G,H,qc(G,K),se);Kc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(l(G,H.sibling),se=m(H,K),se.return=G,G=se):(l(G,H),se=kf(K,G.mode,se),se.return=G,G=se),w(G)):l(G,H)}return function(G,H,K,se){try{Bl=0;var we=nt(G,H,K,se);return po=null,we}catch(_e){if(_e===mo||_e===Gc)throw _e;var He=kn(29,_e,null,G.mode);return He.lanes=se,He.return=G,He}finally{}}}var ya=Mv(!0),kv=Mv(!1),rs=!1;function Yf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function as(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Uc(i),yv(i,null,l),s}return Vc(i,u,s,l),Uc(i)}function ql(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,gl(i,l)}}function Qf(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?m=g=s:g=g.next=s}else m=g=s;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Xf=!1;function Hl(){if(Xf){var i=fo;if(i!==null)throw i}}function Gl(i,s,l,u){Xf=!1;var m=i.updateQueue;rs=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,Q=V.next;V.next=null,w===null?g=Q:w.next=Q,w=V;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==w&&(A===null?re.firstBaseUpdate=Q:A.next=Q,re.lastBaseUpdate=V))}if(g!==null){var oe=m.baseState;w=0,re=Q=V=null,A=g;do{var X=A.lane&-536870913,Z=X!==A.lane;if(Z?(Le&X)===X:(u&X)===X){X!==0&&X===ho&&(Xf=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=i,Ee=A;X=s;var nt=l;switch(Ee.tag){case 1:if(ve=Ee.payload,typeof ve=="function"){oe=ve.call(nt,oe,X);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ee.payload,X=typeof ve=="function"?ve.call(nt,oe,X):ve,X==null)break e;oe=b({},oe,X);break e;case 2:rs=!0}}X=A.callback,X!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(Q=re=Z,V=oe):re=re.next=Z,w|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);re===null&&(V=oe),m.baseState=V,m.firstBaseUpdate=Q,m.lastBaseUpdate=re,g===null&&(m.shared.lanes=0),ds|=w,i.lanes=w,i.memoizedState=oe}}function Pv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Lv(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Pv(l[i],s)}var go=L(null),Qc=L(0);function jv(i,s){i=Sr,he(Qc,i),he(go,s),Sr=i|s.baseLanes}function Wf(){he(Qc,Sr),he(go,go.current)}function Jf(){Sr=Qc.current,te(go),te(Qc)}var Pn=L(null),ei=null;function os(i){var s=i.alternate;he(St,St.current&1),he(Pn,i),ei===null&&(s===null||go.current!==null||s.memoizedState!==null)&&(ei=i)}function Zf(i){he(St,St.current),he(Pn,i),ei===null&&(ei=i)}function Vv(i){i.tag===22?(he(St,St.current),he(Pn,i),ei===null&&(ei=i)):ls()}function ls(){he(St,St.current),he(Pn,Pn.current)}function Ln(i){te(Pn),ei===i&&(ei=null),te(St)}var St=L(0);function Xc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||sp(l)||ap(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gr=0,De=null,et=null,Mt=null,Wc=!1,yo=!1,va=!1,Jc=0,$l=0,vo=null,yA=0;function vt(){throw Error(r(321))}function em(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Mn(i[l],s[l]))return!1;return!0}function tm(i,s,l,u,m,g){return gr=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?w_:gm,va=!1,g=l(u,m),va=!1,yo&&(g=zv(s,l,u,m)),Uv(i),g}function Uv(i){q.H=Ql;var s=et!==null&&et.next!==null;if(gr=0,Mt=et=De=null,Wc=!1,$l=0,vo=null,s)throw Error(r(300));i===null||kt||(i=i.dependencies,i!==null&&Fc(i)&&(kt=!0))}function zv(i,s,l,u){De=i;var m=0;do{if(yo&&(vo=null),$l=0,yo=!1,25<=m)throw Error(r(301));if(m+=1,Mt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=T_,g=s(l,u)}while(yo);return g}function vA(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?Yl(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(De.flags|=1024),s}function nm(){var i=Jc!==0;return Jc=0,i}function im(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function rm(i){if(Wc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Wc=!1}gr=0,Mt=et=De=null,yo=!1,$l=Jc=0,vo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?De.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function xt(){if(et===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=Mt===null?De.memoizedState:Mt.next;if(s!==null)Mt=s,et=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Mt===null?De.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function Zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(i){var s=$l;return $l+=1,vo===null&&(vo=[]),i=Nv(vo,i,s),s=De,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?w_:gm),i}function ed(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yl(i);if(i.$$typeof===z)return Xt(i)}throw Error(r(438,String(i)))}function sm(i){var s=null,l=De.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Zc(),De.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=I;return s.index++,l}function yr(i,s){return typeof s=="function"?s(i):s}function td(i){var s=xt();return am(s,et,i)}function am(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}s.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var A=w=null,V=null,Q=s,re=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(Le&oe)===oe:(gr&oe)===oe){var X=Q.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===ho&&(re=!0);else if((gr&X)===X){Q=Q.next,X===ho&&(re=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=oe,w=g):V=V.next=oe,De.lanes|=X,ds|=X;oe=Q.action,va&&l(g,oe),g=Q.hasEagerState?Q.eagerState:l(g,oe)}else X={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=X,w=g):V=V.next=X,De.lanes|=oe,ds|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?w=g:V.next=A,!Mn(g,i.memoizedState)&&(kt=!0,re&&(l=fo,l!==null)))throw l;i.memoizedState=g,i.baseState=w,i.baseQueue=V,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function om(i){var s=xt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,g=s.memoizedState;if(m!==null){l.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);Mn(g,s.memoizedState)||(kt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function Bv(i,s,l){var u=De,m=xt(),g=Be;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var w=!Mn((et||m).memoizedState,l);if(w&&(m.memoizedState=l,kt=!0),m=m.queue,cm(Hv.bind(null,u,m,i),[i]),m.getSnapshot!==s||w||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,_o(9,{destroy:void 0},qv.bind(null,u,m,l,s),null),it===null)throw Error(r(349));g||(gr&127)!==0||Fv(u,s,l)}return l}function Fv(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=De.updateQueue,s===null?(s=Zc(),De.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function qv(i,s,l,u){s.value=l,s.getSnapshot=u,Gv(s)&&$v(i)}function Hv(i,s,l){return l(function(){Gv(s)&&$v(i)})}function Gv(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Mn(i,l)}catch{return!0}}function $v(i){var s=ua(i,2);s!==null&&Sn(s,i,2)}function lm(i){var s=fn();if(typeof i=="function"){var l=i;if(i=l(),va){Hn(!0);try{l()}finally{Hn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:i},s}function Yv(i,s,l,u){return i.baseState=l,am(i,et,typeof u=="function"?u:yr)}function _A(i,s,l,u,m){if(rd(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};q.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,Kv(s,g)):(g.next=l.next,s.pending=l.next=g)}}function Kv(i,s){var l=s.action,u=s.payload,m=i.state;if(s.isTransition){var g=q.T,w={};q.T=w;try{var A=l(m,u),V=q.S;V!==null&&V(w,A),Qv(i,s,A)}catch(Q){um(i,s,Q)}finally{g!==null&&w.types!==null&&(g.types=w.types),q.T=g}}else try{g=l(m,u),Qv(i,s,g)}catch(Q){um(i,s,Q)}}function Qv(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Xv(i,s,u)},function(u){return um(i,s,u)}):Xv(i,s,l)}function Xv(i,s,l){s.status="fulfilled",s.value=l,Wv(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Kv(i,l)))}function um(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Wv(s),s=s.next;while(s!==u)}i.action=null}function Wv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Jv(i,s){return s}function Zv(i,s){if(Be){var l=it.formState;if(l!==null){e:{var u=De;if(Be){if(ot){t:{for(var m=ot,g=Zn;m.nodeType!==8;){if(!g){m=null;break t}if(m=ti(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ot=ti(m.nextSibling),u=m.data==="F!";break e}}ns(u)}u=!1}u&&(s=l[0])}}return l=fn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:s},l.queue=u,l=v_.bind(null,De,u),u.dispatch=l,u=lm(!1),g=pm.bind(null,De,!1,u.queue),u=fn(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,l=_A.bind(null,De,m,g,l),m.dispatch=l,u.memoizedState=i,[s,l,!1]}function e_(i){var s=xt();return t_(s,et,i)}function t_(i,s,l){if(s=am(i,s,Jv)[0],i=td(yr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Yl(s)}catch(w){throw w===mo?Gc:w}else u=s;s=xt();var m=s.queue,g=m.dispatch;return l!==s.memoizedState&&(De.flags|=2048,_o(9,{destroy:void 0},bA.bind(null,m,l),null)),[u,g,i]}function bA(i,s){i.action=s}function n_(i){var s=xt(),l=et;if(l!==null)return t_(s,l,i);xt(),s=s.memoizedState,l=xt();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function _o(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=Zc(),De.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function i_(){return xt().memoizedState}function nd(i,s,l,u){var m=fn();De.flags|=i,m.memoizedState=_o(1|s,{destroy:void 0},l,u===void 0?null:u)}function id(i,s,l,u){var m=xt();u=u===void 0?null:u;var g=m.memoizedState.inst;et!==null&&u!==null&&em(u,et.memoizedState.deps)?m.memoizedState=_o(s,g,l,u):(De.flags|=i,m.memoizedState=_o(1|s,g,l,u))}function r_(i,s){nd(8390656,8,i,s)}function cm(i,s){id(2048,8,i,s)}function wA(i){De.flags|=4;var s=De.updateQueue;if(s===null)s=Zc(),De.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function s_(i){var s=xt().memoizedState;return wA({ref:s,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function a_(i,s){return id(4,2,i,s)}function o_(i,s){return id(4,4,i,s)}function l_(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function u_(i,s,l){l=l!=null?l.concat([i]):null,id(4,4,l_.bind(null,s,i),l)}function dm(){}function c_(i,s){var l=xt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&em(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function d_(i,s){var l=xt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&em(s,u[1]))return u[0];if(u=i(),va){Hn(!0);try{i()}finally{Hn(!1)}}return l.memoizedState=[u,s],u}function hm(i,s,l){return l===void 0||(gr&1073741824)!==0&&(Le&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=h0(),De.lanes|=i,ds|=i,l)}function h_(i,s,l,u){return Mn(l,s)?l:go.current!==null?(i=hm(i,l,u),Mn(i,s)||(kt=!0),i):(gr&42)===0||(gr&1073741824)!==0&&(Le&261930)===0?(kt=!0,i.memoizedState=l):(i=h0(),De.lanes|=i,ds|=i,s)}function f_(i,s,l,u,m){var g=J.p;J.p=g!==0&&8>g?g:8;var w=q.T,A={};q.T=A,pm(i,!1,s,l);try{var V=m(),Q=q.S;if(Q!==null&&Q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=gA(V,u);Kl(i,s,re,Un(i))}else Kl(i,s,u,Un(i))}catch(oe){Kl(i,s,{then:function(){},status:"rejected",reason:oe},Un())}finally{J.p=g,w!==null&&A.types!==null&&(w.types=A.types),q.T=w}}function TA(){}function fm(i,s,l,u){if(i.tag!==5)throw Error(r(476));var m=m_(i).queue;f_(i,m,s,$,l===null?TA:function(){return p_(i),l(u)})}function m_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:$},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function p_(i){var s=m_(i);s.next===null&&(s=i.alternate.memoizedState),Kl(i,s.next.queue,{},Un())}function mm(){return Xt(du)}function g_(){return xt().memoizedState}function y_(){return xt().memoizedState}function EA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Un();i=ss(l);var u=as(s,i,l);u!==null&&(Sn(u,s,l),ql(u,s,l)),s={cache:qf()},i.payload=s;return}s=s.return}}function SA(i,s,l){var u=Un();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rd(i)?__(s,l):(l=Df(i,s,l,u),l!==null&&(Sn(l,i,u),b_(l,s,u)))}function v_(i,s,l){var u=Un();Kl(i,s,l,u)}function Kl(i,s,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(rd(i))__(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,l);if(m.hasEagerState=!0,m.eagerState=A,Mn(A,w))return Vc(i,s,m,0),it===null&&jc(),!1}catch{}finally{}if(l=Df(i,s,m,u),l!==null)return Sn(l,i,u),b_(l,s,u),!0}return!1}function pm(i,s,l,u){if(u={lane:2,revertLane:Ym(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rd(i)){if(s)throw Error(r(479))}else s=Df(i,l,u,2),s!==null&&Sn(s,i,2)}function rd(i){var s=i.alternate;return i===De||s!==null&&s===De}function __(i,s){yo=Wc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function b_(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,gl(i,l)}}var Ql={readContext:Xt,use:ed,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Ql.useEffectEvent=vt;var w_={readContext:Xt,use:ed,useCallback:function(i,s){return fn().memoizedState=[i,s===void 0?null:s],i},useContext:Xt,useEffect:r_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,nd(4194308,4,l_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return nd(4194308,4,i,s)},useInsertionEffect:function(i,s){nd(4,2,i,s)},useMemo:function(i,s){var l=fn();s=s===void 0?null:s;var u=i();if(va){Hn(!0);try{i()}finally{Hn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=fn();if(l!==void 0){var m=l(s);if(va){Hn(!0);try{l(s)}finally{Hn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=SA.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var s=fn();return i={current:i},s.memoizedState=i},useState:function(i){i=lm(i);var s=i.queue,l=v_.bind(null,De,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:dm,useDeferredValue:function(i,s){var l=fn();return hm(l,i,s)},useTransition:function(){var i=lm(!1);return i=f_.bind(null,De,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=De,m=fn();if(Be){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),it===null)throw Error(r(349));(Le&127)!==0||Fv(u,s,l)}m.memoizedState=l;var g={value:l,getSnapshot:s};return m.queue=g,r_(Hv.bind(null,u,g,i),[i]),u.flags|=2048,_o(9,{destroy:void 0},qv.bind(null,u,g,l,s),null),l},useId:function(){var i=fn(),s=it.identifierPrefix;if(Be){var l=Yi,u=$i;l=(u&~(1<<32-Tt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Jc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=yA++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:mm,useFormState:Zv,useActionState:Zv,useOptimistic:function(i){var s=fn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=pm.bind(null,De,!0,l),l.dispatch=s,[i,s]},useMemoCache:sm,useCacheRefresh:function(){return fn().memoizedState=EA.bind(null,De)},useEffectEvent:function(i){var s=fn(),l={impl:i};return s.memoizedState=l,function(){if((Ye&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},gm={readContext:Xt,use:ed,useCallback:c_,useContext:Xt,useEffect:cm,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:d_,useReducer:td,useRef:i_,useState:function(){return td(yr)},useDebugValue:dm,useDeferredValue:function(i,s){var l=xt();return h_(l,et.memoizedState,i,s)},useTransition:function(){var i=td(yr)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:Yl(i),s]},useSyncExternalStore:Bv,useId:g_,useHostTransitionStatus:mm,useFormState:e_,useActionState:e_,useOptimistic:function(i,s){var l=xt();return Yv(l,et,i,s)},useMemoCache:sm,useCacheRefresh:y_};gm.useEffectEvent=s_;var T_={readContext:Xt,use:ed,useCallback:c_,useContext:Xt,useEffect:cm,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:d_,useReducer:om,useRef:i_,useState:function(){return om(yr)},useDebugValue:dm,useDeferredValue:function(i,s){var l=xt();return et===null?hm(l,i,s):h_(l,et.memoizedState,i,s)},useTransition:function(){var i=om(yr)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:Yl(i),s]},useSyncExternalStore:Bv,useId:g_,useHostTransitionStatus:mm,useFormState:n_,useActionState:n_,useOptimistic:function(i,s){var l=xt();return et!==null?Yv(l,et,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:sm,useCacheRefresh:y_};T_.useEffectEvent=s_;function ym(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:b({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var vm={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=Un(),m=ss(u);m.payload=s,l!=null&&(m.callback=l),s=as(i,m,u),s!==null&&(Sn(s,i,u),ql(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=Un(),m=ss(u);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=as(i,m,u),s!==null&&(Sn(s,i,u),ql(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Un(),u=ss(l);u.tag=2,s!=null&&(u.callback=s),s=as(i,u,l),s!==null&&(Sn(s,i,l),ql(s,i,l))}};function E_(i,s,l,u,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,w):s.prototype&&s.prototype.isPureReactComponent?!Pl(l,u)||!Pl(m,g):!0}function S_(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&vm.enqueueReplaceState(s,s.state,null)}function _a(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=b({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}function x_(i){Lc(i)}function A_(i){console.error(i)}function C_(i){Lc(i)}function sd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function R_(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function _m(i,s,l){return l=ss(l),l.tag=3,l.payload={element:null},l.callback=function(){sd(i,s)},l}function I_(i){return i=ss(i),i.tag=3,i}function N_(i,s,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){R_(s,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){R_(s,l,u),typeof m!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function xA(i,s,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&co(s,l,m,!0),l=Pn.current,l!==null){switch(l.tag){case 31:case 13:return ei===null?yd():l.alternate===null&&_t===0&&(_t=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===$c?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Hm(i,u,m)),!1;case 22:return l.flags|=65536,u===$c?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Hm(i,u,m)),!1}throw Error(r(435,l.tag))}return Hm(i,u,m),yd(),!1}if(Be)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Vf&&(i=Error(r(422),{cause:u}),Vl(Xn(i,l)))):(u!==Vf&&(s=Error(r(423),{cause:u}),Vl(Xn(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Xn(u,l),m=_m(i.stateNode,u,m),Qf(i,m),_t!==4&&(_t=2)),!1;var g=Error(r(520),{cause:u});if(g=Xn(g,l),iu===null?iu=[g]:iu.push(g),_t!==4&&(_t=2),s===null)return!0;u=Xn(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=_m(l.stateNode,u,i),Qf(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hs===null||!hs.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=I_(m),N_(m,i,l,u),Qf(l,m),!1}l=l.return}while(l!==null);return!1}var bm=Error(r(461)),kt=!1;function Wt(i,s,l,u){s.child=i===null?kv(s,null,l,u):ya(s,i.child,l,u)}function O_(i,s,l,u,m){l=l.render;var g=s.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return fa(s),u=tm(i,s,l,w,g,m),A=nm(),i!==null&&!kt?(im(i,s,m),vr(i,s,m)):(Be&&A&&Lf(s),s.flags|=1,Wt(i,s,u,m),s.child)}function D_(i,s,l,u,m){if(i===null){var g=l.type;return typeof g=="function"&&!Mf(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,M_(i,s,g,u,m)):(i=zc(l.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Rm(i,m)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Pl,l(w,u)&&i.ref===s.ref)return vr(i,s,m)}return s.flags|=1,i=hr(g,u),i.ref=s.ref,i.return=s,s.child=i}function M_(i,s,l,u,m){if(i!==null){var g=i.memoizedProps;if(Pl(g,u)&&i.ref===s.ref)if(kt=!1,s.pendingProps=u=g,Rm(i,m))(i.flags&131072)!==0&&(kt=!0);else return s.lanes=i.lanes,vr(i,s,m)}return wm(i,s,l,u,m)}function k_(i,s,l,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,i!==null){for(u=s.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,s.child=null;return P_(i,s,g,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hc(s,g!==null?g.cachePool:null),g!==null?jv(s,g):Wf(),Vv(s);else return u=s.lanes=536870912,P_(i,s,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(Hc(s,g.cachePool),jv(s,g),ls(),s.memoizedState=null):(i!==null&&Hc(s,null),Wf(),ls());return Wt(i,s,m,l),s.child}function Xl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function P_(i,s,l,u,m){var g=Gf();return g=g===null?null:{parent:Dt._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&Hc(s,null),Wf(),Vv(s),i!==null&&co(i,s,u,!0),s.childLanes=m,null}function ad(i,s){return s=ld({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function L_(i,s,l){return ya(s,i.child,null,l),i=ad(s,s.pendingProps),i.flags|=2,Ln(s),s.memoizedState=null,i}function AA(i,s,l){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=ad(s,u),s.lanes=536870912,Xl(null,i);if(Zf(s),(i=ot)?(i=K0(i,Zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:es!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},l=_v(i),l.return=s,s.child=l,Qt=s,ot=null)):i=null,i===null)throw ns(s);return s.lanes=536870912,null}return ad(s,u)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(Zf(s),m)if(s.flags&256)s.flags&=-257,s=L_(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(kt||co(i,s,l,!1),m=(l&i.childLanes)!==0,kt||m){if(u=it,u!==null&&(w=yl(u,l),w!==0&&w!==g.retryLane))throw g.retryLane=w,ua(i,w),Sn(u,i,w),bm;yd(),s=L_(i,s,l)}else i=g.treeContext,ot=ti(w.nextSibling),Qt=s,Be=!0,ts=null,Zn=!1,i!==null&&Tv(s,i),s=ad(s,u),s.flags|=4096;return s}return i=hr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function od(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function wm(i,s,l,u,m){return fa(s),l=tm(i,s,l,u,void 0,m),u=nm(),i!==null&&!kt?(im(i,s,m),vr(i,s,m)):(Be&&u&&Lf(s),s.flags|=1,Wt(i,s,l,m),s.child)}function j_(i,s,l,u,m,g){return fa(s),s.updateQueue=null,l=zv(s,u,l,m),Uv(i),u=nm(),i!==null&&!kt?(im(i,s,g),vr(i,s,g)):(Be&&u&&Lf(s),s.flags|=1,Wt(i,s,l,g),s.child)}function V_(i,s,l,u,m){if(fa(s),s.stateNode===null){var g=ao,w=l.contextType;typeof w=="object"&&w!==null&&(g=Xt(w)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Yf(s),w=l.contextType,g.context=typeof w=="object"&&w!==null?Xt(w):ao,g.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(ym(s,l,w,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&vm.enqueueReplaceState(g,g.state,null),Gl(s,u,g,m),Hl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,V=_a(l,A);g.props=V;var Q=g.context,re=l.contextType;w=ao,typeof re=="object"&&re!==null&&(w=Xt(re));var oe=l.getDerivedStateFromProps;re=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Q!==w)&&S_(s,g,u,w),rs=!1;var X=s.memoizedState;g.state=X,Gl(s,u,g,m),Hl(),Q=s.memoizedState,A||X!==Q||rs?(typeof oe=="function"&&(ym(s,l,oe,u),Q=s.memoizedState),(V=rs||E_(s,l,V,u,X,Q,w))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=w,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Kf(i,s),w=s.memoizedProps,re=_a(l,w),g.props=re,oe=s.pendingProps,X=g.context,Q=l.contextType,V=ao,typeof Q=="object"&&Q!==null&&(V=Xt(Q)),A=l.getDerivedStateFromProps,(Q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==oe||X!==V)&&S_(s,g,u,V),rs=!1,X=s.memoizedState,g.state=X,Gl(s,u,g,m),Hl();var Z=s.memoizedState;w!==oe||X!==Z||rs||i!==null&&i.dependencies!==null&&Fc(i.dependencies)?(typeof A=="function"&&(ym(s,l,A,u),Z=s.memoizedState),(re=rs||E_(s,l,re,u,X,Z,V)||i!==null&&i.dependencies!==null&&Fc(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=V,u=re):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,od(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=ya(s,i.child,null,m),s.child=ya(s,null,l,m)):Wt(i,s,l,m),s.memoizedState=g.state,i=s.child):i=vr(i,s,m),i}function U_(i,s,l,u){return da(),s.flags|=256,Wt(i,s,l,u),s.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Em(i){return{baseLanes:i,cachePool:Rv()}}function Sm(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Vn),i}function z_(i,s,l){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(St.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Be){if(m?os(s):ls(),(i=ot)?(i=K0(i,Zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:es!==null?{id:$i,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},l=_v(i),l.return=s,s.child=l,Qt=s,ot=null)):i=null,i===null)throw ns(s);return ap(i)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(ls(),m=s.mode,A=ld({mode:"hidden",children:A},m),u=ca(u,m,l,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=Em(l),u.childLanes=Sm(i,w,l),s.memoizedState=Tm,Xl(null,u)):(os(s),xm(s,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(g)s.flags&256?(os(s),s.flags&=-257,s=Am(i,s,l)):s.memoizedState!==null?(ls(),s.child=i.child,s.flags|=128,s=null):(ls(),A=u.fallback,m=s.mode,u=ld({mode:"visible",children:u.children},m),A=ca(A,m,l,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,ya(s,i.child,null,l),u=s.child,u.memoizedState=Em(l),u.childLanes=Sm(i,w,l),s.memoizedState=Tm,s=Xl(null,u));else if(os(s),ap(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var Q=w.dgst;w=Q,u=Error(r(419)),u.stack="",u.digest=w,Vl({value:u,source:null,stack:null}),s=Am(i,s,l)}else if(kt||co(i,s,l,!1),w=(l&i.childLanes)!==0,kt||w){if(w=it,w!==null&&(u=yl(w,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,ua(i,u),Sn(w,i,u),bm;sp(A)||yd(),s=Am(i,s,l)}else sp(A)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,ot=ti(A.nextSibling),Qt=s,Be=!0,ts=null,Zn=!1,i!==null&&Tv(s,i),s=xm(s,u.children),s.flags|=4096);return s}return m?(ls(),A=u.fallback,m=s.mode,V=i.child,Q=V.sibling,u=hr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Q!==null?A=hr(Q,A):(A=ca(A,m,l,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,Xl(null,u),u=s.child,A=i.child.memoizedState,A===null?A=Em(l):(m=A.cachePool,m!==null?(V=Dt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=Rv(),A={baseLanes:A.baseLanes|l,cachePool:m}),u.memoizedState=A,u.childLanes=Sm(i,w,l),s.memoizedState=Tm,Xl(i.child,u)):(os(s),l=i.child,i=l.sibling,l=hr(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=l,s.memoizedState=null,l)}function xm(i,s){return s=ld({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ld(i,s){return i=kn(22,i,null,s),i.lanes=0,i}function Am(i,s,l){return ya(s,i.child,null,l),i=xm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function B_(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Bf(i.return,s,l)}function Cm(i,s,l,u,m,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:g}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=l,w.tailMode=m,w.treeForkCount=g)}function F_(i,s,l){var u=s.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var w=St.current,A=(w&2)!==0;if(A?(w=w&1|2,s.flags|=128):w&=1,he(St,w),Wt(i,s,u,l),u=Be?jl:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&B_(i,l,s);else if(i.tag===19)B_(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&Xc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Cm(s,!1,m,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Xc(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Cm(s,!0,l,null,g,u);break;case"together":Cm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function vr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ds|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(co(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=hr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=hr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Rm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Fc(i)))}function CA(i,s,l){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),is(s,Dt,i.memoizedState.cache),da();break;case 27:case 5:yt(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zf(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(l&s.child.childLanes)!==0?z_(i,s,l):(os(s),i=vr(i,s,l),i!==null?i.sibling:null);os(s);break;case 19:var m=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(co(i,s,l,!1),u=(l&s.childLanes)!==0),m){if(u)return F_(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(St,St.current),u)break;return null;case 22:return s.lanes=0,k_(i,s,l,s.pendingProps);case 24:is(s,Dt,i.memoizedState.cache)}return vr(i,s,l)}function q_(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)kt=!0;else{if(!Rm(i,l)&&(s.flags&128)===0)return kt=!1,CA(i,s,l);kt=(i.flags&131072)!==0}else kt=!1,Be&&(s.flags&1048576)!==0&&wv(s,jl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=pa(s.elementType),s.type=i,typeof i=="function")Mf(i)?(u=_a(i,u),s.tag=1,s=V_(null,s,i,u,l)):(s.tag=0,s=wm(null,s,i,u,l));else{if(i!=null){var m=i.$$typeof;if(m===ne){s.tag=11,s=O_(null,s,i,u,l);break e}else if(m===O){s.tag=14,s=D_(null,s,i,u,l);break e}}throw s=de(i)||i,Error(r(306,s,""))}}return s;case 0:return wm(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,m=_a(u,s.pendingProps),V_(i,s,u,m,l);case 3:e:{if(at(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;m=g.element,Kf(i,s),Gl(s,u,null,l);var w=s.memoizedState;if(u=w.cache,is(s,Dt,u),u!==g.cache&&Ff(s,[Dt],l,!0),Hl(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=U_(i,s,u,l);break e}else if(u!==m){m=Xn(Error(r(424)),s),Vl(m),s=U_(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=ti(i.firstChild),Qt=s,Be=!0,ts=null,Zn=!0,l=kv(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(da(),u===m){s=vr(i,s,l);break e}Wt(i,s,u,l)}s=s.child}return s;case 26:return od(i,s),i===null?(l=eb(s.type,null,s.pendingProps,null))?s.memoizedState=l:Be||(l=s.type,i=s.pendingProps,u=Sd(Ae.current).createElement(l),u[It]=s,u[qt]=i,Jt(u,l,i),Nt(u),s.stateNode=u):s.memoizedState=eb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return yt(s),i===null&&Be&&(u=s.stateNode=W0(s.type,s.pendingProps,Ae.current),Qt=s,Zn=!0,m=ot,gs(s.type)?(op=m,ot=ti(u.firstChild)):ot=m),Wt(i,s,s.pendingProps.children,l),od(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Be&&((m=u=ot)&&(u=iC(u,s.type,s.pendingProps,Zn),u!==null?(s.stateNode=u,Qt=s,ot=ti(u.firstChild),Zn=!1,m=!0):m=!1),m||ns(s)),yt(s),m=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,u=g.children,np(m,g)?u=null:w!==null&&np(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=tm(i,s,vA,null,null,l),du._currentValue=m),od(i,s),Wt(i,s,u,l),s.child;case 6:return i===null&&Be&&((i=l=ot)&&(l=rC(l,s.pendingProps,Zn),l!==null?(s.stateNode=l,Qt=s,ot=null,i=!0):i=!1),i||ns(s)),null;case 13:return z_(i,s,l);case 4:return at(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ya(s,null,u,l):Wt(i,s,u,l),s.child;case 11:return O_(i,s,s.type,s.pendingProps,l);case 7:return Wt(i,s,s.pendingProps,l),s.child;case 8:return Wt(i,s,s.pendingProps.children,l),s.child;case 12:return Wt(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,is(s,s.type,u.value),Wt(i,s,u.children,l),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,fa(s),m=Xt(m),u=u(m),s.flags|=1,Wt(i,s,u,l),s.child;case 14:return D_(i,s,s.type,s.pendingProps,l);case 15:return M_(i,s,s.type,s.pendingProps,l);case 19:return F_(i,s,l);case 31:return AA(i,s,l);case 22:return k_(i,s,l,s.pendingProps);case 24:return fa(s),u=Xt(Dt),i===null?(m=Gf(),m===null&&(m=it,g=qf(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),s.memoizedState={parent:u,cache:m},Yf(s),is(s,Dt,m)):((i.lanes&l)!==0&&(Kf(i,s),Gl(s,null,null,l),Hl()),m=i.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),is(s,Dt,u)):(u=g.cache,is(s,Dt,u),u!==m.cache&&Ff(s,[Dt],l,!0))),Wt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function _r(i){i.flags|=4}function Im(i,s,l,u,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(g0())i.flags|=8192;else throw ga=$c,$f}else i.flags&=-16777217}function H_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!sb(s))if(g0())i.flags|=8192;else throw ga=$c,$f}function ud(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?pc():536870912,i.lanes|=s,Eo|=s)}function Wl(i,s){if(!Be)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function lt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function RA(i,s,l){var u=s.pendingProps;switch(jf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),pr(Dt),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(uo(s)?_r(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uf())),lt(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(_r(s),g!==null?(lt(s),H_(s,g)):(lt(s),Im(s,m,null,u,l))):g?g!==i.memoizedState?(_r(s),lt(s),H_(s,g)):(lt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&_r(s),lt(s),Im(s,m,i,u,l)),null;case 27:if(cn(s),l=Ae.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return lt(s),null}i=me.current,uo(s)?Ev(s):(i=W0(m,u,l),s.stateNode=i,_r(s))}return lt(s),null;case 5:if(cn(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(g=me.current,uo(s))Ev(s);else{var w=Sd(Ae.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}g[It]=s,g[qt]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=g;e:switch(Jt(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_r(s)}}return lt(s),Im(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ae.current,uo(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[It]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||z0(i.nodeValue,l)),i||ns(s,!0)}else i=Sd(i).createTextNode(u),i[It]=s,s.stateNode=i}return lt(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=uo(s),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[It]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),i=!1}else l=Uf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Ln(s),s):(Ln(s),null);if((s.flags&128)!==0)throw Error(r(558))}return lt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=uo(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[It]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),m=!1}else m=Uf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Ln(s),s):(Ln(s),null)}return Ln(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),ud(s,s.updateQueue),lt(s),null);case 4:return qe(),i===null&&Wm(s.stateNode.containerInfo),lt(s),null;case 10:return pr(s.type),lt(s),null;case 19:if(te(St),u=s.memoizedState,u===null)return lt(s),null;if(m=(s.flags&128)!==0,g=u.rendering,g===null)if(m)Wl(u,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Xc(i),g!==null){for(s.flags|=128,Wl(u,!1),i=g.updateQueue,s.updateQueue=i,ud(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)vv(l,i),l=l.sibling;return he(St,St.current&1|2),Be&&fr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&dn()>md&&(s.flags|=128,m=!0,Wl(u,!1),s.lanes=4194304)}else{if(!m)if(i=Xc(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,ud(s,i),Wl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Be)return lt(s),null}else 2*dn()-u.renderingStartTime>md&&l!==536870912&&(s.flags|=128,m=!0,Wl(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=dn(),i.sibling=null,l=St.current,he(St,m?l&1|2:l&1),Be&&fr(s,u.treeForkCount),i):(lt(s),null);case 22:case 23:return Ln(s),Jf(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),l=s.updateQueue,l!==null&&ud(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&te(ma),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),pr(Dt),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function IA(i,s){switch(jf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return pr(Dt),qe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return cn(s),null;case 31:if(s.memoizedState!==null){if(Ln(s),s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Ln(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return te(St),null;case 4:return qe(),null;case 10:return pr(s.type),null;case 22:case 23:return Ln(s),Jf(),i!==null&&te(ma),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return pr(Dt),null;case 25:return null;default:return null}}function G_(i,s){switch(jf(s),s.tag){case 3:pr(Dt),qe();break;case 26:case 27:case 5:cn(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&Ln(s);break;case 13:Ln(s);break;case 19:te(St);break;case 10:pr(s.type);break;case 22:case 23:Ln(s),Jf(),i!==null&&te(ma);break;case 24:pr(Dt)}}function Jl(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var g=l.create,w=l.inst;u=g(),w.destroy=u}l=l.next}while(l!==m)}}catch(A){Je(s,s.return,A)}}function us(i,s,l){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=s;var V=l,Q=A;try{Q()}catch(re){Je(m,V,re)}}}u=u.next}while(u!==g)}}catch(re){Je(s,s.return,re)}}function $_(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Lv(s,l)}catch(u){Je(i,i.return,u)}}}function Y_(i,s,l){l.props=_a(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){Je(i,s,u)}}function Zl(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(m){Je(i,s,m)}}function Ki(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Je(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Je(i,s,m)}else l.current=null}function K_(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Je(i,i.return,m)}}function Nm(i,s,l){try{var u=i.stateNode;WA(u,i.type,l,s),u[qt]=s}catch(m){Je(i,i.return,m)}}function Q_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gs(i.type)||i.tag===4}function Om(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Q_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Dm(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gi));else if(u!==4&&(u===27&&gs(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Dm(i,s,l),i=i.sibling;i!==null;)Dm(i,s,l),i=i.sibling}function cd(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&gs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(cd(i,s,l),i=i.sibling;i!==null;)cd(i,s,l),i=i.sibling}function X_(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Jt(s,u,l),s[It]=i,s[qt]=l}catch(g){Je(i,i.return,g)}}var br=!1,Pt=!1,Mm=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function NA(i,s){if(i=i.containerInfo,ep=Od,i=uv(i),Af(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,A=-1,V=-1,Q=0,re=0,oe=i,X=null;t:for(;;){for(var Z;oe!==l||m!==0&&oe.nodeType!==3||(A=w+m),oe!==g||u!==0&&oe.nodeType!==3||(V=w+u),oe.nodeType===3&&(w+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)X=oe,oe=Z;for(;;){if(oe===i)break t;if(X===l&&++Q===m&&(A=w),X===g&&++re===u&&(V=w),(Z=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=Z}l=A===-1||V===-1?null:{start:A,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(tp={focusedElem:i,selectionRange:l},Od=!1,Gt=s;Gt!==null;)if(s=Gt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Gt=i;else for(;Gt!==null;){switch(s=Gt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)m=i[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,m=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var ve=_a(l.type,m);i=u.getSnapshotBeforeUpdate(ve,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){Je(l,l.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)rp(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":rp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Gt=i;break}Gt=s.return}}function J_(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Tr(i,l),u&4&&Jl(5,l);break;case 1:if(Tr(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(w){Je(l,l.return,w)}else{var m=_a(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Je(l,l.return,w)}}u&64&&$_(l),u&512&&Zl(l,l.return);break;case 3:if(Tr(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Lv(i,s)}catch(w){Je(l,l.return,w)}}break;case 27:s===null&&u&4&&X_(l);case 26:case 5:Tr(i,l),s===null&&u&4&&K_(l),u&512&&Zl(l,l.return);break;case 12:Tr(i,l);break;case 31:Tr(i,l),u&4&&t0(i,l);break;case 13:Tr(i,l),u&4&&n0(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=UA.bind(null,l),sC(i,l))));break;case 22:if(u=l.memoizedState!==null||br,!u){s=s!==null&&s.memoizedState!==null||Pt,m=br;var g=Pt;br=u,(Pt=s)&&!g?Er(i,l,(l.subtreeFlags&8772)!==0):Tr(i,l),br=m,Pt=g}break;case 30:break;default:Tr(i,l)}}function Z_(i){var s=i.alternate;s!==null&&(i.alternate=null,Z_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&$a(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,bn=!1;function wr(i,s,l){for(l=l.child;l!==null;)e0(i,s,l),l=l.sibling}function e0(i,s,l){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(hi,l)}catch{}switch(l.tag){case 26:Pt||Ki(l,s),wr(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Pt||Ki(l,s);var u=ft,m=bn;gs(l.type)&&(ft=l.stateNode,bn=!1),wr(i,s,l),lu(l.stateNode),ft=u,bn=m;break;case 5:Pt||Ki(l,s);case 6:if(u=ft,m=bn,ft=null,wr(i,s,l),ft=u,bn=m,ft!==null)if(bn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(l.stateNode)}catch(g){Je(l,s,g)}else try{ft.removeChild(l.stateNode)}catch(g){Je(l,s,g)}break;case 18:ft!==null&&(bn?(i=ft,$0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Oo(i)):$0(ft,l.stateNode));break;case 4:u=ft,m=bn,ft=l.stateNode.containerInfo,bn=!0,wr(i,s,l),ft=u,bn=m;break;case 0:case 11:case 14:case 15:us(2,l,s),Pt||us(4,l,s),wr(i,s,l);break;case 1:Pt||(Ki(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Y_(l,s,u)),wr(i,s,l);break;case 21:wr(i,s,l);break;case 22:Pt=(u=Pt)||l.memoizedState!==null,wr(i,s,l),Pt=u;break;default:wr(i,s,l)}}function t0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oo(i)}catch(l){Je(s,s.return,l)}}}function n0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oo(i)}catch(l){Je(s,s.return,l)}}function OA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new W_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new W_),s;default:throw Error(r(435,i.tag))}}function dd(i,s){var l=OA(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var m=zA.bind(null,i,u);u.then(m,m)}})}function wn(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],g=i,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(gs(A.type)){ft=A.stateNode,bn=!1;break e}break;case 5:ft=A.stateNode,bn=!1;break e;case 3:case 4:ft=A.stateNode.containerInfo,bn=!0;break e}A=A.return}if(ft===null)throw Error(r(160));e0(g,w,m),ft=null,bn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)i0(s,i),s=s.sibling}var Ti=null;function i0(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(s,i),Tn(i),u&4&&(us(3,i,i.return),Jl(3,i),us(5,i,i.return));break;case 1:wn(s,i),Tn(i),u&512&&(Pt||l===null||Ki(l,l.return)),u&64&&br&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Ti;if(wn(s,i),Tn(i),u&512&&(Pt||l===null||Ki(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ki]||g[It]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Jt(g,u,l),g[It]=i,Nt(g),u=g;break e;case"link":var w=ib("link","href",m).get(u+(l.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(A,1);break t}}g=m.createElement(u),Jt(g,u,l),m.head.appendChild(g);break;case"meta":if(w=ib("meta","content",m).get(u+(l.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(A,1);break t}}g=m.createElement(u),Jt(g,u,l),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[It]=i,Nt(g),u=g}i.stateNode=u}else rb(m,i.type,i.stateNode);else i.stateNode=nb(m,u,i.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?rb(m,i.type,i.stateNode):nb(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Nm(i,i.memoizedProps,l.memoizedProps)}break;case 27:wn(s,i),Tn(i),u&512&&(Pt||l===null||Ki(l,l.return)),l!==null&&u&4&&Nm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(wn(s,i),Tn(i),u&512&&(Pt||l===null||Ki(l,l.return)),i.flags&32){m=i.stateNode;try{_n(m,"")}catch(ve){Je(i,i.return,ve)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Nm(i,m,l!==null?l.memoizedProps:m)),u&1024&&(Mm=!0);break;case 6:if(wn(s,i),Tn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(ve){Je(i,i.return,ve)}}break;case 3:if(Cd=null,m=Ti,Ti=xd(s.containerInfo),wn(s,i),Ti=m,Tn(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Oo(s.containerInfo)}catch(ve){Je(i,i.return,ve)}Mm&&(Mm=!1,r0(i));break;case 4:u=Ti,Ti=xd(i.stateNode.containerInfo),wn(s,i),Tn(i),Ti=u;break;case 12:wn(s,i),Tn(i);break;case 31:wn(s,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 13:wn(s,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fd=dn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 22:m=i.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Q=br,re=Pt;if(br=Q||m,Pt=re||V,wn(s,i),Pt=re,br=Q,Tn(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||V||br||Pt||ba(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){V=l=s;try{if(g=V.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=V.stateNode;var oe=V.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){Je(V,V.return,ve)}}}else if(s.tag===6){if(l===null){V=s;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ve){Je(V,V.return,ve)}}}else if(s.tag===18){if(l===null){V=s;try{var Z=V.stateNode;m?Y0(Z,!0):Y0(V.stateNode,!1)}catch(ve){Je(V,V.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,dd(i,l))));break;case 19:wn(s,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,dd(i,u)));break;case 30:break;case 21:break;default:wn(s,i),Tn(i)}}function Tn(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(Q_(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,g=Om(i);cd(i,g,m);break;case 5:var w=l.stateNode;l.flags&32&&(_n(w,""),l.flags&=-33);var A=Om(i);cd(i,A,w);break;case 3:case 4:var V=l.stateNode.containerInfo,Q=Om(i);Dm(i,Q,V);break;default:throw Error(r(161))}}catch(re){Je(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function r0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;r0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)J_(i,s.alternate,s),s=s.sibling}function ba(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),ba(s);break;case 1:Ki(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Y_(s,s.return,l),ba(s);break;case 27:lu(s.stateNode);case 26:case 5:Ki(s,s.return),ba(s);break;case 22:s.memoizedState===null&&ba(s);break;case 30:ba(s);break;default:ba(s)}i=i.sibling}}function Er(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:Er(m,g,l),Jl(4,g);break;case 1:if(Er(m,g,l),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Je(u,u.return,Q)}if(u=g,m=u.updateQueue,m!==null){var A=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Pv(V[m],A)}catch(Q){Je(u,u.return,Q)}}l&&w&64&&$_(g),Zl(g,g.return);break;case 27:X_(g);case 26:case 5:Er(m,g,l),l&&u===null&&w&4&&K_(g),Zl(g,g.return);break;case 12:Er(m,g,l);break;case 31:Er(m,g,l),l&&w&4&&t0(m,g);break;case 13:Er(m,g,l),l&&w&4&&n0(m,g);break;case 22:g.memoizedState===null&&Er(m,g,l),Zl(g,g.return);break;case 30:break;default:Er(m,g,l)}s=s.sibling}}function km(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ul(l))}function Pm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ul(i))}function Ei(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)s0(i,s,l,u),s=s.sibling}function s0(i,s,l,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Ei(i,s,l,u),m&2048&&Jl(9,s);break;case 1:Ei(i,s,l,u);break;case 3:Ei(i,s,l,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ul(i)));break;case 12:if(m&2048){Ei(i,s,l,u),i=s.stateNode;try{var g=s.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Je(s,s.return,V)}}else Ei(i,s,l,u);break;case 31:Ei(i,s,l,u);break;case 13:Ei(i,s,l,u);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?Ei(i,s,l,u):eu(i,s):g._visibility&2?Ei(i,s,l,u):(g._visibility|=2,bo(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&km(w,s);break;case 24:Ei(i,s,l,u),m&2048&&Pm(s.alternate,s);break;default:Ei(i,s,l,u)}}function bo(i,s,l,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,w=s,A=l,V=u,Q=w.flags;switch(w.tag){case 0:case 11:case 15:bo(g,w,A,V,m),Jl(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?bo(g,w,A,V,m):eu(g,w):(re._visibility|=2,bo(g,w,A,V,m)),m&&Q&2048&&km(w.alternate,w);break;case 24:bo(g,w,A,V,m),m&&Q&2048&&Pm(w.alternate,w);break;default:bo(g,w,A,V,m)}s=s.sibling}}function eu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,m=u.flags;switch(u.tag){case 22:eu(l,u),m&2048&&km(u.alternate,u);break;case 24:eu(l,u),m&2048&&Pm(u.alternate,u);break;default:eu(l,u)}s=s.sibling}}var tu=8192;function wo(i,s,l){if(i.subtreeFlags&tu)for(i=i.child;i!==null;)a0(i,s,l),i=i.sibling}function a0(i,s,l){switch(i.tag){case 26:wo(i,s,l),i.flags&tu&&i.memoizedState!==null&&yC(l,Ti,i.memoizedState,i.memoizedProps);break;case 5:wo(i,s,l);break;case 3:case 4:var u=Ti;Ti=xd(i.stateNode.containerInfo),wo(i,s,l),Ti=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=tu,tu=16777216,wo(i,s,l),tu=u):wo(i,s,l));break;default:wo(i,s,l)}}function o0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function nu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Gt=u,u0(u,i)}o0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l0(i),i=i.sibling}function l0(i){switch(i.tag){case 0:case 11:case 15:nu(i),i.flags&2048&&us(9,i,i.return);break;case 3:nu(i);break;case 12:nu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,hd(i)):nu(i);break;default:nu(i)}}function hd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Gt=u,u0(u,i)}o0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:us(8,s,s.return),hd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,hd(s));break;default:hd(s)}i=i.sibling}}function u0(i,s){for(;Gt!==null;){var l=Gt;switch(l.tag){case 0:case 11:case 15:us(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Gt=u;else e:for(l=i;Gt!==null;){u=Gt;var m=u.sibling,g=u.return;if(Z_(u),u===l){Gt=null;break e}if(m!==null){m.return=g,Gt=m;break e}Gt=g}}}var DA={getCacheForType:function(i){var s=Xt(Dt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Xt(Dt).controller.signal}},MA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,ke=null,Le=0,We=0,jn=null,cs=!1,To=!1,Lm=!1,Sr=0,_t=0,ds=0,wa=0,jm=0,Vn=0,Eo=0,iu=null,En=null,Vm=!1,fd=0,c0=0,md=1/0,pd=null,hs=null,zt=0,fs=null,So=null,xr=0,Um=0,zm=null,d0=null,ru=0,Bm=null;function Un(){return(Ye&2)!==0&&Le!==0?Le&-Le:q.T!==null?Ym():gc()}function h0(){if(Vn===0)if((Le&536870912)===0||Be){var i=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),Vn=i}else Vn=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Vn}function Sn(i,s,l){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(xo(i,0),ms(i,Le,Vn,!1)),Qs(i,l),((Ye&2)===0||i!==it)&&(i===it&&((Ye&2)===0&&(wa|=l),_t===4&&ms(i,Le,Vn,!1)),Qi(i))}function f0(i,s,l){if((Ye&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||fi(i,s),m=u?LA(i,s):qm(i,s,!0),g=u;do{if(m===0){To&&!u&&ms(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!kA(l)){m=qm(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var A=i;m=iu;var V=A.current.memoizedState.isDehydrated;if(V&&(xo(A,w).flags|=256),w=qm(A,w,!1),w!==2){if(Lm&&!V){A.errorRecoveryDisabledLanes|=g,wa|=g,m=4;break e}g=En,En=m,g!==null&&(En===null?En=g:En.push.apply(En,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){xo(i,0),ms(i,s,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ms(u,s,Vn,!cs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=fd+300-dn(),10<m)){if(ms(u,s,Vn,!cs),Oi(u,0,!0)!==0)break e;xr=s,u.timeoutHandle=H0(m0.bind(null,u,l,En,pd,Vm,s,Vn,wa,Eo,cs,g,"Throttled",-0,0),m);break e}m0(u,l,En,pd,Vm,s,Vn,wa,Eo,cs,g,null,-0,0)}}break}while(!0);Qi(i)}function m0(i,s,l,u,m,g,w,A,V,Q,re,oe,X,Z){if(i.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},a0(s,g,oe);var ve=(g&62914560)===g?fd-dn():(g&4194048)===g?c0-dn():0;if(ve=vC(oe,ve),ve!==null){xr=g,i.cancelPendingCommit=ve(T0.bind(null,i,s,g,l,u,m,w,A,V,re,oe,null,X,Z)),ms(i,g,w,!Q);return}}T0(i,s,g,l,u,m,w,A,V)}function kA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],g=m.getSnapshot;m=m.value;try{if(!Mn(g(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ms(i,s,l,u){s&=~jm,s&=~wa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var g=31-Tt(m),w=1<<g;u[g]=-1,m&=~w}l!==0&&Xs(i,l,s)}function gd(){return(Ye&6)===0?(su(0),!1):!0}function Fm(){if(ke!==null){if(We===0)var i=ke.return;else i=ke,mr=ha=null,rm(i),po=null,Bl=0,i=ke;for(;i!==null;)G_(i.alternate,i),i=i.return;ke=null}}function xo(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,eC(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),xr=0,Fm(),it=i,ke=l=hr(i.current,null),Le=s,We=0,jn=null,cs=!1,To=fi(i,s),Lm=!1,Eo=Vn=jm=wa=ds=_t=0,En=iu=null,Vm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-Tt(u),g=1<<m;s|=i[m],u&=~g}return Sr=s,jc(),l}function p0(i,s){De=null,q.H=Ql,s===mo||s===Gc?(s=Ov(),We=3):s===$f?(s=Ov(),We=4):We=s===bm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jn=s,ke===null&&(_t=1,sd(i,Xn(s,i.current)))}function g0(){var i=Pn.current;return i===null?!0:(Le&4194048)===Le?ei===null:(Le&62914560)===Le||(Le&536870912)!==0?i===ei:!1}function y0(){var i=q.H;return q.H=Ql,i===null?Ql:i}function v0(){var i=q.A;return q.A=DA,i}function yd(){_t=4,cs||(Le&4194048)!==Le&&Pn.current!==null||(To=!0),(ds&134217727)===0&&(wa&134217727)===0||it===null||ms(it,Le,Vn,!1)}function qm(i,s,l){var u=Ye;Ye|=2;var m=y0(),g=v0();(it!==i||Le!==s)&&(pd=null,xo(i,s)),s=!1;var w=_t;e:do try{if(We!==0&&ke!==null){var A=ke,V=jn;switch(We){case 8:Fm(),w=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var Q=We;if(We=0,jn=null,Ao(i,A,V,Q),l&&To){w=0;break e}break;default:Q=We,We=0,jn=null,Ao(i,A,V,Q)}}PA(),w=_t;break}catch(re){p0(i,re)}while(!0);return s&&i.shellSuspendCounter++,mr=ha=null,Ye=u,q.H=m,q.A=g,ke===null&&(it=null,Le=0,jc()),w}function PA(){for(;ke!==null;)_0(ke)}function LA(i,s){var l=Ye;Ye|=2;var u=y0(),m=v0();it!==i||Le!==s?(pd=null,md=dn()+500,xo(i,s)):To=fi(i,s);e:do try{if(We!==0&&ke!==null){s=ke;var g=jn;t:switch(We){case 1:We=0,jn=null,Ao(i,s,g,1);break;case 2:case 9:if(Iv(g)){We=0,jn=null,b0(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),Qi(i)},g.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Iv(g)?(We=0,jn=null,b0(s)):(We=0,jn=null,Ao(i,s,g,7));break;case 5:var w=null;switch(ke.tag){case 26:w=ke.memoizedState;case 5:case 27:var A=ke;if(w?sb(w):A.stateNode.complete){We=0,jn=null;var V=A.sibling;if(V!==null)ke=V;else{var Q=A.return;Q!==null?(ke=Q,vd(Q)):ke=null}break t}}We=0,jn=null,Ao(i,s,g,5);break;case 6:We=0,jn=null,Ao(i,s,g,6);break;case 8:Fm(),_t=6;break e;default:throw Error(r(462))}}jA();break}catch(re){p0(i,re)}while(!0);return mr=ha=null,q.H=u,q.A=m,Ye=l,ke!==null?0:(it=null,Le=0,jc(),_t)}function jA(){for(;ke!==null&&!_f();)_0(ke)}function _0(i){var s=q_(i.alternate,i,Sr);i.memoizedProps=i.pendingProps,s===null?vd(i):ke=s}function b0(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=j_(l,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=j_(l,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:rm(s);default:G_(l,s),s=ke=vv(s,Sr),s=q_(l,s,Sr)}i.memoizedProps=i.pendingProps,s===null?vd(i):ke=s}function Ao(i,s,l,u){mr=ha=null,rm(s),po=null,Bl=0;var m=s.return;try{if(xA(i,m,s,l,Le)){_t=1,sd(i,Xn(l,i.current)),ke=null;return}}catch(g){if(m!==null)throw ke=m,g;_t=1,sd(i,Xn(l,i.current)),ke=null;return}s.flags&32768?(Be||u===1?i=!0:To||(Le&536870912)!==0?i=!1:(cs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),w0(s,i)):vd(s)}function vd(i){var s=i;do{if((s.flags&32768)!==0){w0(s,cs);return}i=s.return;var l=RA(s.alternate,s,Sr);if(l!==null){ke=l;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=i}while(s!==null);_t===0&&(_t=5)}function w0(i,s){do{var l=IA(i.alternate,i);if(l!==null){l.flags&=32767,ke=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){ke=i;return}ke=i=l}while(i!==null);_t=6,ke=null}function T0(i,s,l,u,m,g,w,A,V){i.cancelPendingCommit=null;do _d();while(zt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Of,Tf(i,l,g,w,A,V),i===it&&(ke=it=null,Le=0),So=s,fs=i,xr=l,Um=g,zm=m,d0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BA(Hr,function(){return C0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,m=J.p,J.p=2,w=Ye,Ye|=4;try{NA(i,s,l)}finally{Ye=w,J.p=m,q.T=u}}zt=1,E0(),S0(),x0()}}function E0(){if(zt===1){zt=0;var i=fs,s=So,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var u=J.p;J.p=2;var m=Ye;Ye|=4;try{i0(s,i);var g=tp,w=uv(i.containerInfo),A=g.focusedElem,V=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&lv(A.ownerDocument.documentElement,A)){if(V!==null&&Af(A)){var Q=V.start,re=V.end;if(re===void 0&&(re=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(re,A.value.length);else{var oe=A.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var Z=X.getSelection(),ve=A.textContent.length,Ee=Math.min(V.start,ve),nt=V.end===void 0?Ee:Math.min(V.end,ve);!Z.extend&&Ee>nt&&(w=nt,nt=Ee,Ee=w);var G=ov(A,Ee),H=ov(A,nt);if(G&&H&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var K=oe.createRange();K.setStart(G.node,G.offset),Z.removeAllRanges(),Ee>nt?(Z.addRange(K),Z.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),Z.addRange(K))}}}}for(oe=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var se=oe[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Od=!!ep,tp=ep=null}finally{Ye=m,J.p=u,q.T=l}}i.current=s,zt=2}}function S0(){if(zt===2){zt=0;var i=fs,s=So,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var u=J.p;J.p=2;var m=Ye;Ye|=4;try{J_(i,s.alternate,s)}finally{Ye=m,J.p=u,q.T=l}}zt=3}}function x0(){if(zt===4||zt===3){zt=0,uc();var i=fs,s=So,l=xr,u=d0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,So=fs=null,A0(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(hs=null),lr(l),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(hi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,m=J.p,J.p=2,q.T=null;try{for(var g=i.onRecoverableError,w=0;w<u.length;w++){var A=u[w];g(A.value,{componentStack:A.stack})}}finally{q.T=s,J.p=m}}(xr&3)!==0&&_d(),Qi(i),m=i.pendingLanes,(l&261930)!==0&&(m&42)!==0?i===Bm?ru++:(ru=0,Bm=i):ru=0,su(0)}}function A0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ul(s)))}function _d(){return E0(),S0(),x0(),C0()}function C0(){if(zt!==5)return!1;var i=fs,s=Um;Um=0;var l=lr(xr),u=q.T,m=J.p;try{J.p=32>l?32:l,q.T=null,l=zm,zm=null;var g=fs,w=xr;if(zt=0,So=fs=null,xr=0,(Ye&6)!==0)throw Error(r(331));var A=Ye;if(Ye|=4,l0(g.current),s0(g,g.current,w,l),Ye=A,su(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(hi,g)}catch{}return!0}finally{J.p=m,q.T=u,A0(i,s)}}function R0(i,s,l){s=Xn(l,s),s=_m(i.stateNode,s,2),i=as(i,s,2),i!==null&&(Qs(i,2),Qi(i))}function Je(i,s,l){if(i.tag===3)R0(i,i,l);else for(;s!==null;){if(s.tag===3){R0(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){i=Xn(l,i),l=I_(2),u=as(s,l,2),u!==null&&(N_(l,u,s,i),Qs(u,2),Qi(u));break}}s=s.return}}function Hm(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new MA;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(l)||(Lm=!0,m.add(l),i=VA.bind(null,i,s,l),s.then(i,i))}function VA(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,it===i&&(Le&l)===l&&(_t===4||_t===3&&(Le&62914560)===Le&&300>dn()-fd?(Ye&2)===0&&xo(i,0):jm|=l,Eo===Le&&(Eo=0)),Qi(i)}function I0(i,s){s===0&&(s=pc()),i=ua(i,s),i!==null&&(Qs(i,s),Qi(i))}function UA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),I0(i,l)}function zA(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),I0(i,l)}function BA(i,s){return Ut(i,s)}var bd=null,Co=null,Gm=!1,wd=!1,$m=!1,ps=0;function Qi(i){i!==Co&&i.next===null&&(Co===null?bd=Co=i:Co=Co.next=i),wd=!0,Gm||(Gm=!0,qA())}function su(i,s){if(!$m&&wd){$m=!0;do for(var l=!1,u=bd;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var w=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Tt(42|i)+1)-1,g&=m&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,M0(u,g))}else g=Le,g=Oi(u,u===it?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||fi(u,g)||(l=!0,M0(u,g));u=u.next}while(l);$m=!1}}function FA(){N0()}function N0(){wd=Gm=!1;var i=0;ps!==0&&ZA()&&(i=ps);for(var s=dn(),l=null,u=bd;u!==null;){var m=u.next,g=O0(u,s);g===0?(u.next=null,l===null?bd=m:l.next=m,m===null&&(Co=l)):(l=u,(i!==0||(g&3)!==0)&&(wd=!0)),u=m}zt!==0&&zt!==5||su(i),ps!==0&&(ps=0)}function O0(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-Tt(g),A=1<<w,V=m[w];V===-1?((A&l)===0||(A&u)!==0)&&(m[w]=wf(A,s)):V<=s&&(i.expiredLanes|=A),g&=~A}if(s=it,l=Le,l=Oi(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&qr(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||fi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&qr(u),lr(l)){case 2:case 8:l=pl;break;case 32:l=Hr;break;case 268435456:l=cc;break;default:l=Hr}return u=D0.bind(null,i),l=Ut(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&qr(u),i.callbackPriority=2,i.callbackNode=null,2}function D0(i,s){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(_d()&&i.callbackNode!==l)return null;var u=Le;return u=Oi(i,i===it?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(f0(i,u,s),O0(i,dn()),i.callbackNode!=null&&i.callbackNode===l?D0.bind(null,i):null)}function M0(i,s){if(_d())return null;f0(i,s,!0)}function qA(){tC(function(){(Ye&6)!==0?Ut(ml,FA):N0()})}function Ym(){if(ps===0){var i=ho;i===0&&(i=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),ps=i}return ps}function k0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xa(""+i)}function P0(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function HA(i,s,l,u,m){if(s==="submit"&&l&&l.stateNode===m){var g=k0((m[qt]||null).action),w=u.submitter;w&&(s=(s=w[qt]||null)?k0(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var A=new Fi("action","action",null,u,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ps!==0){var V=w?P0(m,w):new FormData(m);fm(l,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(A.preventDefault(),V=w?P0(m,w):new FormData(m),fm(l,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var Km=0;Km<Nf.length;Km++){var Qm=Nf[Km],GA=Qm.toLowerCase(),$A=Qm[0].toUpperCase()+Qm.slice(1);wi(GA,"on"+$A)}wi(hv,"onAnimationEnd"),wi(fv,"onAnimationIteration"),wi(mv,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(lA,"onTransitionRun"),wi(uA,"onTransitionStart"),wi(cA,"onTransitionCancel"),wi(pv,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function L0(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var w=u.length-1;0<=w;w--){var A=u[w],V=A.instance,Q=A.currentTarget;if(A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(re){Lc(re)}m.currentTarget=null,g=V}else for(w=0;w<u.length;w++){if(A=u[w],V=A.instance,Q=A.currentTarget,A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(re){Lc(re)}m.currentTarget=null,g=V}}}}function Pe(i,s){var l=s[Ga];l===void 0&&(l=s[Ga]=new Set);var u=i+"__bubble";l.has(u)||(j0(s,i,2,!1),l.add(u))}function Xm(i,s,l){var u=0;s&&(u|=4),j0(l,i,u,s)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Wm(i){if(!i[Td]){i[Td]=!0,vl.forEach(function(l){l!=="selectionchange"&&(YA.has(l)||Xm(l,!1,i),Xm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Td]||(s[Td]=!0,Xm("selectionchange",!1,s))}}function j0(i,s,l,u){switch(hb(s)){case 2:var m=wC;break;case 8:m=TC;break;default:m=hp}l=m.bind(null,s,l,i),m=void 0,!ta||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function Jm(i,s,l,u,m){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===m)break;if(w===4)for(w=u.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;A!==null;){if(w=Pi(A),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){u=g=w;continue e}A=A.parentNode}}u=u.return}Xr(function(){var Q=g,re=$n(l),oe=[];e:{var X=gv.get(i);if(X!==void 0){var Z=Fi,ve=i;switch(i){case"keypress":if(ia(l)===0)break e;case"keydown":case"keyup":Z=Mc;break;case"focusin":ve="focus",Z=sa;break;case"focusout":ve="blur",Z=sa;break;case"beforeblur":case"afterblur":Z=sa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case hv:case fv:case mv:Z=Ac;break;case pv:Z=R;break;case"scroll":case"scrollend":Z=Nl;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=Cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=dr;break;case"toggle":case"beforetoggle":Z=Oe}var Ee=(s&4)!==0,nt=!Ee&&(i==="scroll"||i==="scrollend"),G=Ee?X!==null?X+"Capture":null:X;Ee=[];for(var H=Q,K;H!==null;){var se=H;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=yi(H,G),se!=null&&Ee.push(ou(H,se,K))),nt)break;H=H.return}0<Ee.length&&(X=new Z(X,ve,null,l,re),oe.push({event:X,listeners:Ee}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",X&&l!==Cl&&(ve=l.relatedTarget||l.fromElement)&&(Pi(ve)||ve[Mi]))break e;if((Z||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(ve=l.relatedTarget||l.toElement,Z=Q,ve=ve?Pi(ve):null,ve!==null&&(nt=o(ve),Ee=ve.tag,ve!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(ve=null)):(Z=null,ve=Q),Z!==ve)){if(Ee=Ol,se="onMouseLeave",G="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=dr,se="onPointerLeave",G="onPointerEnter",H="pointer"),nt=Z==null?X:On(Z),K=ve==null?X:On(ve),X=new Ee(se,H+"leave",Z,l,re),X.target=nt,X.relatedTarget=K,se=null,Pi(re)===Q&&(Ee=new Ee(G,H+"enter",ve,l,re),Ee.target=K,Ee.relatedTarget=nt,se=Ee),nt=se,Z&&ve)t:{for(Ee=KA,G=Z,H=ve,K=0,se=G;se;se=Ee(se))K++;se=0;for(var we=H;we;we=Ee(we))se++;for(;0<K-se;)G=Ee(G),K--;for(;0<se-K;)H=Ee(H),se--;for(;K--;){if(G===H||H!==null&&G===H.alternate){Ee=G;break t}G=Ee(G),H=Ee(H)}Ee=null}else Ee=null;Z!==null&&V0(oe,X,Z,Ee,!1),ve!==null&&nt!==null&&V0(oe,nt,ve,Ee,!0)}}e:{if(X=Q?On(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var He=tv;else if(Zy(X))if(nv)He=sA;else{He=iA;var _e=nA}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Qa(Q.elementType)&&(He=tv):He=rA;if(He&&(He=He(i,Q))){ev(oe,He,l,re);break e}_e&&_e(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Sl(X,"number",X.value)}switch(_e=Q?On(Q):window,i){case"focusin":(Zy(_e)||_e.contentEditable==="true")&&(io=_e,Cf=Q,Ll=null);break;case"focusout":Ll=Cf=io=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,cv(oe,l,re);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":cv(oe,l,re)}var Me;if($e)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else no?aa(i,l)&&(je="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(Gi&&l.locale!=="ko"&&(no||je!=="onCompositionStart"?je==="onCompositionEnd"&&no&&(Me=Il()):(Bi=re,Rl="value"in Bi?Bi.value:Bi.textContent,no=!0)),_e=Ed(Q,je),0<_e.length&&(je=new Hi(je,i,null,l,re),oe.push({event:je,listeners:_e}),Me?je.data=Me:(Me=to(l),Me!==null&&(je.data=Me)))),(Me=Kn?J1(i,l):Z1(i,l))&&(je=Ed(Q,"onBeforeInput"),0<je.length&&(_e=new Hi("onBeforeInput","beforeinput",null,l,re),oe.push({event:_e,listeners:je}),_e.data=Me)),HA(oe,i,Q,l,re)}L0(oe,s)})}function ou(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ed(i,s){for(var l=s+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=yi(i,l),m!=null&&u.unshift(ou(i,m,g)),m=yi(i,s),m!=null&&u.push(ou(i,m,g))),i.tag===3)return u;i=i.return}return[]}function KA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function V0(i,s,l,u,m){for(var g=s._reactName,w=[];l!==null&&l!==u;){var A=l,V=A.alternate,Q=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||Q===null||(V=Q,m?(Q=yi(l,g),Q!=null&&w.unshift(ou(l,Q,V))):m||(Q=yi(l,g),Q!=null&&w.push(ou(l,Q,V)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var QA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function U0(i){return(typeof i=="string"?i:""+i).replace(QA,`
`).replace(XA,"")}function z0(i,s){return s=U0(s),U0(i)===s}function tt(i,s,l,u,m,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||_n(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&_n(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,l,u);break;case"style":Al(i,u,g);break;case"data":if(s!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Xa(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&tt(i,s,"name",m.name,m,null),tt(i,s,"formEncType",m.formEncType,m,null),tt(i,s,"formMethod",m.formMethod,m,null),tt(i,s,"formTarget",m.formTarget,m,null)):(tt(i,s,"encType",m.encType,m,null),tt(i,s,"method",m.method,m,null),tt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Xa(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=gi);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Xa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Ya(i,"popover",u);break;case"xlinkActuate":Ot(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ot(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ot(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ot(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ot(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ot(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ya(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ec.get(l)||l,Ya(i,l,u))}}function Zm(i,s,l,u,m,g){switch(l){case"style":Al(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?_n(i,u):(typeof u=="number"||typeof u=="bigint")&&_n(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),g=i[qt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Ya(i,l,u)}}}function Jt(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var w=l[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,g,w,l,null)}}m&&tt(i,s,"srcSet",l.srcSet,l,null),u&&tt(i,s,"src",l.src,l,null);return;case"input":Pe("invalid",i);var A=g=w=m=null,V=null,Q=null;for(u in l)if(l.hasOwnProperty(u)){var re=l[u];if(re!=null)switch(u){case"name":m=re;break;case"type":w=re;break;case"checked":V=re;break;case"defaultChecked":Q=re;break;case"value":g=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:tt(i,s,u,re,l,null)}}bc(i,g,A,V,Q,w,m,!1);return;case"select":Pe("invalid",i),u=w=g=null;for(m in l)if(l.hasOwnProperty(m)&&(A=l[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:tt(i,s,m,A,l,null)}s=g,l=w,i.multiple=!!u,s!=null?$r(i,!!u,s,!1):l!=null&&$r(i,!!u,l,!0);return;case"textarea":Pe("invalid",i),g=m=u=null;for(w in l)if(l.hasOwnProperty(w)&&(A=l[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(i,s,w,A,l,null)}Yr(i,u,m,g);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(i,s,V,u,l,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<au.length;u++)Pe(au[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(u=l[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,Q,u,l,null)}return;default:if(Qa(s)){for(re in l)l.hasOwnProperty(re)&&(u=l[re],u!==void 0&&Zm(i,s,re,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&tt(i,s,A,u,l,null))}function WA(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,A=null,V=null,Q=null,re=null;for(Z in l){var oe=l[Z];if(l.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(Z)||tt(i,s,Z,null,u,oe)}}for(var X in u){var Z=u[X];if(oe=l[X],u.hasOwnProperty(X)&&(Z!=null||oe!=null))switch(X){case"type":g=Z;break;case"name":m=Z;break;case"checked":Q=Z;break;case"defaultChecked":re=Z;break;case"value":w=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Z!==oe&&tt(i,s,X,Z,u,oe)}}Ka(i,w,A,V,Q,re,g,m);return;case"select":Z=w=A=X=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(g)||tt(i,s,g,null,u,V)}for(m in u)if(g=u[m],V=l[m],u.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==V&&tt(i,s,m,g,u,V)}s=A,l=w,u=Z,X!=null?$r(i,!!l,X,!1):!!u!=!!l&&(s!=null?$r(i,!!l,s,!0):$r(i,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(A in l)if(m=l[A],l.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,s,A,null,u,m)}for(w in u)if(m=u[w],g=l[w],u.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":X=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&tt(i,s,w,m,u,g)}wc(i,X,Z);return;case"option":for(var ve in l)if(X=l[ve],l.hasOwnProperty(ve)&&X!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:tt(i,s,ve,null,u,X)}for(V in u)if(X=u[V],Z=l[V],u.hasOwnProperty(V)&&X!==Z&&(X!=null||Z!=null))switch(V){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(i,s,V,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)X=l[Ee],l.hasOwnProperty(Ee)&&X!=null&&!u.hasOwnProperty(Ee)&&tt(i,s,Ee,null,u,X);for(Q in u)if(X=u[Q],Z=l[Q],u.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:tt(i,s,Q,X,u,Z)}return;default:if(Qa(s)){for(var nt in l)X=l[nt],l.hasOwnProperty(nt)&&X!==void 0&&!u.hasOwnProperty(nt)&&Zm(i,s,nt,void 0,u,X);for(re in u)X=u[re],Z=l[re],!u.hasOwnProperty(re)||X===Z||X===void 0&&Z===void 0||Zm(i,s,re,X,u,Z);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!u.hasOwnProperty(G)&&tt(i,s,G,null,u,X);for(oe in u)X=u[oe],Z=l[oe],!u.hasOwnProperty(oe)||X===Z||X==null&&Z==null||tt(i,s,oe,X,u,Z)}function B0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],g=m.transferSize,w=m.initiatorType,A=m.duration;if(g&&A&&B0(w)){for(w=0,A=m.responseEnd,u+=1;u<l.length;u++){var V=l[u],Q=V.startTime;if(Q>A)break;var re=V.transferSize,oe=V.initiatorType;re&&B0(oe)&&(V=V.responseEnd,w+=re*(V<A?1:(A-Q)/(V-Q)))}if(--u,s+=8*(g+w)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ep=null,tp=null;function Sd(i){return i.nodeType===9?i:i.ownerDocument}function F0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function np(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ip=null;function ZA(){var i=window.event;return i&&i.type==="popstate"?i===ip?!1:(ip=i,!0):(ip=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(i){return G0.resolve(null).then(i).catch(nC)}:H0;function nC(i){setTimeout(function(){throw i})}function gs(i){return i==="head"}function $0(i,s){var l=s,u=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(m),Oo(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")lu(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,lu(l);for(var g=l.firstChild;g;){var w=g.nextSibling,A=g.nodeName;g[ki]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=w}}else l==="body"&&lu(i.ownerDocument.body);l=m}while(l);Oo(s)}function Y0(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function rp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":rp(l),$a(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function iC(i,s,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ki])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function rC(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ti(i.nextSibling),i===null))return null;return i}function K0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ti(i.nextSibling),i===null))return null;return i}function sp(i){return i.data==="$?"||i.data==="$~"}function ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function sC(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var op=null;function Q0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return ti(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function X0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function W0(i,s,l){switch(s=Sd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function lu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);$a(i)}var ni=new Map,J0=new Set;function xd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ar=J.d;J.d={f:aC,r:oC,D:lC,C:uC,L:cC,m:dC,X:fC,S:hC,M:mC};function aC(){var i=Ar.f(),s=gd();return i||s}function oC(i){var s=Gn(i);s!==null&&s.tag===5&&s.type==="form"?p_(s):Ar.r(i)}var Ro=typeof document>"u"?null:document;function Z0(i,s,l){var u=Ro;if(u&&typeof s=="string"&&s){var m=vn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),J0.has(m)||(J0.add(m),i={rel:i,crossOrigin:l,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Jt(s,"link",i),Nt(s),u.head.appendChild(s)))}}function lC(i){Ar.D(i),Z0("dns-prefetch",i,null)}function uC(i,s){Ar.C(i,s),Z0("preconnect",i,s)}function cC(i,s,l){Ar.L(i,s,l);var u=Ro;if(u&&i&&s){var m='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+vn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+vn(l.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var g=m;switch(s){case"style":g=Io(i);break;case"script":g=No(i)}ni.has(g)||(i=b({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ni.set(g,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(uu(g))||s==="script"&&u.querySelector(cu(g))||(s=u.createElement("link"),Jt(s,"link",i),Nt(s),u.head.appendChild(s)))}}function dC(i,s){Ar.m(i,s);var l=Ro;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+vn(u)+'"][href="'+vn(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=No(i)}if(!ni.has(g)&&(i=b({rel:"modulepreload",href:i},s),ni.set(g,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cu(g)))return}u=l.createElement("link"),Jt(u,"link",i),Nt(u),l.head.appendChild(u)}}}function hC(i,s,l){Ar.S(i,s,l);var u=Ro;if(u&&i){var m=Li(u).hoistableStyles,g=Io(i);s=s||"default";var w=m.get(g);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(uu(g)))A.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ni.get(g))&&lp(i,l);var V=w=u.createElement("link");Nt(V),Jt(V,"link",i),V._p=new Promise(function(Q,re){V.onload=Q,V.onerror=re}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ad(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(g,w)}}}function fC(i,s){Ar.X(i,s);var l=Ro;if(l&&i){var u=Li(l).hoistableScripts,m=No(i),g=u.get(m);g||(g=l.querySelector(cu(m)),g||(i=b({src:i,async:!0},s),(s=ni.get(m))&&up(i,s),g=l.createElement("script"),Nt(g),Jt(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function mC(i,s){Ar.M(i,s);var l=Ro;if(l&&i){var u=Li(l).hoistableScripts,m=No(i),g=u.get(m);g||(g=l.querySelector(cu(m)),g||(i=b({src:i,async:!0,type:"module"},s),(s=ni.get(m))&&up(i,s),g=l.createElement("script"),Nt(g),Jt(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function eb(i,s,l,u){var m=(m=Ae.current)?xd(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Io(l.href),l=Li(m).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Io(l.href);var g=Li(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(uu(i)))&&!g._p&&(w.instance=g,w.state.loading=5),ni.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ni.set(i,l),g||pC(m,i,l,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=No(l),l=Li(m).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Io(i){return'href="'+vn(i)+'"'}function uu(i){return'link[rel="stylesheet"]['+i+"]"}function tb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function pC(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",l),Nt(s),i.head.appendChild(s))}function No(i){return'[src="'+vn(i)+'"]'}function cu(i){return"script[async]"+i}function nb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+vn(l.href)+'"]');if(u)return s.instance=u,Nt(u),u;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Nt(u),Jt(u,"style",m),Ad(u,l.precedence,i),s.instance=u;case"stylesheet":m=Io(l.href);var g=i.querySelector(uu(m));if(g)return s.state.loading|=4,s.instance=g,Nt(g),g;u=tb(l),(m=ni.get(m))&&lp(u,m),g=(i.ownerDocument||i).createElement("link"),Nt(g);var w=g;return w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Jt(g,"link",u),s.state.loading|=4,Ad(g,l.precedence,i),s.instance=g;case"script":return g=No(l.src),(m=i.querySelector(cu(g)))?(s.instance=m,Nt(m),m):(u=l,(m=ni.get(g))&&(u=b({},l),up(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Nt(m),Jt(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ad(u,l.precedence,i));return s.instance}function Ad(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function up(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Cd=null;function ib(i,s,l){if(Cd===null){var u=new Map,m=Cd=new Map;m.set(l,u)}else m=Cd,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var g=l[m];if(!(g[ki]||g[It]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=i+w;var A=u.get(w);A?A.push(g):u.set(w,[g])}}return u}function rb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function gC(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function sb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function yC(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Io(u.href),g=s.querySelector(uu(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Rd.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=g,Nt(g);return}g=s.ownerDocument||s,u=tb(u),(m=ni.get(m))&&lp(u,m),g=g.createElement("link"),Nt(g);var w=g;w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Jt(g,"link",u),l.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Rd.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var cp=0;function vC(i,s){return i.stylesheets&&i.count===0&&Nd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Nd(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&cp===0&&(cp=62500*JA());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Nd(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>cp?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Id=null;function Nd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Id=new Map,s.forEach(_C,i),Id=null,Rd.call(i))}function _C(i,s){if(!(s.state.loading&4)){var l=Id.get(i);if(l)var u=l.get(null);else{l=new Map,Id.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}m=s.instance,w=m.getAttribute("data-precedence"),g=l.get(w)||u,g===u&&l.set(null,m),l.set(w,m),this.count++,u=Rd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var du={$$typeof:z,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function bC(i,s,l,u,m,g,w,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function ab(i,s,l,u,m,g,w,A,V,Q,re,oe){return i=new bC(i,s,l,w,V,Q,re,oe,A),s=1,g===!0&&(s|=24),g=kn(3,null,null,s),i.current=g,g.stateNode=i,s=qf(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},Yf(g),i}function ob(i){return i?(i=ao,i):ao}function lb(i,s,l,u,m,g){m=ob(m),u.context===null?u.context=m:u.pendingContext=m,u=ss(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=as(i,u,s),l!==null&&(Sn(l,i,s),ql(l,i,s))}function ub(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function dp(i,s){ub(i,s),(i=i.alternate)&&ub(i,s)}function cb(i){if(i.tag===13||i.tag===31){var s=ua(i,67108864);s!==null&&Sn(s,i,67108864),dp(i,67108864)}}function db(i){if(i.tag===13||i.tag===31){var s=Un();s=Ws(s);var l=ua(i,s);l!==null&&Sn(l,i,s),dp(i,s)}}var Od=!0;function wC(i,s,l,u){var m=q.T;q.T=null;var g=J.p;try{J.p=2,hp(i,s,l,u)}finally{J.p=g,q.T=m}}function TC(i,s,l,u){var m=q.T;q.T=null;var g=J.p;try{J.p=8,hp(i,s,l,u)}finally{J.p=g,q.T=m}}function hp(i,s,l,u){if(Od){var m=fp(u);if(m===null)Jm(i,s,u,Dd,l),fb(i,u);else if(SC(m,i,s,l,u))u.stopPropagation();else if(fb(i,u),s&4&&-1<EC.indexOf(i)){for(;m!==null;){var g=Gn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Ni(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var V=1<<31-Tt(w);A.entanglements[1]|=V,w&=~V}Qi(g),(Ye&6)===0&&(md=dn()+500,su(0))}}break;case 31:case 13:A=ua(g,2),A!==null&&Sn(A,g,2),gd(),dp(g,2)}if(g=fp(u),g===null&&Jm(i,s,u,Dd,l),g===m)break;m=g}m!==null&&u.stopPropagation()}else Jm(i,s,u,null,l)}}function fp(i){return i=$n(i),mp(i)}var Dd=null;function mp(i){if(Dd=null,i=Pi(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=f(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Dd=i,null}function hb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ys()){case ml:return 2;case pl:return 8;case Hr:case bf:return 32;case cc:return 268435456;default:return 32}default:return 32}}var pp=!1,ys=null,vs=null,_s=null,hu=new Map,fu=new Map,bs=[],EC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fb(i,s){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(s.pointerId)}}function mu(i,s,l,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Gn(s),s!==null&&cb(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function SC(i,s,l,u,m){switch(s){case"focusin":return ys=mu(ys,i,s,l,u,m),!0;case"dragenter":return vs=mu(vs,i,s,l,u,m),!0;case"mouseover":return _s=mu(_s,i,s,l,u,m),!0;case"pointerover":var g=m.pointerId;return hu.set(g,mu(hu.get(g)||null,i,s,l,u,m)),!0;case"gotpointercapture":return g=m.pointerId,fu.set(g,mu(fu.get(g)||null,i,s,l,u,m)),!0}return!1}function mb(i){var s=Pi(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,mi(i.priority,function(){db(l)});return}}else if(s===31){if(s=f(l),s!==null){i.blockedOn=s,mi(i.priority,function(){db(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Md(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=fp(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Cl=u,l.target.dispatchEvent(u),Cl=null}else return s=Gn(l),s!==null&&cb(s),i.blockedOn=l,!1;s.shift()}return!0}function pb(i,s,l){Md(i)&&l.delete(s)}function xC(){pp=!1,ys!==null&&Md(ys)&&(ys=null),vs!==null&&Md(vs)&&(vs=null),_s!==null&&Md(_s)&&(_s=null),hu.forEach(pb),fu.forEach(pb)}function kd(i,s){i.blockedOn===s&&(i.blockedOn=null,pp||(pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xC)))}var Pd=null;function gb(i){Pd!==i&&(Pd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pd===i&&(Pd=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(mp(u||l)===null)continue;break}var g=Gn(l);g!==null&&(i.splice(s,3),s-=3,fm(g,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function Oo(i){function s(V){return kd(V,i)}ys!==null&&kd(ys,i),vs!==null&&kd(vs,i),_s!==null&&kd(_s,i),hu.forEach(s),fu.forEach(s);for(var l=0;l<bs.length;l++){var u=bs[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<bs.length&&(l=bs[0],l.blockedOn===null);)mb(l),l.blockedOn===null&&bs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],g=l[u+1],w=m[qt]||null;if(typeof g=="function")w||gb(l);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[qt]||null)A=w.formAction;else if(mp(m)!==null)continue}else A=w.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),gb(l)}}}function yb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function gp(i){this._internalRoot=i}Ld.prototype.render=gp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=Un();lb(l,u,i,s,null,null)},Ld.prototype.unmount=gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;lb(i.current,2,null,i,null,null),gd(),s[Mi]=null}};function Ld(i){this._internalRoot=i}Ld.prototype.unstable_scheduleHydration=function(i){if(i){var s=gc();i={blockedOn:null,target:i,priority:s};for(var l=0;l<bs.length&&s!==0&&s<bs[l].priority;l++);bs.splice(l,0,i),l===0&&mb(i)}};var vb=e.version;if(vb!=="19.2.0")throw Error(r(527,vb,"19.2.0"));J.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var AC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{hi=jd.inject(AC),Yt=jd}catch{}}return gu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",m=x_,g=A_,w=C_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=ab(i,1,!1,null,null,l,u,null,m,g,w,yb),i[Mi]=s.current,Wm(i),new gp(s)},gu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,m="",g=x_,w=A_,A=C_,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),s=ab(i,1,!0,s,l??null,u,m,V,g,w,A,yb),s.context=ob(null),l=s.current,u=Un(),u=Ws(u),m=ss(u),m.callback=null,as(l,m,u),l=u,s.current.lanes=l,Qs(s,l),Qi(s),i[Mi]=s.current,Wm(i),new Ld(s)},gu.version="19.2.0",gu}var Rb;function LC(){if(Rb)return _p.exports;Rb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_p.exports=PC(),_p.exports}var jC=LC();var Ib="popstate";function VC(n={}){function e(r,a){let{pathname:o,search:c,hash:f}=r.location;return Xp("",{pathname:o,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:ku(a)}return zC(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UC(){return Math.random().toString(36).substring(2,10)}function Nb(n,e){return{usr:n.state,key:n.key,idx:e}}function Xp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?el(e):e,state:t,key:e&&e.key||r||UC()}}function ku({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function el(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function zC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,f="POP",h=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let N=v(),U=N==null?null:N-p;p=N,h&&h({action:f,location:k.location,delta:U})}function S(N,U){f="PUSH";let B=Xp(k.location,N,U);p=v()+1;let z=Nb(B,p),ne=k.createHref(B);try{c.pushState(z,"",ne)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(ne)}o&&h&&h({action:f,location:k.location,delta:1})}function E(N,U){f="REPLACE";let B=Xp(k.location,N,U);p=v();let z=Nb(B,p),ne=k.createHref(B);c.replaceState(z,"",ne),o&&h&&h({action:f,location:k.location,delta:0})}function M(N){return BC(N)}let k={get action(){return f},get location(){return n(a,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Ib,b),h=N,()=>{a.removeEventListener(Ib,b),h=null}},createHref(N){return e(a,N)},createURL:M,encodeLocation(N){let U=M(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:S,replace:E,go(N){return c.go(N)}};return k}function BC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ku(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function HT(n,e,t="/"){return FC(n,e,t,!1)}function FC(n,e,t,r){let a=typeof e=="string"?el(e):e,o=Pr(a.pathname||"/",t);if(o==null)return null;let c=GT(n);qC(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let p=eR(o);f=JC(c[h],p,r)}return f}function GT(n,e=[],t=[],r="",a=!1){let o=(c,f,h=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;mt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=Dr([r,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),GT(c.children,e,S,b,h)),!(c.path==null&&!c.index)&&e.push({path:b,score:XC(b,c.index),routesMeta:S})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of $T(c.path))o(c,f,!0,h)}),e}function $T(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=$T(r.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function qC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var HC=/^:[\w-]+$/,GC=3,$C=2,YC=1,KC=10,QC=-2,Ob=n=>n==="*";function XC(n,e){let t=n.split("/"),r=t.length;return t.some(Ob)&&(r+=QC),e&&(r+=$C),t.filter(a=>!Ob(a)).reduce((a,o)=>a+(HC.test(o)?GC:o===""?YC:KC),r)}function WC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function JC(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let f=0;f<r.length;++f){let h=r[f],p=f===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=dh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),S=h.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=dh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Dr([o,b.pathname]),pathnameBase:sR(Dr([o,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(o=Dr([o,b.pathnameBase]))}return c}function dh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:b},S)=>{if(v==="*"){let M=f[S]||"";c=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const E=f[S];return b&&!E?p[v]=void 0:p[v]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function ZC(n,e=!1,t=!0){oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function eR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var tR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nR=n=>tR.test(n);function iR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?el(n):n,o;if(t)if(nR(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=Db(t.substring(1),"/"):o=Db(t,e)}else o=e;return{pathname:o,search:aR(r),hash:oR(a)}}function Db(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ep(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function YT(n){let e=rR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function KT(n,e,t,r=!1){let a;typeof n=="string"?a=el(n):(a={...n},mt(!a.pathname||!a.pathname.includes("?"),Ep("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Ep("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Ep("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;a.pathname=S.join("/")}f=b>=0?e[b]:"/"}let h=iR(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Dr=n=>n.join("/").replace(/\/\/+/g,"/"),sR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QT=["POST","PUT","PATCH","DELETE"];new Set(QT);var uR=["GET",...QT];new Set(uR);var tl=F.createContext(null);tl.displayName="DataRouter";var Vh=F.createContext(null);Vh.displayName="DataRouterState";F.createContext(!1);var XT=F.createContext({isTransitioning:!1});XT.displayName="ViewTransition";var cR=F.createContext(new Map);cR.displayName="Fetchers";var dR=F.createContext(null);dR.displayName="Await";var ar=F.createContext(null);ar.displayName="Navigation";var Gu=F.createContext(null);Gu.displayName="Location";var or=F.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Vg=F.createContext(null);Vg.displayName="RouteError";function hR(n,{relative:e}={}){mt($u(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(ar),{hash:a,pathname:o,search:c}=Yu(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:Dr([t,o])),r.createHref({pathname:f,search:c,hash:a})}function $u(){return F.useContext(Gu)!=null}function zr(){return mt($u(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Gu).location}var WT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JT(n){F.useContext(ar).static||F.useLayoutEffect(n)}function un(){let{isDataRoute:n}=F.useContext(or);return n?xR():fR()}function fR(){mt($u(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(tl),{basename:e,navigator:t}=F.useContext(ar),{matches:r}=F.useContext(or),{pathname:a}=zr(),o=JSON.stringify(YT(r)),c=F.useRef(!1);return JT(()=>{c.current=!0}),F.useCallback((h,p={})=>{if(oi(c.current,WT),!c.current)return;if(typeof h=="number"){t.go(h);return}let v=KT(h,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Dr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,o,a,n])}F.createContext(null);function Ug(){let{matches:n}=F.useContext(or),e=n[n.length-1];return e?e.params:{}}function Yu(n,{relative:e}={}){let{matches:t}=F.useContext(or),{pathname:r}=zr(),a=JSON.stringify(YT(t));return F.useMemo(()=>KT(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function mR(n,e){return ZT(n,e)}function ZT(n,e,t,r,a){mt($u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(ar),{matches:c}=F.useContext(or),f=c[c.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let B=b&&b.path||"";eE(p,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=zr(),E;if(e){let B=typeof e=="string"?el(e):e;mt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=S;let M=E.pathname||"/",k=M;if(v!=="/"){let B=v.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=HT(n,{pathname:k});oi(b||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),oi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=_R(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Dr([v,o.encodeLocation?o.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Dr([v,o.encodeLocation?o.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,r,a);return e&&U?F.createElement(Gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},U):U}function pR(){let n=SR(),e=lR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var gR=F.createElement(pR,null),yR=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(or.Provider,{value:this.props.routeContext},F.createElement(Vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vR({routeContext:n,match:e,children:t}){let r=F.useContext(tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(or.Provider,{value:n},t)}function _R(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let v=o.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let f=!1,h=-1;if(t)for(let v=0;v<o.length;v++){let b=o[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=v),b.route.id){let{loaderData:S,errors:E}=t,M=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!E||E[b.route.id]===void 0);if(b.route.lazy||M){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let p=t&&r?(v,b)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:b})}:void 0;return o.reduceRight((v,b,S)=>{let E,M=!1,k=null,N=null;t&&(E=c&&b.route.id?c[b.route.id]:void 0,k=b.route.errorElement||gR,f&&(h<0&&S===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,N=null):h===S&&(M=!0,N=b.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,S+1)),B=()=>{let z;return E?z=k:M?z=N:b.route.Component?z=F.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=v,F.createElement(vR,{match:b,routeContext:{outlet:v,matches:U,isDataRoute:t!=null},children:z})};return t&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?F.createElement(yR,{location:t.location,revalidation:t.revalidation,component:k,error:E,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):B()},null)}function zg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bR(n){let e=F.useContext(tl);return mt(e,zg(n)),e}function wR(n){let e=F.useContext(Vh);return mt(e,zg(n)),e}function TR(n){let e=F.useContext(or);return mt(e,zg(n)),e}function Bg(n){let e=TR(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ER(){return Bg("useRouteId")}function SR(){let n=F.useContext(Vg),e=wR("useRouteError"),t=Bg("useRouteError");return n!==void 0?n:e.errors?.[t]}function xR(){let{router:n}=bR("useNavigate"),e=Bg("useNavigate"),t=F.useRef(!1);return JT(()=>{t.current=!0}),F.useCallback(async(a,o={})=>{oi(t.current,WT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Mb={};function eE(n,e,t){!e&&!Mb[n]&&(Mb[n]=!0,oi(!1,t))}F.memo(AR);function AR({routes:n,future:e,state:t,unstable_onError:r}){return ZT(n,void 0,t,r,e)}function xn(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){mt(!$u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=el(t));let{pathname:h="/",search:p="",hash:v="",state:b=null,key:S="default"}=t,E=F.useMemo(()=>{let M=Pr(h,c);return M==null?null:{location:{pathname:M,search:p,hash:v,state:b,key:S},navigationType:r}},[c,h,p,v,b,S,r]);return oi(E!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:F.createElement(ar.Provider,{value:f},F.createElement(Gu.Provider,{children:e,value:E}))}function RR({children:n,location:e}){return mR(Wp(n),e)}function Wp(n,e=[]){let t=[];return F.Children.forEach(n,(r,a)=>{if(!F.isValidElement(r))return;let o=[...e,a];if(r.type===F.Fragment){t.push.apply(t,Wp(r.props.children,o));return}mt(r.type===xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Wp(r.props.children,o)),t.push(c)}),t}var Qd="get",Xd="application/x-www-form-urlencoded";function Uh(n){return n!=null&&typeof n.tagName=="string"}function IR(n){return Uh(n)&&n.tagName.toLowerCase()==="button"}function NR(n){return Uh(n)&&n.tagName.toLowerCase()==="form"}function OR(n){return Uh(n)&&n.tagName.toLowerCase()==="input"}function DR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MR(n,e){return n.button===0&&(!e||e==="_self")&&!DR(n)}function Jp(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function kR(n,e){let t=Jp(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Vd=null;function PR(){if(Vd===null)try{new FormData(document.createElement("form"),0),Vd=!1}catch{Vd=!0}return Vd}var LR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(n){return n!=null&&!LR.has(n)?(oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xd}"`),null):n}function jR(n,e){let t,r,a,o,c;if(NR(n)){let f=n.getAttribute("action");r=f?Pr(f,e):null,t=n.getAttribute("method")||Qd,a=Sp(n.getAttribute("enctype"))||Xd,o=new FormData(n)}else if(IR(n)||OR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Pr(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Qd,a=Sp(n.getAttribute("formenctype"))||Sp(f.getAttribute("enctype"))||Xd,o=new FormData(f,n),!PR()){let{name:p,type:v,value:b}=n;if(v==="image"){let S=p?`${p}.`:"";o.append(`${S}x`,"0"),o.append(`${S}y`,"0")}else p&&o.append(p,b)}}else{if(Uh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qd,r=null,a=Xd,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function VR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Pr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function UR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BR(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await UR(o,t);return c.links?c.links():[]}return[]}));return GR(r.flat(1).filter(zR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function kb(n,e,t,r,a,o){let c=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,p)=>c(h,p)||f(h,p)):o==="data"?e.filter((h,p)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function FR(n,e,{includeHydrateFallback:t}={}){return qR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function qR(n){return[...new Set(n)]}function HR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function GR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(HR(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function tE(){let n=F.useContext(tl);return Fg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $R(){let n=F.useContext(Vh);return Fg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qg=F.createContext(void 0);qg.displayName="FrameworkContext";function nE(){let n=F.useContext(qg);return Fg(n,"You must render this element inside a <HydratedRouter> element"),n}function YR(n,e){let t=F.useContext(qg),[r,a]=F.useState(!1),[o,c]=F.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,S=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=U=>{U.forEach(B=>{c(B.isIntersecting)})},N=new IntersectionObserver(k,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[n]),F.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let E=()=>{a(!0)},M=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,S,{}]:[o,S,{onFocus:yu(f,E),onBlur:yu(h,M),onMouseEnter:yu(p,E),onMouseLeave:yu(v,M),onTouchStart:yu(b,E)}]:[!1,S,{}]}function yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KR({page:n,...e}){let{router:t}=tE(),r=F.useMemo(()=>HT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(XR,{page:n,matches:r,...e}):null}function QR(n){let{manifest:e,routeModules:t}=nE(),[r,a]=F.useState([]);return F.useEffect(()=>{let o=!1;return BR(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function XR({page:n,matches:e,...t}){let r=zr(),{manifest:a,routeModules:o}=nE(),{basename:c}=tE(),{loaderData:f,matches:h}=$R(),p=F.useMemo(()=>kb(n,e,h,a,r,"data"),[n,e,h,a,r]),v=F.useMemo(()=>kb(n,e,h,a,r,"assets"),[n,e,h,a,r]),b=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,k=!1;if(e.forEach(U=>{let B=a.routes[U.route.id];!B||!B.hasLoader||(!p.some(z=>z.route.id===U.route.id)&&U.route.id in f&&o[U.route.id]?.shouldRevalidate||B.hasClientLoader?k=!0:M.add(U.route.id))}),M.size===0)return[];let N=VR(n,c,"data");return k&&M.size>0&&N.searchParams.set("_routes",e.filter(U=>M.has(U.route.id)).map(U=>U.route.id).join(",")),[N.pathname+N.search]},[c,f,r,a,p,e,n,o]),S=F.useMemo(()=>FR(v,a),[v,a]),E=QR(v);return F.createElement(F.Fragment,null,b.map(M=>F.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),S.map(M=>F.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),E.map(({key:M,link:k})=>F.createElement("link",{key:M,nonce:t.nonce,...k})))}function WR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iE&&(window.__reactRouterVersion="7.9.6")}catch{}function JR({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=VC({window:t,v5Compat:!0}));let a=r.current,[o,c]=F.useState({action:a.action,location:a.location}),f=F.useCallback(h=>{F.startTransition(()=>c(h))},[c]);return F.useLayoutEffect(()=>a.listen(f),[a,f]),F.createElement(CR,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:f,target:h,to:p,preventScrollReset:v,viewTransition:b,...S},E){let{basename:M}=F.useContext(ar),k=typeof p=="string"&&rE.test(p),N,U=!1;if(typeof p=="string"&&k&&(N=p,iE))try{let D=new URL(window.location.href),I=p.startsWith("//")?new URL(D.protocol+p):new URL(p),C=Pr(I.pathname,M);I.origin===D.origin&&C!=null?p=C+I.search+I.hash:U=!0}catch{oi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=hR(p,{relative:a}),[z,ne,ee]=YR(r,S),ie=nI(p,{replace:c,state:f,target:h,preventScrollReset:v,relative:a,viewTransition:b});function O(D){e&&e(D),D.defaultPrevented||ie(D)}let x=F.createElement("a",{...S,...ee,href:N||B,onClick:U||o?e:O,ref:WR(E,ne),target:h,"data-discover":!k&&t==="render"?"true":void 0});return z&&!k?F.createElement(F.Fragment,null,x,F.createElement(KR,{page:B})):x});bt.displayName="Link";var ZR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:f,children:h,...p},v){let b=Yu(c,{relative:p.relative}),S=zr(),E=F.useContext(Vh),{navigator:M,basename:k}=F.useContext(ar),N=E!=null&&lI(b)&&f===!0,U=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,B=S.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(B=B.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&k&&(z=Pr(z,k)||z);const ne=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ee=B===U||!a&&B.startsWith(U)&&B.charAt(ne)==="/",ie=z!=null&&(z===U||!a&&z.startsWith(U)&&z.charAt(U.length)==="/"),O={isActive:ee,isPending:ie,isTransitioning:N},x=ee?e:void 0,D;typeof r=="function"?D=r(O):D=[r,ee?"active":null,ie?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(O):o;return F.createElement(bt,{...p,"aria-current":x,className:D,ref:v,style:I,to:c,viewTransition:f},typeof h=="function"?h(O):h)});ZR.displayName="NavLink";var eI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=Qd,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:b,...S},E)=>{let M=aI(),k=oI(f,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&rE.test(f),B=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let ne=z.nativeEvent.submitter,ee=ne?.getAttribute("formmethod")||c;M(ne||z.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:o,relative:p,preventScrollReset:v,viewTransition:b})};return F.createElement("form",{ref:E,method:N,action:k,onSubmit:r?h:B,...S,"data-discover":!U&&n==="render"?"true":void 0})});eI.displayName="Form";function tI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sE(n){let e=F.useContext(tl);return mt(e,tI(n)),e}function nI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let f=un(),h=zr(),p=Yu(n,{relative:o});return F.useCallback(v=>{if(MR(v,e)){v.preventDefault();let b=t!==void 0?t:ku(h)===ku(p);f(n,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[h,f,p,t,r,e,n,a,o,c])}function iI(n){oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(Jp(n)),t=F.useRef(!1),r=zr(),a=F.useMemo(()=>kR(r.search,t.current?null:e.current),[r.search]),o=un(),c=F.useCallback((f,h)=>{const p=Jp(typeof f=="function"?f(new URLSearchParams(a)):f);t.current=!0,o("?"+p,h)},[o,a]);return[a,c]}var rI=0,sI=()=>`__${String(++rI)}__`;function aI(){let{router:n}=sE("useSubmit"),{basename:e}=F.useContext(ar),t=ER();return F.useCallback(async(r,a={})=>{let{action:o,method:c,encType:f,formData:h,body:p}=jR(r,e);if(a.navigate===!1){let v=a.fetcherKey||sI();await n.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function oI(n,{relative:e}={}){let{basename:t}=F.useContext(ar),r=F.useContext(or);mt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Yu(n||".",{relative:e})},c=zr();if(n==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Dr([t,o.pathname])),ku(o)}function lI(n,{relative:e}={}){let t=F.useContext(XT);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sE("useViewTransitionState"),a=Yu(n,{relative:e});if(!t.isTransitioning)return!1;let o=Pr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Pr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return dh(a.pathname,c)!=null||dh(a.pathname,o)!=null}var aE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pb=Ke.createContext&&Ke.createContext(aE),uI=["attr","size","title"];function cI(n,e){if(n==null)return{};var t=dI(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function dI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function hh(){return hh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},hh.apply(this,arguments)}function Lb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function fh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(t),!0).forEach(function(r){hI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hI(n,e,t){return e=fI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fI(n){var e=mI(n,"string");return typeof e=="symbol"?e:e+""}function mI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oE(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,fh({key:t},e.attr),oE(e.child)))}function dt(n){return e=>Ke.createElement(pI,hh({attr:fh({},n.attr)},e),oE(n.child))}function pI(n){var e=t=>{var{attr:r,size:a,title:o}=n,c=cI(n,uI),f=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ke.createElement("svg",hh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:h,style:fh(fh({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return Pb!==void 0?Ke.createElement(Pb.Consumer,null,t=>e(t)):e(aE)}function lE(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function gI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(n)}function yI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(n)}function vI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(n)}function _I(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(n)}function bI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function wI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(n)}function uE(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function TI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function EI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function zh(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(n)}function SI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function xI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(n)}function AI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function CI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(n)}function cE(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function Zp(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function RI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(n)}function II(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(n)}function Ra(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(n)}function Wd(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function dE(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function NI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function OI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function $o(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}const jb=n=>{let e;const t=new Set,r=(p,v)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const S=e;e=v??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(E=>E(e,S))}},a=()=>e,f={setState:r,getState:a,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=n(r,a,f);return f},DI=(n=>n?jb(n):jb),MI=n=>n;function kI(n,e=MI){const t=Ke.useSyncExternalStore(n.subscribe,Ke.useCallback(()=>e(n.getState()),[n,e]),Ke.useCallback(()=>e(n.getInitialState()),[n,e]));return Ke.useDebugValue(t),t}const Vb=n=>{const e=DI(n),t=r=>kI(e,r);return Object.assign(t,e),t},Ku=(n=>n?Vb(n):Vb),Br=Ku((n,e)=>({items:[],addItem:t=>{const r=e().items.slice(),a=r.findIndex(o=>o.id===t.id);a>-1?r[a].qty=(r[a].qty||1)+(t.qty||1):r.push({...t,qty:t.qty||1}),n({items:r})},removeItem:t=>n(r=>({items:r.items.filter(a=>a.id!==t)})),updateQty:(t,r)=>n(a=>({items:a.items.map(o=>o.id===t?{...o,qty:r}:o)})),clear:()=>n({items:[]}),get totalCount(){return e().items.reduce((t,r)=>t+(r.qty||0),0)}})),PI=()=>{};var Ub={};const hE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},LI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],f=n[t++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,f=c?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,v=o>>2,b=(o&3)<<4|f>>4;let S=(f&15)<<2|p>>6,E=p&63;h||(E=64,c||(S=64)),r.push(t[v],t[b],t[S],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):LI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||f==null||p==null||b==null)throw new jI;const S=o<<2|f>>4;if(r.push(S),p!==64){const E=f<<4&240|p>>2;if(r.push(E),b!==64){const M=p<<6&192|b;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(n){const e=hE(n);return fE.encodeByteArray(e,!0)},mh=function(n){return VI(n).replace(/\./g,"")},mE=function(n){try{return fE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zI=()=>UI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof Ub>"u")return;const n=Ub.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mE(n[1]);return e&&JSON.parse(e)},Bh=()=>{try{return PI()||zI()||BI()||FI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pE=n=>Bh()?.emulatorHosts?.[n],gE=n=>{const e=pE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yE=()=>Bh()?.config,vE=n=>Bh()?.[`_${n}`];class qI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Bs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hg(n){return(await fetch(n,{credentials:"include"})).ok}function _E(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[mh(JSON.stringify(t)),mh(JSON.stringify(c)),""].join(".")}const xu={};function HI(){const n={prod:[],emulator:[]};for(const e of Object.keys(xu))xu[e]?n.emulator.push(e):n.prod.push(e);return n}function GI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let zb=!1;function Gg(n,e){if(typeof window>"u"||typeof document>"u"||!Bs(window.location.host)||xu[n]===e||xu[n]||zb)return;xu[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",o=HI().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function h(S,E){S.setAttribute("width","24"),S.setAttribute("id",E),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{zb=!0,c()},S}function v(S,E){S.setAttribute("id",E),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=GI(r),E=t("text"),M=document.getElementById(E)||document.createElement("span"),k=t("learnmore"),N=document.getElementById(k)||document.createElement("a"),U=t("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const z=S.element;f(z),v(N,k);const ne=p();h(B,U),z.append(B,M,N,ne),document.body.appendChild(z)}o?(M.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function YI(){const n=Bh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WI(){return!YI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wE(){try{return typeof indexedDB=="object"}catch{return!1}}function TE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function JI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ZI="FirebaseError";class ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZI,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?e2(o,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ci(a,f,r)}}function e2(n,e){return n.replace(t2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const t2=/\{\$([^}]+)}/g;function n2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ia(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(Bb(o)&&Bb(c)){if(!Ia(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Bb(n){return n!==null&&typeof n=="object"}function Qu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function bu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function i2(n,e){const t=new r2(n,e);return t.subscribe.bind(t)}class r2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");s2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=xp),a.error===void 0&&(a.error=xp),a.complete===void 0&&(a.complete=xp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xp(){}const a2=1e3,o2=2,l2=14400*1e3,u2=.5;function Fb(n,e=a2,t=o2){const r=e*Math.pow(t,n),a=Math.round(u2*r*(Math.random()-.5)*2);return Math.min(l2,r+a)}function st(n){return n&&n._delegate?n._delegate:n}class li{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ta="[DEFAULT]";class c2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h2(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d2(n){return n===Ta?void 0:n}function h2(n){return n.instantiationMode==="EAGER"}class f2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new c2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const m2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},p2=Ve.INFO,g2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},y2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=g2[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=p2,this._logHandler=y2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const v2=(n,e)=>e.some(t=>n instanceof t);let qb,Hb;function _2(){return qb||(qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return Hb||(Hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,eg=new WeakMap,SE=new WeakMap,Ap=new WeakMap,$g=new WeakMap;function w2(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Rs(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&EE.set(t,n)}).catch(()=>{}),$g.set(e,n),e}function T2(n){if(eg.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});eg.set(n,e)}let tg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||SE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function E2(n){tg=n(tg)}function S2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cp(this),e,...t);return SE.set(r,e.sort?e.sort():[e]),Rs(r)}:b2().includes(n)?function(...e){return n.apply(Cp(this),e),Rs(EE.get(this))}:function(...e){return Rs(n.apply(Cp(this),e))}}function x2(n){return typeof n=="function"?S2(n):(n instanceof IDBTransaction&&T2(n),v2(n,_2())?new Proxy(n,tg):n)}function Rs(n){if(n instanceof IDBRequest)return w2(n);if(Ap.has(n))return Ap.get(n);const e=x2(n);return e!==n&&(Ap.set(n,e),$g.set(e,n)),e}const Cp=n=>$g.get(n);function xE(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),f=Rs(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Rs(c.result),h.oldVersion,h.newVersion,Rs(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const A2=["get","getKey","getAll","getAllKeys","count"],C2=["put","add","delete","clear"],Rp=new Map;function Gb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=C2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||A2.includes(t)))return;const o=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&h.done]))[0]};return Rp.set(e,o),o}E2(n=>({...n,get:(e,t,r)=>Gb(e,t)||n.get(e,t,r),has:(e,t)=>!!Gb(e,t)||n.has(e,t)}));class R2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function I2(n){return n.getComponent()?.type==="VERSION"}const ng="@firebase/app",$b="0.14.6";const Lr=new Fh("@firebase/app"),N2="@firebase/app-compat",O2="@firebase/analytics-compat",D2="@firebase/analytics",M2="@firebase/app-check-compat",k2="@firebase/app-check",P2="@firebase/auth",L2="@firebase/auth-compat",j2="@firebase/database",V2="@firebase/data-connect",U2="@firebase/database-compat",z2="@firebase/functions",B2="@firebase/functions-compat",F2="@firebase/installations",q2="@firebase/installations-compat",H2="@firebase/messaging",G2="@firebase/messaging-compat",$2="@firebase/performance",Y2="@firebase/performance-compat",K2="@firebase/remote-config",Q2="@firebase/remote-config-compat",X2="@firebase/storage",W2="@firebase/storage-compat",J2="@firebase/firestore",Z2="@firebase/ai",eN="@firebase/firestore-compat",tN="firebase",nN="12.6.0";const ig="[DEFAULT]",iN={[ng]:"fire-core",[N2]:"fire-core-compat",[D2]:"fire-analytics",[O2]:"fire-analytics-compat",[k2]:"fire-app-check",[M2]:"fire-app-check-compat",[P2]:"fire-auth",[L2]:"fire-auth-compat",[j2]:"fire-rtdb",[V2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[z2]:"fire-fn",[B2]:"fire-fn-compat",[F2]:"fire-iid",[q2]:"fire-iid-compat",[H2]:"fire-fcm",[G2]:"fire-fcm-compat",[$2]:"fire-perf",[Y2]:"fire-perf-compat",[K2]:"fire-rc",[Q2]:"fire-rc-compat",[X2]:"fire-gcs",[W2]:"fire-gcs-compat",[J2]:"fire-fst",[eN]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};const ph=new Map,rN=new Map,rg=new Map;function Yb(n,e){try{n.container.addComponent(e)}catch(t){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ai(n){const e=n.name;if(rg.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,n);for(const t of ph.values())Yb(t,n);for(const t of rN.values())Yb(t,n);return!0}function nl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rn(n){return n==null?!1:n.settings!==void 0}const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Va("app","Firebase",sN);class aN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}const Ua=nN;function AE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ig,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(t||(t=yE()),!t)throw Is.create("no-options");const o=ph.get(a);if(o){if(Ia(t,o.options)&&Ia(r,o.config))return o;throw Is.create("duplicate-app",{appName:a})}const c=new f2(a);for(const h of rg.values())c.addComponent(h);const f=new aN(t,r,c);return ph.set(a,f),f}function Yg(n=ig){const e=ph.get(n);if(!e&&n===ig&&yE())return AE();if(!e)throw Is.create("no-app",{appName:n});return e}function Nn(n,e,t){let r=iN[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(c.join(" "));return}Ai(new li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const oN="firebase-heartbeat-database",lN=1,Pu="firebase-heartbeat-store";let Ip=null;function CE(){return Ip||(Ip=xE(oN,lN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),Ip}async function uN(n){try{const t=(await CE()).transaction(Pu),r=await t.objectStore(Pu).get(RE(n));return await t.done,r}catch(e){if(e instanceof ci)Lr.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(t.message)}}}async function Kb(n,e){try{const r=(await CE()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,RE(n)),await r.done}catch(t){if(t instanceof ci)Lr.warn(t.message);else{const r=Is.create("idb-set",{originalErrorMessage:t?.message});Lr.warn(r.message)}}}function RE(n){return`${n.name}!${n.options.appId}`}const cN=1024,dN=30;class hN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>dN){const a=pN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qb(),{heartbeatsToSend:t,unsentEntries:r}=fN(this._heartbeatsCache.heartbeats),a=mh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Lr.warn(e),""}}}function Qb(){return new Date().toISOString().substring(0,10)}function fN(n,e=cN){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Xb(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Xb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wE()?TE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Xb(n){return mh(JSON.stringify({version:2,heartbeats:n})).length}function pN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function gN(n){Ai(new li("platform-logger",e=>new R2(e),"PRIVATE")),Ai(new li("heartbeat",e=>new hN(e),"PRIVATE")),Nn(ng,$b,n),Nn(ng,$b,"esm2020"),Nn("fire-js","")}gN("");function IE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yN=IE,NE=new Va("auth","Firebase",IE());const gh=new Fh("@firebase/auth");function vN(n,...e){gh.logLevel<=Ve.WARN&&gh.warn(`Auth (${Ua}): ${n}`,...e)}function Jd(n,...e){gh.logLevel<=Ve.ERROR&&gh.error(`Auth (${Ua}): ${n}`,...e)}function ui(n,...e){throw Qg(n,...e)}function xi(n,...e){return Qg(n,...e)}function Kg(n,e,t){const r={...yN(),[e]:t};return new Va("auth","Firebase",r).create(e,{appName:n.name})}function Mr(n){return Kg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _N(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(n,"argument-error"),Kg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NE.create(n,...e)}function Se(n,e,...t){if(!n)throw Qg(e,...t)}function Ir(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jd(e),new Error(e)}function jr(n,e){n||Ir(e)}function sg(){return typeof self<"u"&&self.location?.href||""}function bN(){return Wb()==="http:"||Wb()==="https:"}function Wb(){return typeof self<"u"&&self.location?.protocol||null}function wN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bN()||bE()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Xu{constructor(e,t){this.shortDelay=e,this.longDelay=t,jr(t>e,"Short delay should be less than long delay!"),this.isMobile=$I()||QI()}get(){return wN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xg(n,e){jr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class OE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xN=new Xu(3e4,6e4);function Fs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Fr(n,e,t,r,a={}){return DE(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const f=Qu({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...o};return KI()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Bs(n.emulatorConfig.host)&&(p.credentials="include"),OE.fetch()(await ME(n,n.config.apiHost,t,f),p)})}async function DE(n,e,t){n._canInitEmulator=!1;const r={...EN,...e};try{const a=new CN(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Ud(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const f=o.ok?c.errorMessage:c.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Ud(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Ud(n,"user-disabled",c);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Kg(n,v,p);ui(n,v)}}catch(a){if(a instanceof ci)throw a;ui(n,"network-request-failed",{message:String(a)})}}async function Wu(n,e,t,r,a={}){const o=await Fr(n,e,t,r,a);return"mfaPendingCredential"in o&&ui(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function ME(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?Xg(n.config,a):`${n.config.apiScheme}://${a}`;return SN.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function AN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),xN.get())})}}function Ud(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=xi(n,e,r);return a.customData._tokenResponse=t,a}function Jb(n){return n!==void 0&&n.enterprise!==void 0}class RN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IN(n,e){return Fr(n,"GET","/v2/recaptchaConfig",Fs(n,e))}async function NN(n,e){return Fr(n,"POST","/v1/accounts:delete",e)}async function yh(n,e){return Fr(n,"POST","/v1/accounts:lookup",e)}function Au(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ON(n,e=!1){const t=st(n),r=await t.getIdToken(e),a=Wg(r);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Au(Np(a.auth_time)),issuedAtTime:Au(Np(a.iat)),expirationTime:Au(Np(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Np(n){return Number(n)*1e3}function Wg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const a=mE(t);return a?JSON.parse(a):(Jd("Failed to decode base64 JWT payload"),null)}catch(a){return Jd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Zb(n){const e=Wg(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Yo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ci&&DN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function DN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ag{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(n){const e=n.auth,t=await n.getIdToken(),r=await Yo(n,yh(e,{idToken:t}));Se(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?kE(a.providerUserInfo):[],c=PN(n.providerData,o),f=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,p=f?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ag(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function kN(n){const e=st(n);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PN(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function kE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function LN(n,e){const t=await DE(n,{},async()=>{const r=Qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await ME(n,a,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return n.emulatorConfig&&Bs(n.emulatorConfig.host)&&(h.credentials="include"),OE.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jN(n,e){return Fr(n,"POST","/v2/accounts:revokeToken",Fs(n,e))}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Zb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await LN(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new Uo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Se(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function Ts(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ag(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Yo(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ON(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await Yo(this,NN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:E,providerData:M,stsTokenManager:k}=t;Se(b&&k,e,"internal-error");const N=Uo.fromJSON(this.name,k);Se(typeof b=="string",e,"internal-error"),Ts(r,e.name),Ts(a,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof E=="boolean",e,"internal-error"),Ts(o,e.name),Ts(c,e.name),Ts(f,e.name),Ts(h,e.name),Ts(p,e.name),Ts(v,e.name);const U=new Si({uid:b,auth:e,email:a,emailVerified:S,displayName:r,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:f,stsTokenManager:N,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(U.providerData=M.map(B=>({...B}))),h&&(U._redirectEventId=h),U}static async _fromIdTokenResponse(e,t,r=!1){const a=new Uo;a.updateFromServerResponse(t);const o=new Si({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await vh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?kE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,f=new Uo;f.updateFromIdToken(r);const h=new Si({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ag(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(h,p),h}}const ew=new Map;function Nr(n){jr(n instanceof Function,"Expected a class definition");let e=ew.get(n);return e?(jr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ew.set(n,e),e)}class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PE.type="NONE";const tw=PE;function Zd(n,e,t){return`firebase:${n}:${e}:${t}`}class zo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Zd(this.userKey,a.apiKey,o),this.fullPersistenceKey=Zd("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yh(this.auth,{idToken:e}).catch(()=>{});return t?Si._fromGetAccountInfoResponse(this.auth,t,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zo(Nr(tw),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Nr(tw);const c=Zd(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const S=await yh(e,{idToken:v}).catch(()=>{});if(!S)break;b=await Si._fromGetAccountInfoResponse(e,S,v)}else b=Si._fromJSON(e,v);p!==o&&(f=b),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new zo(o,e,r):(o=h[0],f&&await o._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new zo(o,e,r))}}function nw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BE(e))return"Blackberry";if(FE(e))return"Webos";if(jE(e))return"Safari";if((e.includes("chrome/")||VE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function LE(n=ln()){return/firefox\//i.test(n)}function jE(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VE(n=ln()){return/crios\//i.test(n)}function UE(n=ln()){return/iemobile/i.test(n)}function zE(n=ln()){return/android/i.test(n)}function BE(n=ln()){return/blackberry/i.test(n)}function FE(n=ln()){return/webos/i.test(n)}function Jg(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VN(n=ln()){return Jg(n)&&!!window.navigator?.standalone}function UN(){return XI()&&document.documentMode===10}function qE(n=ln()){return Jg(n)||zE(n)||FE(n)||BE(n)||/windows phone/i.test(n)||UE(n)}function HE(n,e=[]){let t;switch(n){case"Browser":t=nw(ln());break;case"Worker":t=`${nw(ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ua}/${r}`}class zN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,f)=>{try{const h=e(o);c(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function BN(n,e={}){return Fr(n,"GET","/v2/passwordPolicy",Fs(n,e))}const FN=6;class qN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class HN{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iw(this),this.idTokenSubscription=new iw(this),this.beforeStateQueue=new zN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yh(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!o||o===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Mr(this));const t=e?st(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BN(this),t=new qN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Va("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qs(n){return st(n)}class iw{constructor(e){this.auth=e,this.observer=null,this.addObserver=i2(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GN(n){qh=n}function GE(n){return qh.loadJS(n)}function $N(){return qh.recaptchaEnterpriseScript}function YN(){return qh.gapiScript}function KN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class QN{constructor(){this.enterprise=new XN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WN="recaptcha-enterprise",$E="NO_RECAPTCHA";class JN{constructor(e){this.type=WN,this.auth=qs(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,f)=>{IN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new RN(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(h=>{f(h)})})}function a(o,c,f){const h=window.grecaptcha;Jb(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c($E)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QN().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(f=>{if(!t&&Jb(window.grecaptcha))a(f,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=$N();h.length!==0&&(h+=f),GE(h).then(()=>{a(f,o,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function rw(n,e,t,r=!1,a=!1){const o=new JN(n);let c;if(a)c=$E;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function og(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await rw(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await rw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function ZN(n,e){const t=nl(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ia(o,e??{}))return a;ui(a,"already-initialized")}return t.initialize({options:e})}function eO(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Nr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function tO(n,e,t){const r=qs(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=YE(e),{host:c,port:f}=nO(e),h=f===null?"":`:${f}`,p={url:`${o}//${c}${h}/`},v=Object.freeze({host:c,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Ia(p,r.config.emulator)&&Ia(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Bs(c)?(Hg(`${o}//${c}${h}`),Gg("Auth",!0)):iO()}function YE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nO(n){const e=YE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:sw(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:sw(c)}}}function sw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function rO(n,e){return Fr(n,"POST","/v1/accounts:signUp",e)}async function sO(n,e){return Wu(n,"POST","/v1/accounts:signInWithPassword",Fs(n,e))}async function aO(n,e){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}async function oO(n,e){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Fs(n,e))}class Lu extends Zg{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Lu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Lu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,t,"signInWithPassword",sO);case"emailLink":return aO(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,r,"signUpPassword",rO);case"emailLink":return oO(e,{idToken:t,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bo(n,e){return Wu(n,"POST","/v1/accounts:signInWithIdp",Fs(n,e))}const lO="http://localhost";class Na extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const c=new Na(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Bo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:lO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qu(t)}return e}}function uO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cO(n){const e=_u(bu(n)).link,t=e?_u(bu(e)).deep_link_id:null,r=_u(bu(n)).deep_link_id;return(r?_u(bu(r)).link:null)||r||t||e||n}class ey{constructor(e){const t=_u(bu(e)),r=t.apiKey??null,a=t.oobCode??null,o=uO(t.mode??null);Se(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=cO(e);try{return new ey(t)}catch{return null}}}class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,t){return Lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ey.parseLink(t);return Se(r,"argument-error"),Lu._fromEmailAndCode(e,r.code,r.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ty{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ju extends ty{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rr extends Ju{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";class Wi extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Wi.credential(t,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";class Es extends Ju{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";class Ss extends Ju{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ss.credential(t,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";async function dO(n,e){return Wu(n,"POST","/v1/accounts:signUp",Fs(n,e))}class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Si._fromIdTokenResponse(e,r,a),c=aw(r);return new Oa({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=aw(r);return new Oa({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function aw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class _h extends ci{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new _h(e,t,r,a)}}function KE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(n,o,e,r):o})}async function hO(n,e,t=!1){const r=await Yo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Oa._forOperation(n,"link",r)}async function fO(n,e,t=!1){const{auth:r}=n;if(Rn(r.app))return Promise.reject(Mr(r));const a="reauthenticate";try{const o=await Yo(n,KE(r,a,e,n),t);Se(o.idToken,r,"internal-error");const c=Wg(o.idToken);Se(c,r,"internal-error");const{sub:f}=c;return Se(n.uid===f,r,"user-mismatch"),Oa._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&ui(r,"user-mismatch"),o}}async function QE(n,e,t=!1){if(Rn(n.app))return Promise.reject(Mr(n));const r="signIn",a=await KE(n,r,e),o=await Oa._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function mO(n,e){return QE(qs(n),e)}async function XE(n){const e=qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pO(n,e,t){if(Rn(n.app))return Promise.reject(Mr(n));const r=qs(n),c=await og(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&XE(n),h}),f=await Oa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function gO(n,e,t){return Rn(n.app)?Promise.reject(Mr(n)):mO(st(n),il.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XE(n),r})}async function yO(n,e){return Fr(n,"POST","/v1/accounts:update",e)}async function WE(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=st(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Yo(r,yO(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:h})=>h==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function vO(n,e,t,r){return st(n).onIdTokenChanged(e,t,r)}function _O(n,e,t){return st(n).beforeAuthStateChanged(e,t)}function bO(n,e,t,r){return st(n).onAuthStateChanged(e,t,r)}function wO(n){return st(n).signOut()}const bh="__sak";class JE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TO=1e3,EO=10;class ZE extends JE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);UN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,EO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const SO=ZE;class eS extends JE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eS.type="SESSION";const tS=eS;function xO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,o)),h=await xO(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function ny(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class AO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((f,h)=>{const p=ny("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(b){const S=b;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(S.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Zi(){return window}function CO(n){Zi().location.href=n}function nS(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function RO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IO(){return navigator?.serviceWorker?.controller||null}function NO(){return nS()?self:null}const iS="firebaseLocalStorageDb",OO=1,wh="firebaseLocalStorage",rS="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gh(n,e){return n.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function DO(){const n=indexedDB.deleteDatabase(iS);return new Zu(n).toPromise()}function lg(){const n=indexedDB.open(iS,OO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(wh,{keyPath:rS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await DO(),e(await lg()))})})}async function ow(n,e,t){const r=Gh(n,!0).put({[rS]:e,value:t});return new Zu(r).toPromise()}async function MO(n,e){const t=Gh(n,!1).get(e),r=await new Zu(t).toPromise();return r===void 0?null:r.value}function lw(n,e){const t=Gh(n,!0).delete(e);return new Zu(t).toPromise()}const kO=800,PO=3;class sS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>PO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(NO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RO(),!this.activeServiceWorker)return;this.sender=new AO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await ow(e,bh,"1"),await lw(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ow(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>MO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Gh(a,!1).getAll();return new Zu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sS.type="LOCAL";const LO=sS;new Xu(3e4,6e4);function aS(n,e){return e?Nr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class iy extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jO(n){return QE(n.auth,new iy(n),n.bypassAuthState)}function VO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),fO(t,new iy(n),n.bypassAuthState)}async function UO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),hO(t,new iy(n),n.bypassAuthState)}class oS{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jO;case"linkViaPopup":case"linkViaRedirect":return UO;case"reauthViaPopup":case"reauthViaRedirect":return VO;default:ui(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zO=new Xu(2e3,1e4);async function lS(n,e,t){if(Rn(n.app))return Promise.reject(xi(n,"operation-not-supported-in-this-environment"));const r=qs(n);_N(n,e,ty);const a=aS(r,t);return new Ea(r,"signInViaPopup",e,a).executeNotNull()}class Ea extends oS{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zO.get())};e()}}Ea.currentPopupAction=null;const BO="pendingRedirect",eh=new Map;class FO extends oS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await qO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qO(n,e){const t=$O(e),r=GO(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function HO(n,e){eh.set(n._key(),e)}function GO(n){return Nr(n._redirectPersistence)}function $O(n){return Zd(BO,n.config.apiKey,n.name)}async function YO(n,e,t=!1){if(Rn(n.app))return Promise.reject(Mr(n));const r=qs(n),a=aS(r,e),c=await new FO(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const KO=600*1e3;class QO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!uS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KO&&this.cachedEventUids.clear(),this.cachedEventUids.has(uw(e))}saveEventToCache(e){this.cachedEventUids.add(uw(e)),this.lastProcessedEventTime=Date.now()}}function uw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function XO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uS(n);default:return!1}}async function WO(n,e={}){return Fr(n,"GET","/v1/projects",e)}const JO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZO=/^https?/;async function eD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await WO(n);for(const t of e)try{if(tD(t))return}catch{}ui(n,"unauthorized-domain")}function tD(n){const e=sg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!ZO.test(t))return!1;if(JO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const nD=new Xu(3e4,6e4);function cw(){const n=Zi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iD(n){return new Promise((e,t)=>{function r(){cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cw(),t(xi(n,"network-request-failed"))},timeout:nD.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)r();else{const a=KN("iframefcb");return Zi()[a]=()=>{gapi.load?r():t(xi(n,"network-request-failed"))},GE(`${YN()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw th=null,e})}let th=null;function rD(n){return th=th||iD(n),th}const sD=new Xu(5e3,15e3),aD="__/auth/iframe",oD="emulator/auth/iframe",lD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cD(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Xg(e,oD):`https://${n.config.authDomain}/${aD}`,r={apiKey:e.apiKey,appName:n.name,v:Ua},a=uD.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Qu(r).slice(1)}`}async function dD(n){const e=await rD(n),t=Zi().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:cD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lD,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=xi(n,"network-request-failed"),f=Zi().setTimeout(()=>{o(c)},sD.get());function h(){Zi().clearTimeout(f),a(r)}r.ping(h).then(h,()=>{o(c)})}))}const hD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fD=500,mD=600,pD="_blank",gD="http://localhost";class dw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yD(n,e,t,r=fD,a=mD){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h={...hD,width:r.toString(),height:a.toString(),top:o,left:c},p=ln().toLowerCase();t&&(f=VE(p)?pD:t),LE(p)&&(e=e||gD,h.scrollbars="yes");const v=Object.entries(h).reduce((S,[E,M])=>`${S}${E}=${M},`,"");if(VN(p)&&f!=="_self")return vD(e||"",f),new dw(null);const b=window.open(e||"",f,v);Se(b,n,"popup-blocked");try{b.focus()}catch{}return new dw(b)}function vD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const _D="__/auth/handler",bD="emulator/auth/handler",wD=encodeURIComponent("fac");async function hw(n,e,t,r,a,o){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ua,eventId:a};if(e instanceof ty){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",n2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Ju){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),p=h?`#${wD}=${encodeURIComponent(h)}`:"";return`${TD(n)}?${Qu(f).slice(1)}${p}`}function TD({config:n}){return n.emulator?Xg(n,bD):`https://${n.authDomain}/${_D}`}const Op="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tS,this._completeRedirectFn=YO,this._overrideRedirectResult=HO}async _openPopup(e,t,r,a){jr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await hw(e,t,r,sg(),a);return yD(e,o,ny())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await hw(e,t,r,sg(),a);return CO(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(jr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await dD(e),r=new QO(e);return t.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},a=>{const o=a?.[0]?.[Op];o!==void 0&&t(!!o),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qE()||jE()||Jg()}}const SD=ED;var fw="@firebase/auth",mw="1.11.1";class xD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CD(n){Ai(new li("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HE(n)},p=new HN(r,a,o,h);return eO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ai(new li("auth-internal",e=>{const t=qs(e.getProvider("auth").getImmediate());return(r=>new xD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(fw,mw,AD(n)),Nn(fw,mw,"esm2020")}const RD=300,ID=vE("authIdTokenMaxAge")||RD;let pw=null;const ND=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ID)return;const a=t?.token;pw!==a&&(pw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function OD(n=Yg()){const e=nl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZN(n,{popupRedirectResolver:SD,persistence:[LO,SO,tS]}),r=vE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=ND(o.toString());_O(t,c,()=>c(t.currentUser)),vO(t,f=>c(f))}}const a=pE("auth");return a&&tO(t,`http://${a}`),t}function DD(){return document.getElementsByTagName("head")?.[0]??document}GN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=xi("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",DD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CD("Browser");function MD(n,e,t,r){function a(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function f(v){try{p(r.next(v))}catch(b){c(b)}}function h(v){try{p(r.throw(v))}catch(b){c(b)}}function p(v){v.done?o(v.value):a(v.value).then(f,h)}p((r=r.apply(n,[])).next())})}function kD(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,a=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){t.label=p[1];break}if(p[0]===6&&t.label<o[1]){t.label=o[1],o=p;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(p);break}o[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(v){p=[6,v],a=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Vo=function(){return Vo=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vo.apply(this,arguments)},cS=function(n){return{loading:n==null,value:n}},PD=function(){return function(n,e){switch(e.type){case"error":return Vo(Vo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return cS(e.defaultValue);case"value":return Vo(Vo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},LD=(function(n){var e=n?n():void 0,t=F.useReducer(PD(),cS(e)),r=t[0],a=t[1],o=F.useCallback(function(){var h=n?n():void 0;a({type:"reset",defaultValue:h})},[n]),c=F.useCallback(function(h){a({type:"error",error:h})},[]),f=F.useCallback(function(h){a({type:"value",value:h})},[]);return F.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:c,setValue:f,value:r.value}},[r.error,r.loading,o,c,f,r.value])}),rl=(function(n,e){var t=LD(function(){return n.currentUser}),r=t.error,a=t.loading,o=t.setError,c=t.setValue,f=t.value;return F.useEffect(function(){var h=bO(n,function(p){return MD(void 0,void 0,void 0,function(){var v;return kD(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return b.sent(),[3,4];case 3:return v=b.sent(),o(v),[3,4];case 4:return c(p),[2]}})})},o);return function(){h()}},[n]),[f,a,r]}),jD="firebase",VD="12.6.0";Nn(jD,VD,"app");var gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ns,dS;(function(){var n;function e(O,x){function D(){}D.prototype=x.prototype,O.F=x.prototype,O.prototype=new D,O.prototype.constructor=O,O.D=function(I,C,j){for(var P=Array(arguments.length-2),de=2;de<arguments.length;de++)P[de-2]=arguments[de];return x.prototype[C].apply(I,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,x,D){D||(D=0);const I=Array(16);if(typeof x=="string")for(var C=0;C<16;++C)I[C]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(C=0;C<16;++C)I[C]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=O.g[0],D=O.g[1],C=O.g[2];let j=O.g[3],P;P=x+(j^D&(C^j))+I[0]+3614090360&4294967295,x=D+(P<<7&4294967295|P>>>25),P=j+(C^x&(D^C))+I[1]+3905402710&4294967295,j=x+(P<<12&4294967295|P>>>20),P=C+(D^j&(x^D))+I[2]+606105819&4294967295,C=j+(P<<17&4294967295|P>>>15),P=D+(x^C&(j^x))+I[3]+3250441966&4294967295,D=C+(P<<22&4294967295|P>>>10),P=x+(j^D&(C^j))+I[4]+4118548399&4294967295,x=D+(P<<7&4294967295|P>>>25),P=j+(C^x&(D^C))+I[5]+1200080426&4294967295,j=x+(P<<12&4294967295|P>>>20),P=C+(D^j&(x^D))+I[6]+2821735955&4294967295,C=j+(P<<17&4294967295|P>>>15),P=D+(x^C&(j^x))+I[7]+4249261313&4294967295,D=C+(P<<22&4294967295|P>>>10),P=x+(j^D&(C^j))+I[8]+1770035416&4294967295,x=D+(P<<7&4294967295|P>>>25),P=j+(C^x&(D^C))+I[9]+2336552879&4294967295,j=x+(P<<12&4294967295|P>>>20),P=C+(D^j&(x^D))+I[10]+4294925233&4294967295,C=j+(P<<17&4294967295|P>>>15),P=D+(x^C&(j^x))+I[11]+2304563134&4294967295,D=C+(P<<22&4294967295|P>>>10),P=x+(j^D&(C^j))+I[12]+1804603682&4294967295,x=D+(P<<7&4294967295|P>>>25),P=j+(C^x&(D^C))+I[13]+4254626195&4294967295,j=x+(P<<12&4294967295|P>>>20),P=C+(D^j&(x^D))+I[14]+2792965006&4294967295,C=j+(P<<17&4294967295|P>>>15),P=D+(x^C&(j^x))+I[15]+1236535329&4294967295,D=C+(P<<22&4294967295|P>>>10),P=x+(C^j&(D^C))+I[1]+4129170786&4294967295,x=D+(P<<5&4294967295|P>>>27),P=j+(D^C&(x^D))+I[6]+3225465664&4294967295,j=x+(P<<9&4294967295|P>>>23),P=C+(x^D&(j^x))+I[11]+643717713&4294967295,C=j+(P<<14&4294967295|P>>>18),P=D+(j^x&(C^j))+I[0]+3921069994&4294967295,D=C+(P<<20&4294967295|P>>>12),P=x+(C^j&(D^C))+I[5]+3593408605&4294967295,x=D+(P<<5&4294967295|P>>>27),P=j+(D^C&(x^D))+I[10]+38016083&4294967295,j=x+(P<<9&4294967295|P>>>23),P=C+(x^D&(j^x))+I[15]+3634488961&4294967295,C=j+(P<<14&4294967295|P>>>18),P=D+(j^x&(C^j))+I[4]+3889429448&4294967295,D=C+(P<<20&4294967295|P>>>12),P=x+(C^j&(D^C))+I[9]+568446438&4294967295,x=D+(P<<5&4294967295|P>>>27),P=j+(D^C&(x^D))+I[14]+3275163606&4294967295,j=x+(P<<9&4294967295|P>>>23),P=C+(x^D&(j^x))+I[3]+4107603335&4294967295,C=j+(P<<14&4294967295|P>>>18),P=D+(j^x&(C^j))+I[8]+1163531501&4294967295,D=C+(P<<20&4294967295|P>>>12),P=x+(C^j&(D^C))+I[13]+2850285829&4294967295,x=D+(P<<5&4294967295|P>>>27),P=j+(D^C&(x^D))+I[2]+4243563512&4294967295,j=x+(P<<9&4294967295|P>>>23),P=C+(x^D&(j^x))+I[7]+1735328473&4294967295,C=j+(P<<14&4294967295|P>>>18),P=D+(j^x&(C^j))+I[12]+2368359562&4294967295,D=C+(P<<20&4294967295|P>>>12),P=x+(D^C^j)+I[5]+4294588738&4294967295,x=D+(P<<4&4294967295|P>>>28),P=j+(x^D^C)+I[8]+2272392833&4294967295,j=x+(P<<11&4294967295|P>>>21),P=C+(j^x^D)+I[11]+1839030562&4294967295,C=j+(P<<16&4294967295|P>>>16),P=D+(C^j^x)+I[14]+4259657740&4294967295,D=C+(P<<23&4294967295|P>>>9),P=x+(D^C^j)+I[1]+2763975236&4294967295,x=D+(P<<4&4294967295|P>>>28),P=j+(x^D^C)+I[4]+1272893353&4294967295,j=x+(P<<11&4294967295|P>>>21),P=C+(j^x^D)+I[7]+4139469664&4294967295,C=j+(P<<16&4294967295|P>>>16),P=D+(C^j^x)+I[10]+3200236656&4294967295,D=C+(P<<23&4294967295|P>>>9),P=x+(D^C^j)+I[13]+681279174&4294967295,x=D+(P<<4&4294967295|P>>>28),P=j+(x^D^C)+I[0]+3936430074&4294967295,j=x+(P<<11&4294967295|P>>>21),P=C+(j^x^D)+I[3]+3572445317&4294967295,C=j+(P<<16&4294967295|P>>>16),P=D+(C^j^x)+I[6]+76029189&4294967295,D=C+(P<<23&4294967295|P>>>9),P=x+(D^C^j)+I[9]+3654602809&4294967295,x=D+(P<<4&4294967295|P>>>28),P=j+(x^D^C)+I[12]+3873151461&4294967295,j=x+(P<<11&4294967295|P>>>21),P=C+(j^x^D)+I[15]+530742520&4294967295,C=j+(P<<16&4294967295|P>>>16),P=D+(C^j^x)+I[2]+3299628645&4294967295,D=C+(P<<23&4294967295|P>>>9),P=x+(C^(D|~j))+I[0]+4096336452&4294967295,x=D+(P<<6&4294967295|P>>>26),P=j+(D^(x|~C))+I[7]+1126891415&4294967295,j=x+(P<<10&4294967295|P>>>22),P=C+(x^(j|~D))+I[14]+2878612391&4294967295,C=j+(P<<15&4294967295|P>>>17),P=D+(j^(C|~x))+I[5]+4237533241&4294967295,D=C+(P<<21&4294967295|P>>>11),P=x+(C^(D|~j))+I[12]+1700485571&4294967295,x=D+(P<<6&4294967295|P>>>26),P=j+(D^(x|~C))+I[3]+2399980690&4294967295,j=x+(P<<10&4294967295|P>>>22),P=C+(x^(j|~D))+I[10]+4293915773&4294967295,C=j+(P<<15&4294967295|P>>>17),P=D+(j^(C|~x))+I[1]+2240044497&4294967295,D=C+(P<<21&4294967295|P>>>11),P=x+(C^(D|~j))+I[8]+1873313359&4294967295,x=D+(P<<6&4294967295|P>>>26),P=j+(D^(x|~C))+I[15]+4264355552&4294967295,j=x+(P<<10&4294967295|P>>>22),P=C+(x^(j|~D))+I[6]+2734768916&4294967295,C=j+(P<<15&4294967295|P>>>17),P=D+(j^(C|~x))+I[13]+1309151649&4294967295,D=C+(P<<21&4294967295|P>>>11),P=x+(C^(D|~j))+I[4]+4149444226&4294967295,x=D+(P<<6&4294967295|P>>>26),P=j+(D^(x|~C))+I[11]+3174756917&4294967295,j=x+(P<<10&4294967295|P>>>22),P=C+(x^(j|~D))+I[2]+718787259&4294967295,C=j+(P<<15&4294967295|P>>>17),P=D+(j^(C|~x))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+C&4294967295,O.g[3]=O.g[3]+j&4294967295}r.prototype.v=function(O,x){x===void 0&&(x=O.length);const D=x-this.blockSize,I=this.C;let C=this.h,j=0;for(;j<x;){if(C==0)for(;j<=D;)a(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<x;)if(I[C++]=O.charCodeAt(j++),C==this.blockSize){a(this,I),C=0;break}}else for(;j<x;)if(I[C++]=O[j++],C==this.blockSize){a(this,I),C=0;break}}this.h=C,this.o+=x},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;x=this.o*8;for(var D=O.length-8;D<O.length;++D)O[D]=x&255,x/=256;for(this.v(O),O=Array(16),x=0,D=0;D<4;++D)for(let I=0;I<32;I+=8)O[x++]=this.g[D]>>>I&255;return O};function o(O,x){var D=f;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=x(O)}function c(O,x){this.h=x;const D=[];let I=!0;for(let C=O.length-1;C>=0;C--){const j=O[C]|0;I&&j==x||(D[C]=j,I=!1)}this.g=D}var f={};function h(O){return-128<=O&&O<128?o(O,function(x){return new c([x|0],x<0?-1:0)}):new c([O|0],O<0?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return b;if(O<0)return N(p(-O));const x=[];let D=1;for(let I=0;O>=D;I++)x[I]=O/D|0,D*=4294967296;return new c(x,0)}function v(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return N(v(O.substring(1),x));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(x,8));let I=b;for(let j=0;j<O.length;j+=8){var C=Math.min(8,O.length-j);const P=parseInt(O.substring(j,j+C),x);C<8?(C=p(Math.pow(x,C)),I=I.j(C).add(p(P))):(I=I.j(D),I=I.add(p(P)))}return I}var b=h(0),S=h(1),E=h(16777216);n=c.prototype,n.m=function(){if(k(this))return-N(this).m();let O=0,x=1;for(let D=0;D<this.g.length;D++){const I=this.i(D);O+=(I>=0?I:4294967296+I)*x,x*=4294967296}return O},n.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(k(this))return"-"+N(this).toString(O);const x=p(Math.pow(O,6));var D=this;let I="";for(;;){const C=ne(D,x).g;D=U(D,C.j(x));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(O);if(D=C,M(D))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},n.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(let x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=U(this,O),k(O)?-1:M(O)?0:1};function N(O){const x=O.g.length,D=[];for(let I=0;I<x;I++)D[I]=~O.g[I];return new c(D,~O.h).add(S)}n.abs=function(){return k(this)?N(this):this},n.add=function(O){const x=Math.max(this.g.length,O.g.length),D=[];let I=0;for(let C=0;C<=x;C++){let j=I+(this.i(C)&65535)+(O.i(C)&65535),P=(j>>>16)+(this.i(C)>>>16)+(O.i(C)>>>16);I=P>>>16,j&=65535,P&=65535,D[C]=P<<16|j}return new c(D,D[D.length-1]&-2147483648?-1:0)};function U(O,x){return O.add(N(x))}n.j=function(O){if(M(this)||M(O))return b;if(k(this))return k(O)?N(this).j(N(O)):N(N(this).j(O));if(k(O))return N(this.j(N(O)));if(this.l(E)<0&&O.l(E)<0)return p(this.m()*O.m());const x=this.g.length+O.g.length,D=[];for(var I=0;I<2*x;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(let C=0;C<O.g.length;C++){const j=this.i(I)>>>16,P=this.i(I)&65535,de=O.i(C)>>>16,ce=O.i(C)&65535;D[2*I+2*C]+=P*ce,B(D,2*I+2*C),D[2*I+2*C+1]+=j*ce,B(D,2*I+2*C+1),D[2*I+2*C+1]+=P*de,B(D,2*I+2*C+1),D[2*I+2*C+2]+=j*de,B(D,2*I+2*C+2)}for(O=0;O<x;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=x;O<2*x;O++)D[O]=0;return new c(D,0)};function B(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function z(O,x){this.g=O,this.h=x}function ne(O,x){if(M(x))throw Error("division by zero");if(M(O))return new z(b,b);if(k(O))return x=ne(N(O),x),new z(N(x.g),N(x.h));if(k(x))return x=ne(O,N(x)),new z(N(x.g),x.h);if(O.g.length>30){if(k(O)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var D=S,I=x;I.l(O)<=0;)D=ee(D),I=ee(I);var C=ie(D,1),j=ie(I,1);for(I=ie(I,2),D=ie(D,2);!M(I);){var P=j.add(I);P.l(O)<=0&&(C=C.add(D),j=P),I=ie(I,1),D=ie(D,1)}return x=U(O,C.j(x)),new z(C,x)}for(C=b;O.l(x)>=0;){for(D=Math.max(1,Math.floor(O.m()/x.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=p(D),P=j.j(x);k(P)||P.l(O)>0;)D-=I,j=p(D),P=j.j(x);M(j)&&(j=S),C=C.add(j),O=U(O,P)}return new z(C,O)}n.B=function(O){return ne(this,O).h},n.and=function(O){const x=Math.max(this.g.length,O.g.length),D=[];for(let I=0;I<x;I++)D[I]=this.i(I)&O.i(I);return new c(D,this.h&O.h)},n.or=function(O){const x=Math.max(this.g.length,O.g.length),D=[];for(let I=0;I<x;I++)D[I]=this.i(I)|O.i(I);return new c(D,this.h|O.h)},n.xor=function(O){const x=Math.max(this.g.length,O.g.length),D=[];for(let I=0;I<x;I++)D[I]=this.i(I)^O.i(I);return new c(D,this.h^O.h)};function ee(O){const x=O.g.length+1,D=[];for(let I=0;I<x;I++)D[I]=O.i(I)<<1|O.i(I-1)>>>31;return new c(D,O.h)}function ie(O,x){const D=x>>5;x%=32;const I=O.g.length-D,C=[];for(let j=0;j<I;j++)C[j]=x>0?O.i(j+D)>>>x|O.i(j+D+1)<<32-x:O.i(j+D);return new c(C,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Ns=c}).apply(typeof gw<"u"?gw:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hS,wu,fS,nh,ug,mS,pS,gS;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(d,_){if(_)e:{var T=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var Y=d[R];if(!(Y in T))break e;T=T[Y]}d=d[d.length-1],R=T[d],_=_(R),_!=R&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var T=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&T.push([R,_[R]]);return T}});var o=o||{},c=this||self;function f(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,T){return d.call.apply(d.bind,arguments)}function p(d,_,T){return p=h,p.apply(null,arguments)}function v(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function b(d,_){function T(){}T.prototype=_.prototype,d.Z=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(R,Y,W){for(var pe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)pe[Oe-2]=arguments[Oe];return _.prototype[Y].apply(R,pe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function E(d){const _=d.length;if(_>0){const T=Array(_);for(let R=0;R<_;R++)T[R]=d[R];return T}return[]}function M(d,_){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=d.length||0;const W=Y.length||0;d.length=T+W;for(let pe=0;pe<W;pe++)d[T+pe]=Y[pe]}else d.push(Y)}}class k{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(d){c.setTimeout(()=>{throw d},0)}function U(){var d=O;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,T){const R=z.get();R.set(_,T),this.h?this.h.next=R:this.g=R,this.h=R}}var z=new k(()=>new ne,d=>d.reset());class ne{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ie=!1,O=new B,x=()=>{const d=Promise.resolve(void 0);ee=()=>{d.then(D)}};function D(){for(var d;d=U();){try{d.h.call(d.g)}catch(T){N(T)}var _=z;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}ie=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return d})();function P(d){return/^[\s\xa0]*$/.test(d)}function de(d,_){C.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}b(de,C),de.prototype.init=function(d,_){const T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(d,_,T,R,Y){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!R,this.ha=Y,this.key=++q,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ue(d,_,T){for(const R in d)_.call(T,d[R],R,d)}function fe(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function L(d){const _={};for(const T in d)_[T]=d[T];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(d,_){let T,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(T in R)d[T]=R[T];for(let W=0;W<te.length;W++)T=te[W],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,_,T,R,Y){const W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);const pe=Ae(d,_,R,Y);return pe>-1?(_=d[pe],T||(_.fa=!1)):(_=new J(_,this.src,W,!!R,Y),_.fa=T,d.push(_)),_};function be(d,_){const T=_.type;if(T in d.g){var R=d.g[T],Y=Array.prototype.indexOf.call(R,_,void 0),W;(W=Y>=0)&&Array.prototype.splice.call(R,Y,1),W&&($(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ae(d,_,T,R){for(let Y=0;Y<d.length;++Y){const W=d[Y];if(!W.da&&W.listener==_&&W.capture==!!T&&W.ha==R)return Y}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),at={};function qe(d,_,T,R,Y){if(Array.isArray(_)){for(let W=0;W<_.length;W++)qe(d,_[W],T,R,Y);return null}return T=fl(T),d&&d[ce]?d.J(_,T,f(R)?!!R.capture:!1,Y):yt(d,_,T,!1,R,Y)}function yt(d,_,T,R,Y,W){if(!_)throw Error("Invalid event type");const pe=f(Y)?!!Y.capture:!!Y;let Oe=$s(d);if(Oe||(d[Ne]=Oe=new me(d)),T=Oe.add(_,T,R,pe,W),T.proxy)return T;if(R=cn(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)j||(Y=pe),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),R,Y);else if(d.attachEvent)d.attachEvent(Ri(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function cn(){function d(T){return _.call(d.src,d.listener,T)}const _=dl;return d}function qn(d,_,T,R,Y){if(Array.isArray(_))for(var W=0;W<_.length;W++)qn(d,_[W],T,R,Y);else R=f(R)?!!R.capture:!!R,T=fl(T),d&&d[ce]?(d=d.i,W=String(_).toString(),W in d.g&&(_=d.g[W],T=Ae(_,T,R,Y),T>-1&&($(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete d.g[W],d.h--)))):d&&(d=$s(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ae(_,T,R,Y)),(T=d>-1?_[d]:null)&&di(T))}function di(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ce])be(_.i,d);else{var T=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(T,R,d.capture):_.detachEvent?_.detachEvent(Ri(T),R):_.addListener&&_.removeListener&&_.removeListener(R),(T=$s(_))?(be(T,d),T.h==0&&(T.src=null,_[Ne]=null)):$(d)}}}function Ri(d){return d in at?at[d]:at[d]="on"+d}function dl(d,_){if(d.da)d=!0;else{_=new de(_,this);const T=d.listener,R=d.ha||d.src;d.fa&&di(d),d=T.call(R,_)}return d}function $s(d){return d=d[Ne],d instanceof me?d:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(d){return typeof d=="function"?d:(d[hl]||(d[hl]=function(_){return d.handleEvent(_)}),d[hl])}function Ct(){I.call(this),this.i=new me(this),this.M=this,this.G=null}b(Ct,I),Ct.prototype[ce]=!0,Ct.prototype.removeEventListener=function(d,_,T,R){qn(this,d,_,T,R)};function Ut(d,_){var T,R=d.G;if(R)for(T=[];R;R=R.G)T.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new C(_,d);else if(_ instanceof C)_.target=_.target||d;else{var Y=_;_=new C(R,d),he(_,Y)}Y=!0;let W,pe;if(T)for(pe=T.length-1;pe>=0;pe--)W=_.g=T[pe],Y=qr(W,R,!0,_)&&Y;if(W=_.g=d,Y=qr(W,R,!0,_)&&Y,Y=qr(W,R,!1,_)&&Y,T)for(pe=0;pe<T.length;pe++)W=_.g=T[pe],Y=qr(W,R,!1,_)&&Y}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const T=d.g[_];for(let R=0;R<T.length;R++)$(T[R]);delete d.g[_],d.h--}}this.G=null},Ct.prototype.J=function(d,_,T,R){return this.i.add(String(d),_,!1,T,R)},Ct.prototype.K=function(d,_,T,R){return this.i.add(String(d),_,!0,T,R)};function qr(d,_,T,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let W=0;W<_.length;++W){const pe=_[W];if(pe&&!pe.da&&pe.capture==T){const Oe=pe.listener,Et=pe.ha||pe.src;pe.fa&&be(d.i,pe),Y=Oe.call(Et,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function _f(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(d,_||0)}function uc(d){d.g=_f(()=>{d.g=null,d.i&&(d.i=!1,uc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class dn extends I{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:uc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(d){I.call(this),this.h=d,this.g={}}b(Ys,I);var ml=[];function pl(d){ue(d.g,function(_,T){this.g.hasOwnProperty(T)&&di(_)},d),d.g={}}Ys.prototype.N=function(){Ys.Z.N.call(this),pl(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=c.JSON.stringify,bf=c.JSON.parse,cc=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function dc(){}function hc(){}var hi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){C.call(this,"d")}b(Yt,C);function Hn(){C.call(this,"c")}b(Hn,C);var Tt={},fc=null;function Ha(){return fc=fc||new Ct}Tt.Ia="serverreachability";function mc(d){C.call(this,Tt.Ia,d)}b(mc,C);function Ii(d){const _=Ha();Ut(_,new mc(_))}Tt.STAT_EVENT="statevent";function Ks(d,_){C.call(this,Tt.STAT_EVENT,d),this.stat=_}b(Ks,C);function Rt(d){const _=Ha();Ut(_,new Ks(_,d))}Tt.Ja="timingevent";function Ni(d,_){C.call(this,Tt.Ja,d),this.size=_}b(Ni,C);function Oi(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function wf(d,_,T,R,Y,W){d.info(function(){if(d.g)if(W){var pe="",Oe=W.split("&");for(let $e=0;$e<Oe.length;$e++){var Et=Oe[$e].split("=");if(Et.length>1){const ht=Et[0];Et=Et[1];const Kn=ht.split("_");pe=Kn.length>=2&&Kn[1]=="type"?pe+(ht+"="+Et+"&"):pe+(ht+"=redacted&")}}}else pe=null;else pe=W;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+_+`
`+T+`
`+pe})}function pc(d,_,T,R,Y,W,pe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+_+`
`+T+`
`+W+" "+pe})}function Di(d,_,T,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Tf(d,T)+(R?" "+R:"")})}function Qs(d,_){d.info(function(){return"TIMEOUT: "+_})}fi.prototype.info=function(){};function Tf(d,_){if(!d.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(d=0;d<W.length;d++)if(Array.isArray(W[d])){var T=W[d];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let pe=1;pe<R.length;pe++)R[pe]=""}}}}return Hr(W)}catch{return _}}var Xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function Ws(){}b(Ws,dc),Ws.prototype.g=function(){return new XMLHttpRequest},yl=new Ws;function lr(d){return encodeURIComponent(String(d))}function gc(d){var _=1;d=d.split(":");const T=[];for(;_>0&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function mi(d,_,T,R){this.j=d,this.i=_,this.l=T,this.S=R||1,this.V=new Ys(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var It={},qt={};function Mi(d,_,T){d.M=1,d.A=Js(Ot(_)),d.u=T,d.R=!0,Ga(d,null)}function Ga(d,_){d.F=Date.now(),ki(d),d.B=Ot(d.A);var T=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),Qa(T.i,"t",R),d.C=0,T=d.j.L,d.h=new pi,d.g=Oc(d.j,T?_:null,!d.u),d.P>0&&(d.O=new dn(p(d.Y,d,d.g),d.P)),_=d.V,T=d.g,R=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ml[0]=Y.toString()),Y=ml);for(let W=0;W<Y.length;W++){const pe=qe(T,Y[W],R||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=d.J?L(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Ii(),wf(d.i,d.v,d.B,d.l,d.S,d.u)}mi.prototype.ba=function(d){d=d.target;const _=this.O;_&&vi(d)==3?_.j():this.Y(d)},mi.prototype.Y=function(d){try{if(d==this.g)e:{const Oe=vi(this.g),Et=this.g.ya(),$e=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Oe!=4||Et==7||(Et==8||$e<=0?Ii(3):Ii(2)),Pi(this);var _=this.g.ca();this.X=_;var T=Ef(this);if(this.o=_==200,pc(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var W=R;break t}}W=null}if(d=W)Di(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,d);else{this.o=!1,this.m=3,Rt(12),On(this),Gn(this);break e}}if(this.R){d=!0;let ht;for(;!this.K&&this.C<T.length;)if(ht=vc(this,T),ht==qt){Oe==4&&(this.m=4,Rt(14),d=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==It){this.m=4,Rt(15),Di(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Di(this.i,this.l,ht,null),Li(this,ht);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),d=!1),this.o=this.o&&d,!d)Di(this.i,this.l,T,"[Invalid Chunked Response]"),On(this),Gn(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Dl(pe),pe.P=!0,Rt(11))}}else Di(this.i,this.l,T,null),Li(this,T);Oe==4&&On(this),this.o&&!this.K&&(Oe==4?Cc(this.j,this):(this.o=!1,ki(this)))}else cr(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),On(this),Gn(this)}}}catch{}finally{}};function Ef(d){if(!yc(d))return d.g.la();const _=Kt(d.g);if(_==="")return"";let T="";const R=_.length,Y=vi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return On(d),Gn(d),"";d.h.i=new c.TextDecoder}for(let W=0;W<R;W++)d.h.h=!0,T+=d.h.i.decode(_[W],{stream:!(Y&&W==R-1)});return _.length=0,d.h.g+=T,d.C=0,d.h.g}function yc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function vc(d,_){var T=d.C,R=_.indexOf(`
`,T);return R==-1?qt:(T=Number(_.substring(T,R)),isNaN(T)?It:(R+=1,R+T>_.length?qt:(_=_.slice(R,R+T),d.C=R+T,_)))}mi.prototype.cancel=function(){this.K=!0,On(this)};function ki(d){d.T=Date.now()+d.H,$a(d,d.H)}function $a(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Oi(p(d.aa,d),_)}function Pi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}mi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Qs(this.i,this.B),this.M!=2&&(Ii(),Rt(17)),On(this),this.m=2,Gn(this)):$a(this,this.T-d)};function Gn(d){d.j.I==0||d.K||Cc(d.j,d)}function On(d){Pi(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,pl(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Li(d,_){try{var T=d.j;if(T.I!=0&&(T.g==d||Vi(T.h,d))){if(!d.L&&Vi(T.h,d)&&T.I==3){try{var R=T.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)eo(T),Jr(T);else break e;sa(T),Rt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Oi(p(T.Va,T),6e3));ji(T.h)<=1&&T.ta&&(T.ta=void 0)}else Hi(T,11)}else if((d.L||T.g==d)&&eo(T),!P(_))for(Y=T.Ba.g.parse(_),_=0;_<Y.length;_++){let $e=Y[_];const ht=$e[0];if(!(ht<=T.K))if(T.K=ht,$e=$e[1],T.I==2)if($e[0]=="c"){T.M=$e[1],T.ba=$e[2];const Kn=$e[3];Kn!=null&&(T.ka=Kn,T.j.info("VER="+T.ka));const Gi=$e[4];Gi!=null&&(T.za=Gi,T.j.info("SVER="+T.za));const _i=$e[5];_i!=null&&typeof _i=="number"&&_i>0&&(R=1.5*_i,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const bi=d.g;if(bi){const aa=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var W=R.h;W.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(bl(W,W.h),W.h=null))}if(R.G){const to=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(R.wa=to,Xe(R.J,R.G,to))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var pe=d;if(R.na=Nc(R,R.L?R.ba:null,R.W),pe.L){wl(R.h,pe);var Oe=pe,Et=R.O;Et&&(Oe.H=Et),Oe.D&&(Pi(Oe),ki(Oe)),R.g=pe}else xc(R);T.i.length>0&&qi(T)}else $e[0]!="stop"&&$e[0]!="close"||Hi(T,7);else T.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Hi(T,7):Nl(T):$e[0]!="noop"&&T.l&&T.l.qa($e),T.A=0)}}Ii(4)}catch{}}var Nt=class{constructor(d,_){this.g=d,this.map=_}};function vl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ji(d){return d.h?1:d.g?d.g.size:0}function Vi(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function bl(d,_){d.g?d.g.add(_):d.h=_}function wl(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}vl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.G);return _}return E(d.i)}var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ya(d,_){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const R=d[T].indexOf("=");let Y,W=null;R>=0?(Y=d[T].substring(0,R),W=d[T].substring(R+1)):Y=d[T],_(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Dn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof Dn?(this.l=d.l,Ht(this,d.j),this.o=d.o,this.g=d.g,Gr(this,d.u),this.h=d.h,El(this,Ec(d.i)),this.m=d.m):d&&(_=String(d).match(_c))?(this.l=!1,Ht(this,_[1]||"",!0),this.o=Ui(_[2]||""),this.g=Ui(_[3]||"",!0),Gr(this,_[4]),this.h=Ui(_[5]||"",!0),El(this,_[6]||"",!0),this.m=Ui(_[7]||"")):(this.l=!1,this.i=new Yr(null,this.l))}Dn.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Zs(_,Ka,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Zs(_,Ka,!0),"@"),d.push(lr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Zs(T,T.charAt(0)=="/"?Sl:bc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Zs(T,wc)),d.join("")},Dn.prototype.resolve=function(d){const _=Ot(this);let T=!!d.j;T?Ht(_,d.j):T=!!d.o,T?_.o=d.o:T=!!d.g,T?_.g=d.g:T=d.u!=null;var R=d.h;if(T)Gr(_,d.u);else if(T=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(R=_.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const W=[];for(let pe=0;pe<Y.length;){const Oe=Y[pe++];Oe=="."?R&&pe==Y.length&&W.push(""):Oe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&pe==Y.length&&W.push("")):(W.push(Oe),R=!0)}R=W.join("/")}else R=Y}return T?_.h=R:T=d.i.toString()!=="",T?El(_,Ec(d.i)):T=!!d.m,T&&(_.m=d.m),_};function Ot(d){return new Dn(d)}function Ht(d,_,T){d.j=T?Ui(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Gr(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function El(d,_,T){_ instanceof Yr?(d.i=_,Xa(d.i,d.l)):(T||(_=Zs(_,$r)),d.i=new Yr(_,d.l))}function Xe(d,_,T){d.i.set(_,T)}function Js(d){return Xe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ui(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zs(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,vn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ka=/[#\/\?@]/g,bc=/[#\?:]/g,Sl=/[#\?]/g,$r=/[#\?@]/g,wc=/#/g;function Yr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&Ya(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Yr.prototype,n.add=function(d,_){_n(this),this.i=null,d=Kr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function Tc(d,_){_n(d),_=Kr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function xl(d,_){return _n(d),_=Kr(d,_),d.g.has(_)}n.forEach=function(d,_){_n(this),this.g.forEach(function(T,R){T.forEach(function(Y){d.call(_,Y,R,this)},this)},this)};function Al(d,_){_n(d);let T=[];if(typeof _=="string")xl(d,_)&&(T=T.concat(d.g.get(Kr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)T=T.concat(d[_]);return T}n.set=function(d,_){return _n(this),this.i=null,d=Kr(this,d),xl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Al(this,d),d.length>0?String(d[0]):_):_};function Qa(d,_,T){Tc(d,_),T.length>0&&(d.i=null,d.g.set(Kr(d,_),E(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var T=_[R];const Y=lr(T);T=Al(this,T);for(let W=0;W<T.length;W++){let pe=Y;T[W]!==""&&(pe+="="+lr(T[W])),d.push(pe)}}return this.i=d.join("&")};function Ec(d){const _=new Yr;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Kr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Xa(d,_){_&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(T,R){const Y=R.toLowerCase();R!=Y&&(Tc(this,R),Qa(this,Y,T))},d)),d.j=_}function gi(d,_){const T=new fi;if(c.Image){const R=new Image;R.onload=v($n,T,"TestLoadImage: loaded",!0,_,R),R.onerror=v($n,T,"TestLoadImage: error",!1,_,R),R.onabort=v($n,T,"TestLoadImage: abort",!1,_,R),R.ontimeout=v($n,T,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function Cl(d,_){const T=new fi,R=new AbortController,Y=setTimeout(()=>{R.abort(),$n(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(W=>{clearTimeout(Y),W.ok?$n(T,"TestPingServer: ok",!0,_):$n(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),$n(T,"TestPingServer: error",!1,_)})}function $n(d,_,T,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(T)}catch{}}function Qr(){this.g=new cc}function zi(d){this.i=d.Sb||null,this.h=d.ab||!1}b(zi,dc),zi.prototype.g=function(){return new ea(this.i,this.h)};function ea(d,_){Ct.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ea,Ct),n=ea.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,yi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Xr(this):yi(this),this.readyState==3&&Wa(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Xr(this))},n.Na=function(d){this.g&&(this.response=d,Xr(this))},n.ga=function(){this.g&&Xr(this)};function Xr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,yi(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function yi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Yn(d){let _="";return ue(d,function(T,R){_+=R,_+=":",_+=T,_+=`\r
`}),_}function ta(d,_,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Yn(T),typeof d=="string"?T!=null&&lr(T):Xe(d,_,T))}function Ze(d){Ct.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,Ct);var Bi=/^https?$/i,Rl=["POST","PUT"];n=Ze.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(W){na(this,W);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)T.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())T.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),Y=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Rl,_,void 0)>=0)||R||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,pe]of T)this.g.setRequestHeader(W,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(W){na(this,W)}};function na(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Il(d),ur(d)}function Il(d){d.A||(d.A=!0,Ut(d,"complete"),Ut(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ut(this,"complete"),Ut(this,"abort"),ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),Ze.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},n.Xa=function(){ia(this)};function ia(d){if(d.h&&typeof o<"u"){if(d.v&&vi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ut(d,"readystatechange"),vi(d)==4){d.h=!1;try{const W=d.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var R;if(R=W===0){let pe=String(d.D).match(_c)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),R=!Bi.test(pe?pe.toLowerCase():"")}T=R}if(T)Ut(d,"complete"),Ut(d,"success");else{d.o=6;try{var Y=vi(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Il(d)}}finally{ur(d)}}}}function ur(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,_||Ut(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),bf(_)}};function Kt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cr(d){const _={};d=(d.g&&vi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(P(d[R]))continue;var T=gc(d[R]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=_[Y]||[];_[Y]=W,W.push(T)}fe(_,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Wr(d){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,d),this.Za=Fi("retryDelaySeedMs",1e4,d),this.Ta=Fi("forwardChannelMaxRetries",2,d),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(d&&d.concurrentRequestLimit),this.Ba=new Qr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Wr.prototype,n.ka=8,n.I=1,n.connect=function(d,_,T,R){Rt(0),this.W=d,this.H=_||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Nc(this,null,this.W),qi(this)};function Nl(d){if(Ja(d),d.I==3){var _=d.V++,T=Ot(d.J);if(Xe(T,"SID",d.M),Xe(T,"RID",_),Xe(T,"TYPE","terminate"),ra(d,T),_=new mi(d,d.j,_),_.M=2,_.A=Js(Ot(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Oc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ki(_)}Ic(d)}function Jr(d){d.g&&(Dl(d),d.g.cancel(),d.g=null)}function Ja(d){Jr(d),d.v&&(c.clearTimeout(d.v),d.v=null),eo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function qi(d){if(!_l(d.h)&&!d.m){d.m=!0;var _=d.Ea;ee||x(),ie||(ee(),ie=!0),O.add(_,d),d.D=0}}function Za(d,_){return ji(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Oi(p(d.Ea,d,_),Rc(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new mi(this,this.j,d);let W=this.o;if(this.U&&(W?(W=L(W),he(W,this.U)):W=this.U),this.u!==null||this.R||(Y.J=W,W=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Sc(this,Y,_),T=Ot(this.J),Xe(T,"RID",d),Xe(T,"CVER",22),this.G&&Xe(T,"X-HTTP-Session-Id",this.G),ra(this,T),W&&(this.R?_="headers="+lr(Yn(W))+"&"+_:this.u&&ta(T,this.u,W)),bl(this.h,Y),this.Ra&&Xe(T,"TYPE","init"),this.S?(Xe(T,"$req",_),Xe(T,"SID","null"),Y.U=!0,Mi(Y,T,null)):Mi(Y,T,_),this.I=2}}else this.I==3&&(d?Ol(this,d):this.i.length==0||_l(this.h)||Ol(this))};function Ol(d,_){var T;_?T=_.l:T=d.V++;const R=Ot(d.J);Xe(R,"SID",d.M),Xe(R,"RID",T),Xe(R,"AID",d.K),ra(d,R),d.u&&d.o&&ta(R,d.u,d.o),T=new mi(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Sc(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),bl(d.h,T),Mi(T,R,_)}function ra(d,_){d.H&&ue(d.H,function(T,R){Xe(_,R,T)}),d.l&&ue({},function(T,R){Xe(_,R,T)})}function Sc(d,_,T){T=Math.min(d.i.length,T);const R=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Oe=-1;for(;;){const Et=["count="+T];Oe==-1?T>0?(Oe=Y[0].g,Et.push("ofs="+Oe)):Oe=0:Et.push("ofs="+Oe);let $e=!0;for(let ht=0;ht<T;ht++){var W=Y[ht].g;const Kn=Y[ht].map;if(W-=Oe,W<0)Oe=Math.max(0,Y[ht].g-100),$e=!1;else try{W="req"+W+"_"||"";try{var pe=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Gi,_i]of pe){let bi=_i;f(_i)&&(bi=Hr(_i)),Et.push(W+Gi+"="+encodeURIComponent(bi))}}catch(Gi){throw Et.push(W+"type="+encodeURIComponent("_badmap")),Gi}}catch{R&&R(Kn)}}if($e){pe=Et.join("&");break e}}pe=void 0}return d=d.i.splice(0,T),_.G=d,pe}function xc(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;ee||x(),ie||(ee(),ie=!0),O.add(_,d),d.A=0}}function sa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Oi(p(d.Da,d),Rc(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Oi(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Jr(this),Ac(this))};function Dl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Ac(d){d.g=new mi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Ot(d.na);Xe(_,"RID","rpc"),Xe(_,"SID",d.M),Xe(_,"AID",d.K),Xe(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xe(_,"TO",d.ia),Xe(_,"TYPE","xmlhttp"),ra(d,_),d.u&&d.o&&ta(_,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=Js(Ot(_)),T.u=null,T.R=!0,Ga(T,d)}n.Va=function(){this.C!=null&&(this.C=null,Jr(this),sa(this),Rt(19))};function eo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Cc(d,_){var T=null;if(d.g==_){eo(d),Dl(d),d.g=null;var R=2}else if(Vi(d.h,_))T=_.G,wl(d.h,_),R=1;else return;if(d.I!=0){if(_.o)if(R==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Y=d.D;R=Ha(),Ut(R,new Ni(R,T)),qi(d)}else xc(d);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(R==1&&Za(d,_)||R==2&&sa(d)))switch(T&&T.length>0&&(_=d.h,_.i=_.i.concat(T)),Y){case 1:Hi(d,5);break;case 4:Hi(d,10);break;case 3:Hi(d,6);break;default:Hi(d,2)}}}function Rc(d,_){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*_}function Hi(d,_){if(d.j.info("Error code "+_),_==2){var T=p(d.bb,d),R=d.Ua;const Y=!R;R=new Dn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ht(R,"https"),Js(R),Y?gi(R.toString(),T):Cl(R.toString(),T)}else Rt(2);d.I=0,d.l&&d.l.pa(_),Ic(d),Ja(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Ic(d){if(d.I=0,d.ja=[],d.l){const _=Tl(d.h);(_.length!=0||d.i.length!=0)&&(M(d.ja,_),M(d.ja,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.oa()}}function Nc(d,_,T){var R=T instanceof Dn?Ot(T):new Dn(T);if(R.g!="")_&&(R.g=_+"."+R.g),Gr(R,R.u);else{var Y=c.location;R=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const W=new Dn(null);R&&Ht(W,R),_&&(W.g=_),Y&&Gr(W,Y),T&&(W.h=T),R=W}return T=d.G,_=d.wa,T&&_&&Xe(R,T,_),Xe(R,"VER",d.ka),ra(d,R),R}function Oc(d,_,T){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new Ze(new zi({ab:T})):new Ze(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}n=Dc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zr(){}Zr.prototype.g=function(d,_){return new hn(d,_)};function hn(d,_){Ct.call(this),this.g=new Wr(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!P(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new dr(this)}b(hn,Ct),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Nl(this.g)},hn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Hr(d),d=T);_.i.push(new Nt(_.Ya++,d)),_.I==3&&qi(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,hn.Z.N.call(this)};function Mc(d){Yt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}b(Mc,Yt);function kc(){Hn.call(this),this.status=1}b(kc,Hn);function dr(d){this.g=d}b(dr,Dc),dr.prototype.ra=function(){Ut(this.g,"a")},dr.prototype.qa=function(d){Ut(this.g,new Mc(d))},dr.prototype.pa=function(d){Ut(this.g,new kc)},dr.prototype.oa=function(){Ut(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,gS=function(){return new Zr},pS=function(){return Ha()},mS=Tt,ug={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,nh=Xs,gl.COMPLETE="complete",fS=gl,hc.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,wu=hc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,hS=Ze}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});const yw="@firebase/firestore",vw="4.9.2";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let sl="12.3.0";const Da=new Fh("@firebase/firestore");function Mo(){return Da.logLevel}function ye(n,...e){if(Da.logLevel<=Ve.DEBUG){const t=e.map(ry);Da.debug(`Firestore (${sl}): ${n}`,...t)}}function Vr(n,...e){if(Da.logLevel<=Ve.ERROR){const t=e.map(ry);Da.error(`Firestore (${sl}): ${n}`,...t)}}function Ko(n,...e){if(Da.logLevel<=Ve.WARN){const t=e.map(ry);Da.warn(`Firestore (${sl}): ${n}`,...t)}}function ry(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function xe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,yS(n,r,t)}function yS(n,e,t){let r=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vr(r),new Error(r)}function Qe(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||yS(e,a,r)}function Ie(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class vS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class zD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class BD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Os,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},f=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Os)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new vS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class FD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new FD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _w(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _w(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=GD(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function cg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return Dp(a)===Dp(o)?Ue(a,o):Dp(a)?1:-1}return Ue(n.length,e.length)}const $D=55296,YD=57343;function Dp(n){const e=n.charCodeAt(0);return e>=$D&&e<=YD}function Qo(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const bw="__name__";class Xi{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Xi.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Ue(e.length,t.length)}static compareSegments(e,t){const r=Xi.isNumericId(e),a=Xi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Xi.extractNumericId(e).compare(Xi.extractNumericId(t)):cg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class rt extends Xi{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const KD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Xi{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return KD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bw}static keyField(){return new en([bw])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(o(),a++)}if(o(),c)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(rt.fromString(e))}static fromName(e){return new Te(rt.fromString(e).popFirst(5))}static empty(){return new Te(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new rt(e.slice()))}}function _S(n,e,t){if(!t)throw new ge(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QD(n,e,t,r){if(e===!0&&r===!0)throw new ge(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ww(n){if(!Te.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tw(n){if(Te.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $h(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function ri(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$h(n);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function ec(n,e){if(!bS(n))throw new ge(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ge(ae.INVALID_ARGUMENT,t);return!0}const Ew=-62135596800,Sw=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Sw);return new ut(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ew)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sw}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ew;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Vt("string",ut._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ut(0,0))}static max(){return new Ce(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ju=-1;function XD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new ut(t+1,0):new ut(t,r));return new ks(a,Te.empty(),e)}function WD(n){return new ks(n.readTime,n.key,ju)}class ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ks(Ce.min(),Te.empty(),ju)}static max(){return new ks(Ce.max(),Te.empty(),ju)}}function JD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}const ZD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function al(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==ZD)throw n;ye("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,r)=>{t(e)}))}static reject(e){return new le(((t,r)=>{r(e)}))}static waitFor(e){return new le(((t,r)=>{let a=0,o=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++o,c&&o===a&&t()}),(h=>r(h)))})),c=!0,o===a&&t()}))}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next((a=>a?le.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new le(((r,a)=>{const o=e.length,c=new Array(o);let f=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next((v=>{c[p]=v,++f,f===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new le(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function tM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ol(n){return n.name==="IndexedDbTransactionError"}class Yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;const ay=-1;function Kh(n){return n==null}function Th(n){return n===0&&1/n==-1/0}function nM(n){return typeof n=="number"&&Number.isInteger(n)&&!Th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const wS="";function iM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xw(e)),e=rM(n.get(t),e);return xw(e)}function rM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case wS:t+="";break;default:t+=o}}return t}function xw(n){return n+wS+""}function Aw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=a??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Zt(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cw(this.data.getIterator())}getIteratorFrom(e){return new Cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new Ft(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class ES extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ES("Invalid base64 string: "+o):o}})(e);return new tn(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const sM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=sM.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const SS="server_timestamp",xS="__type__",AS="__previous_value__",CS="__local_write_time__";function oy(n){return(n?.mapValue?.fields||{})[xS]?.stringValue===SS}function Qh(n){const e=n.mapValue.fields[AS];return oy(e)?Qh(e):e}function Vu(n){const e=Ps(n.mapValue.fields[CS].timestampValue);return new ut(e.seconds,e.nanos)}class aM{constructor(e,t,r,a,o,c,f,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=v}}const Eh="(default)";class Uu{constructor(e,t){this.projectId=e,this.database=t||Eh}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}const RS="__type__",oM="__max__",Fd={mapValue:{}},IS="__vector__",Sh="value";function js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oy(n)?4:uM(n)?9007199254740991:lM(n)?10:11:xe(28295,{value:n})}function rr(n,e){if(n===e)return!0;const t=js(n);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vu(n).isEqual(Vu(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ps(a.timestampValue),f=Ps(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Ls(a.bytesValue).isEqual(Ls(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return At(a.geoPointValue.latitude)===At(o.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return At(a.integerValue)===At(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=At(a.doubleValue),f=At(o.doubleValue);return c===f?Th(c)===Th(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Qo(n.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},f=o.mapValue.fields||{};if(Aw(c)!==Aw(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!rr(c[h],f[h])))return!1;return!0})(n,e);default:return xe(52216,{left:n})}}function zu(n,e){return(n.values||[]).find((t=>rr(t,e)))!==void 0}function Xo(n,e){if(n===e)return 0;const t=js(n),r=js(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const f=At(o.integerValue||o.doubleValue),h=At(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return Rw(n.timestampValue,e.timestampValue);case 4:return Rw(Vu(n),Vu(e));case 5:return cg(n.stringValue,e.stringValue);case 6:return(function(o,c){const f=Ls(o),h=Ls(c);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const f=o.split("/"),h=c.split("/");for(let p=0;p<f.length&&p<h.length;p++){const v=Ue(f[p],h[p]);if(v!==0)return v}return Ue(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const f=Ue(At(o.latitude),At(c.latitude));return f!==0?f:Ue(At(o.longitude),At(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Iw(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const f=o.fields||{},h=c.fields||{},p=f[Sh]?.arrayValue,v=h[Sh]?.arrayValue,b=Ue(p?.values?.length||0,v?.values?.length||0);return b!==0?b:Iw(p,v)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Fd.mapValue&&c===Fd.mapValue)return 0;if(o===Fd.mapValue)return 1;if(c===Fd.mapValue)return-1;const f=o.fields||{},h=Object.keys(f),p=c.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const S=cg(h[b],v[b]);if(S!==0)return S;const E=Xo(f[h[b]],p[v[b]]);if(E!==0)return E}return Ue(h.length,v.length)})(n.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function Rw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Ps(n),r=Ps(e),a=Ue(t.seconds,r.seconds);return a!==0?a:Ue(t.nanos,r.nanos)}function Iw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Xo(t[a],r[a]);if(o)return o}return Ue(t.length,r.length)}function Wo(n){return dg(n)}function dg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ps(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ls(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Te.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=dg(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${dg(t.fields[c])}`;return a+"}"})(n.mapValue):xe(61005,{value:n})}function ih(n){switch(js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(n);return e?16+ih(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+ih(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Hs(r.fields,((o,c)=>{a+=o.length+ih(c)})),a})(n.mapValue);default:throw xe(13486,{value:n})}}function Nw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hg(n){return!!n&&"integerValue"in n}function ly(n){return!!n&&"arrayValue"in n}function Ow(n){return!!n&&"nullValue"in n}function Dw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rh(n){return!!n&&"mapValue"in n}function lM(n){return(n?.mapValue?.fields||{})[RS]?.stringValue===IS}function Cu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Hs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Cu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cu(n.arrayValue.values[t]);return e}return{...n}}function uM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oM}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(t)}setAll(e){let t=en.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=Cu(c):a.push(f.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];rh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Hs(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new In(Cu(this.value))}}function NS(n){const e=[];return Hs(n.fields,((t,r)=>{const a=new en([t]);if(rh(r)){const o=NS(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Bn(e)}class an{constructor(e,t,r,a,o,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new an(e,0,Ce.min(),Ce.min(),Ce.min(),In.empty(),0)}static newFoundDocument(e,t,r,a){return new an(e,1,t,Ce.min(),r,a,0)}static newNoDocument(e,t){return new an(e,2,t,Ce.min(),Ce.min(),In.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ce.min(),Ce.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xh{constructor(e,t){this.position=e,this.inclusive=t}}function Mw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=Te.comparator(Te.fromName(c.referenceValue),t.key):r=Xo(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function kw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rr(n.position[t],e.position[t]))return!1;return!0}class Bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function cM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class OS{}class jt extends OS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hM(e,t,r):t==="array-contains"?new pM(e,r):t==="in"?new gM(e,r):t==="not-in"?new yM(e,r):t==="array-contains-any"?new vM(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fM(e,r):new mM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xo(t,this.value)):t!==null&&js(this.value)===js(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends OS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ci(e,t)}matches(e){return DS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DS(n){return n.op==="and"}function MS(n){return dM(n)&&DS(n)}function dM(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function fg(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Wo(n.value);if(MS(n))return n.filters.map((e=>fg(e))).join(",");{const e=n.filters.map((t=>fg(t))).join(",");return`${n.op}(${e})`}}function kS(n,e){return n instanceof jt?(function(r,a){return a instanceof jt&&r.op===a.op&&r.field.isEqual(a.field)&&rr(r.value,a.value)})(n,e):n instanceof Ci?(function(r,a){return a instanceof Ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,f)=>o&&kS(c,a.filters[f])),!0):!1})(n,e):void xe(19439)}function PS(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wo(t.value)}`})(n):n instanceof Ci?(function(t){return t.op.toString()+" {"+t.getFilters().map(PS).join(" ,")+"}"})(n):"Filter"}class hM extends jt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class fM extends jt{constructor(e,t){super(e,"in",t),this.keys=LS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mM extends jt{constructor(e,t){super(e,"not-in",t),this.keys=LS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function LS(n,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class pM extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ly(t)&&zu(t.arrayValue,this.value)}}class gM extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}}class yM extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zu(this.value.arrayValue,t)}}class vM extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ly(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>zu(this.value.arrayValue,r)))}}class _M{constructor(e,t=null,r=[],a=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=f,this.Te=null}}function Pw(n,e=null,t=[],r=[],a=null,o=null,c=null){return new _M(n,e,t,r,a,o,c)}function uy(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>fg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Wo(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Wo(r))).join(",")),e.Te=t}return e.Te}function cy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kw(n.startAt,e.startAt)&&kw(n.endAt,e.endAt)}function mg(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ll{constructor(e,t=null,r=[],a=[],o=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bM(n,e,t,r,a,o,c,f){return new ll(n,e,t,r,a,o,c,f)}function Xh(n){return new ll(n)}function Lw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jS(n){return n.collectionGroup!==null}function Ru(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ft(en.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Bu(o,r))})),t.has(en.keyField().canonicalString())||e.Ie.push(new Bu(en.keyField(),r))}return e.Ie}function er(n){const e=Ie(n);return e.Ee||(e.Ee=wM(e,Ru(n))),e.Ee}function wM(n,e){if(n.limitType==="F")return Pw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Bu(a.field,o)}));const t=n.endAt?new xh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xh(n.startAt.position,n.startAt.inclusive):null;return Pw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function pg(n,e){const t=n.filters.concat([e]);return new ll(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gg(n,e,t){return new ll(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wh(n,e){return cy(er(n),er(e))&&n.limitType===e.limitType}function VS(n){return`${uy(er(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>PS(a))).join(", ")}]`),Kh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Wo(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Wo(a))).join(",")),`Target(${r})`})(er(n))}; limitType=${n.limitType})`}function Jh(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of Ru(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,h){const p=Mw(c,f,h);return c.inclusive?p<=0:p<0})(r.startAt,Ru(r),a)||r.endAt&&!(function(c,f,h){const p=Mw(c,f,h);return c.inclusive?p>=0:p>0})(r.endAt,Ru(r),a))})(n,e)}function TM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function US(n){return(e,t)=>{let r=!1;for(const a of Ru(n)){const o=EM(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function EM(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):(function(o,c,f){const h=c.data.field(o),p=f.data.field(o);return h!==null&&p!==null?Xo(h,p):xe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:n.dir})}}class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}const SM=new pt(Te.comparator);function Ur(){return SM}const zS=new pt(Te.comparator);function Tu(...n){let e=zS;for(const t of n)e=e.insert(t.key,t);return e}function BS(n){let e=zS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Sa(){return Iu()}function FS(){return Iu()}function Iu(){return new za((n=>n.toString()),((n,e)=>n.isEqual(e)))}const xM=new pt(Te.comparator),AM=new Ft(Te.comparator);function ze(...n){let e=AM;for(const t of n)e=e.add(t);return e}const CM=new Ft(Ue);function RM(){return CM}function dy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function qS(n){return{integerValue:""+n}}function IM(n,e){return nM(e)?qS(e):dy(n,e)}class Zh{constructor(){this._=void 0}}function NM(n,e,t){return n instanceof Fu?(function(a,o){const c={fields:{[xS]:{stringValue:SS},[CS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&oy(o)&&(o=Qh(o)),o&&(c.fields[AS]=o),{mapValue:c}})(t,e):n instanceof qu?GS(n,e):n instanceof Hu?$S(n,e):(function(a,o){const c=HS(a,o),f=jw(c)+jw(a.Ae);return hg(c)&&hg(a.Ae)?qS(f):dy(a.serializer,f)})(n,e)}function OM(n,e,t){return n instanceof qu?GS(n,e):n instanceof Hu?$S(n,e):t}function HS(n,e){return n instanceof Ah?(function(r){return hg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Fu extends Zh{}class qu extends Zh{constructor(e){super(),this.elements=e}}function GS(n,e){const t=YS(e);for(const r of n.elements)t.some((a=>rr(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Hu extends Zh{constructor(e){super(),this.elements=e}}function $S(n,e){let t=YS(e);for(const r of n.elements)t=t.filter((a=>!rr(a,r)));return{arrayValue:{values:t}}}class Ah extends Zh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jw(n){return At(n.integerValue||n.doubleValue)}function YS(n){return ly(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class DM{constructor(e,t){this.field=e,this.transform=t}}function MM(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof qu&&a instanceof qu||r instanceof Hu&&a instanceof Hu?Qo(r.elements,a.elements,rr):r instanceof Ah&&a instanceof Ah?rr(r.Ae,a.Ae):r instanceof Fu&&a instanceof Fu})(n.transform,e.transform)}class kM{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ef{}function KS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hy(n.key,si.none()):new tc(n.key,n.data,si.none());{const t=n.data,r=In.empty();let a=new Ft(en.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new Gs(n.key,r,new Bn(a.toArray()),si.none())}}function PM(n,e,t){n instanceof tc?(function(a,o,c){const f=a.value.clone(),h=Uw(a.fieldTransforms,o,c.transformResults);f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Gs?(function(a,o,c){if(!sh(a.precondition,o))return void o.convertToUnknownDocument(c.version);const f=Uw(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(QS(a)),h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Nu(n,e,t,r){return n instanceof tc?(function(o,c,f,h){if(!sh(o.precondition,c))return f;const p=o.value.clone(),v=zw(o.fieldTransforms,h,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Gs?(function(o,c,f,h){if(!sh(o.precondition,c))return f;const p=zw(o.fieldTransforms,h,c),v=c.data;return v.setAll(QS(o)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,e,t,r):(function(o,c,f){return sh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function LM(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=HS(r.transform,a||null);o!=null&&(t===null&&(t=In.empty()),t.set(r.field,o))}return t||null}function Vw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Qo(r,a,((o,c)=>MM(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tc extends ef{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gs extends ef{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Uw(n,e,t){const r=new Map;Qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,f=e.data.field(o.field);r.set(o.field,OM(c,f,t[a]))}return r}function zw(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,NM(o,c,e))}return r}class hy extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jM extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VM{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&PM(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FS();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=t.has(a.key)?null:f;const h=KS(c,f);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,((t,r)=>Vw(t,r)))&&Qo(this.baseMutations,e.baseMutations,((t,r)=>Vw(t,r)))}}class fy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return xM})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new fy(e,t,r,a)}}class UM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zM{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lt,Fe;function BM(n){switch(n){case ae.OK:return xe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function XS(n){if(n===void 0)return Vr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Lt.OK:return ae.OK;case Lt.CANCELLED:return ae.CANCELLED;case Lt.UNKNOWN:return ae.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ae.INTERNAL;case Lt.UNAVAILABLE:return ae.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ae.NOT_FOUND;case Lt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Lt.ABORTED:return ae.ABORTED;case Lt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Lt.DATA_LOSS:return ae.DATA_LOSS;default:return xe(39323,{code:n})}}(Fe=Lt||(Lt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function FM(){return new TextEncoder}const qM=new Ns([4294967295,4294967295],0);function Bw(n){const e=FM().encode(n),t=new dS;return t.update(e),new Uint8Array(t.digest())}function Fw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ns([t,r],0),new Ns([a,o],0)]}class my{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Eu(`Invalid padding: ${t}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ns.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Ns.fromNumber(r)));return a.compare(qM)===1&&(a=new Ns([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Bw(e),[r,a]=Fw(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new my(o,a,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=Bw(e),[r,a]=Fw(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tf{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tf(Ce.min(),a,new pt(Ue),Ur(),ze())}}class nc{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nc(r,t,ze(),ze(),ze())}}class ah{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class WS{constructor(e,t){this.targetId=e,this.Ce=t}}class JS{constructor(e,t,r=tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class qw{constructor(){this.ve=0,this.Fe=Hw(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:o})}})),new nc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Hw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=qd(),this.He=qd(),this.Ye=new pt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(mg(o))if(r===0){const c=new Te(o.path);this.et(t,c,an.newNoDocument(c,Ce.min()))}else Qe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,f;try{c=Ls(r).toUint8Array()}catch(h){if(h instanceof ES)return Ko("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new my(c,a,o)}catch(h){return Ko(h instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const f=this.ot(c);if(f){if(o.current&&mg(f.target)){const h=new Te(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,an.newNoDocument(h,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let r=ze();this.He.forEach(((o,c)=>{let f=!0;c.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new tf(e,t,this.Ye,this.je,r);return this.je=Ur(),this.Je=qd(),this.He=qd(),this.Ye=new pt(Ue),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new qw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qd(){return new pt(Te.comparator)}function Hw(){return new pt(Te.comparator)}const GM={asc:"ASCENDING",desc:"DESCENDING"},$M={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YM={and:"AND",or:"OR"};class KM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yg(n,e){return n.useProto3Json||Kh(e)?e:{value:e}}function Ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QM(n,e){return Ch(n,e.toTimestamp())}function tr(n){return Qe(!!n,49232),Ce.fromTimestamp((function(t){const r=Ps(t);return new ut(r.seconds,r.nanos)})(n))}function py(n,e){return vg(n,e).canonicalString()}function vg(n,e){const t=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ex(n){const e=rt.fromString(n);return Qe(sx(e),10190,{key:e.toString()}),e}function _g(n,e){return py(n.databaseId,e.path)}function Mp(n,e){const t=ex(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(nx(t))}function tx(n,e){return py(n.databaseId,e)}function XM(n){const e=ex(n);return e.length===4?rt.emptyPath():nx(e)}function bg(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nx(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Gw(n,e,t){return{name:_g(n,e),fields:t.value.mapValue.fields}}function WM(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(p,v){return p.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ae.UNKNOWN:XS(p.code);return new ge(v,p.message||"")})(c);t=new JS(r,a,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Mp(n,r.document.name),o=tr(r.document.updateTime),c=r.document.createTime?tr(r.document.createTime):Ce.min(),f=new In({mapValue:{fields:r.document.fields}}),h=an.newFoundDocument(a,o,c,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new ah(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Mp(n,r.document),o=r.readTime?tr(r.readTime):Ce.min(),c=an.newNoDocument(a,o),f=r.removedTargetIds||[];t=new ah([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Mp(n,r.document),o=r.removedTargetIds||[];t=new ah([],o,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new zM(a,o),f=r.targetId;t=new WS(f,c)}}return t}function JM(n,e){let t;if(e instanceof tc)t={update:Gw(n,e.key,e.value)};else if(e instanceof hy)t={delete:_g(n,e.key)};else if(e instanceof Gs)t={update:Gw(n,e.key,e.data),updateMask:ok(e.fieldMask)};else{if(!(e instanceof jM))return xe(16599,{Vt:e.type});t={verify:_g(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const f=c.transform;if(f instanceof Fu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Hu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ah)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:QM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(n,e.precondition)),t}function ZM(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?tr(a.updateTime):tr(o);return c.isEqual(Ce.min())&&(c=tr(o)),new kM(c,a.transformResults||[])})(t,e)))):[]}function ek(n,e){return{documents:[tx(n,e.path)]}}function tk(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tx(n,a);const o=(function(p){if(p.length!==0)return rx(Ci.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((v=>(function(S){return{field:Po(S.field),direction:rk(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=yg(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function nk(n){let e=XM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Qe(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(b){const S=ix(b);return S instanceof Ci&&MS(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((S=>(function(M){return new Bu(Lo(M.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(b){let S;return S=typeof b=="object"?b.value:b,Kh(S)?null:S})(t.limit));let h=null;t.startAt&&(h=(function(b){const S=!!b.before,E=b.values||[];return new xh(E,S)})(t.startAt));let p=null;return t.endAt&&(p=(function(b){const S=!b.before,E=b.values||[];return new xh(E,S)})(t.endAt)),bM(e,a,c,o,f,"F",h,p)}function ik(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ix(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Lo(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(t.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lo(t.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(t.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(Lo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ci.create(t.compositeFilter.filters.map((r=>ix(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(n):xe(30097,{filter:n})}function rk(n){return GM[n]}function sk(n){return $M[n]}function ak(n){return YM[n]}function Po(n){return{fieldPath:n.canonicalString()}}function Lo(n){return en.fromServerFormat(n.fieldPath)}function rx(n){return n instanceof jt?(function(t){if(t.op==="=="){if(Dw(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(Ow(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Dw(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(Ow(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:sk(t.op),value:t.value}}})(n):n instanceof Ci?(function(t){const r=t.getFilters().map((a=>rx(a)));return r.length===1?r[0]:{compositeFilter:{op:ak(t.op),filters:r}}})(n):xe(54877,{filter:n})}function ok(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class As{constructor(e,t,r,a,o=Ce.min(),c=Ce.min(),f=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lk{constructor(e){this.yt=e}}function uk(n){const e=nk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gg(e,e.limit,"L"):e}class ck{constructor(){this.Cn=new dk}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(ks.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ft(rt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ft(rt.comparator)).toArray()}}const $w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ax=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(ax,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jo(0)}static cr(){return new Jo(-1)}}const Yw="LruGarbageCollector",hk=1048576;function Kw([n,e],[t,r]){const a=Ue(n,t);return a===0?Ue(e,r):a}class fk{constructor(e){this.Ir=e,this.buffer=new Ft(Kw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Kw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Yw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ol(t)?ye(Yw,"Ignoring IndexedDB error during garbage collection: ",t):await al(t)}await this.Vr(3e5)}))}}class pk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Yh.ce);const r=new fk(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve($w)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$w):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,o,c,f,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,f=Date.now(),this.removeTargets(e,r,t)))).next((b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),Mo()<=Ve.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${o} targets in `+(h-f)+`ms
	Removed ${b} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function gk(n,e){return new pk(n,e)}class yk{constructor(){this.changes=new za((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _k{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Nu(r.mutation,a,Bn.empty(),ut.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const a=Sa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let c=Tu();return o.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Sa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,a){let o=Ur();const c=Iu(),f=(function(){return Iu()})();return t.forEach(((h,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Gs)?o=o.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Nu(v.mutation,p,v.mutation.getFieldMask(),ut.now())):c.set(p.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((p,v)=>c.set(p,v))),t.forEach(((p,v)=>f.set(p,new vk(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=Iu();let a=new pt(((c,f)=>c-f)),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let v=r.get(h)||Bn.empty();v=f.applyToLocalView(p,v),r.set(h,v);const b=(a.get(f.batchId)||ze()).add(h);a=a.insert(f.batchId,b)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,v=h.value,b=FS();v.forEach((S=>{if(!o.has(S)){const E=KS(t.get(S),r.get(S));E!==null&&b.set(S,E),o=o.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return le.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):le.resolve(Sa());let f=ju,h=o;return c.next((p=>le.forEach(p,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),o.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{h=h.insert(v,S)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,h,p,ze()))).next((v=>({batchId:f,changes:BS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((r=>{let a=Tu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Tu();return this.indexManager.getCollectionParents(e,o).next((f=>le.forEach(f,(h=>{const p=(function(b,S){return new ll(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((c=>{o.forEach(((h,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,an.newInvalidDocument(v)))}));let f=Tu();return c.forEach(((h,p)=>{const v=o.get(h);v!==void 0&&Nu(v.mutation,p,Bn.empty(),ut.now()),Jh(t,p)&&(f=f.insert(h,p))})),f}))}}class bk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:tr(a.createTime)}})(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:uk(a.bundledQuery),readTime:tr(a.readTime)}})(t)),le.resolve()}}class wk{constructor(){this.overlays=new pt(Te.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Sa();return le.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.St(e,t,o)})),le.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const a=Sa(),o=t.length+1,c=new Te(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new pt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=Sa(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Sa(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return le.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new UM(t,r));let o=this.qr.get(t);o===void 0&&(o=ze(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}class Tk{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}class gy{constructor(){this.Qr=new Ft($t.$r),this.Ur=new Ft($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new $t(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new $t(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Te(new rt([])),r=new $t(t,e),a=new $t(t,e+1),o=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new rt([])),r=new $t(t,e),a=new $t(t,e+1);let o=ze();return this.Ur.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new $t(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}class Ek{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft($t.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VM(o,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),o=a<0?0:a;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?ay:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),a=new $t(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);o.push(f)})),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Ue);return t.forEach((a=>{const o=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(f=>{r=r.add(f.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Te.isDocumentKey(o)||(o=o.child(""));const c=new $t(new Te(o),0);let f=new Ft(Ue);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(h.Yr)),!0)}),c),le.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(t.mutations,(a=>{const o=new $t(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new $t(t,0),a=this.Zr.firstAfterOrEqual(r);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sk{constructor(e){this.ri=e,this.docs=(function(){return new pt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=Ur();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():an.newInvalidDocument(a))})),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Ur();const c=t.path,f=new Te(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||JD(WD(v),r)<=0||(a.has(v.key)||Jh(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,t,r,a){xe(9500)}ii(e,t){return le.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new xk(this)}getSize(e){return le.resolve(this.size)}}class xk extends yk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Ak{constructor(e){this.persistence=e,this.si=new za((t=>uy(t)),cy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new gy,this.targetCount=0,this.ai=Jo.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),le.waitFor(o).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),le.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}class ox{constructor(e,t){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new Tk,this.referenceDelegate=e(this),this.Pi=new Ak(this),this.indexManager=new ck,this.remoteDocumentCache=(function(a){return new Sk(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new lk(t),this.Ii=new bk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Ek(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const a=new Ck(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class Ck extends eM{constructor(e){super(),this.currentSequenceNumber=e}}class yy{constructor(e){this.persistence=e,this.Ri=new gy,this.Vi=null}static mi(e){return new yy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const a=Te.fromPath(r);return this.gi(e,a).next((o=>{o||t.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Rh{constructor(e,t){this.persistence=e,this.pi=new za((r=>iM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=gk(this,t)}static mi(e,t){return new Rh(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return le.forEach(this.pi,((r,a)=>this.br(e,r,a).next((o=>o?le.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,o.removeEntry(c,Ce.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ih(e.data.value)),t}br(e,t,r){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=ze(),a=ze();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new vy(e,t.fromCache,r,a)}}class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ik{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WI()?8:tM(ln())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Rk;return this.Ss(e,t,c).next((f=>{if(o.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>o.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(Mo()<=Ve.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Mo()<=Ve.DEBUG&&ye("QueryEngine","Query:",ko(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Mo()<=Ve.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(t))):le.resolve())}ys(e,t){if(Lw(t))return le.resolve(null);let r=er(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=gg(t,null,"F"),r=er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=ze(...o);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,f);return this.Cs(t,p,c,h.readTime)?this.ys(e,gg(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,a){return Lw(t)||a.isEqual(Ce.min())?le.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,r,a)?le.resolve(null):(Mo()<=Ve.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(t)),this.vs(e,c,t,XD(a,ju)).next((f=>f)))}))}Ds(e,t){let r=new Ft(US(e));return t.forEach(((a,o)=>{Jh(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,r){return Mo()<=Ve.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ps.getDocumentsMatchingQuery(e,t,ks.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const _y="LocalStore",Nk=3e8;class Ok{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new pt(Ue),this.xs=new za((o=>uy(o)),cy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _k(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Dk(n,e,t,r){return new Ok(n,e,t,r)}async function lx(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],f=[];let h=ze();for(const p of a){c.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of o){f.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function Mk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,p,v){const b=p.batch,S=b.keys();let E=le.resolve();return S.forEach((M=>{E=E.next((()=>v.getEntry(h,M))).next((k=>{const N=p.docVersions.get(M);Qe(N!==null,48541),k.version.compareTo(N)<0&&(b.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))}))})),E.next((()=>f.mutationQueue.removeMutationBatch(h,b)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function ux(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kk(n,e){const t=Ie(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const S=a.get(b);if(!S)return;f.push(t.Pi.removeMatchingKeys(o,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(o,v.addedDocuments,b))));let E=S.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?E=E.withResumeToken(tn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(v.resumeToken,r)),a=a.insert(b,E),(function(k,N,U){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Nk?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(S,E,v)&&f.push(t.Pi.updateTargetData(o,E))}));let h=Ur(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),f.push(Pk(o,c,e.documentUpdates).next((v=>{h=v.ks,p=v.qs}))),!r.isEqual(Ce.min())){const v=t.Pi.getLastRemoteSnapshotVersion(o).next((b=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));f.push(v)}return le.waitFor(f).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,p))).next((()=>h))})).then((o=>(t.Ms=a,o)))}function Pk(n,e,t){let r=ze(),a=ze();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=Ur();return t.forEach(((f,h)=>{const p=o.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(Ce.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):ye(_y,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function Lk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ay),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((o=>o?(a=o,le.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new As(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function wg(n,e,t){const r=Ie(n),a=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ol(c))throw c;ye(_y,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Qw(n,e,t){const r=Ie(n);let a=Ce.min(),o=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,v){const b=Ie(h),S=b.xs.get(v);return S!==void 0?le.resolve(b.Ms.get(S)):b.Pi.getTargetData(p,v)})(r,c,er(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Ce.min(),t?o:ze()))).next((f=>(Vk(r,TM(e),f),{documents:f,Qs:o})))))}function Vk(n,e,t){let r=n.Os.get(e)||Ce.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class Xw{constructor(){this.activeTargetIds=RM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uk{constructor(){this.Mo=new Xw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zk{Oo(e){}shutdown(){}}const Ww="ConnectivityMonitor";class Jw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Ww,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hd=null;function Tg(){return Hd===null?Hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hd++,"0x"+Hd.toString(16)}const kp="RestConnection",Bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Eh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,o){const c=Tg(),f=this.zo(e,t.toUriEncodedString());ye(kp,`Sending RPC '${e}' ${c}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,o);const{host:p}=new URL(f),v=Bs(p);return this.Jo(e,f,h,r,v).then((b=>(ye(kp,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Ko(kp,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",r),b}))}Ho(e,t,r,a,o,c){return this.Go(e,t,r,a,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const r=Bk[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class qk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class Hk extends Fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,o){const c=Tg();return new Promise(((f,h)=>{const p=new hS;p.setWithCredentials(!0),p.listenOnce(fS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nh.NO_ERROR:const b=p.getResponseJson();ye(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case nh.TIMEOUT:ye(rn,`RPC '${e}' ${c} timed out`),h(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const S=p.getStatus();if(ye(rn,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const M=E?.error;if(M&&M.status&&M.message){const k=(function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(B)>=0?B:ae.UNKNOWN})(M.status);h(new ge(k,M.message))}else h(new ge(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(rn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ye(rn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=Tg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=gS(),f=pS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=o.join("");ye(rn,`Creating RPC '${e}' stream ${a}: ${v}`,h);const b=c.createWebChannel(v,h);this.I_(b);let S=!1,E=!1;const M=new qk({Yo:N=>{E?ye(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(S||(ye(rn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),S=!0),ye(rn,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},Zo:()=>b.close()}),k=(N,U,B)=>{N.listen(U,(z=>{try{B(z)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return k(b,wu.EventType.OPEN,(()=>{E||(ye(rn,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),k(b,wu.EventType.CLOSE,(()=>{E||(E=!0,ye(rn,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(b))})),k(b,wu.EventType.ERROR,(N=>{E||(E=!0,Ko(rn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),M.a_(new ge(ae.UNAVAILABLE,"The operation could not be completed")))})),k(b,wu.EventType.MESSAGE,(N=>{if(!E){const U=N.data[0];Qe(!!U,16349);const B=U,z=B?.error||B[0]?.error;if(z){ye(rn,`RPC '${e}' stream ${a} received error:`,z);const ne=z.status;let ee=(function(x){const D=Lt[x];if(D!==void 0)return XS(D)})(ne),ie=z.message;ee===void 0&&(ee=ae.INTERNAL,ie="Unknown error status: "+ne+" with message "+z.message),E=!0,M.a_(new ge(ee,ie)),b.close()}else ye(rn,`RPC '${e}' stream ${a} received:`,U),M.u_(U)}})),k(f,mS.STAT_EVENT,(N=>{N.stat===ug.PROXY?ye(rn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===ug.NOPROXY&&ye(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pp(){return typeof document<"u"?document:null}function nf(n){return new KM(n,!0)}class cx{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Zw="PersistentStream";class dx{constructor(e,t,r,a,o,c,f,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ge(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(Zw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(Zw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gk extends dx{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=WM(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ce.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?tr(c.readTime):Ce.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=bg(this.serializer),t.addTarget=(function(o,c){let f;const h=c.target;if(f=mg(h)?{documents:ek(o,h)}:{query:tk(o,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=ZS(o,c.resumeToken);const p=yg(o,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Ch(o,c.snapshotVersion.toTimestamp());const p=yg(o,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=ik(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=bg(this.serializer),t.removeTarget=e,this.q_(t)}}class $k extends dx{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ZM(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=bg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>JM(this.serializer,r)))};this.q_(t)}}class Yk{}class Kk extends Yk{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,vg(t,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ae.UNKNOWN,o.toString())}))}Ho(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,vg(t,r),a,c,f,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Qk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ma="RemoteStore";class Xk{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ba(this)&&(ye(Ma,"Restarting streams for network reachability change."),await(async function(h){const p=Ie(h);p.Ea.add(4),await ic(p),p.Ra.set("Unknown"),p.Ea.delete(4),await rf(p)})(this))}))})),this.Ra=new Qk(r,a)}}async function rf(n){if(Ba(n))for(const e of n.da)await e(!0)}async function ic(n){for(const e of n.da)await e(!1)}function hx(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ey(t)?Ty(t):ul(t).O_()&&wy(t,e))}function by(n,e){const t=Ie(n),r=ul(t);t.Ia.delete(e),r.O_()&&fx(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ba(t)&&t.Ra.set("Unknown"))}function wy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(n).Y_(e)}function fx(n,e){n.Va.Ue(e),ul(n).Z_(e)}function Ty(n){n.Va=new HM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ul(n).start(),n.Ra.ua()}function Ey(n){return Ba(n)&&!ul(n).x_()&&n.Ia.size>0}function Ba(n){return Ie(n).Ea.size===0}function mx(n){n.Va=void 0}async function Wk(n){n.Ra.set("Online")}async function Jk(n){n.Ia.forEach(((e,t)=>{wy(n,e)}))}async function Zk(n,e){mx(n),Ey(n)?(n.Ra.ha(e),Ty(n)):n.Ra.set("Unknown")}async function eP(n,e,t){if(n.Ra.set("Online"),e instanceof JS&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const f of o.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){ye(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ih(n,r)}else if(e instanceof ah?n.Va.Ze(e):e instanceof WS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const r=await ux(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const f=o.Va.Tt(c);return f.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=o.Ia.get(p);v&&o.Ia.set(p,v.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,p)=>{const v=o.Ia.get(h);if(!v)return;o.Ia.set(h,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),fx(o,h);const b=new As(v.target,h,p,v.sequenceNumber);wy(o,b)})),o.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){ye(Ma,"Failed to raise snapshot:",r),await Ih(n,r)}}async function Ih(n,e,t){if(!ol(e))throw e;n.Ea.add(1),await ic(n),n.Ra.set("Offline"),t||(t=()=>ux(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(Ma,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rf(n)}))}function px(n,e){return e().catch((t=>Ih(n,t,e)))}async function sf(n){const e=Ie(n),t=Vs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ay;for(;tP(e);)try{const a=await Lk(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,nP(e,a)}catch(a){await Ih(e,a)}gx(e)&&yx(e)}function tP(n){return Ba(n)&&n.Ta.length<10}function nP(n,e){n.Ta.push(e);const t=Vs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function gx(n){return Ba(n)&&!Vs(n).x_()&&n.Ta.length>0}function yx(n){Vs(n).start()}async function iP(n){Vs(n).ra()}async function rP(n){const e=Vs(n);for(const t of n.Ta)e.ea(t.mutations)}async function sP(n,e,t){const r=n.Ta.shift(),a=fy.from(r,e,t);await px(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await sf(n)}async function aP(n,e){e&&Vs(n).X_&&await(async function(r,a){if((function(c){return BM(c)&&c!==ae.ABORTED})(a.code)){const o=r.Ta.shift();Vs(r).B_(),await px(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await sf(r)}})(n,e),gx(n)&&yx(n)}async function eT(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ye(Ma,"RemoteStore received new credentials");const r=Ba(t);t.Ea.add(3),await ic(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rf(t)}async function oP(n,e){const t=Ie(n);e?(t.Ea.delete(2),await rf(t)):e||(t.Ea.add(2),await ic(t),t.Ra.set("Unknown"))}function ul(n){return n.ma||(n.ma=(function(t,r,a){const o=Ie(t);return o.sa(),new Gk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:Wk.bind(null,n),t_:Jk.bind(null,n),r_:Zk.bind(null,n),H_:eP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ey(n)?Ty(n):n.Ra.set("Unknown")):(await n.ma.stop(),mx(n))}))),n.ma}function Vs(n){return n.fa||(n.fa=(function(t,r,a){const o=Ie(t);return o.sa(),new $k(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:iP.bind(null,n),r_:aP.bind(null,n),ta:rP.bind(null,n),na:sP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await sf(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(Ma,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Sy{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,f=new Sy(e,t,c,a,o);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),ol(n))return new ge(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Tu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class tT{constructor(){this.ga=new pt(Te.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Zo{constructor(e,t,r,a,o,c,f,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Zo(e,t,Fo.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class lP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uP{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ie(t),o=a.queries;a.queries=nT(),o.forEach(((c,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function nT(){return new za((n=>VS(n)),Wh)}async function vx(n,e){const t=Ie(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(r=2):(o=new lP,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=xy(c,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Ay(t)}async function _x(n,e){const t=Ie(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function cP(n,e){const t=Ie(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&Ay(t)}function dP(n,e,t){const r=Ie(n),a=r.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);r.queries.delete(e)}function Ay(n){n.Ca.forEach((e=>{e.next()}))}var Eg,iT;(iT=Eg||(Eg={})).Ma="default",iT.Cache="cache";class bx{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Eg.Cache}}class wx{constructor(e){this.key=e}}class Tx{constructor(e){this.key=e}}class hP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=US(e),this.tu=new Fo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new tT,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const S=a.get(v),E=Jh(this.query,b)?b:null,M=!!S&&this.mutatedKeys.has(S.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;S&&E?S.data.isEqual(E.data)?M!==k&&(r.track({type:3,doc:E}),N=!0):this.su(S,E)||(r.track({type:2,doc:E}),N=!0,(h&&this.eu(E,h)>0||p&&this.eu(E,p)<0)&&(f=!0)):!S&&E?(r.track({type:0,doc:E}),N=!0):S&&!E&&(r.track({type:1,doc:S}),N=!0,(h||p)&&(f=!0)),N&&(E?(c=c.add(E),o=k?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:f,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(E,M){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:N})}};return k(E)-k(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,p=h!==this.Za;return this.Za=h,c.length!==0||p?{snapshot:new Zo(this.query,e.tu,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Tx(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new wx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cy="SyncEngine";class fP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mP{constructor(e){this.key=e,this.hu=!1}}class pP{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new za((f=>VS(f)),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new pt(Te.comparator),this.Au=new Map,this.Ru=new gy,this.Vu={},this.mu=new Map,this.fu=Jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gP(n,e,t=!0){const r=Rx(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await Ex(r,e,t,!0),a}async function yP(n,e){const t=Rx(n);await Ex(t,e,!0,!1)}async function Ex(n,e,t,r){const a=await jk(n.localStore,er(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let f;return r&&(f=await vP(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&hx(n.remoteStore,a),f}async function vP(n,e,t,r,a){n.pu=(b,S,E)=>(async function(k,N,U,B){let z=N.view.ru(U);z.Cs&&(z=await Qw(k.localStore,N.query,!1).then((({documents:O})=>N.view.ru(O,z))));const ne=B&&B.targetChanges.get(N.targetId),ee=B&&B.targetMismatches.get(N.targetId)!=null,ie=N.view.applyChanges(z,k.isPrimaryClient,ne,ee);return sT(k,N.targetId,ie.au),ie.snapshot})(n,b,S,E);const o=await Qw(n.localStore,e,!0),c=new hP(e,o.Qs),f=c.ru(o.documents),h=nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,h);sT(n,t,p.au);const v=new fP(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function _P(n,e,t){const r=Ie(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!Wh(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await wg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&by(r.remoteStore,a.targetId),Sg(r,a.targetId)})).catch(al)):(Sg(r,a.targetId),await wg(r.localStore,a.targetId,!0))}async function bP(n,e){const t=Ie(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),by(t.remoteStore,r.targetId))}async function wP(n,e,t){const r=RP(n);try{const a=await(function(c,f){const h=Ie(c),p=ut.now(),v=f.reduce(((E,M)=>E.add(M.key)),ze());let b,S;return h.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let M=Ur(),k=ze();return h.Ns.getEntries(E,v).next((N=>{M=N,M.forEach(((U,B)=>{B.isValidDocument()||(k=k.add(U))}))})).next((()=>h.localDocuments.getOverlayedDocuments(E,M))).next((N=>{b=N;const U=[];for(const B of f){const z=LM(B,b.get(B.key).overlayedDocument);z!=null&&U.push(new Gs(B.key,z,NS(z.value.mapValue),si.exists(!0)))}return h.mutationQueue.addMutationBatch(E,p,U,f)})).next((N=>{S=N;const U=N.applyToLocalDocumentSet(b,k);return h.documentOverlayCache.saveOverlays(E,N.batchId,U)}))})).then((()=>({batchId:S.batchId,changes:BS(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,h){let p=c.Vu[c.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(f,h),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,t),await rc(r,a.changes),await sf(r.remoteStore)}catch(a){const o=xy(a,"Failed to persist write");t.reject(o)}}async function Sx(n,e){const t=Ie(n);try{const r=await kk(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qe(c.hu,14607):a.removedDocuments.size>0&&(Qe(c.hu,42227),c.hu=!1))})),await rc(t,r,e)}catch(r){await al(r)}}function rT(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const h=Ie(c);h.onlineState=f;let p=!1;h.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(f)&&(p=!0)})),p&&Ay(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TP(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new pt(Te.comparator);c=c.insert(o,an.newNoDocument(o,Ce.min()));const f=ze().add(o),h=new tf(Ce.min(),new Map,new pt(Ue),c,f);await Sx(r,h),r.du=r.du.remove(o),r.Au.delete(e),Ry(r)}else await wg(r.localStore,e,!1).then((()=>Sg(r,e,t))).catch(al)}async function EP(n,e){const t=Ie(n),r=e.batch.batchId;try{const a=await Mk(t.localStore,e);Ax(t,r,null),xx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rc(t,a)}catch(a){await al(a)}}async function SP(n,e,t){const r=Ie(n);try{const a=await(function(c,f){const h=Ie(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return h.mutationQueue.lookupMutationBatch(p,f).next((b=>(Qe(b!==null,37113),v=b.keys(),h.mutationQueue.removeMutationBatch(p,b)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>h.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);Ax(r,e,t),xx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rc(r,a)}catch(a){await al(a)}}function xx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Ax(n,e,t){const r=Ie(n);let a=r.Vu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Sg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Cx(n,r)}))}function Cx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(by(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ry(n))}function sT(n,e,t){for(const r of t)r instanceof wx?(n.Ru.addReference(r.key,e),xP(n,r)):r instanceof Tx?(ye(Cy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Cx(n,r.key)):xe(19791,{wu:r})}function xP(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ye(Cy,"New document in limbo: "+t),n.Eu.add(r),Ry(n))}function Ry(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Te(rt.fromString(e)),r=n.fu.next();n.Au.set(r,new mP(t)),n.du=n.du.insert(t,r),hx(n.remoteStore,new As(er(Xh(t.path)),r,"TargetPurposeLimboResolution",Yh.ce))}}async function rc(n,e,t){const r=Ie(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{c.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){a.push(p);const v=vy.As(h.targetId,p);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,p){const v=Ie(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(p,(S=>le.forEach(S.Es,(E=>v.persistence.referenceDelegate.addReference(b,S.targetId,E))).next((()=>le.forEach(S.ds,(E=>v.persistence.referenceDelegate.removeReference(b,S.targetId,E)))))))))}catch(b){if(!ol(b))throw b;ye(_y,"Failed to update sequence numbers: "+b)}for(const b of p){const S=b.targetId;if(!b.fromCache){const E=v.Ms.get(S),M=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(S,k)}}})(r.localStore,o))}async function AP(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ye(Cy,"User change. New user:",e.toKey());const r=await lx(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((f=>{f.forEach((h=>{h.reject(new ge(ae.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rc(t,r.Ls)}}function CP(n,e){const t=Ie(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Rx(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TP.bind(null,e),e.Pu.H_=cP.bind(null,e.eventManager),e.Pu.yu=dP.bind(null,e.eventManager),e}function RP(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SP.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Dk(this.persistence,new Ik,e.initialUser,this.serializer)}Cu(e){return new ox(yy.mi,this.serializer)}Du(e){return new Uk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class IP extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof Rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new ox((r=>Rh.mi(r,t)),this.serializer)}}class xg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AP.bind(null,this.syncEngine),await oP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uP})()}createDatastore(e){const t=nf(e.databaseInfo.databaseId),r=(function(o){return new Hk(o)})(e.databaseInfo);return(function(o,c,f,h){return new Kk(o,c,f,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,c,f){return new Xk(r,a,o,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>rT(this.syncEngine,t,0)),(function(){return Jw.v()?new Jw:new zk})())}createSyncEngine(e,t){return(function(a,o,c,f,h,p,v){const b=new pP(a,o,c,f,h,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ie(t);ye(Ma,"RemoteStore shutting down."),r.Ea.add(5),await ic(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xg.provider={build:()=>new xg};class Ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Us="FirestoreClient";class NP{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{ye(Us,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(Us,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=xy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Us,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await lx(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function aT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await OP(n);ye(Us,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>eT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>eT(e.remoteStore,a))),n._onlineComponents=e}async function OP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Us,"Using user provided OfflineComponentProvider");try{await Lp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await Lp(n,new Nh)}}else ye(Us,"Using default OfflineComponentProvider"),await Lp(n,new IP(void 0));return n._offlineComponents}async function Nx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Us,"Using user provided OnlineComponentProvider"),await aT(n,n._uninitializedComponentsProvider._online)):(ye(Us,"Using default OnlineComponentProvider"),await aT(n,new xg))),n._onlineComponents}function DP(n){return Nx(n).then((e=>e.syncEngine))}async function Ag(n){const e=await Nx(n),t=e.eventManager;return t.onListen=gP.bind(null,e.syncEngine),t.onUnlisten=_P.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bP.bind(null,e.syncEngine),t}function MP(n,e,t={}){const r=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,f,h,p){const v=new Ix({next:S=>{v.Nu(),c.enqueueAndForget((()=>_x(o,b)));const E=S.docs.has(f);!E&&S.fromCache?p.reject(new ge(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&S.fromCache&&h&&h.source==="server"?p.reject(new ge(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new bx(Xh(f.path),v,{includeMetadataChanges:!0,qa:!0});return vx(o,b)})(await Ag(n),n.asyncQueue,e,t,r))),r.promise}function Ox(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const oT=new Map;const Dx="firestore.googleapis.com",lT=!0;class uT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dx,this.ssl=lT}else this.host=e.host,this.ssl=e.ssl??lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ax;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hk)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UD;switch(r.type){case"firstParty":return new qD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=oT.get(t);r&&(ye("ComponentProvider","Removing Datastore"),oT.delete(t),r.terminate())})(this),Promise.resolve()}}function kP(n,e,t,r={}){n=ri(n,af);const a=Bs(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(Hg(`https://${f}`),Gg("Firestore",!0)),o.host!==Dx&&o.host!==f&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:f,ssl:a,emulatorOptions:r};if(!Ia(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=sn.MOCK_USER;else{p=_E(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(b)}n._authCredentials=new zD(new vS(p,v))}}class Fa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fa(this.firestore,e,this._query)}}class wt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ec(t,wt._jsonSchema))return new wt(e,r||null,new Te(rt.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Vt("string",wt._jsonSchemaVersion),referencePath:Vt("string")};class Ds extends Fa{constructor(e,t,r){super(e,t,Xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Te(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Ou(n,e,...t){if(n=st(n),_S("collection","path",e),n instanceof af){const r=rt.fromString(e,...t);return Tw(r),new Ds(n,null,r)}{if(!(n instanceof wt||n instanceof Ds))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Tw(r),new Ds(n.firestore,null,r)}}function pn(n,e,...t){if(n=st(n),arguments.length===1&&(e=sy.newId()),_S("doc","path",e),n instanceof af){const r=rt.fromString(e,...t);return ww(r),new wt(n,null,new Te(r))}{if(!(n instanceof wt||n instanceof Ds))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return ww(r),new wt(n.firestore,n instanceof Ds?n.converter:null,new Te(r))}}const cT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cx(this,"async_queue_retry"),this._c=()=>{const r=Pp();r&&ye(cT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;ye(cT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",hT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Sy.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:hT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function hT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function fT(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class zs extends af{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new dT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function PP(n,e){const t=typeof n=="object"?n:Yg(),r=typeof n=="string"?n:Eh,a=nl(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=gE("firestore");o&&kP(a,...o)}return a}function Iy(n){if(n._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LP(n),n._firestoreClient}function LP(n){const e=n._freezeSettings(),t=(function(a,o,c,f){return new aM(a,o,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Ox(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new NP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(tn.fromBase64String(e))}catch(t){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ii(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Vt("string",ii._jsonSchemaVersion),bytes:Vt("string")};class of{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lf{constructor(e){this._methodName=e}}class nr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(ec(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Vt("string",nr._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class ir{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ir(e.vectorValues);throw new ge(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:Vt("string",ir._jsonSchemaVersion),vectorValues:Vt("object")};const jP=/^__.*__$/;class VP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}class Mx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:n})}}class Ny{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ny({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kx(this.Ac)&&jP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nf(e)}Cc(e,t,r,a=!1){return new Ny({Ac:e,methodName:t,Dc:r,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uf(n){const e=n._freezeSettings(),t=nf(n._databaseId);return new UP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Px(n,e,t,r,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);Dy("Data must be an object, but it was:",c,r);const f=Lx(r,c);let h,p;if(o.merge)h=new Bn(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const b of o.mergeFields){const S=Cg(e,b,t);if(!c.contains(S))throw new ge(ae.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Vx(v,S)||v.push(S)}h=new Bn(v),p=c.fieldTransforms.filter((b=>h.covers(b.field)))}else h=null,p=c.fieldTransforms;return new VP(new In(f),h,p)}class cf extends lf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}class Oy extends lf{_toFieldTransform(e){return new DM(e.path,new Fu)}isEqual(e){return e instanceof Oy}}function zP(n,e,t,r){const a=n.Cc(1,e,t);Dy("Data must be an object, but it was:",a,r);const o=[],c=In.empty();Hs(r,((h,p)=>{const v=My(e,h,t);p=st(p);const b=a.yc(v);if(p instanceof cf)o.push(v);else{const S=sc(p,b);S!=null&&(o.push(v),c.set(v,S))}}));const f=new Bn(o);return new Mx(c,f,a.fieldTransforms)}function BP(n,e,t,r,a,o){const c=n.Cc(1,e,t),f=[Cg(e,r,t)],h=[a];if(o.length%2!=0)throw new ge(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)f.push(Cg(e,o[S])),h.push(o[S+1]);const p=[],v=In.empty();for(let S=f.length-1;S>=0;--S)if(!Vx(p,f[S])){const E=f[S];let M=h[S];M=st(M);const k=c.yc(E);if(M instanceof cf)p.push(E);else{const N=sc(M,k);N!=null&&(p.push(E),v.set(E,N))}}const b=new Bn(p);return new Mx(v,b,c.fieldTransforms)}function FP(n,e,t,r=!1){return sc(t,n.Cc(r?4:3,e))}function sc(n,e){if(jx(n=st(n)))return Dy("Unsupported field value:",e,n),Lx(n,e);if(n instanceof lf)return(function(r,a){if(!kx(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const f of r){let h=sc(f,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ut.fromDate(r);return{timestampValue:Ch(a.serializer,o)}}if(r instanceof ut){const o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(a.serializer,o)}}if(r instanceof nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:ZS(a.serializer,r._byteString)};if(r instanceof wt){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:py(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ir)return(function(c,f){return{mapValue:{fields:{[RS]:{stringValue:IS},[Sh]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return dy(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${$h(r)}`)})(n,e)}function Lx(n,e){const t={};return TS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(n,((r,a)=>{const o=sc(a,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function jx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof nr||n instanceof ii||n instanceof wt||n instanceof lf||n instanceof ir)}function Dy(n,e,t){if(!jx(t)||!bS(t)){const r=$h(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Cg(n,e,t){if((e=st(e))instanceof of)return e._internalPath;if(typeof e=="string")return My(n,e);throw Oh("Field path arguments must be of type string or ",n,!1,void 0,t)}const qP=new RegExp("[~\\*/\\[\\]]");function My(n,e,t){if(e.search(qP)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new of(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Oh(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new ge(ae.INVALID_ARGUMENT,f+n+h)}function Vx(n,e){return n.some((t=>t.isEqual(e)))}class Ux{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(df("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HP extends Ux{data(){return super.data()}}function df(n,e){return typeof e=="string"?My(n,e):e instanceof of?e._internalPath:e._delegate._internalPath}function GP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class zx extends ky{}function Bx(n,e,...t){let r=[];e instanceof ky&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((h=>h instanceof Py)).length,f=o.filter((h=>h instanceof hf)).length;if(c>1||c>0&&f>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class hf extends zx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hf(e,t,r)}_apply(e){const t=this._parse(e);return Fx(e._query,t),new Fa(e.firestore,e.converter,pg(e._query,t))}_parse(e){const t=uf(e.firestore);return(function(o,c,f,h,p,v,b){let S;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){pT(b,v);const M=[];for(const k of b)M.push(mT(h,o,k));S={arrayValue:{values:M}}}else S=mT(h,o,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||pT(b,v),S=FP(f,c,b,v==="in"||v==="not-in");return jt.create(p,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $P(n,e,t){const r=e,a=df("where",n);return hf._create(a,r,t)}class Py extends ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Py(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const f=o.getFlattenedFilters();for(const h of f)Fx(c,h),c=pg(c,h)})(e._query,t),new Fa(e.firestore,e.converter,pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ly extends zx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ly(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(o,c)})(e._query,this._field,this._direction);return new Fa(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new ll(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function YP(n,e="asc"){const t=e,r=df("orderBy",n);return Ly._create(r,t)}function mT(n,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&t.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!Te.isDocumentKey(r))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nw(n,new Te(r))}if(t instanceof wt)return Nw(n,t._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(t)}.`)}function pT(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fx(n,e){const t=(function(a,o){for(const c of a)for(const f of c.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KP{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hs(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Sh].arrayValue?.values?.map((r=>At(r.doubleValue)));return new ir(t)}convertGeoPoint(e){return new nr(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Qe(sx(r),9688,{name:e});const a=new Uu(r.get(1),r.get(3)),o=new Te(r.popFirst(5));return a.isEqual(t)||Vr(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function qx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends Ux{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Aa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Vt("string",Aa._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class oh extends Aa{data(e={}){return super.data(e)}}class qo{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Su(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new oh(this._firestore,this._userDataWriter,r.key,r,new Su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const h=new oh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>o||f.type!==3)).map((f=>{const h=new oh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:QP(f.type),doc:h,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}function jy(n){n=ri(n,wt);const e=ri(n.firestore,zs);return MP(Iy(e),n._key).then((t=>$x(e,n,t)))}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:Vt("string",qo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Hx extends KP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function Ms(n,e,t){n=ri(n,wt);const r=ri(n.firestore,zs),a=qx(n.converter,e,t);return ff(r,[Px(uf(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,si.none())])}function gT(n,e,t,...r){n=ri(n,wt);const a=ri(n.firestore,zs),o=uf(a);let c;return c=typeof(e=st(e))=="string"||e instanceof of?BP(o,"updateDoc",n._key,e,t,r):zP(o,"updateDoc",n._key,e),ff(a,[c.toMutation(n._key,si.exists(!0))])}function XP(n){return ff(ri(n.firestore,zs),[new hy(n._key,si.none())])}function Gx(n,e){const t=ri(n.firestore,zs),r=pn(n),a=qx(n.converter,e);return ff(t,[Px(uf(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then((()=>r))}function Rg(n,...e){n=st(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fT(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(fT(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,c,f;if(n instanceof wt)c=ri(n.firestore,zs),f=Xh(n._key.path),o={next:h=>{e[r]&&e[r]($x(c,n,h))},error:e[r+1],complete:e[r+2]};else{const h=ri(n,Fa);c=ri(h.firestore,zs),f=h._query;const p=new Hx(c);o={next:v=>{e[r]&&e[r](new qo(c,p,h,v))},error:e[r+1],complete:e[r+2]},GP(n._query)}return(function(p,v,b,S){const E=new Ix(S),M=new bx(v,E,b);return p.asyncQueue.enqueueAndForget((async()=>vx(await Ag(p),M))),()=>{E.Nu(),p.asyncQueue.enqueueAndForget((async()=>_x(await Ag(p),M)))}})(Iy(c),f,a,o)}function ff(n,e){return(function(r,a){const o=new Os;return r.asyncQueue.enqueueAndForget((async()=>wP(await DP(r),a,o))),o.promise})(Iy(n),e)}function $x(n,e,t){const r=t.docs.get(e._key),a=new Hx(n);return new Aa(n,a,e._key,r,new Su(t.hasPendingWrites,t.fromCache),e.converter)}function Dh(){return new Oy("serverTimestamp")}(function(e,t=!0){(function(a){sl=a})(Ua),Ai(new li("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),f=new zs(new BD(r.getProvider("auth-internal")),new HD(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(p.options.projectId,v)})(c,a),c);return o={useFetchStreams:t,...o},f._setSettings(o),f}),"PUBLIC").setMultipleInstances(!0)),Nn(yw,vw,e),Nn(yw,vw,"esm2020")})();const Yx="firebasestorage.googleapis.com",Kx="storageBucket",WP=120*1e3,JP=600*1e3,ZP=1e3;class gt extends ci{constructor(e,t,r=0){super(jp(e),`Firebase Storage: ${t} (${jp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function jp(n){return"storage/"+n}function Vy(){const n="An unknown error occurred, please check the error payload for server response.";return new gt(ct.UNKNOWN,n)}function e4(n){return new gt(ct.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function t4(n){return new gt(ct.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(ct.UNAUTHENTICATED,n)}function i4(){return new gt(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function r4(n){return new gt(ct.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Qx(){return new gt(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xx(){return new gt(ct.CANCELED,"User canceled the upload/download.")}function s4(n){return new gt(ct.INVALID_URL,"Invalid URL '"+n+"'.")}function a4(n){return new gt(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function o4(){return new gt(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Kx+"' property when initializing the app?")}function Wx(){return new gt(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l4(){return new gt(ct.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function u4(){return new gt(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c4(n){return new gt(ct.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ig(n){return new gt(ct.INVALID_ARGUMENT,n)}function Jx(){return new gt(ct.APP_DELETED,"The Firebase app was deleted.")}function d4(n){return new gt(ct.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Du(n,e){return new gt(ct.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vu(n){throw new gt(ct.INTERNAL_ERROR,"Internal error: "+n)}class Fn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Fn.makeFromUrl(e,t)}catch{return new Fn(e,"")}if(r.path==="")return r;throw a4(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function p(ne){ne.path_=decodeURIComponent(ne.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",E=new RegExp(`^https?://${b}/${v}/b/${a}/o${S}`,"i"),M={bucket:1,path:3},k=t===Yx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",U=new RegExp(`^https?://${k}/${a}/${N}`,"i"),z=[{regex:f,indices:h,postModify:o},{regex:E,indices:M,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let ne=0;ne<z.length;ne++){const ee=z[ne],ie=ee.regex.exec(e);if(ie){const O=ie[ee.indices.bucket];let x=ie[ee.indices.path];x||(x=""),r=new Fn(O,x),ee.postModify(r);break}}if(r==null)throw s4(e);return r}}class h4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function f4(n,e,t){let r=1,a=null,o=null,c=!1,f=0;function h(){return f===2}let p=!1;function v(...N){p||(p=!0,e.apply(null,N))}function b(N){a=setTimeout(()=>{a=null,n(E,h())},N)}function S(){o&&clearTimeout(o)}function E(N,...U){if(p){S();return}if(N){S(),v.call(null,N,...U);return}if(h()||c){S(),v.call(null,N,...U);return}r<64&&(r*=2);let z;f===1?(f=2,z=0):z=(r+Math.random())*1e3,b(z)}let M=!1;function k(N){M||(M=!0,S(),!p&&(a!==null?(N||(f=2),clearTimeout(a),b(0)):N||(f=1)))}return b(0),o=setTimeout(()=>{c=!0,k(!0)},t),k}function m4(n){n(!1)}function p4(n){return n!==void 0}function g4(n){return typeof n=="function"}function y4(n){return typeof n=="object"&&!Array.isArray(n)}function mf(n){return typeof n=="string"||n instanceof String}function yT(n){return Uy()&&n instanceof Blob}function Uy(){return typeof Blob<"u"}function vT(n,e,t,r){if(r<e)throw Ig(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ig(`Invalid value for '${n}'. Expected ${t} or less.`)}function ac(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Zx(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ca;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ca||(Ca={}));function e1(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}class v4{constructor(e,t,r,a,o,c,f,h,p,v,b,S=!0,E=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Gd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=f=>{const h=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const f=o.getErrorCode()===Ca.NO_ERROR,h=o.getStatus();if(!f||e1(h,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===Ca.ABORT;r(!1,new Gd(!1,null,v));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Gd(p,o))})},t=(r,a)=>{const o=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());p4(h)?o(h):o()}catch(h){c(h)}else if(f!==null){const h=Vy();h.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,h)):c(h)}else if(a.canceled){const h=this.appDelete_?Jx():Xx();c(h)}else{const h=Qx();c(h)}};this.canceled_?t(!1,new Gd(!1,null,!0)):this.backoffId_=f4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function b4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w4(n,e){e&&(n["X-Firebase-GMPID"]=e)}function T4(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function E4(n,e,t,r,a,o,c=!0,f=!1){const h=Zx(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return w4(v,e),_4(v,t),b4(v,o),T4(v,r),new v4(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}function S4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x4(...n){const e=S4();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Uy())return new Blob(n);throw new gt(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A4(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function C4(n){if(typeof atob>"u")throw c4("base-64");return atob(n)}const Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vp{constructor(e,t){this.data=e,this.contentType=t||null}}function R4(n,e){switch(n){case Ji.RAW:return new Vp(t1(e));case Ji.BASE64:case Ji.BASE64URL:return new Vp(n1(n,e));case Ji.DATA_URL:return new Vp(N4(e),O4(e))}throw Vy()}function t1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=n.charCodeAt(++t);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function I4(n){let e;try{e=decodeURIComponent(n)}catch{throw Du(Ji.DATA_URL,"Malformed data URL.")}return t1(e)}function n1(n,e){switch(n){case Ji.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw Du(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw Du(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=C4(e)}catch(a){throw a.message.includes("polyfill")?a:Du(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class i1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Du(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=D4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function N4(n){const e=new i1(n);return e.base64?n1(Ji.BASE64,e.rest):I4(e.rest)}function O4(n){return new i1(n).contentType}function D4(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class xs{constructor(e,t){let r=0,a="";yT(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(yT(this.data_)){const r=this.data_,a=A4(r,e,t);return a===null?null:new xs(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xs(r,!0)}}static getBlob(...e){if(Uy()){const t=e.map(r=>r instanceof xs?r.data_:r);return new xs(x4.apply(null,t))}else{const t=e.map(c=>mf(c)?R4(Ji.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let o=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)a[o++]=c[f]}),new xs(a,!0)}}uploadData(){return this.data_}}function r1(n){let e;try{e=JSON.parse(n)}catch{return null}return y4(e)?e:null}function M4(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function k4(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function s1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function P4(n,e){return e}class mn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||P4}}let $d=null;function L4(n){return!mf(n)||n.length<2?n:s1(n)}function a1(){if($d)return $d;const n=[];n.push(new mn("bucket")),n.push(new mn("generation")),n.push(new mn("metageneration")),n.push(new mn("name","fullPath",!0));function e(o,c){return L4(c)}const t=new mn("name");t.xform=e,n.push(t);function r(o,c){return c!==void 0?Number(c):c}const a=new mn("size");return a.xform=r,n.push(a),n.push(new mn("timeCreated")),n.push(new mn("updated")),n.push(new mn("md5Hash",null,!0)),n.push(new mn("cacheControl",null,!0)),n.push(new mn("contentDisposition",null,!0)),n.push(new mn("contentEncoding",null,!0)),n.push(new mn("contentLanguage",null,!0)),n.push(new mn("contentType",null,!0)),n.push(new mn("metadata","customMetadata",!0)),$d=n,$d}function j4(n,e){function t(){const r=n.bucket,a=n.fullPath,o=new Fn(r,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function V4(n,e,t){const r={};r.type="file";const a=t.length;for(let o=0;o<a;o++){const c=t[o];r[c.local]=c.xform(r,e[c.server])}return j4(r,n),r}function o1(n,e,t){const r=r1(e);return r===null?null:V4(n,r,t)}function U4(n,e,t,r){const a=r1(e);if(a===null||!mf(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(p=>{const v=n.bucket,b=n.fullPath,S="/b/"+c(v)+"/o/"+c(b),E=ac(S,t,r),M=Zx({alt:"media",token:p});return E+M})[0]}function l1(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class cl{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kr(n){if(!n)throw Vy()}function zy(n,e){function t(r,a){const o=o1(n,a,e);return kr(o!==null),o}return t}function z4(n,e){function t(r,a){const o=o1(n,a,e);return kr(o!==null),U4(o,a,n.host,n._protocol)}return t}function oc(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=i4():a=n4():t.getStatus()===402?a=t4(n.bucket):t.getStatus()===403?a=r4(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function u1(n){const e=oc(n);function t(r,a){let o=e(r,a);return r.getStatus()===404&&(o=e4(n.path)),o.serverResponse=a.serverResponse,o}return t}function B4(n,e,t){const r=e.fullServerUrl(),a=ac(r,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,f=new cl(a,o,zy(n,t),c);return f.errorHandler=u1(e),f}function F4(n,e,t){const r=e.fullServerUrl(),a=ac(r,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,f=new cl(a,o,z4(n,t),c);return f.errorHandler=u1(e),f}function q4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function c1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=q4(null,e)),r}function H4(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let z="";for(let ne=0;ne<2;ne++)z=z+Math.random().toString().slice(2);return z}const h=f();c["Content-Type"]="multipart/related; boundary="+h;const p=c1(e,r,a),v=l1(p,t),b="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,S=`\r
--`+h+"--",E=xs.getBlob(b,r,S);if(E===null)throw Wx();const M={name:p.fullPath},k=ac(o,n.host,n._protocol),N="POST",U=n.maxUploadRetryTime,B=new cl(k,N,zy(n,t),U);return B.urlParams=M,B.headers=c,B.body=E.uploadData(),B.errorHandler=oc(e),B}class Mh{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function By(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{kr(!1)}return kr(!!t&&(e||["active"]).indexOf(t)!==-1),t}function G4(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),c=c1(e,r,a),f={name:c.fullPath},h=ac(o,n.host,n._protocol),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},b=l1(c,t),S=n.maxUploadRetryTime;function E(k){By(k);let N;try{N=k.getResponseHeader("X-Goog-Upload-URL")}catch{kr(!1)}return kr(mf(N)),N}const M=new cl(h,p,E,S);return M.urlParams=f,M.headers=v,M.body=b,M.errorHandler=oc(e),M}function $4(n,e,t,r){const a={"X-Goog-Upload-Command":"query"};function o(p){const v=By(p,["active","final"]);let b=null;try{b=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{kr(!1)}b||kr(!1);const S=Number(b);return kr(!isNaN(S)),new Mh(S,r.size(),v==="final")}const c="POST",f=n.maxUploadRetryTime,h=new cl(t,c,o,f);return h.headers=a,h.errorHandler=oc(e),h}const _T=256*1024;function Y4(n,e,t,r,a,o,c,f){const h=new Mh(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw l4();const p=h.total-h.current;let v=p;a>0&&(v=Math.min(v,a));const b=h.current,S=b+v;let E="";v===0?E="finalize":p===v?E="upload, finalize":E="upload";const M={"X-Goog-Upload-Command":E,"X-Goog-Upload-Offset":`${h.current}`},k=r.slice(b,S);if(k===null)throw Wx();function N(ne,ee){const ie=By(ne,["active","final"]),O=h.current+v,x=r.size();let D;return ie==="final"?D=zy(e,o)(ne,ee):D=null,new Mh(O,x,ie==="final",D)}const U="POST",B=e.maxUploadRetryTime,z=new cl(t,U,N,B);return z.headers=M,z.body=k.uploadData(),z.progressCallback=f||null,z.errorHandler=oc(n),z}const Cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Up(n){switch(n){case"running":case"pausing":case"canceling":return Cn.RUNNING;case"paused":return Cn.PAUSED;case"success":return Cn.SUCCESS;case"canceled":return Cn.CANCELED;case"error":return Cn.ERROR;default:return Cn.ERROR}}let K4=class{constructor(e,t,r){if(g4(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function Do(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Q4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,o){if(this.sent_)throw vu("cannot .send() more than once");if(Bs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class X4 extends Q4{initXhr(){this.xhr_.responseType="text"}}function jo(){return new X4}class W4{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=a1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(ct.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(e1(a.status,[]))if(o)a=Qx();else{this.sleepTime=Math.max(this.sleepTime*2,ZP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(ct.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,o)=>{this._resolve=a,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=G4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,jo,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=$4(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(a,jo,t,r);this._request=o,o.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=_T*this._chunkMultiplier,t=new Mh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,o)=>{let c;try{c=Y4(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(c,jo,a,o,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){_T*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=B4(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,jo,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=H4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,jo,e,t);this._request=a,a.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Xx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Up(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const o=new K4(t||void 0,r||void 0,a||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Up(this._state)){case Cn.SUCCESS:Do(this._resolve.bind(null,this.snapshot))();break;case Cn.CANCELED:case Cn.ERROR:const t=this._reject;Do(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Up(this._state)){case Cn.RUNNING:case Cn.PAUSED:e.next&&Do(e.next.bind(e,this.snapshot))();break;case Cn.SUCCESS:e.complete&&Do(e.complete.bind(e))();break;case Cn.CANCELED:case Cn.ERROR:e.error&&Do(e.error.bind(e,this._error))();break;default:e.error&&Do(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class ka{constructor(e,t){this._service=e,t instanceof Fn?this._location=t:this._location=Fn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ka(e,t)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s1(this._location.path)}get storage(){return this._service}get parent(){const e=M4(this._location.path);if(e===null)return null;const t=new Fn(this._location.bucket,e);return new ka(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw d4(e)}}function J4(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new W4(n,new xs(e),t)}function Z4(n){n._throwIfRoot("getDownloadURL");const e=F4(n.storage,n._location,a1());return n.storage.makeRequestWithTokens(e,jo).then(t=>{if(t===null)throw u4();return t})}function eL(n,e){const t=k4(n._location.path,e),r=new Fn(n._location.bucket,t);return new ka(n.storage,r)}function tL(n){return/^[A-Za-z]+:\/\//.test(n)}function nL(n,e){return new ka(n,e)}function d1(n,e){if(n instanceof Fy){const t=n;if(t._bucket==null)throw o4();const r=new ka(t,t._bucket);return e!=null?d1(r,e):r}else return e!==void 0?eL(n,e):n}function iL(n,e){if(e&&tL(e)){if(n instanceof Fy)return nL(n,e);throw Ig("To use ref(service, url), the first argument must be a Storage instance.")}else return d1(n,e)}function bT(n,e){const t=e?.[Kx];return t==null?null:Fn.makeFromBucketSpec(t,n)}function rL(n,e,t,r={}){n.host=`${e}:${t}`;const a=Bs(e);a&&(Hg(`https://${n.host}/b`),Gg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:_E(o,n.app.options.projectId))}class Fy{constructor(e,t,r,a,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=Yx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WP,this._maxUploadRetryTime=JP,this._requests=new Set,a!=null?this._bucket=Fn.makeFromBucketSpec(a,this._host):this._bucket=bT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=bT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ka(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new h4(Jx());{const c=E4(e,this._appId,r,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const wT="@firebase/storage",TT="0.14.0";const h1="storage";function sL(n,e,t){return n=st(n),J4(n,e,t)}function aL(n){return n=st(n),Z4(n)}function oL(n,e){return n=st(n),iL(n,e)}function lL(n=Yg(),e){n=st(n);const r=nl(n,h1).getImmediate({identifier:e}),a=gE("storage");return a&&uL(r,...a),r}function uL(n,e,t,r={}){rL(n,e,t,r)}function cL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Fy(t,r,a,e,Ua)}function dL(){Ai(new li(h1,cL,"PUBLIC").setMultipleInstances(!0)),Nn(wT,TT,""),Nn(wT,TT,"esm2020")}dL();const f1="@firebase/installations",qy="0.6.19";const m1=1e4,p1=`w:${qy}`,g1="FIS_v2",hL="https://firebaseinstallations.googleapis.com/v1",fL=3600*1e3,mL="installations",pL="Installations";const gL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new Va(mL,pL,gL);function y1(n){return n instanceof ci&&n.code.includes("request-failed")}function v1({projectId:n}){return`${hL}/projects/${n}/installations`}function _1(n){return{token:n.token,requestStatus:2,expiresIn:vL(n.expiresIn),creationTime:Date.now()}}async function b1(n,e){const r=(await e.json()).error;return Pa.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function w1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yL(n,{refreshToken:e}){const t=w1(n);return t.append("Authorization",_L(e)),t}async function T1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function vL(n){return Number(n.replace("s","000"))}function _L(n){return`${g1} ${n}`}async function bL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=v1(n),a=w1(n),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:t,authVersion:g1,appId:n.appId,sdkVersion:p1},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await T1(()=>fetch(r,f));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:_1(p.authToken)}}else throw await b1("Create Installation",h)}function E1(n){return new Promise(e=>{setTimeout(e,n)})}function wL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const TL=/^[cdef][\w-]{21}$/,Ng="";function EL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=SL(n);return TL.test(t)?t:Ng}catch{return Ng}}function SL(n){return wL(n).substr(0,22)}function pf(n){return`${n.appName}!${n.appId}`}const S1=new Map;function x1(n,e){const t=pf(n);A1(t,e),xL(t,e)}function A1(n,e){const t=S1.get(n);if(t)for(const r of t)r(e)}function xL(n,e){const t=AL();t&&t.postMessage({key:n,fid:e}),CL()}let xa=null;function AL(){return!xa&&"BroadcastChannel"in self&&(xa=new BroadcastChannel("[Firebase] FID Change"),xa.onmessage=n=>{A1(n.data.key,n.data.fid)}),xa}function CL(){S1.size===0&&xa&&(xa.close(),xa=null)}const RL="firebase-installations-database",IL=1,La="firebase-installations-store";let zp=null;function Hy(){return zp||(zp=xE(RL,IL,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(La)}}})),zp}async function kh(n,e){const t=pf(n),a=(await Hy()).transaction(La,"readwrite"),o=a.objectStore(La),c=await o.get(t);return await o.put(e,t),await a.done,(!c||c.fid!==e.fid)&&x1(n,e.fid),e}async function C1(n){const e=pf(n),r=(await Hy()).transaction(La,"readwrite");await r.objectStore(La).delete(e),await r.done}async function gf(n,e){const t=pf(n),a=(await Hy()).transaction(La,"readwrite"),o=a.objectStore(La),c=await o.get(t),f=e(c);return f===void 0?await o.delete(t):await o.put(f,t),await a.done,f&&(!c||c.fid!==f.fid)&&x1(n,f.fid),f}async function Gy(n){let e;const t=await gf(n.appConfig,r=>{const a=NL(r),o=OL(n,a);return e=o.registrationPromise,o.installationEntry});return t.fid===Ng?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NL(n){const e=n||{fid:EL(),registrationStatus:0};return R1(e)}function OL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Pa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=DL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ML(n)}:{installationEntry:e}}async function DL(n,e){try{const t=await bL(n,e);return kh(n.appConfig,t)}catch(t){throw y1(t)&&t.customData.serverCode===409?await C1(n.appConfig):await kh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ML(n){let e=await ET(n.appConfig);for(;e.registrationStatus===1;)await E1(100),e=await ET(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Gy(n);return r||t}return e}function ET(n){return gf(n,e=>{if(!e)throw Pa.create("installation-not-found");return R1(e)})}function R1(n){return kL(n)?{fid:n.fid,registrationStatus:0}:n}function kL(n){return n.registrationStatus===1&&n.registrationTime+m1<Date.now()}async function PL({appConfig:n,heartbeatServiceProvider:e},t){const r=LL(n,t),a=yL(n,t),o=e.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:p1,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await T1(()=>fetch(r,f));if(h.ok){const p=await h.json();return _1(p)}else throw await b1("Generate Auth Token",h)}function LL(n,{fid:e}){return`${v1(n)}/${e}/authTokens:generate`}async function $y(n,e=!1){let t;const r=await gf(n.appConfig,o=>{if(!I1(o))throw Pa.create("not-registered");const c=o.authToken;if(!e&&UL(c))return o;if(c.requestStatus===1)return t=jL(n,e),o;{if(!navigator.onLine)throw Pa.create("app-offline");const f=BL(o);return t=VL(n,f),f}});return t?await t:r.authToken}async function jL(n,e){let t=await ST(n.appConfig);for(;t.authToken.requestStatus===1;)await E1(100),t=await ST(n.appConfig);const r=t.authToken;return r.requestStatus===0?$y(n,e):r}function ST(n){return gf(n,e=>{if(!I1(e))throw Pa.create("not-registered");const t=e.authToken;return FL(t)?{...e,authToken:{requestStatus:0}}:e})}async function VL(n,e){try{const t=await PL(n,e),r={...e,authToken:t};return await kh(n.appConfig,r),t}catch(t){if(y1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await C1(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await kh(n.appConfig,r)}throw t}}function I1(n){return n!==void 0&&n.registrationStatus===2}function UL(n){return n.requestStatus===2&&!zL(n)}function zL(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+fL}function BL(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function FL(n){return n.requestStatus===1&&n.requestTime+m1<Date.now()}async function qL(n){const e=n,{installationEntry:t,registrationPromise:r}=await Gy(e);return r?r.catch(console.error):$y(e).catch(console.error),t.fid}async function HL(n,e=!1){const t=n;return await GL(t),(await $y(t,e)).token}async function GL(n){const{registrationPromise:e}=await Gy(n);e&&await e}function $L(n){if(!n||!n.options)throw Bp("App Configuration");if(!n.name)throw Bp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Bp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Bp(n){return Pa.create("missing-app-config-values",{valueName:n})}const N1="installations",YL="installations-internal",KL=n=>{const e=n.getProvider("app").getImmediate(),t=$L(e),r=nl(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},QL=n=>{const e=n.getProvider("app").getImmediate(),t=nl(e,N1).getImmediate();return{getId:()=>qL(t),getToken:a=>HL(t,a)}};function XL(){Ai(new li(N1,KL,"PUBLIC")),Ai(new li(YL,QL,"PRIVATE"))}XL();Nn(f1,qy);Nn(f1,qy,"esm2020");const xT="analytics",WL="firebase_id",JL="origin",ZL=60*1e3,ej="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yy="https://www.googletagmanager.com/gtag/js";const gn=new Fh("@firebase/analytics");const tj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ai=new Va("analytics","Analytics",tj);function nj(n){if(!n.startsWith(Yy)){const e=ai.create("invalid-gtag-resource",{gtagURL:n});return gn.warn(e.message),""}return n}function O1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ij(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function rj(n,e){const t=ij("firebase-js-sdk-policy",{createScriptURL:nj}),r=document.createElement("script"),a=`${Yy}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function sj(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function aj(n,e,t,r,a,o){const c=r[a];try{if(c)await e[c];else{const h=(await O1(t)).find(p=>p.measurementId===a);h&&await e[h.appId]}}catch(f){gn.error(f)}n("config",a,o)}async function oj(n,e,t,r,a){try{let o=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const f=await O1(t);for(const h of c){const p=f.find(b=>b.measurementId===h),v=p&&e[p.appId];if(v)o.push(v);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,a||{})}catch(o){gn.error(o)}}function lj(n,e,t,r){async function a(o,...c){try{if(o==="event"){const[f,h]=c;await oj(n,e,t,f,h)}else if(o==="config"){const[f,h]=c;await aj(n,e,t,r,f,h)}else if(o==="consent"){const[f,h]=c;n("consent",f,h)}else if(o==="get"){const[f,h,p]=c;n("get",f,h,p)}else if(o==="set"){const[f]=c;n("set",f)}else n(o,...c)}catch(f){gn.error(f)}}return a}function uj(n,e,t,r,a){let o=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(o=window[a]),window[a]=lj(o,n,e,t),{gtagCore:o,wrappedGtag:window[a]}}function cj(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Yy)&&t.src.includes(n))return t;return null}const dj=30,hj=1e3;class fj{constructor(e={},t=hj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const D1=new fj;function mj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function pj(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:mj(t)},a=ej.replace("{app-id}",e),o=await fetch(a,r);if(o.status!==200&&o.status!==304){let c="";try{const f=await o.json();f.error?.message&&(c=f.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function gj(n,e=D1,t){const{appId:r,apiKey:a,measurementId:o}=n.options;if(!r)throw ai.create("no-app-id");if(!a){if(o)return{measurementId:o,appId:r};throw ai.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new _j;return setTimeout(async()=>{f.abort()},ZL),M1({appId:r,apiKey:a,measurementId:o},c,f,e)}async function M1(n,{throttleEndTimeMillis:e,backoffCount:t},r,a=D1){const{appId:o,measurementId:c}=n;try{await yj(r,e)}catch(f){if(c)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:c};throw f}try{const f=await pj(n);return a.deleteThrottleMetadata(o),f}catch(f){const h=f;if(!vj(h)){if(a.deleteThrottleMetadata(o),c)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:c};throw f}const p=Number(h?.customData?.httpStatus)===503?Fb(t,a.intervalMillis,dj):Fb(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return a.setThrottleMetadata(o,v),gn.debug(`Calling attemptFetch again in ${p} millis`),M1(n,v,r,a)}}function yj(n,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),o=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(o),r(ai.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vj(n){if(!(n instanceof ci)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class _j{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bj(n,e,t,r,a){if(a&&a.global){n("event",t,r);return}else{const o=await e,c={...r,send_to:o};n("event",t,c)}}async function wj(n,e,t,r){if(r&&r.global){const a={};for(const o of Object.keys(t))a[`user_properties.${o}`]=t[o];return n("set",a),Promise.resolve()}else{const a=await e;n("config",a,{update:!0,user_properties:t})}}async function Tj(){if(wE())try{await TE()}catch(n){return gn.warn(ai.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return gn.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ej(n,e,t,r,a,o,c){const f=gj(n);f.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>gn.error(S)),e.push(f);const h=Tj().then(S=>{if(S)return r.getId()}),[p,v]=await Promise.all([f,h]);cj(o)||rj(o,p.measurementId),a("js",new Date);const b=c?.config??{};return b[JL]="firebase",b.update=!0,v!=null&&(b[WL]=v),a("config",p.measurementId,b),p.measurementId}class Sj{constructor(e){this.app=e}_delete(){return delete Ho[this.app.options.appId],Promise.resolve()}}let Ho={},AT=[];const CT={};let Fp="dataLayer",xj="gtag",RT,Ky,IT=!1;function Aj(){const n=[];if(bE()&&n.push("This is a browser extension environment."),JI()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=ai.create("invalid-analytics-context",{errorInfo:e});gn.warn(t.message)}}function Cj(n,e,t){Aj();const r=n.options.appId;if(!r)throw ai.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ai.create("no-api-key");if(Ho[r]!=null)throw ai.create("already-exists",{id:r});if(!IT){sj(Fp);const{wrappedGtag:o,gtagCore:c}=uj(Ho,AT,CT,Fp,xj);Ky=o,RT=c,IT=!0}return Ho[r]=Ej(n,AT,CT,e,RT,Fp,t),new Sj(n)}function Rj(n,e,t){n=st(n),wj(Ky,Ho[n.app.options.appId],e,t).catch(r=>gn.error(r))}function Ij(n,e,t,r){n=st(n),bj(Ky,Ho[n.app.options.appId],e,t,r).catch(a=>gn.error(a))}const NT="@firebase/analytics",OT="0.10.19";function Nj(){Ai(new li(xT,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Cj(r,a,t)},"PUBLIC")),Ai(new li("analytics-internal",n,"PRIVATE")),Nn(NT,OT),Nn(NT,OT,"esm2020");function n(e){try{const t=e.getProvider(xT).getImmediate();return{logEvent:(r,a,o)=>Ij(t,r,a,o),setUserProperties:(r,a)=>Rj(t,r,a)}}catch(t){throw ai.create("interop-component-reg-failed",{reason:t})}}}Nj();const Og={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};Og.apiKey?console.info("[Firebase] Config loaded successfully. Project:",Og.projectId):console.error("Firebase config not loaded. Check your .env file.");const Qy=AE(Og),on=OD(Qy),Bt=PP(Qy),Oj=lL(Qy);function DT({small:n=!1}){return y.jsx("span",{className:`font-bold ${n?"text-lg":"text-xl"} text-gray-900 whitespace-nowrap`,children:"Crodyto"})}function Dj({onCartClick:n}){const e=Br(h=>h.totalCount),t=un(),[r,a]=F.useState(""),[o]=rl(on),c=h=>{h.preventDefault(),r.trim()&&(t("/products?q="+encodeURIComponent(r)),a(""))},f=async()=>{try{await wO(on)}catch(h){console.warn(h)}};return y.jsx("header",{className:"w-full bg-gradient-to-r from-orange-600 to-orange-700 border-b border-orange-800 px-3 sm:px-4 py-2 sm:py-3 sticky top-0 z-20 shadow-lg safe-area-top",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[y.jsx(bt,{to:"/","aria-label":"Home",className:"flex-shrink-0 touch-area",children:y.jsx(DT,{})}),y.jsx("form",{onSubmit:c,className:"flex-1 max-w-md",children:y.jsxs("div",{className:"flex items-center bg-white bg-opacity-20 rounded-lg overflow-hidden backdrop-blur-sm",children:[y.jsx("input",{className:"flex-1 px-3 py-2 bg-transparent outline-none text-sm text-white placeholder-orange-100 font-normal",placeholder:"Search products...",value:r,onChange:h=>a(h.target.value)}),y.jsx("button",{type:"submit",className:"px-3 py-2 text-white active:opacity-70","aria-label":"search",children:y.jsx(Zp,{size:18})})]})}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{onClick:n,className:"relative touch-area text-white active:opacity-70","aria-label":"cart",children:[y.jsx(Ra,{size:20}),e>0&&y.jsx("span",{className:"absolute top-0 right-0 bg-yellow-400 text-orange-700 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:e>99?"99+":e})]}),o?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-white truncate max-w-[120px]",children:o.displayName||o.email?.substring(0,10)}),y.jsx("button",{onClick:f,className:"px-3 py-1.5 text-sm bg-orange-500 text-white rounded-lg active:opacity-70 font-medium min-h-[40px]",children:"Logout"})]}):y.jsx(bt,{to:"/login",className:"px-3 py-1.5 text-sm bg-orange-500 text-white rounded-lg active:opacity-70 font-medium touch-area",children:"Login"})]})]}),y.jsxs("div",{className:"sm:hidden flex items-center justify-between gap-2",children:[y.jsx(bt,{to:"/","aria-label":"Home",className:"flex-shrink-0 touch-area",children:y.jsx(DT,{small:!0})}),y.jsx("form",{onSubmit:c,className:"flex-1 min-w-0",children:y.jsxs("div",{className:"flex items-center bg-white bg-opacity-90 rounded-lg overflow-hidden h-10",children:[y.jsx("input",{type:"search",className:"flex-1 px-3 py-2 bg-transparent outline-none text-sm text-gray-900 placeholder-gray-500",placeholder:"Search...",value:r,onChange:h=>a(h.target.value)}),y.jsx("button",{type:"submit",className:"px-3 py-2 text-gray-600 active:opacity-70 flex-shrink-0","aria-label":"search",children:y.jsx(Zp,{size:16})})]})}),y.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[y.jsxs("button",{onClick:n,className:"relative touch-area text-white active:opacity-70","aria-label":"cart",children:[y.jsx(Ra,{size:20}),e>0&&y.jsx("span",{className:"absolute top-0 right-0 bg-yellow-400 text-orange-700 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:e>99?"99+":e})]}),o?y.jsx("button",{onClick:f,className:"touch-area text-xs bg-white bg-opacity-90 text-gray-900 rounded-lg font-medium px-2 h-10",children:"Logout"}):y.jsx(bt,{to:"/login",className:"touch-area text-xs bg-white bg-opacity-90 text-gray-900 rounded-lg font-medium px-2 h-10",children:"Login"})]})]})]})})}function Mj(){const n=un(),e=Br(a=>a.items),t=e.reduce((a,o)=>a+o.price*(o.qty||1),0);if(!e||e.length===0)return null;const r={bottom:"calc(env(safe-area-inset-bottom, 0px) + 64px)"};return y.jsx("div",{className:"fixed left-0 right-0 z-40 flex justify-center md:hidden",style:r,children:y.jsxs("div",{className:"max-w-3xl w-full mx-3 bg-white border border-gray-200 rounded-lg p-2 flex items-center justify-between shadow",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"text-sm font-medium",children:[e.length," item",e.length>1?"s":""]}),y.jsxs("div",{className:"text-sm text-gray-500",children:["",t.toFixed(0)]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"px-3 py-1 bg-white text-gray-900 border rounded",onClick:()=>n("/cart"),children:"View Cart"}),y.jsx("button",{className:"px-3 py-1 bg-gray-900 text-white rounded",onClick:()=>n("/checkout"),children:"Checkout"})]})]})})}function kj(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var o;const c=h=>h===null?null:JSON.parse(h,void 0),f=(o=t.getItem(a))!=null?o:null;return f instanceof Promise?f.then(c):c(f)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const Dg=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Dg(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Dg(r)(t)}}}},Pj=(n,e)=>(t,r,a)=>{let o={storage:kj(()=>localStorage),partialize:k=>k,version:0,merge:(k,N)=>({...N,...k}),...e},c=!1;const f=new Set,h=new Set;let p=o.storage;if(!p)return n((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...k)},r,a);const v=()=>{const k=o.partialize({...r()});return p.setItem(o.name,{state:k,version:o.version})},b=a.setState;a.setState=(k,N)=>(b(k,N),v());const S=n((...k)=>(t(...k),v()),r,a);a.getInitialState=()=>S;let E;const M=()=>{var k,N;if(!p)return;c=!1,f.forEach(B=>{var z;return B((z=r())!=null?z:S)});const U=((N=o.onRehydrateStorage)==null?void 0:N.call(o,(k=r())!=null?k:S))||void 0;return Dg(p.getItem.bind(p))(o.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==o.version){if(o.migrate){const z=o.migrate(B.state,B.version);return z instanceof Promise?z.then(ne=>[!0,ne]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var z;const[ne,ee]=B;if(E=o.merge(ee,(z=r())!=null?z:S),t(E,!0),ne)return v()}).then(()=>{U?.(E,void 0),E=r(),c=!0,h.forEach(B=>B(E))}).catch(B=>{U?.(void 0,B)})};return a.persist={setOptions:k=>{o={...o,...k},k.storage&&(p=k.storage)},clearStorage:()=>{p?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>M(),hasHydrated:()=>c,onHydrate:k=>(f.add(k),()=>{f.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},o.skipHydration||M(),E||S},Xy=Pj,lc=Ku(Xy((n,e)=>({items:[],loading:!1,error:null,addItem:async t=>{const r=on.currentUser;if(n(a=>({items:a.items.some(o=>o.id===t.id)?a.items:[...a.items,t]})),r)try{const a=pn(Bt,"wishlists",r.uid),o=e().items;await Ms(a,{items:o,updatedAt:new Date().toISOString()},{merge:!0})}catch(a){console.error("Failed to save wishlist to Firebase:",a)}},removeItem:async t=>{n(a=>({items:a.items.filter(o=>o.id!==t)}));const r=on.currentUser;if(r)try{const a=pn(Bt,"wishlists",r.uid),o=e().items;await Ms(a,{items:o,updatedAt:new Date().toISOString()},{merge:!0})}catch(a){console.error("Failed to update wishlist in Firebase:",a)}},isWishlisted:t=>e().items.some(r=>r.id===t),fetchWishlist:async t=>{if(t){n({loading:!0});try{const r=pn(Bt,"wishlists",t),a=await jy(r);if(a.exists()){const o=a.data();n({items:o.items||[],loading:!1,error:null})}else n({loading:!1})}catch(r){n({error:r.message,loading:!1})}}},clear:async()=>{n({items:[]});const t=on.currentUser;if(t)try{const r=pn(Bt,"wishlists",t.uid);await Ms(r,{items:[]},{merge:!0})}catch(r){console.error("Failed to clear wishlist:",r)}}}),{name:"wishlist"}));function Lj(){const{pathname:n}=zr(),e=un();Br(o=>o.items);const t=lc(o=>o.items),r=o=>n===o||o==="/products"&&n.startsWith("/products"),a=[{icon:SI,label:"Home",path:"/"},{icon:Zp,label:"Search",path:"/products"},{icon:OI,label:"Account",path:"/account"},{icon:II,label:"Orders",path:"/orders"},{icon:zh,label:"Wishlist",path:"/wishlist",badge:t.length}];return y.jsxs(y.Fragment,{children:[y.jsx(Mj,{}),y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-10 safe-area-bottom",children:y.jsx("div",{className:"max-w-6xl mx-auto flex justify-between items-stretch h-16",children:a.map(o=>{const c=o.icon,f=r(o.path);return y.jsxs("button",{onClick:()=>e(o.path),className:`flex-1 flex flex-col items-center justify-center gap-1 py-2 touch-area relative transition-colors ${f?"text-orange-600 border-t-2 border-orange-600 bg-orange-50":"text-gray-600 border-t-2 border-transparent hover:text-gray-900"}`,"aria-label":o.label,"aria-current":f?"page":void 0,children:[y.jsx(c,{size:20}),y.jsx("span",{className:"text-xs font-medium truncate",children:o.label}),o.badge&&o.badge>0&&y.jsx("span",{className:"absolute top-1 right-2 bg-orange-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:o.badge>99?"99+":o.badge})]},o.path)})})})]})}function jj({isOpen:n,onClose:e}){const t=un(),{items:r,removeItem:a,updateQty:o}=Br(),c=r.reduce((p,v)=>p+v.price*(v.qty||1),0),f=r.reduce((p,v)=>p+(v.qty||1),0),h=()=>{e(),t("/checkout")};return n?y.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[y.jsx("div",{onClick:e,className:"flex-1 bg-black bg-opacity-50 backdrop-blur-sm"}),y.jsxs("div",{className:"w-full sm:max-w-md bg-white shadow-2xl flex flex-col",children:[y.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 bg-gradient-to-r from-orange-600 to-orange-700 flex items-center justify-between sticky top-0 z-10 safe-area-top",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ra,{className:"text-white",size:20}),y.jsx("h2",{className:"font-bold text-base sm:text-lg text-white",children:"Cart"}),f>0&&y.jsx("span",{className:"bg-yellow-400 text-orange-700 text-xs font-bold px-2 py-0.5 rounded-full",children:f})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-orange-500 rounded-lg transition-colors touch-area active:opacity-70","aria-label":"close cart",children:y.jsx($o,{size:20,className:"text-white"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto scrollable",children:r.length===0?y.jsxs("div",{className:"p-4 sm:p-6 text-center flex flex-col items-center justify-center h-full",children:[y.jsx(Ra,{size:48,className:"text-gray-300 mb-3"}),y.jsx("p",{className:"text-gray-600 font-semibold text-sm",children:"Your cart is empty"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add products to get started"}),y.jsx("button",{onClick:()=>{e(),t("/products")},className:"mt-4 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold active:opacity-70 touch-area min-h-[44px]",children:"Start Shopping"})]}):y.jsx("div",{className:"divide-y divide-gray-200",children:r.map(p=>y.jsxs("div",{className:"p-3 sm:p-4 active:bg-gray-50",children:[y.jsxs("div",{className:"flex gap-3 mb-3",children:[y.jsx("div",{className:"w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:p.image?y.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"Img"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"font-semibold text-xs sm:text-sm text-gray-900 line-clamp-2",children:p.name}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.category||"Product"}),y.jsxs("p",{className:"text-orange-600 font-bold mt-1.5 text-sm",children:["",p.price]})]}),y.jsx("button",{onClick:()=>a(p.id),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors flex-shrink-0 active:opacity-70 touch-area","aria-label":"remove item",children:y.jsx($o,{size:16,className:"text-red-500"})})]}),y.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[y.jsxs("div",{className:"flex items-center gap-1.5 border border-gray-300 rounded-lg",children:[y.jsx("button",{onClick:()=>o(p.id,Math.max(1,(p.qty||1)-1)),className:"p-1.5 text-gray-600 active:bg-orange-50 touch-area min-h-[40px] min-w-[40px]","aria-label":"decrease quantity",children:y.jsx(AI,{size:14})}),y.jsx("span",{className:"w-8 text-center text-sm font-semibold text-gray-900",children:p.qty||1}),y.jsx("button",{onClick:()=>o(p.id,(p.qty||1)+1),className:"p-1.5 text-gray-600 active:bg-orange-50 touch-area min-h-[40px] min-w-[40px]","aria-label":"increase quantity",children:y.jsx(cE,{size:14})})]}),y.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["",(p.price*(p.qty||1)).toFixed(0)]})]})]},p.id))})}),r.length>0&&y.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-gradient-to-t from-gray-50 space-y-2.5 sticky bottom-0 safe-area-bottom",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-gray-700 font-medium text-sm",children:"Subtotal:"}),y.jsxs("span",{className:"text-lg sm:text-xl font-bold text-orange-600",children:["",c.toFixed(0)]})]}),y.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Shipping & taxes at checkout"}),y.jsx("button",{onClick:h,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-bold active:opacity-90 touch-area min-h-[48px] text-sm transition",children:"Checkout"}),y.jsx("button",{onClick:e,className:"w-full bg-gray-100 text-gray-900 py-2.5 rounded-lg font-semibold active:opacity-70 touch-area min-h-[44px] text-sm transition",children:"Continue"})]})]})]}):null}function MT(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Wy(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:MT(e[r])&&MT(n[r])&&Object.keys(e[r]).length>0&&Wy(n[r],e[r])})}const k1={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function qa(){const n=typeof document<"u"?document:{};return Wy(n,k1),n}const Vj={document:k1,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function yn(){const n=typeof window<"u"?window:{};return Wy(n,Vj),n}function Uj(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function zj(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function P1(n,e=0){return setTimeout(n,e)}function Ph(){return Date.now()}function Bj(n){const e=yn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Fj(n,e="x"){const t=yn();let r,a,o;const c=Bj(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(f=>f.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(a==="none"?"":a)):(o=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=o.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=o.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Yd(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function qj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function zn(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<n.length;r+=1){const a=n[r];if(a!=null&&!qj(a)){const o=Object.keys(Object(a)).filter(c=>t.indexOf(c)<0);for(let c=0,f=o.length;c<f;c+=1){const h=o[c],p=Object.getOwnPropertyDescriptor(a,h);p!==void 0&&p.enumerable&&(Yd(e[h])&&Yd(a[h])?a[h].__swiper__?e[h]=a[h]:zn(e[h],a[h]):!Yd(e[h])&&Yd(a[h])?(e[h]={},a[h].__swiper__?e[h]=a[h]:zn(e[h],a[h])):e[h]=a[h])}}}return e}function Kd(n,e,t){n.style.setProperty(e,t)}function L1({swiper:n,targetPosition:e,side:t}){const r=yn(),a=-n.translate;let o=null,c;const f=n.params.speed;n.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(n.cssModeFrameID);const h=e>a?"next":"prev",p=(b,S)=>h==="next"&&b>=S||h==="prev"&&b<=S,v=()=>{c=new Date().getTime(),o===null&&(o=c);const b=Math.max(Math.min((c-o)/f,1),0),S=.5-Math.cos(b*Math.PI)/2;let E=a+S*(e-a);if(p(E,e)&&(E=e),n.wrapperEl.scrollTo({[t]:E}),p(E,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:E})}),r.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=r.requestAnimationFrame(v)};v()}function Or(n,e=""){const t=yn(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function Hj(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Gj(n,e){const t=yn();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=Hj(n,e))),r}function Lh(n){try{console.warn(n);return}catch{}}function Mg(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Uj(e)),t}function $j(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Yj(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Cs(n,e){return yn().getComputedStyle(n,null).getPropertyValue(e)}function kT(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Kj(n,e){const t=[];let r=n.parentElement;for(;r;)t.push(r),r=r.parentElement;return t}function PT(n,e,t){const r=yn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function LT(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let qp;function Qj(){const n=yn(),e=qa();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function j1(){return qp||(qp=Qj()),qp}let Hp;function Xj({userAgent:n}={}){const e=j1(),t=yn(),r=t.navigator.platform,a=n||t.navigator.userAgent,o={ios:!1,android:!1},c=t.screen.width,f=t.screen.height,h=a.match(/(Android);?[\s\/]+([\d.]+)?/);let p=a.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const v=a.match(/(iPod)(.*OS\s([\d_]+))?/),b=!p&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=r==="Win32";let E=r==="MacIntel";const M=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&E&&e.touch&&M.indexOf(`${c}x${f}`)>=0&&(p=a.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),E=!1),h&&!S&&(o.os="android",o.android=!0),(p||b||v)&&(o.os="ios",o.ios=!0),o}function V1(n={}){return Hp||(Hp=Xj(n)),Hp}let Gp;function Wj(){const n=yn(),e=V1();let t=!1;function r(){const f=n.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(r()){const f=String(n.navigator.userAgent);if(f.includes("Version/")){const[h,p]=f.split("Version/")[1].split(" ")[0].split(".").map(v=>Number(v));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),c=o||a&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function U1(){return Gp||(Gp=Wj()),Gp}function Jj({swiper:n,on:e,emit:t}){const r=yn();let a=null,o=null;const c=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},f=()=>{!n||n.destroyed||!n.initialized||(a=new ResizeObserver(v=>{o=r.requestAnimationFrame(()=>{const{width:b,height:S}=n;let E=b,M=S;v.forEach(({contentBoxSize:k,contentRect:N,target:U})=>{U&&U!==n.el||(E=N?N.width:(k[0]||k).inlineSize,M=N?N.height:(k[0]||k).blockSize)}),(E!==b||M!==S)&&c()})}),a.observe(n.el))},h=()=>{o&&r.cancelAnimationFrame(o),a&&a.unobserve&&n.el&&(a.unobserve(n.el),a=null)},p=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof r.ResizeObserver<"u"){f();return}r.addEventListener("resize",c),r.addEventListener("orientationchange",p)}),e("destroy",()=>{h(),r.removeEventListener("resize",c),r.removeEventListener("orientationchange",p)})}function Zj({swiper:n,extendParams:e,on:t,emit:r}){const a=[],o=yn(),c=(p,v={})=>{const b=o.MutationObserver||o.WebkitMutationObserver,S=new b(E=>{if(n.__preventObserver__)return;if(E.length===1){r("observerUpdate",E[0]);return}const M=function(){r("observerUpdate",E[0])};o.requestAnimationFrame?o.requestAnimationFrame(M):o.setTimeout(M,0)});S.observe(p,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:n.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),a.push(S)},f=()=>{if(n.params.observer){if(n.params.observeParents){const p=Kj(n.hostEl);for(let v=0;v<p.length;v+=1)c(p[v])}c(n.hostEl,{childList:n.params.observeSlideChildren}),c(n.wrapperEl,{attributes:!1})}},h=()=>{a.forEach(p=>{p.disconnect()}),a.splice(0,a.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",f),t("destroy",h)}var eV={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(...o){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy,e.apply(r,o)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,o)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,r,a;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],r=n.slice(1,n.length),a=e):(t=n[0].events,r=n[0].data,a=n[0].context||e),r.unshift(a),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(f=>{f.apply(a,[c,...r])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(f=>{f.apply(a,r)})}),e}};function tV(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Cs(r,"padding-left")||0,10)-parseInt(Cs(r,"padding-right")||0,10),t=t-parseInt(Cs(r,"padding-top")||0,10)-parseInt(Cs(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function nV(){const n=this;function e(I,C){return parseFloat(I.getPropertyValue(n.getDirectionLabel(C))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,rtlTranslate:o,wrongRTL:c}=n,f=n.virtual&&t.virtual.enabled,h=f?n.virtual.slides.length:n.slides.length,p=Or(a,`.${n.params.slideClass}, swiper-slide`),v=f?n.virtual.slides.length:p.length;let b=[];const S=[],E=[];let M=t.slidesOffsetBefore;typeof M=="function"&&(M=t.slidesOffsetBefore.call(n));let k=t.slidesOffsetAfter;typeof k=="function"&&(k=t.slidesOffsetAfter.call(n));const N=n.snapGrid.length,U=n.slidesGrid.length,B=n.size-M-k;let z=t.spaceBetween,ne=-M,ee=0,ie=0;if(typeof B>"u")return;typeof z=="string"&&z.indexOf("%")>=0?z=parseFloat(z.replace("%",""))/100*B:typeof z=="string"&&(z=parseFloat(z)),n.virtualSize=-z-M-k,p.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Kd(r,"--swiper-centered-offset-before",""),Kd(r,"--swiper-centered-offset-after",""));const O=t.grid&&t.grid.rows>1&&n.grid;O?n.grid.initSlides(p):n.grid&&n.grid.unsetSlides();let x;const D=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(I=>typeof t.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<v;I+=1){x=0;const C=p[I];if(!(C&&(O&&n.grid.updateSlide(I,C,p),Cs(C,"display")==="none"))){if(f&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(x=t.virtual.slidesPerViewAutoSlideSize),x&&C&&(t.roundLengths&&(x=Math.floor(x)),C.style[n.getDirectionLabel("width")]=`${x}px`);else if(t.slidesPerView==="auto"){D&&(C.style[n.getDirectionLabel("width")]="");const j=getComputedStyle(C),P=C.style.transform,de=C.style.webkitTransform;if(P&&(C.style.transform="none"),de&&(C.style.webkitTransform="none"),t.roundLengths)x=n.isHorizontal()?PT(C,"width"):PT(C,"height");else{const ce=e(j,"width"),q=e(j,"padding-left"),J=e(j,"padding-right"),$=e(j,"margin-left"),ue=e(j,"margin-right"),fe=j.getPropertyValue("box-sizing");if(fe&&fe==="border-box")x=ce+$+ue;else{const{clientWidth:L,offsetWidth:te}=C;x=ce+q+J+$+ue+(te-L)}}P&&(C.style.transform=P),de&&(C.style.webkitTransform=de),t.roundLengths&&(x=Math.floor(x))}else x=(B-(t.slidesPerView-1)*z)/t.slidesPerView,t.roundLengths&&(x=Math.floor(x)),C&&(C.style[n.getDirectionLabel("width")]=`${x}px`);C&&(C.swiperSlideSize=x),E.push(x),t.centeredSlides?(ne=ne+x/2+ee/2+z,ee===0&&I!==0&&(ne=ne-B/2-z),I===0&&(ne=ne-B/2-z),Math.abs(ne)<1/1e3&&(ne=0),t.roundLengths&&(ne=Math.floor(ne)),ie%t.slidesPerGroup===0&&b.push(ne),S.push(ne)):(t.roundLengths&&(ne=Math.floor(ne)),(ie-Math.min(n.params.slidesPerGroupSkip,ie))%n.params.slidesPerGroup===0&&b.push(ne),S.push(ne),ne=ne+x+z),n.virtualSize+=x+z,ee=x,ie+=1}}if(n.virtualSize=Math.max(n.virtualSize,B)+k,o&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+z}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+z}px`),O&&n.grid.updateWrapperSize(x,b),!t.centeredSlides){const I=[];for(let C=0;C<b.length;C+=1){let j=b[C];t.roundLengths&&(j=Math.floor(j)),b[C]<=n.virtualSize-B&&I.push(j)}b=I,Math.floor(n.virtualSize-B)-Math.floor(b[b.length-1])>1&&b.push(n.virtualSize-B)}if(f&&t.loop){const I=E[0]+z;if(t.slidesPerGroup>1){const C=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),j=I*t.slidesPerGroup;for(let P=0;P<C;P+=1)b.push(b[b.length-1]+j)}for(let C=0;C<n.virtual.slidesBefore+n.virtual.slidesAfter;C+=1)t.slidesPerGroup===1&&b.push(b[b.length-1]+I),S.push(S[S.length-1]+I),n.virtualSize+=I}if(b.length===0&&(b=[0]),z!==0){const I=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");p.filter((C,j)=>!t.cssMode||t.loop?!0:j!==p.length-1).forEach(C=>{C.style[I]=`${z}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let I=0;E.forEach(j=>{I+=j+(z||0)}),I-=z;const C=I>B?I-B:0;b=b.map(j=>j<=0?-M:j>C?C+k:j)}if(t.centerInsufficientSlides){let I=0;E.forEach(j=>{I+=j+(z||0)}),I-=z;const C=(M||0)+(k||0);if(I+C<B){const j=(B-I-C)/2;b.forEach((P,de)=>{b[de]=P-j}),S.forEach((P,de)=>{S[de]=P+j})}}if(Object.assign(n,{slides:p,snapGrid:b,slidesGrid:S,slidesSizesGrid:E}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Kd(r,"--swiper-centered-offset-before",`${-b[0]}px`),Kd(r,"--swiper-centered-offset-after",`${n.size/2-E[E.length-1]/2}px`);const I=-n.snapGrid[0],C=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(j=>j+I),n.slidesGrid=n.slidesGrid.map(j=>j+C)}if(v!==h&&n.emit("slidesLengthChange"),b.length!==N&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),S.length!==U&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const I=`${t.containerModifierClass}backface-hidden`,C=n.el.classList.contains(I);v<=t.maxBackfaceHiddenSlides?C||n.el.classList.add(I):C&&n.el.classList.remove(I)}}function iV(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{t.push(f)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const f=e.activeIndex+o;if(f>e.slides.length&&!r)break;t.push(c(f))}else t.push(c(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const f=t[o].offsetHeight;a=f>a?f:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function rV(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const jT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function sV(n=this&&this.translate||0){const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=t.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let h=0;h<r.length;h+=1){const p=r[h];let v=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(v-=r[0].swiperSlideOffset);const b=(c+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+f),S=(c-o[0]+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+f),E=-(c-v),M=E+e.slidesSizesGrid[h],k=E>=0&&E<=e.size-e.slidesSizesGrid[h],N=E>=0&&E<e.size-1||M>1&&M<=e.size||E<=0&&M>=e.size;N&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),jT(p,N,t.slideVisibleClass),jT(p,k,t.slideFullyVisibleClass),p.progress=a?-b:b,p.originalProgress=a?-S:S}}function aV(n){const e=this;if(typeof n>"u"){const v=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*v||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:o,isEnd:c,progressLoop:f}=e;const h=o,p=c;if(r===0)a=0,o=!0,c=!0;else{a=(n-e.minTranslate())/r;const v=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;o=v||a<=0,c=b||a>=1,v&&(a=0),b&&(a=1)}if(t.loop){const v=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),S=e.slidesGrid[v],E=e.slidesGrid[b],M=e.slidesGrid[e.slidesGrid.length-1],k=Math.abs(n);k>=S?f=(k-S)/M:f=(k+M-E)/M,f>1&&(f-=1)}Object.assign(e,{progress:a,progressLoop:f,isBeginning:o,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!h&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(h&&!o||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const $p=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function oV(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,o=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,f=b=>Or(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let h,p,v;if(o)if(t.loop){let b=a-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),h=f(`[data-swiper-slide-index="${b}"]`)}else h=f(`[data-swiper-slide-index="${a}"]`);else c?(h=e.find(b=>b.column===a),v=e.find(b=>b.column===a+1),p=e.find(b=>b.column===a-1)):h=e[a];h&&(c||(v=Yj(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v&&(v=e[0]),p=$j(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(b=>{$p(b,b===h,t.slideActiveClass),$p(b,b===v,t.slideNextClass),$p(b,b===p,t.slidePrevClass)}),n.emitSlidesClasses()}const lh=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},Yp=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},kg=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,f=[c-e];f.push(...Array.from({length:e}).map((h,p)=>c+r+p)),n.slides.forEach((h,p)=>{f.includes(h.column)&&Yp(n,p)});return}const o=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=o+e;c+=1){const f=(c%t+t)%t;(f<a||f>o)&&Yp(n,f)}else for(let c=Math.max(a-e,0);c<=Math.min(o+e,t-1);c+=1)c!==a&&(c>o||c<a)&&Yp(n,c)};function lV(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?a=o:r>=e[o]&&r<e[o+1]&&(a=o+1):r>=e[o]&&(a=o);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function uV(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:o,realIndex:c,snapIndex:f}=e;let h=n,p;const v=E=>{let M=E-e.virtual.slidesBefore;return M<0&&(M=e.virtual.slides.length+M),M>=e.virtual.slides.length&&(M-=e.virtual.slides.length),M};if(typeof h>"u"&&(h=lV(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const E=Math.min(a.slidesPerGroupSkip,h);p=E+Math.floor((h-E)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===o&&!e.params.loop){p!==f&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=v(h);return}const b=e.grid&&a.grid&&a.grid.rows>1;let S;if(e.virtual&&a.virtual.enabled&&a.loop)S=v(h);else if(b){const E=e.slides.find(k=>k.column===h);let M=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(e.slides.indexOf(E),0)),S=Math.floor(M/a.grid.rows)}else if(e.slides[h]){const E=e.slides[h].getAttribute("data-swiper-slide-index");E?S=parseInt(E,10):S=h}else S=h;Object.assign(e,{previousSnapIndex:f,snapIndex:p,previousRealIndex:c,realIndex:S,previousIndex:o,activeIndex:h}),e.initialized&&kg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==S&&e.emit("realIndexChange"),e.emit("slideChange"))}function cV(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(f=>{!a&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(a=f)});let o=!1,c;if(a){for(let f=0;f<t.slides.length;f+=1)if(t.slides[f]===a){o=!0,c=f;break}}if(a&&o)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var dV={updateSize:tV,updateSlides:nV,updateAutoHeight:iV,updateSlidesOffset:rV,updateSlidesProgress:sV,updateProgress:aV,updateSlidesClasses:oV,updateActiveIndex:uV,updateClickedSlide:cV};function hV(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:o}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=Fj(o,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function fV(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:o,progress:c}=t;let f=0,h=0;const p=0;t.isHorizontal()?f=r?-n:n:h=n,a.roundLengths&&(f=Math.floor(f),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:h,a.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-h:a.virtualTranslate||(t.isHorizontal()?f-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${f}px, ${h}px, ${p}px)`);let v;const b=t.maxTranslate()-t.minTranslate();b===0?v=0:v=(n-t.minTranslate())/b,v!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function mV(){return-this.snapGrid[0]}function pV(){return-this.snapGrid[this.snapGrid.length-1]}function gV(n=0,e=this.params.speed,t=!0,r=!0,a){const o=this,{params:c,wrapperEl:f}=o;if(o.animating&&c.preventInteractionOnTransition)return!1;const h=o.minTranslate(),p=o.maxTranslate();let v;if(r&&n>h?v=h:r&&n<p?v=p:v=n,o.updateProgress(v),c.cssMode){const b=o.isHorizontal();if(e===0)f[b?"scrollLeft":"scrollTop"]=-v;else{if(!o.support.smoothScroll)return L1({swiper:o,targetPosition:-v,side:b?"left":"top"}),!0;f.scrollTo({[b?"left":"top"]:-v,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(v),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(v),t&&(o.emit("beforeTransitionStart",e,a),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(S){!o||o.destroyed||S.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var yV={getTranslate:hV,setTranslate:fV,minTranslate:mV,maxTranslate:pV,translateTo:gV};function vV(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function z1({swiper:n,runCallbacks:e,direction:t,step:r}){const{activeIndex:a,previousIndex:o}=n;let c=t;c||(a>o?c="next":a<o?c="prev":c="reset"),n.emit(`transition${r}`),e&&c==="reset"?n.emit(`slideResetTransition${r}`):e&&a!==o&&(n.emit(`slideChangeTransition${r}`),c==="next"?n.emit(`slideNextTransition${r}`):n.emit(`slidePrevTransition${r}`))}function _V(n=!0,e){const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),z1({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function bV(n=!0,e){const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),z1({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var wV={setTransition:vV,transitionStart:_V,transitionEnd:bV};function TV(n=0,e,t=!0,r,a){typeof n=="string"&&(n=parseInt(n,10));const o=this;let c=n;c<0&&(c=0);const{params:f,snapGrid:h,slidesGrid:p,previousIndex:v,activeIndex:b,rtlTranslate:S,wrapperEl:E,enabled:M}=o;if(!M&&!r&&!a||o.destroyed||o.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const k=Math.min(o.params.slidesPerGroupSkip,c);let N=k+Math.floor((c-k)/o.params.slidesPerGroup);N>=h.length&&(N=h.length-1);const U=-h[N];if(f.normalizeSlideIndex)for(let O=0;O<p.length;O+=1){const x=-Math.floor(U*100),D=Math.floor(p[O]*100),I=Math.floor(p[O+1]*100);typeof p[O+1]<"u"?x>=D&&x<I-(I-D)/2?c=O:x>=D&&x<I&&(c=O+1):x>=D&&(c=O)}if(o.initialized&&c!==b&&(!o.allowSlideNext&&(S?U>o.translate&&U>o.minTranslate():U<o.translate&&U<o.minTranslate())||!o.allowSlidePrev&&U>o.translate&&U>o.maxTranslate()&&(b||0)!==c))return!1;c!==(v||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(U);let B;c>b?B="next":c<b?B="prev":B="reset";const z=o.virtual&&o.params.virtual.enabled;if(!(z&&a)&&(S&&-U===o.translate||!S&&U===o.translate))return o.updateActiveIndex(c),f.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),f.effect!=="slide"&&o.setTranslate(U),B!=="reset"&&(o.transitionStart(t,B),o.transitionEnd(t,B)),!1;if(f.cssMode){const O=o.isHorizontal(),x=S?U:-U;if(e===0)z&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),z&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[O?"scrollLeft":"scrollTop"]=x})):E[O?"scrollLeft":"scrollTop"]=x,z&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return L1({swiper:o,targetPosition:x,side:O?"left":"top"}),!0;E.scrollTo({[O?"left":"top"]:x,behavior:"smooth"})}return!0}const ie=U1().isSafari;return z&&!a&&ie&&o.isElement&&o.virtual.update(!1,!1,c),o.setTransition(e),o.setTranslate(U),o.updateActiveIndex(c),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,B),e===0?o.transitionEnd(t,B):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(x){!o||o.destroyed||x.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,B))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function EV(n=0,e,t=!0,r){typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const o=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let f;if(o){const k=c*a.params.grid.rows;f=a.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===k).column}else f=a.getSlideIndexByData(c);const h=o?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p,slidesOffsetBefore:v,slidesOffsetAfter:b}=a.params,S=p||!!v||!!b;let E=a.params.slidesPerView;E==="auto"?E=a.slidesPerViewDynamic():(E=Math.ceil(parseFloat(a.params.slidesPerView,10)),S&&E%2===0&&(E=E+1));let M=h-f<E;if(S&&(M=M||f<Math.ceil(E/2)),r&&S&&a.params.slidesPerView!=="auto"&&!o&&(M=!1),M){const k=S?f<a.activeIndex?"prev":"next":f-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:k,slideTo:!0,activeSlideIndex:k==="next"?f+1:f-h+1,slideRealIndex:k==="next"?a.realIndex:void 0})}if(o){const k=c*a.params.grid.rows;c=a.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===k).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function SV(n,e=!0,t){const r=this,{enabled:a,params:o,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let f=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<o.slidesPerGroupSkip?1:f,p=r.virtual&&o.virtual.enabled;if(o.loop){if(c&&!p&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function xV(n,e=!0,t){const r=this,{params:a,snapGrid:o,slidesGrid:c,rtlTranslate:f,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const v=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!v&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=f?r.translate:-r.translate;function S(B){return B<0?-Math.floor(Math.abs(B)):Math.floor(B)}const E=S(b),M=o.map(B=>S(B)),k=a.freeMode&&a.freeMode.enabled;let N=o[M.indexOf(E)-1];if(typeof N>"u"&&(a.cssMode||k)){let B;o.forEach((z,ne)=>{E>=z&&(B=ne)}),typeof B<"u"&&(N=k?o[B]:o[B>0?B-1:B])}let U=0;if(typeof N<"u"&&(U=c.indexOf(N),U<0&&(U=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(U=U-r.slidesPerViewDynamic("previous",!0)+1,U=Math.max(U,0))),a.rewind&&r.isBeginning){const B=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(B,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(U,n,e,t)}),!0;return r.slideTo(U,n,e,t)}function AV(n,e=!0,t){const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function CV(n,e=!0,t,r=.5){const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let o=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,o),f=c+Math.floor((o-c)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[f]){const p=a.snapGrid[f],v=a.snapGrid[f+1];h-p>(v-p)*r&&(o+=a.params.slidesPerGroup)}else{const p=a.snapGrid[f-1],v=a.snapGrid[f];h-p<=(v-p)*r&&(o-=a.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,a.slidesGrid.length-1),a.slideTo(o,n,e,t)}function RV(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.getSlideIndexWhenGrid(n.clickedIndex),o;const c=n.isElement?"swiper-slide":`.${e.slideClass}`,f=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(o):a>(f?(n.slides.length-r)/2-(n.params.grid.rows-1):n.slides.length-r)?(n.loopFix(),a=n.getSlideIndex(Or(t,`${c}[data-swiper-slide-index="${o}"]`)[0]),P1(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var IV={slideTo:TV,slideToLoop:EV,slideNext:SV,slidePrev:xV,slideReset:AV,slideToClosest:CV,slideToClickedSlide:RV};function NV(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{Or(a,`.${r.slideClass}, swiper-slide`).forEach((M,k)=>{M.setAttribute("data-swiper-slide-index",k)})},c=()=>{const E=Or(a,`.${r.slideBlankClass}`);E.forEach(M=>{M.remove()}),E.length>0&&(t.recalcSlides(),t.updateSlides())},f=t.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||f)&&c();const h=r.slidesPerGroup*(f?r.grid.rows:1),p=t.slides.length%h!==0,v=f&&t.slides.length%r.grid.rows!==0,b=E=>{for(let M=0;M<E;M+=1){const k=t.isElement?Mg("swiper-slide",[r.slideBlankClass]):Mg("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(k)}};if(p){if(r.loopAddBlankSlides){const E=h-t.slides.length%h;b(E),t.recalcSlides(),t.updateSlides()}else Lh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(v){if(r.loopAddBlankSlides){const E=r.grid.rows-t.slides.length%r.grid.rows;b(E),t.recalcSlides(),t.updateSlides()}else Lh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();const S=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:S?void 0:"next",initial:e})}function OV({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:r,activeSlideIndex:a,initial:o,byController:c,byMousewheel:f}={}){const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:p,allowSlidePrev:v,allowSlideNext:b,slidesEl:S,params:E}=h,{centeredSlides:M,slidesOffsetBefore:k,slidesOffsetAfter:N,initialSlide:U}=E,B=M||!!k||!!N;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&E.virtual.enabled){e&&(!B&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):B&&h.snapIndex<E.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=v,h.allowSlideNext=b,h.emit("loopFix");return}let z=E.slidesPerView;z==="auto"?z=h.slidesPerViewDynamic():(z=Math.ceil(parseFloat(E.slidesPerView,10)),B&&z%2===0&&(z=z+1));const ne=E.slidesPerGroupAuto?z:E.slidesPerGroup;let ee=B?Math.max(ne,Math.ceil(z/2)):ne;ee%ne!==0&&(ee+=ne-ee%ne),ee+=E.loopAdditionalSlides,h.loopedSlides=ee;const ie=h.grid&&E.grid&&E.grid.rows>1;p.length<z+ee||h.params.effect==="cards"&&p.length<z+ee*2?Lh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ie&&E.grid.fill==="row"&&Lh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const O=[],x=[],D=ie?Math.ceil(p.length/E.grid.rows):p.length,I=o&&D-U<z&&!B;let C=I?U:h.activeIndex;typeof a>"u"?a=h.getSlideIndex(p.find($=>$.classList.contains(E.slideActiveClass))):C=a;const j=t==="next"||!t,P=t==="prev"||!t;let de=0,ce=0;const J=(ie?p[a].column:a)+(B&&typeof r>"u"?-z/2+.5:0);if(J<ee){de=Math.max(ee-J,ne);for(let $=0;$<ee-J;$+=1){const ue=$-Math.floor($/D)*D;if(ie){const fe=D-ue-1;for(let L=p.length-1;L>=0;L-=1)p[L].column===fe&&O.push(L)}else O.push(D-ue-1)}}else if(J+z>D-ee){ce=Math.max(J-(D-ee*2),ne),I&&(ce=Math.max(ce,z-D+U+1));for(let $=0;$<ce;$+=1){const ue=$-Math.floor($/D)*D;ie?p.forEach((fe,L)=>{fe.column===ue&&x.push(L)}):x.push(ue)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&p.length<z+ee*2&&(x.includes(a)&&x.splice(x.indexOf(a),1),O.includes(a)&&O.splice(O.indexOf(a),1)),P&&O.forEach($=>{p[$].swiperLoopMoveDOM=!0,S.prepend(p[$]),p[$].swiperLoopMoveDOM=!1}),j&&x.forEach($=>{p[$].swiperLoopMoveDOM=!0,S.append(p[$]),p[$].swiperLoopMoveDOM=!1}),h.recalcSlides(),E.slidesPerView==="auto"?h.updateSlides():ie&&(O.length>0&&P||x.length>0&&j)&&h.slides.forEach(($,ue)=>{h.grid.updateSlide(ue,$,h.slides)}),E.watchSlidesProgress&&h.updateSlidesOffset(),e){if(O.length>0&&P){if(typeof n>"u"){const $=h.slidesGrid[C],fe=h.slidesGrid[C+de]-$;f?h.setTranslate(h.translate-fe):(h.slideTo(C+Math.ceil(de),0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-fe,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-fe))}else if(r){const $=ie?O.length/E.grid.rows:O.length;h.slideTo(h.activeIndex+$,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(x.length>0&&j)if(typeof n>"u"){const $=h.slidesGrid[C],fe=h.slidesGrid[C-ce]-$;f?h.setTranslate(h.translate-fe):(h.slideTo(C-ce,0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-fe,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-fe))}else{const $=ie?x.length/E.grid.rows:x.length;h.slideTo(h.activeIndex-$,0,!1,!0)}}if(h.allowSlidePrev=v,h.allowSlideNext=b,h.controller&&h.controller.control&&!c){const $={slideRealIndex:n,direction:t,setTranslate:r,activeSlideIndex:a,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(ue=>{!ue.destroyed&&ue.params.loop&&ue.loopFix({...$,slideTo:ue.params.slidesPerView===E.slidesPerView?e:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...$,slideTo:h.controller.control.params.slidesPerView===E.slidesPerView?e:!1})}h.emit("loopFix")}function DV(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const o=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[o]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var MV={loopCreate:NV,loopFix:OV,loopDestroy:DV};function kV(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function PV(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var LV={setGrabCursor:kV,unsetGrabCursor:PV};function jV(n,e=this){function t(r){if(!r||r===qa()||r===yn())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function VT(n,e,t){const r=yn(),{params:a}=n,o=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return o&&(t<=c||t>=r.innerWidth-c)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function VV(n){const e=this,t=qa();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){VT(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:c,enabled:f}=e;if(!f||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let h=r.target;if(o.touchEventsTarget==="wrapper"&&!Gj(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!o.noSwipingClass&&o.noSwipingClass!=="",v=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&v&&(h=v[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,S=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(S?jV(b,h):h.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!h.closest(o.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const E=c.currentX,M=c.currentY;if(!VT(e,r,E))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=E,c.startY=M,a.touchStartTime=Ph(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1);let k=!0;h.matches(a.focusableElements)&&(k=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const N=k&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||N)&&!h.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function UV(n){const e=qa(),t=this,r=t.touchEventsData,{params:a,touches:o,rtlTranslate:c,enabled:f}=t;if(!f||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(ee=>ee.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const v=p.pageX,b=p.pageY;if(h.preventedByNestedSwiper){o.startX=v,o.startY=b;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:v,startY:b,currentX:v,currentY:b}),r.touchStartTime=Ph());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(v>o.startX&&-t.translate<=t.maxTranslate()||v<o.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(v<o.startX&&t.translate<=t.maxTranslate()||v>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=v,o.currentY=b;const S=o.currentX-o.startX,E=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(S**2+E**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let ee;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:S*S+E*E>=25&&(ee=Math.atan2(Math.abs(E),Math.abs(S))*180/Math.PI,r.isScrolling=t.isHorizontal()?ee>a.touchAngle:90-ee>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let M=t.isHorizontal()?S:E,k=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;a.oneWayMovement&&(M=Math.abs(M)*(c?1:-1),k=Math.abs(k)*(c?1:-1)),o.diff=M,M*=a.touchRatio,c&&(M=-M,k=-k);const N=t.touchesDirection;t.swipeDirection=M>0?"prev":"next",t.touchesDirection=k>0?"prev":"next";const U=t.params.loop&&!a.cssMode,B=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(U&&B&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ee=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ee)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&N!==t.touchesDirection&&U&&B&&Math.abs(M)>=1){Object.assign(o,{startX:v,startY:b,currentX:v,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=M+r.startTranslate;let z=!0,ne=a.resistanceRatio;if(a.touchReleaseOnEdges&&(ne=0),M>0?(U&&B&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(z=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+M)**ne))):M<0&&(U&&B&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(z=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-M)**ne))),z&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(M)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function zV(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(ee=>ee.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:f,rtlTranslate:h,slidesGrid:p,enabled:v}=e;if(!v||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=Ph(),S=b-t.touchStartTime;if(e.allowClick){const ee=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(ee&&ee[0]||r.target,ee),e.emit("tap click",r),S<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Ph(),P1(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||f.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let E;if(c.followFinger?E=h?e.translate:-e.translate:E=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:E});return}const M=E>=-e.maxTranslate()&&!e.params.loop;let k=0,N=e.slidesSizesGrid[0];for(let ee=0;ee<p.length;ee+=ee<c.slidesPerGroupSkip?1:c.slidesPerGroup){const ie=ee<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[ee+ie]<"u"?(M||E>=p[ee]&&E<p[ee+ie])&&(k=ee,N=p[ee+ie]-p[ee]):(M||E>=p[ee])&&(k=ee,N=p[p.length-1]-p[p.length-2])}let U=null,B=null;c.rewind&&(e.isBeginning?B=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(U=0));const z=(E-p[k])/N,ne=k<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(S>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(z>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?U:k+ne):e.slideTo(k)),e.swipeDirection==="prev"&&(z>1-c.longSwipesRatio?e.slideTo(k+ne):B!==null&&z<0&&Math.abs(z)>c.longSwipesRatio?e.slideTo(B):e.slideTo(k))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(k+ne):e.slideTo(k):(e.swipeDirection==="next"&&e.slideTo(U!==null?U:k+ne),e.swipeDirection==="prev"&&e.slideTo(B!==null?B:k))}}function UT(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:o}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const f=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!f?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function BV(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function FV(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const o=n.maxTranslate()-n.minTranslate();o===0?a=0:a=(n.translate-n.minTranslate())/o,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function qV(n){const e=this;lh(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function HV(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const B1=(n,e)=>{const t=qa(),{params:r,el:a,wrapperEl:o,device:c}=n,f=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:f}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:f}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:f}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&o[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",UT,!0):n[p]("observerUpdate",UT,!0),a[h]("load",n.onLoad,{capture:!0}))};function GV(){const n=this,{params:e}=n;n.onTouchStart=VV.bind(n),n.onTouchMove=UV.bind(n),n.onTouchEnd=zV.bind(n),n.onDocumentTouchStart=HV.bind(n),e.cssMode&&(n.onScroll=FV.bind(n)),n.onClick=BV.bind(n),n.onLoad=qV.bind(n),B1(n,"on")}function $V(){B1(this,"off")}var YV={attachEvents:GV,detachEvents:$V};const zT=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function KV(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const c=qa(),f=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(o,f,h);if(!p||n.currentBreakpoint===p)return;const b=(p in o?o[p]:void 0)||n.originalParams,S=zT(n,r),E=zT(n,b),M=n.params.grabCursor,k=b.grabCursor,N=r.enabled;S&&!E?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!S&&E&&(a.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),M&&!k?n.unsetGrabCursor():!M&&k&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ie=>{if(typeof b[ie]>"u")return;const O=r[ie]&&r[ie].enabled,x=b[ie]&&b[ie].enabled;O&&!x&&n[ie].disable(),!O&&x&&n[ie].enable()});const U=b.direction&&b.direction!==r.direction,B=r.loop&&(b.slidesPerView!==r.slidesPerView||U),z=r.loop;U&&t&&n.changeDirection(),zn(n.params,b);const ne=n.params.enabled,ee=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),N&&!ne?n.disable():!N&&ne&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",b),t&&(B?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!z&&ee?(n.loopCreate(e),n.updateSlides()):z&&!ee&&n.loopDestroy()),n.emit("breakpoint",b)}function QV(n,e="window",t){if(!n||e==="container"&&!t)return;let r=!1;const a=yn(),o=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const h=parseFloat(f.substr(1));return{value:o*h,point:f}}return{value:f,point:f}});c.sort((f,h)=>parseInt(f.value,10)-parseInt(h.value,10));for(let f=0;f<c.length;f+=1){const{point:h,value:p}=c[f];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var XV={setBreakpoint:KV,getBreakpoint:QV};function WV(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function JV(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:o}=n,c=WV(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function ZV(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var e3={addClasses:JV,removeClasses:ZV};function t3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,o=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var n3={checkOverflow:t3},Pg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function i3(n,e){return function(r={}){const a=Object.keys(r)[0],o=r[a];if(typeof o!="object"||o===null){zn(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in o)){zn(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),zn(e,r)}}const Kp={eventsEmitter:eV,update:dV,translate:yV,transition:wV,slide:IV,loop:MV,grabCursor:LV,events:YV,breakpoints:XV,checkOverflow:n3,classes:e3},Qp={};let Jy=class Cr{constructor(...e){let t,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[t,r]=e,r||(r={}),r=zn({},r),t&&!r.el&&(r.el=t);const a=qa();if(r.el&&typeof r.el=="string"&&a.querySelectorAll(r.el).length>1){const h=[];return a.querySelectorAll(r.el).forEach(p=>{const v=zn({},r,{el:p});h.push(new Cr(v))}),h}const o=this;o.__swiper__=!0,o.support=j1(),o.device=V1({userAgent:r.userAgent}),o.browser=U1(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const c={};o.modules.forEach(h=>{h({params:r,swiper:o,extendParams:i3(r,c),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const f=zn({},Pg,c);return o.params=zn({},f,Qp,r),o.originalParams=zn({},o.params),o.passedParams=zn({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(h=>{o.on(h,o.params.on[h])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=Or(t,`.${r.slideClass}, swiper-slide`),o=kT(a[0]);return kT(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Or(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const r=this,{params:a,slides:o,slidesGrid:c,slidesSizesGrid:f,size:h,activeIndex:p}=r;let v=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let b=o[p]?Math.ceil(o[p].swiperSlideSize):0,S;for(let E=p+1;E<o.length;E+=1)o[E]&&!S&&(b+=Math.ceil(o[E].swiperSlideSize),v+=1,b>h&&(S=!0));for(let E=p-1;E>=0;E-=1)o[E]&&!S&&(b+=o[E].swiperSlideSize,v+=1,b>h&&(S=!0))}else if(e==="current")for(let b=p+1;b<o.length;b+=1)(t?c[b]+f[b]-c[p]<h:c[b]-c[p]<h)&&(v+=1);else for(let b=p-1;b>=0;b-=1)c[p]-c[b]<h&&(v+=1);return v}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&lh(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(c.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):Or(r,a())[0];return!c&&t.params.createElements&&(c=Mg("div",t.params.wrapperClass),r.append(c),Or(r,`.${t.params.slideClass}`).forEach(f=>{c.append(f)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Cs(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Cs(r,"direction")==="rtl"),wrongRTL:Cs(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(o=>{o.complete?lh(t,o):o.addEventListener("load",c=>{lh(t,c.target)})}),kg(t),t.initialized=!0,kg(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const r=this,{params:a,el:o,wrapperEl:c,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),c&&c.removeAttribute("style"),f&&f.length&&f.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),zj(r)),r.destroyed=!0),null}static extendDefaults(e){zn(Qp,e)}static get extendedDefaults(){return Qp}static get defaults(){return Pg}static installModule(e){Cr.prototype.__modules__||(Cr.prototype.__modules__=[]);const t=Cr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Cr.installModule(t)),Cr):(Cr.installModule(e),Cr)}};Object.keys(Kp).forEach(n=>{Object.keys(Kp[n]).forEach(e=>{Jy.prototype[e]=Kp[n][e]})});Jy.use([Jj,Zj]);const F1=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ja(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Go(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:ja(e[r])&&ja(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Go(n[r],e[r]):n[r]=e[r]})}function q1(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function H1(n={}){return n.pagination&&typeof n.pagination.el>"u"}function G1(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function $1(n=""){const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function r3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function s3({swiper:n,slides:e,passedParams:t,changedParams:r,nextEl:a,prevEl:o,scrollbarEl:c,paginationEl:f}){const h=r.filter(x=>x!=="children"&&x!=="direction"&&x!=="wrapperClass"),{params:p,pagination:v,navigation:b,scrollbar:S,virtual:E,thumbs:M}=n;let k,N,U,B,z,ne,ee,ie;r.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&p.thumbs&&(!p.thumbs.swiper||p.thumbs.swiper.destroyed)&&(k=!0),r.includes("controller")&&t.controller&&t.controller.control&&p.controller&&!p.controller.control&&(N=!0),r.includes("pagination")&&t.pagination&&(t.pagination.el||f)&&(p.pagination||p.pagination===!1)&&v&&!v.el&&(U=!0),r.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||c)&&(p.scrollbar||p.scrollbar===!1)&&S&&!S.el&&(B=!0),r.includes("navigation")&&t.navigation&&(t.navigation.prevEl||o)&&(t.navigation.nextEl||a)&&(p.navigation||p.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(z=!0);const O=x=>{n[x]&&(n[x].destroy(),x==="navigation"?(n.isElement&&(n[x].prevEl.remove(),n[x].nextEl.remove()),p[x].prevEl=void 0,p[x].nextEl=void 0,n[x].prevEl=void 0,n[x].nextEl=void 0):(n.isElement&&n[x].el.remove(),p[x].el=void 0,n[x].el=void 0))};r.includes("loop")&&n.isElement&&(p.loop&&!t.loop?ne=!0:!p.loop&&t.loop?ee=!0:ie=!0),h.forEach(x=>{if(ja(p[x])&&ja(t[x]))Object.assign(p[x],t[x]),(x==="navigation"||x==="pagination"||x==="scrollbar")&&"enabled"in t[x]&&!t[x].enabled&&O(x);else{const D=t[x];(D===!0||D===!1)&&(x==="navigation"||x==="pagination"||x==="scrollbar")?D===!1&&O(x):p[x]=t[x]}}),h.includes("controller")&&!N&&n.controller&&n.controller.control&&p.controller&&p.controller.control&&(n.controller.control=p.controller.control),r.includes("children")&&e&&E&&p.virtual.enabled?(E.slides=e,E.update(!0)):r.includes("virtual")&&E&&p.virtual.enabled&&(e&&(E.slides=e),E.update(!0)),r.includes("children")&&e&&p.loop&&(ie=!0),k&&M.init()&&M.update(!0),N&&(n.controller.control=p.controller.control),U&&(n.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),n.el.appendChild(f)),f&&(p.pagination.el=f),v.init(),v.render(),v.update()),B&&(n.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),n.el.appendChild(c)),c&&(p.scrollbar.el=c),S.init(),S.updateSize(),S.setTranslate()),z&&(n.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),LT(a,n.navigation.arrowSvg),a.part.add("button-next"),n.el.appendChild(a)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),LT(o,n.navigation.arrowSvg),o.part.add("button-prev"),n.el.appendChild(o))),a&&(p.navigation.nextEl=a),o&&(p.navigation.prevEl=o),b.init(),b.update()),r.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),r.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),r.includes("direction")&&n.changeDirection(t.direction,!1),(ne||ie)&&n.loopDestroy(),(ee||ie)&&n.loopCreate(),n.update()}function a3(n={},e=!0){const t={on:{}},r={},a={};Go(t,Pg),t._emitClasses=!0,t.init=!1;const o={},c=F1.map(h=>h.replace(/_/,"")),f=Object.assign({},n);return Object.keys(f).forEach(h=>{typeof n[h]>"u"||(c.indexOf(h)>=0?ja(n[h])?(t[h]={},a[h]={},Go(t[h],n[h]),Go(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:o[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:o,events:r}}function o3({el:n,nextEl:e,prevEl:t,paginationEl:r,scrollbarEl:a,swiper:o},c){q1(c)&&e&&t&&(o.params.navigation.nextEl=e,o.originalParams.navigation.nextEl=e,o.params.navigation.prevEl=t,o.originalParams.navigation.prevEl=t),H1(c)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),G1(c)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(n)}function l3(n,e,t,r,a){const o=[];if(!e)return o;const c=h=>{o.indexOf(h)<0&&o.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return F1.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(ja(n[h])&&ja(e[h])){const p=Object.keys(n[h]),v=Object.keys(e[h]);p.length!==v.length?c(h):(p.forEach(b=>{n[h][b]!==e[h][b]&&c(h)}),v.forEach(b=>{n[h][b]!==e[h][b]&&c(h)}))}else n[h]!==e[h]&&c(h)}),o}const u3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function jh(){return jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jh.apply(this,arguments)}function Y1(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function K1(n){const e=[];return Ke.Children.toArray(n).forEach(t=>{Y1(t)?e.push(t):t.props&&t.props.children&&K1(t.props.children).forEach(r=>e.push(r))}),e}function c3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ke.Children.toArray(n).forEach(r=>{if(Y1(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=K1(r.props.children);a.length>0?a.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function d3(n,e,t){if(!t)return null;const r=v=>{let b=v;return v<0?b=e.length+v:b>=e.length&&(b=b-e.length),b},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:c}=t,f=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let v=f;v<h;v+=1)v>=o&&v<=c&&p.push(e[r(v)]);return p.map((v,b)=>Ke.cloneElement(v,{swiper:n,style:a,key:v.props.virtualIndex||v.key||`slide-${b}`}))}function Mu(n,e){return typeof window>"u"?F.useEffect(n,e):F.useLayoutEffect(n,e)}const BT=F.createContext(null),h3=F.createContext(null),Q1=F.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:r,onSwiper:a,...o}={},c)=>{let f=!1;const[h,p]=F.useState("swiper"),[v,b]=F.useState(null),[S,E]=F.useState(!1),M=F.useRef(!1),k=F.useRef(null),N=F.useRef(null),U=F.useRef(null),B=F.useRef(null),z=F.useRef(null),ne=F.useRef(null),ee=F.useRef(null),ie=F.useRef(null),{params:O,passedParams:x,rest:D,events:I}=a3(o),{slides:C,slots:j}=c3(r),P=()=>{E(!S)};Object.assign(O.on,{_containerClasses($,ue){p(ue)}});const de=()=>{Object.assign(O.on,I),f=!0;const $={...O};if(delete $.wrapperClass,N.current=new Jy($),N.current.virtual&&N.current.params.virtual.enabled){N.current.virtual.slides=C;const ue={cache:!1,slides:C,renderExternal:b,renderExternalUpdate:!1};Go(N.current.params.virtual,ue),Go(N.current.originalParams.virtual,ue)}};k.current||de(),N.current&&N.current.on("_beforeBreakpoint",P);const ce=()=>{f||!I||!N.current||Object.keys(I).forEach($=>{N.current.on($,I[$])})},q=()=>{!I||!N.current||Object.keys(I).forEach($=>{N.current.off($,I[$])})};F.useEffect(()=>()=>{N.current&&N.current.off("_beforeBreakpoint",P)}),F.useEffect(()=>{!M.current&&N.current&&(N.current.emitSlidesClasses(),M.current=!0)}),Mu(()=>{if(c&&(c.current=k.current),!!k.current)return N.current.destroyed&&de(),o3({el:k.current,nextEl:z.current,prevEl:ne.current,paginationEl:ee.current,scrollbarEl:ie.current,swiper:N.current},O),a&&!N.current.destroyed&&a(N.current),()=>{N.current&&!N.current.destroyed&&N.current.destroy(!0,!1)}},[]),Mu(()=>{ce();const $=l3(x,U.current,C,B.current,ue=>ue.key);return U.current=x,B.current=C,$.length&&N.current&&!N.current.destroyed&&s3({swiper:N.current,slides:C,passedParams:x,changedParams:$,nextEl:z.current,prevEl:ne.current,scrollbarEl:ie.current,paginationEl:ee.current}),()=>{q()}}),Mu(()=>{u3(N.current)},[v]);function J(){return O.virtual?d3(N.current,C,v):C.map(($,ue)=>Ke.cloneElement($,{swiper:N.current,swiperSlideIndex:ue}))}return Ke.createElement(e,jh({ref:k,className:$1(`${h}${n?` ${n}`:""}`)},D),Ke.createElement(h3.Provider,{value:N.current},j["container-start"],Ke.createElement(t,{className:r3(O.wrapperClass)},j["wrapper-start"],J(),j["wrapper-end"]),q1(O)&&Ke.createElement(Ke.Fragment,null,Ke.createElement("div",{ref:ne,className:"swiper-button-prev"}),Ke.createElement("div",{ref:z,className:"swiper-button-next"})),G1(O)&&Ke.createElement("div",{ref:ie,className:"swiper-scrollbar"}),H1(O)&&Ke.createElement("div",{ref:ee,className:"swiper-pagination"}),j["container-end"]))});Q1.displayName="Swiper";const X1=F.forwardRef(({tag:n="div",children:e,className:t="",swiper:r,zoom:a,lazy:o,virtualIndex:c,swiperSlideIndex:f,...h}={},p)=>{const v=F.useRef(null),[b,S]=F.useState("swiper-slide"),[E,M]=F.useState(!1);function k(z,ne,ee){ne===v.current&&S(ee)}Mu(()=>{if(typeof f<"u"&&(v.current.swiperSlideIndex=f),p&&(p.current=v.current),!(!v.current||!r)){if(r.destroyed){b!=="swiper-slide"&&S("swiper-slide");return}return r.on("_slideClass",k),()=>{r&&r.off("_slideClass",k)}}}),Mu(()=>{r&&v.current&&!r.destroyed&&S(r.getSlideClasses(v.current))},[r]);const N={isActive:b.indexOf("swiper-slide-active")>=0,isVisible:b.indexOf("swiper-slide-visible")>=0,isPrev:b.indexOf("swiper-slide-prev")>=0,isNext:b.indexOf("swiper-slide-next")>=0},U=()=>typeof e=="function"?e(N):e,B=()=>{M(!0)};return Ke.createElement(n,jh({ref:v,className:$1(`${b}${t?` ${t}`:""}`),"data-swiper-slide-index":c,onLoad:B},h),a&&Ke.createElement(BT.Provider,{value:N},Ke.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},U(),o&&!E&&Ke.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Ke.createElement(BT.Provider,{value:N},U(),o&&!E&&Ke.createElement("div",{className:"swiper-lazy-preloader"})))});X1.displayName="SwiperSlide";const sr=Ku((n,e)=>({products:[],loading:!0,_unsubscribe:null,subscribeToProducts:()=>{if(e()._unsubscribe)return;const t=Bx(Ou(Bt,"products"),YP("createdAt","desc"));let r=Rg(t,a=>{const o=a.docs.map(c=>({id:c.id,...c.data()}));console.info("[products] products snapshot received, count=",o.length),n({products:o,loading:!1})},a=>{if(console.error("Products snapshot error",a),n({loading:!1}),!e()._triedFallback){console.warn("[productStore] retrying snapshot without orderBy(createdAt)");try{const o=Ou(Bt,"products"),c=Rg(o,f=>{const h=f.docs.map(p=>({id:p.id,...p.data()}));console.info("[productStore] fallback snapshot received, count=",h.length),n({products:h,loading:!1})},f=>{console.error("Products fallback snapshot error",f),n({loading:!1})});n({_unsubscribe:c,_triedFallback:!0})}catch(o){console.error("[productStore] fallback subscribe failed",o)}}});n({_unsubscribe:r})},unsubscribeProducts:async()=>{const t=e()._unsubscribe;if(t){try{t()}catch(r){console.warn("unsubscribe error",r)}n({_unsubscribe:null})}},addProduct:async t=>{const r={...t,createdAt:Dh()};try{await Gx(Ou(Bt,"products"),r)}catch(a){throw console.error("addProduct failed",a),a}},updateProduct:async(t,r)=>{try{await Ms(pn(Bt,"products",t),{...r,updatedAt:Dh()},{merge:!0})}catch(a){throw console.error("updateProduct failed",a),a}},deleteProduct:async t=>{try{await XP(pn(Bt,"products",t))}catch(r){throw console.error("deleteProduct failed",r),r}},getProduct:t=>e().products.find(r=>r.id===t),getAllProducts:()=>e().products}));function f3(){const n=un(),{products:e}=sr(),{addItem:t}=Br(),{addItem:r,removeItem:a,isWishlisted:o}=lc(),[c,f]=F.useState(null),h=F.useMemo(()=>e.slice(0,4),[e]),p=async(E,M)=>{E.preventDefault(),E.stopPropagation(),f(`wishlist-${M.id}`);try{o(M.id)?await a(M.id):await r(M)}finally{f(null)}},v=(E,M)=>{E.preventDefault(),E.stopPropagation(),t({...M,qty:1,size:"M"})},b=(E,M)=>{E.preventDefault(),E.stopPropagation(),t({...M,qty:1,size:"M"}),n("/checkout")},S=[{id:1,title:"Big Sale",color:"bg-indigo-500"},{id:2,title:"New Arrivals",color:"bg-emerald-500"},{id:3,title:"Trending",color:"bg-pink-500"}];return y.jsxs("div",{className:"w-full max-w-4xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsx("section",{className:"mb-6",children:y.jsx(Q1,{spaceBetween:12,slidesPerView:1,className:"rounded-lg overflow-hidden",children:S.map(E=>y.jsx(X1,{children:y.jsx("div",{className:`${E.color} rounded-lg h-40 sm:h-48 flex items-center justify-center text-white font-bold text-xl sm:text-2xl transition-all hover:scale-105 animate-slideUp`,children:E.title})},E.id))})}),y.jsxs("section",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 animate-slideInLeft",children:"Featured Products"}),y.jsx(bt,{to:"/products",className:"text-sm font-medium text-orange-600 hover:text-orange-700 hover:translate-x-1 transition-all",children:"View all "})]}),h.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500",children:y.jsx("p",{children:"No products available"})}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4",children:h.map((E,M)=>{const k=o(E.id);return y.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-lg transition-all border border-gray-200 overflow-hidden group animate-slideUp",style:{animationDelay:`${M*.1}s`},children:[y.jsxs(bt,{to:`/product/${E.id}`,className:"block h-24 sm:h-32 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center font-bold text-gray-400 overflow-hidden relative hover:scale-110 transition-transform",children:[E.image?y.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover"}):"Image",E.discount&&y.jsxs("div",{className:"absolute top-1 right-1 bg-gradient-to-r from-orange-600 to-orange-700 text-white text-xs font-bold px-1.5 py-0.5 rounded-full shadow-lg animate-bounce-gentle",children:[E.discount,"%"]})]}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsx(bt,{to:`/product/${E.id}`,className:"text-sm sm:text-base font-medium text-gray-900 truncate hover:text-orange-600 transition-colors block",children:E.name}),y.jsxs("div",{className:"text-xs sm:text-sm text-orange-600 font-bold mt-1",children:["",E.price]}),y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:" (42)"}),y.jsxs("div",{className:"flex gap-1 sm:gap-2 mt-2",children:[y.jsxs("button",{onClick:N=>v(N,E),className:"flex-1 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white text-xs sm:text-sm font-medium py-1.5 rounded transition-all flex items-center justify-center gap-1 hover:shadow-lg hover:shadow-orange-200",children:[y.jsx(Ra,{size:14,className:"hidden sm:block"}),y.jsx("span",{className:"text-xs sm:text-sm",children:"Add"})]}),y.jsx("button",{onClick:N=>p(N,E),disabled:c===`wishlist-${E.id}`,className:`px-2 py-1.5 rounded transition-all hover:scale-110 ${k?"bg-gradient-to-r from-orange-100 to-orange-50 shadow-md":"bg-gray-100 hover:bg-gray-200"}`,children:y.jsx(zh,{size:16,className:k?"text-orange-600 fill-current animate-glow":"text-gray-600"})}),y.jsx("button",{onClick:N=>b(N,E),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white text-xs sm:text-sm font-medium py-1.5 rounded transition-all hover:shadow-lg hover:shadow-green-200",children:"Buy"})]})]})]},E.id)})})]})]})}function m3(){const[n]=iI(),e=un(),{products:t}=sr(),{addItem:r}=Br(),{addItem:a,isWishlisted:o,removeItem:c}=lc(),f=n.get("q")||"",[h,p]=F.useState(null),[v,b]=F.useState({min:0,max:1e5}),[S,E]=F.useState(!1),M=F.useMemo(()=>[...new Set(t.map(U=>U.category).filter(Boolean))],[t]),k=F.useMemo(()=>{let N=t;if(f.trim()){const U=f.toLowerCase();N=N.filter(B=>B.name?.toLowerCase().includes(U)||B.description?.toLowerCase().includes(U)||B.category?.toLowerCase().includes(U))}return h&&(N=N.filter(U=>U.category===h)),N=N.filter(U=>U.price>=v.min&&U.price<=v.max),N},[t,f,h,v]);return y.jsxs("div",{className:"w-full max-w-6xl mx-auto px-3 sm:px-4 pb-20 pt-2",children:[y.jsxs("div",{className:"mb-4 sticky top-0 bg-white z-10 py-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3 gap-2",children:[y.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 truncate flex-1",children:f?`Search: "${f}"`:h||"Products"}),y.jsxs("button",{onClick:()=>E(!S),className:"flex items-center gap-2 px-3 py-2 border rounded-lg text-gray-700 active:opacity-70 min-h-[44px] font-medium text-sm",children:[y.jsx(EI,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Filter"})]})]}),y.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[k.length," product",k.length!==1?"s":""]})]}),S&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>E(!1)}),y.jsxs("div",{className:"flex gap-3 lg:gap-4",children:[S&&y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 md:relative md:bottom-auto bg-white p-4 rounded-t-lg md:rounded-lg border md:w-48 md:sticky md:top-32 max-h-96 md:max-h-[calc(100vh-200px)] overflow-y-auto z-50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4 md:hidden",children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),y.jsx("button",{onClick:()=>E(!1),className:"p-1 text-gray-500 active:opacity-70","aria-label":"close filters",children:y.jsx($o,{size:20})})]}),M.length>0&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"font-semibold text-sm mb-3 text-gray-900",children:"Categories"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("button",{onClick:()=>{p(null),E(!1)},className:`w-full text-left text-sm px-3 py-2 rounded touch-area min-h-[44px] transition ${h?"hover:bg-gray-100 text-gray-700":"bg-orange-100 text-orange-700 font-medium"}`,children:"All Categories"}),M.map(N=>y.jsx("button",{onClick:()=>{p(N),E(!1)},className:`w-full text-left text-sm px-3 py-2 rounded touch-area min-h-[44px] transition ${h===N?"bg-orange-100 text-orange-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:N},N))]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"font-semibold text-sm mb-3 text-gray-900",children:"Price Range"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Min: ",v.min]}),y.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:v.min,onChange:N=>b({...v,min:Number(N.target.value)}),className:"w-full h-2 cursor-pointer"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Max: ",v.max]}),y.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:v.max,onChange:N=>b({...v,max:Number(N.target.value)}),className:"w-full h-2 cursor-pointer"})]})]})]}),(h||v.min!==0||v.max!==1e5)&&y.jsx("button",{onClick:()=>{p(null),b({min:0,max:1e5})},className:"w-full py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-gray-700 active:opacity-70 touch-area",children:"Reset"})]}),k.length===0?y.jsxs("div",{className:"w-full text-center py-12",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),y.jsx(bt,{to:"/products",className:"text-orange-600 hover:text-orange-700 font-medium",children:"View all products "})]}):y.jsx("div",{className:"flex-1 min-w-0",children:y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:k.map(N=>{const U=o(N.id),B=ee=>{ee.preventDefault(),ee.stopPropagation(),U?c(N.id):a(N)},z=ee=>{ee.preventDefault(),ee.stopPropagation(),r({...N,qty:1,size:"M"})},ne=ee=>{ee.preventDefault(),ee.stopPropagation(),r({...N,qty:1,size:"M"}),e("/checkout")};return y.jsxs(bt,{to:`/product/${N.id}`,className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden group active:shadow-lg transition-shadow",children:[y.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 h-24 sm:h-32",children:[N.image?y.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover group-active:scale-105 transition-transform"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-gray-400",children:"Image"}),N.discount&&y.jsxs("div",{className:"absolute top-1 right-1 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow",children:[N.discount,"%"]})]}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsxs("div",{className:"mb-1 sm:mb-2",children:[y.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 line-clamp-2",children:N.name}),N.category&&y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:N.category})]}),y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"text-xs sm:text-sm font-bold text-orange-600",children:["",N.price]}),y.jsxs("div",{className:"text-xs text-gray-500",children:[" ",(N.rating||4.5).toFixed(1)]})]}),y.jsxs("div",{className:"flex gap-1 text-xs sm:text-sm",children:[y.jsx("button",{onClick:z,className:"flex-1 py-1.5 sm:py-2 bg-orange-100 text-orange-700 rounded font-medium active:opacity-70 min-h-[40px]",title:"Add to cart",children:y.jsx(Ra,{size:14,className:"mx-auto"})}),y.jsx("button",{onClick:B,className:`flex-1 py-1.5 sm:py-2 rounded font-medium active:opacity-70 min-h-[40px] transition ${U?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,title:U?"Remove from wishlist":"Add to wishlist",children:y.jsx(zh,{size:14,className:"mx-auto",fill:U?"currentColor":"none"})}),y.jsx("button",{onClick:ne,className:"flex-1 py-1.5 sm:py-2 bg-green-600 text-white rounded font-medium active:opacity-70 min-h-[40px]",title:"Buy now",children:"Buy"})]})]})]},N.id)})})})]})]})}const p3=Ku(Xy((n,e)=>({reviews:[],addReview:(t,r,a,o)=>{const c={id:Date.now(),productId:t,userId:r,rating:a,comment:o,createdAt:new Date().toISOString()};n(f=>({reviews:[c,...f.reviews]}))},getProductReviews:t=>e().reviews.filter(a=>a.productId===t),hasUserReviewed:(t,r)=>e().reviews.some(o=>o.productId===t&&o.userId===r),getAverageRating:t=>{const r=e().getProductReviews(t);if(r.length===0)return 0;const a=r.reduce((o,c)=>o+c.rating,0)/r.length;return Math.round(a*10)/10}}),{name:"reviews"})),yf=Ku(Xy((n,e)=>({orders:[],loading:!1,error:null,addOrder:async t=>{try{const r=on.currentUser;if(!r)throw new Error("User not authenticated");const a=[{step:"Order placed",completed:!0,date:new Date().toISOString()},{step:"Confirmed",completed:!0,date:new Date().toISOString()},{step:"Processing",completed:!1,date:null},{step:"Shipped",completed:!1,date:null},{step:"Out for delivery",completed:!1,date:null},{step:"Delivered",completed:!1,date:null}],o={...t,userId:r.uid,createdAt:new Date().toISOString(),status:"confirmed",deliveryStatus:a},c=await Gx(Ou(Bt,"orders"),o);return n(f=>({orders:[{id:c.id,...o},...f.orders]})),c.id}catch(r){throw n({error:r.message}),r}},fetchOrders:async t=>{if(t){n({loading:!0});try{const r=Bx(Ou(Bt,"orders"),$P("userId","==",t));return Rg(r,o=>{const c=o.docs.map(f=>({id:f.id,...f.data()}));n({orders:c,loading:!1,error:null})},o=>n({error:o.message,loading:!1}))}catch(r){n({error:r.message,loading:!1})}}},updateStatus:async(t,r)=>{try{const a=e().orders.find(f=>f.id===t);if(!a)throw new Error("Order not found");const o=a.deliveryStatus.map(f=>f.step.toLowerCase()===r.toLowerCase()?{...f,completed:!0,date:new Date().toISOString()}:f),c=pn(Bt,"orders",t);await gT(c,{status:r,deliveryStatus:o}),n(f=>({orders:f.orders.map(h=>h.id===t?{...h,status:r,deliveryStatus:o}:h)}))}catch(a){n({error:a.message})}},cancelOrder:async t=>{try{const r=[{step:"Cancelled",completed:!0,date:new Date().toISOString()}],a=pn(Bt,"orders",t);await gT(a,{status:"cancelled",deliveryStatus:r}),n(o=>({orders:o.orders.map(c=>c.id===t?{...c,status:"cancelled",deliveryStatus:r}:c)}))}catch(r){n({error:r.message})}},getOrder:t=>e().orders.find(r=>r.id===t)}),{name:"orders"}));var uh={exports:{}},g3=uh.exports,FT;function y3(){return FT||(FT=1,(function(n,e){(function(t,r){n.exports=r()})(g3,(function(){var t=1e3,r=6e4,a=36e5,o="millisecond",c="second",f="minute",h="hour",p="day",v="week",b="month",S="quarter",E="year",M="date",k="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,U=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(de){var ce=["th","st","nd","rd"],q=de%100;return"["+de+(ce[(q-20)%10]||ce[q]||ce[0])+"]"}},z=function(de,ce,q){var J=String(de);return!J||J.length>=ce?de:""+Array(ce+1-J.length).join(q)+de},ne={s:z,z:function(de){var ce=-de.utcOffset(),q=Math.abs(ce),J=Math.floor(q/60),$=q%60;return(ce<=0?"+":"-")+z(J,2,"0")+":"+z($,2,"0")},m:function de(ce,q){if(ce.date()<q.date())return-de(q,ce);var J=12*(q.year()-ce.year())+(q.month()-ce.month()),$=ce.clone().add(J,b),ue=q-$<0,fe=ce.clone().add(J+(ue?-1:1),b);return+(-(J+(q-$)/(ue?$-fe:fe-$))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:b,y:E,w:v,d:p,D:M,h,m:f,s:c,ms:o,Q:S}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},ee="en",ie={};ie[ee]=B;var O="$isDayjsObject",x=function(de){return de instanceof j||!(!de||!de[O])},D=function de(ce,q,J){var $;if(!ce)return ee;if(typeof ce=="string"){var ue=ce.toLowerCase();ie[ue]&&($=ue),q&&(ie[ue]=q,$=ue);var fe=ce.split("-");if(!$&&fe.length>1)return de(fe[0])}else{var L=ce.name;ie[L]=ce,$=L}return!J&&$&&(ee=$),$||!J&&ee},I=function(de,ce){if(x(de))return de.clone();var q=typeof ce=="object"?ce:{};return q.date=de,q.args=arguments,new j(q)},C=ne;C.l=D,C.i=x,C.w=function(de,ce){return I(de,{locale:ce.$L,utc:ce.$u,x:ce.$x,$offset:ce.$offset})};var j=(function(){function de(q){this.$L=D(q.locale,null,!0),this.parse(q),this.$x=this.$x||q.x||{},this[O]=!0}var ce=de.prototype;return ce.parse=function(q){this.$d=(function(J){var $=J.date,ue=J.utc;if($===null)return new Date(NaN);if(C.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var fe=$.match(N);if(fe){var L=fe[2]-1||0,te=(fe[7]||"0").substring(0,3);return ue?new Date(Date.UTC(fe[1],L,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,te)):new Date(fe[1],L,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,te)}}return new Date($)})(q),this.init()},ce.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},ce.$utils=function(){return C},ce.isValid=function(){return this.$d.toString()!==k},ce.isSame=function(q,J){var $=I(q);return this.startOf(J)<=$&&$<=this.endOf(J)},ce.isAfter=function(q,J){return I(q)<this.startOf(J)},ce.isBefore=function(q,J){return this.endOf(J)<I(q)},ce.$g=function(q,J,$){return C.u(q)?this[J]:this.set($,q)},ce.unix=function(){return Math.floor(this.valueOf()/1e3)},ce.valueOf=function(){return this.$d.getTime()},ce.startOf=function(q,J){var $=this,ue=!!C.u(J)||J,fe=C.p(q),L=function(qe,yt){var cn=C.w($.$u?Date.UTC($.$y,yt,qe):new Date($.$y,yt,qe),$);return ue?cn:cn.endOf(p)},te=function(qe,yt){return C.w($.toDate()[qe].apply($.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(yt)),$)},he=this.$W,me=this.$M,be=this.$D,Ae="set"+(this.$u?"UTC":"");switch(fe){case E:return ue?L(1,0):L(31,11);case b:return ue?L(1,me):L(0,me+1);case v:var Ne=this.$locale().weekStart||0,at=(he<Ne?he+7:he)-Ne;return L(ue?be-at:be+(6-at),me);case p:case M:return te(Ae+"Hours",0);case h:return te(Ae+"Minutes",1);case f:return te(Ae+"Seconds",2);case c:return te(Ae+"Milliseconds",3);default:return this.clone()}},ce.endOf=function(q){return this.startOf(q,!1)},ce.$set=function(q,J){var $,ue=C.p(q),fe="set"+(this.$u?"UTC":""),L=($={},$[p]=fe+"Date",$[M]=fe+"Date",$[b]=fe+"Month",$[E]=fe+"FullYear",$[h]=fe+"Hours",$[f]=fe+"Minutes",$[c]=fe+"Seconds",$[o]=fe+"Milliseconds",$)[ue],te=ue===p?this.$D+(J-this.$W):J;if(ue===b||ue===E){var he=this.clone().set(M,1);he.$d[L](te),he.init(),this.$d=he.set(M,Math.min(this.$D,he.daysInMonth())).$d}else L&&this.$d[L](te);return this.init(),this},ce.set=function(q,J){return this.clone().$set(q,J)},ce.get=function(q){return this[C.p(q)]()},ce.add=function(q,J){var $,ue=this;q=Number(q);var fe=C.p(J),L=function(me){var be=I(ue);return C.w(be.date(be.date()+Math.round(me*q)),ue)};if(fe===b)return this.set(b,this.$M+q);if(fe===E)return this.set(E,this.$y+q);if(fe===p)return L(1);if(fe===v)return L(7);var te=($={},$[f]=r,$[h]=a,$[c]=t,$)[fe]||1,he=this.$d.getTime()+q*te;return C.w(he,this)},ce.subtract=function(q,J){return this.add(-1*q,J)},ce.format=function(q){var J=this,$=this.$locale();if(!this.isValid())return $.invalidDate||k;var ue=q||"YYYY-MM-DDTHH:mm:ssZ",fe=C.z(this),L=this.$H,te=this.$m,he=this.$M,me=$.weekdays,be=$.months,Ae=$.meridiem,Ne=function(yt,cn,qn,di){return yt&&(yt[cn]||yt(J,ue))||qn[cn].slice(0,di)},at=function(yt){return C.s(L%12||12,yt,"0")},qe=Ae||function(yt,cn,qn){var di=yt<12?"AM":"PM";return qn?di.toLowerCase():di};return ue.replace(U,(function(yt,cn){return cn||(function(qn){switch(qn){case"YY":return String(J.$y).slice(-2);case"YYYY":return C.s(J.$y,4,"0");case"M":return he+1;case"MM":return C.s(he+1,2,"0");case"MMM":return Ne($.monthsShort,he,be,3);case"MMMM":return Ne(be,he);case"D":return J.$D;case"DD":return C.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return Ne($.weekdaysMin,J.$W,me,2);case"ddd":return Ne($.weekdaysShort,J.$W,me,3);case"dddd":return me[J.$W];case"H":return String(L);case"HH":return C.s(L,2,"0");case"h":return at(1);case"hh":return at(2);case"a":return qe(L,te,!0);case"A":return qe(L,te,!1);case"m":return String(te);case"mm":return C.s(te,2,"0");case"s":return String(J.$s);case"ss":return C.s(J.$s,2,"0");case"SSS":return C.s(J.$ms,3,"0");case"Z":return fe}return null})(yt)||fe.replace(":","")}))},ce.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ce.diff=function(q,J,$){var ue,fe=this,L=C.p(J),te=I(q),he=(te.utcOffset()-this.utcOffset())*r,me=this-te,be=function(){return C.m(fe,te)};switch(L){case E:ue=be()/12;break;case b:ue=be();break;case S:ue=be()/3;break;case v:ue=(me-he)/6048e5;break;case p:ue=(me-he)/864e5;break;case h:ue=me/a;break;case f:ue=me/r;break;case c:ue=me/t;break;default:ue=me}return $?ue:C.a(ue)},ce.daysInMonth=function(){return this.endOf(b).$D},ce.$locale=function(){return ie[this.$L]},ce.locale=function(q,J){if(!q)return this.$L;var $=this.clone(),ue=D(q,J,!0);return ue&&($.$L=ue),$},ce.clone=function(){return C.w(this.$d,this)},ce.toDate=function(){return new Date(this.valueOf())},ce.toJSON=function(){return this.isValid()?this.toISOString():null},ce.toISOString=function(){return this.$d.toISOString()},ce.toString=function(){return this.$d.toUTCString()},de})(),P=j.prototype;return I.prototype=P,[["$ms",o],["$s",c],["$m",f],["$H",h],["$W",p],["$M",b],["$y",E],["$D",M]].forEach((function(de){P[de[1]]=function(ce){return this.$g(ce,de[0],de[1])}})),I.extend=function(de,ce){return de.$i||(de(ce,j,I),de.$i=!0),I},I.locale=D,I.isDayjs=x,I.unix=function(de){return I(1e3*de)},I.en=ie[ee],I.Ls=ie,I.p={},I}))})(uh)),uh.exports}var v3=y3();const vf=Lg(v3);var ch={exports:{}},_3=ch.exports,qT;function b3(){return qT||(qT=1,(function(n,e){(function(t,r){n.exports=r()})(_3,(function(){return function(t,r,a){t=t||{};var o=r.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function f(p,v,b,S){return o.fromToBase(p,v,b,S)}a.en.relativeTime=c,o.fromToBase=function(p,v,b,S,E){for(var M,k,N,U=b.$locale().relativeTime||c,B=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],z=B.length,ne=0;ne<z;ne+=1){var ee=B[ne];ee.d&&(M=S?a(p).diff(b,ee.d,!0):b.diff(p,ee.d,!0));var ie=(t.rounding||Math.round)(Math.abs(M));if(N=M>0,ie<=ee.r||!ee.r){ie<=1&&ne>0&&(ee=B[ne-1]);var O=U[ee.l];E&&(ie=E(""+ie)),k=typeof O=="string"?O.replace("%d",ie):O(ie,v,ee.l,N);break}}if(v)return k;var x=N?U.future:U.past;return typeof x=="function"?x(k):x.replace("%s",k)},o.to=function(p,v){return f(p,v,this,!0)},o.from=function(p,v){return f(p,v,this)};var h=function(p){return p.$u?a.utc():a()};o.toNow=function(p){return this.to(h(this),p)},o.fromNow=function(p){return this.from(h(this),p)}}}))})(ch)),ch.exports}var w3=b3();const T3=Lg(w3);vf.extend(T3);function W1({productId:n,showFormOnly:e=!1}){const[t]=rl(on),{addReview:r,getProductReviews:a,hasUserReviewed:o,getAverageRating:c}=p3(),{orders:f}=yf(),[h,p]=F.useState(5),[v,b]=F.useState(""),[S,E]=F.useState(!1),M=!!t&&(f??[]).some(z=>z.items?.some(ne=>String(ne.id)===String(n))),k=a(n)??[],N=c(n)??0,U=t&&o(n,t.uid),B=z=>{z.preventDefault(),!(!t||!M)&&(U||(r(n,t.uid,h,v),b(""),p(5),E(!0),setTimeout(()=>E(!1),3e3)))};return e?y.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:t&&M&&!U?y.jsxs("form",{onSubmit:B,className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-semibold",children:"Write a Review"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium mb-2",children:"Rating"}),y.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(z=>y.jsx("button",{type:"button",onClick:()=>p(z),className:"p-2 transition hover:scale-110",children:y.jsx(Wd,{size:20,fill:z<=h?"currentColor":"none",className:z<=h?"text-yellow-400":"text-gray-300"})},z))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium mb-2",children:"Comment"}),y.jsx("textarea",{value:v,onChange:z=>b(z.target.value),placeholder:"Share your experience with this product...",className:"w-full p-2 border rounded text-sm",rows:3})]}),y.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded font-medium hover:bg-blue-700 transition",children:S?" Review submitted":"Submit Review"})]}):U?y.jsx("p",{className:"text-sm text-gray-500",children:" You have already reviewed this product"}):y.jsx("p",{className:"text-sm text-gray-500",children:"You can only review products you have purchased"})}):y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4 animate-fadeIn",children:[y.jsxs("div",{className:"mb-6 pb-4 border-b",children:[y.jsxs("h3",{className:"font-semibold mb-3",children:["Ratings & Reviews (",k.length,")"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"text-3xl font-bold",children:N.toFixed(1)}),y.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((z,ne)=>y.jsx(Wd,{size:18,fill:ne<Math.round(N)?"currentColor":"none"},ne))}),y.jsxs("div",{className:"text-sm text-gray-500",children:["(",k.length," reviews)"]})]})]}),k.length===0?y.jsx("p",{className:"text-xs text-gray-500",children:"No reviews yet"}):y.jsx("div",{className:"space-y-3",children:k.map((z,ne)=>y.jsxs("div",{className:"border-t pt-3 animate-fadeIn",style:{animationDelay:`${ne*50}ms`},children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsxs("div",{children:[y.jsx("div",{className:"flex gap-1 text-yellow-400",children:[...Array(5)].map((ee,ie)=>y.jsx(Wd,{size:14,fill:ie<z.rating?"currentColor":"none"},ie))}),z.userId===t?.uid&&y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"(Your review)"})]}),y.jsx("div",{className:"text-xs text-gray-400",children:z.createdAt?vf(z.createdAt).fromNow():"Just now"})]}),z.comment&&y.jsx("p",{className:"text-sm text-gray-700 mt-2",children:z.comment})]},z.id))})]})}function E3({images:n,initialIndex:e=0,isOpen:t,onClose:r}){const[a,o]=F.useState(e);if(!t||!n||n.length===0)return null;const c=()=>{o(p=>p===0?n.length-1:p-1)},f=()=>{o(p=>p===n.length-1?0:p+1)},h=p=>{p.key==="ArrowLeft"&&c(),p.key==="ArrowRight"&&f(),p.key==="Escape"&&r()};return y.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:r,onKeyDown:h,role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-screen flex items-center justify-center",onClick:p=>p.stopPropagation(),children:[y.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Close",children:y.jsx($o,{size:24})}),y.jsx("img",{src:n[a],alt:`Product ${a+1}`,className:"max-w-full max-h-[90vh] object-contain"}),n.length>1&&y.jsx("button",{onClick:c,className:"absolute left-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Previous image",children:y.jsx(vI,{size:24})}),n.length>1&&y.jsx("button",{onClick:f,className:"absolute right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Next image",children:y.jsx(_I,{size:24})}),n.length>1&&y.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/10 text-white px-3 py-1 rounded-full text-sm",children:[a+1," / ",n.length]}),n.length>1&&y.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 flex gap-2 flex-wrap justify-center max-w-2xl",children:n.map((p,v)=>y.jsx("button",{onClick:()=>o(v),className:`w-12 h-12 rounded overflow-hidden border-2 transition ${v===a?"border-white":"border-transparent opacity-60 hover:opacity-100"}`,children:y.jsx("img",{src:p,alt:`Thumbnail ${v+1}`,className:"w-full h-full object-cover"})},v))})]})})}function S3({currentProductId:n}){const{products:e}=sr(),t=F.useMemo(()=>{if(!e.length)return[];const r=e.find(o=>o.id===n);return r?e.filter(o=>o.id!==n&&o.category===r.category).sort((o,c)=>{const f=(c.rating||0)-(o.rating||0);return f!==0?f:Math.abs(c.price-r.price)-Math.abs(o.price-r.price)}).slice(0,4):[]},[e,n]);return t.length===0?null:y.jsxs("div",{className:"mt-8 glass-morphism p-6 rounded-xl border border-opacity-20",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(NI,{className:"text-red-600",size:20}),y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"You Might Also Like"})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:t.map(r=>y.jsxs(bt,{to:`/product/${r.id}`,className:"group hover-lift",children:[y.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg h-24 overflow-hidden mb-2 relative",children:[r.image&&y.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),y.jsxs("div",{className:"absolute top-1 right-1 flex items-center gap-1 bg-yellow-400 text-gray-900 px-2 py-0.5 rounded-full text-xs font-bold",children:[y.jsx(Wd,{size:12,fill:"currentColor"}),(r.rating||4.5).toFixed(1)]})]}),y.jsx("p",{className:"text-xs font-semibold text-gray-900 truncate",children:r.name}),y.jsxs("p",{className:"text-sm font-bold text-red-600",children:["",r.price]})]},r.id))})]})}function x3(){const{id:n}=Ug(),e=Br(I=>I.addItem),{addItem:t,removeItem:r,items:a}=lc(),[o,c]=F.useState(1),[f,h]=F.useState("M"),[p,v]=F.useState(!1),[b,S]=F.useState(!1),[E,M]=F.useState(0),U=sr(I=>I.getProduct)(n)||{id:n,name:`Product ${n}`,price:Number(n)*10,rating:4.5,reviews:120,image:`https://picsum.photos/500/500?random=${n}`},B=F.useMemo(()=>U.images&&U.images.length?U.images:U.image?[U.image]:[`https://picsum.photos/500/500?random=${n}1`,`https://picsum.photos/500/500?random=${n}2`,`https://picsum.photos/500/500?random=${n}3`],[U.images,U.image,n]),z=a.some(I=>I.id===n),ne=()=>{e({...U,qty:o,size:f}),v(!0),setTimeout(()=>v(!1),2e3)},ee=()=>{z?r(n):t(U)},ie=un(),O=()=>{e({...U,qty:o,size:f}),ie("/checkout")},x=async()=>{const I=window.location.href,C=`Check out ${U.name} - $${U.price}`;if(navigator.share)navigator.share({title:"MiniFlip",text:C,url:I}).catch(()=>{});else{navigator.clipboard.writeText(`${C}
${I}`);const j=`https://wa.me/?text=${encodeURIComponent(C+" "+I)}`;window.open(j,"_blank")}},D=I=>{M(I),S(!0)};return F.useEffect(()=>{try{const I="recentlyViewed",C=localStorage.getItem(I),P=(C?JSON.parse(C):[]).filter(q=>String(q.id)!==String(n)),de={id:n,name:U.name,image:B[0]||"",viewedAt:Date.now()};P.unshift(de);const ce=P.slice(0,10);localStorage.setItem(I,JSON.stringify(ce))}catch(I){console.warn("Failed to update recently viewed",I)}},[n,U.name,B]),y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsx("div",{onClick:()=>D(0),className:"bg-gray-200 dark:bg-gray-700 rounded h-64 mb-4 cursor-pointer hover:opacity-80 transition overflow-hidden",children:y.jsx("img",{src:B[0],alt:"Product main",className:"w-full h-full object-cover"})}),B.length>1&&y.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:B.map((I,C)=>y.jsx("button",{onClick:()=>D(C),className:"flex-shrink-0 w-16 h-16 rounded border-2 border-transparent hover:border-gray-400 cursor-pointer transition overflow-hidden",children:y.jsx("img",{src:I,alt:`Product ${C+1}`,className:"w-full h-full object-cover"})},C))}),y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold mb-1",children:U.name}),U.category&&y.jsx("div",{className:"text-sm text-gray-500 mb-2",children:U.category}),y.jsxs("div",{className:"text-sm font-medium",children:[y.jsx("span",{className:"text-yellow-500",children:""}),y.jsxs("span",{className:"text-gray-700 ml-2",children:[(U.rating||4.5).toFixed(1)," (",U.reviewCount||42,")"]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:ee,className:`p-2 rounded border ${z?"bg-orange-50 text-orange-500 border-orange-300":""}`,children:y.jsx(zh,{fill:z?"currentColor":"none"})}),y.jsx("button",{onClick:x,className:"p-2 rounded border",children:y.jsx(RI,{size:18})})]})]}),y.jsxs("p",{className:"text-2xl font-bold mb-6",children:["",U.price]}),U.description&&y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 p-5 rounded-lg mb-6",children:[y.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-900 dark:text-gray-100",children:"Details"}),y.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap text-base",children:U.description})]}),y.jsxs("div",{className:"space-y-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Size"}),y.jsxs("select",{value:f,onChange:I=>h(I.target.value),className:"w-full p-2 border rounded",children:[y.jsx("option",{children:"XS"}),y.jsx("option",{children:"S"}),y.jsx("option",{children:"M"}),y.jsx("option",{children:"L"}),y.jsx("option",{children:"XL"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>c(Math.max(1,o-1)),className:"px-3 py-1 border rounded",children:"-"}),y.jsx("span",{className:"w-8 text-center",children:o}),y.jsx("button",{onClick:()=>c(o+1),className:"px-3 py-1 border rounded",children:"+"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{onClick:ne,className:`w-full py-3 rounded font-medium transition ${p?"bg-green-600 text-white":"bg-red-600 text-white hover:bg-red-700"}`,children:p?" Added":"Add to cart"}),y.jsx("button",{onClick:O,className:"w-full py-3 rounded font-medium bg-green-600 text-white hover:bg-green-700",children:"Buy Now"})]})]}),y.jsx(E3,{images:B,initialIndex:E,isOpen:b,onClose:()=>S(!1)}),y.jsx(W1,{productId:n}),y.jsx(S3,{currentProductId:n}),U.category&&y.jsx(A3,{category:U.category,currentProductId:n})]})}function A3({category:n,currentProductId:e}){const{products:t}=sr(),r=F.useMemo(()=>t.filter(a=>a.category===n&&a.id!==e).slice(0,6),[t,n,e]);return r.length===0?null:y.jsxs("div",{className:"mt-8 border-t pt-6",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["More from ",n]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:r.map(a=>y.jsxs(bt,{to:`/product/${a.id}`,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsx("div",{className:"h-24 sm:h-28 bg-gray-100 flex items-center justify-center overflow-hidden",children:a.image?y.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):"Image"}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),y.jsxs("div",{className:"text-sm text-red-600 font-semibold mt-1",children:["",a.price]}),y.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" ",(a.rating||4.5).toFixed(1)]})]})]},a.id))})]})}function C3(){const{items:n,removeItem:e,fetchWishlist:t,loading:r}=lc(),{addItem:a}=Br(),[o]=rl(on);F.useEffect(()=>{o&&t(o.uid)},[o,t]);const c=f=>{a({...f,qty:1,size:"M"})};return r?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Loading wishlist..."})}):y.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[y.jsxs("h1",{className:"text-2xl font-semibold mb-4",children:["My Wishlist (",n.length,")"]}),n.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-12",children:[y.jsx("p",{className:"mb-3",children:"Your wishlist is empty"}),y.jsx(bt,{to:"/products",className:"text-red-600 font-medium",children:"Continue shopping "})]}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:n.map(f=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsx("button",{onClick:()=>e(f.id),className:"absolute top-2 right-2 z-10 p-1.5 bg-white dark:bg-gray-700 rounded-full hover:bg-red-50",title:"Remove from wishlist",children:y.jsx($o,{size:16,className:"text-red-600"})}),y.jsx(bt,{to:`/product/${f.id}`,className:"block relative overflow-hidden bg-gray-100 h-28 sm:h-32",children:f.image?y.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Image"})}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsxs(bt,{to:`/product/${f.id}`,className:"block",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate hover:text-red-600",children:f.name}),f.category&&y.jsx("div",{className:"text-xs text-gray-500",children:f.category}),y.jsxs("div",{className:"text-sm text-red-600 font-semibold mt-1",children:["",f.price]})]}),y.jsxs("button",{onClick:()=>c(f),className:"w-full mt-2 flex items-center justify-center gap-1 py-1.5 bg-red-50 text-red-600 rounded text-xs font-medium hover:bg-red-100 transition",children:[y.jsx(Ra,{size:14})," Add to cart"]})]})]},f.id))})]})}function R3({onSuccess:n,onClose:e,amount:t,upiId:r}){const[a,o]=F.useState(!1),[c,f]=F.useState(""),h=F.useRef(null),p=async()=>{try{const b=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});h.current&&(h.current.srcObject=b)}catch(b){f("Camera access denied. Please enable camera permissions."),console.error("Camera error:",b)}};F.useEffect(()=>(a&&setTimeout(()=>p(),0),()=>{const b=h.current;b?.srcObject&&b.srcObject.getTracks().forEach(S=>S.stop())}),[a]);const v=()=>{setTimeout(()=>{n({transactionId:"UPI_"+Date.now(),status:"success",amount:t})},1e3)};return y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-fadeIn",children:y.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md overflow-hidden animate-slideUp",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[y.jsx("h2",{className:"font-semibold",children:"UPI Payment"}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded",children:y.jsx($o,{size:20})})]}),y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{className:"text-center py-4 bg-blue-50 rounded",children:[y.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"}),y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["",t]})]}),y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[y.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"UPI ID"}),y.jsx("div",{className:"text-sm font-mono font-bold",children:r})]}),a?y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"relative bg-black rounded overflow-hidden h-64",children:[y.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 border-2 border-green-500 border-dashed m-8 rounded"})]}),y.jsx("button",{onClick:()=>o(!1),className:"w-full py-2 bg-gray-200 text-gray-900 rounded font-medium",children:"Close Scanner"})]}):y.jsxs("button",{onClick:()=>o(!0),className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors",children:[y.jsx(gI,{size:20})," Open Camera"]}),y.jsx("button",{onClick:v,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Complete Payment"}),c&&y.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded text-sm",children:c}),y.jsx("div",{className:"text-xs text-gray-500 text-center",children:`Click "Complete Payment" once you've sent the payment via UPI`})]})]})})}function I3(){const n=un(),{items:e,clear:t}=Br(),{addOrder:r}=yf(),[a]=rl(on),[o,c]=F.useState("cod"),[f,h]=F.useState(""),[p,v]=F.useState(""),[b,S]=F.useState(""),[E,M]=F.useState(!1),[k,N]=F.useState(null),[U,B]=F.useState(!0);F.useEffect(()=>{(async()=>{if(a)try{const O=pn(Bt,"users",a.uid),x=await jy(O);if(x.exists()){const I=x.data().address;if(I){const C=[I.village||I.city,I.po,I.ps,I.district,I.pin].filter(Boolean).join(", "),j=I.landmark?`${C} (${I.landmark})`:C;h(j),v(I.mobile||I.phone||a.phoneNumber||"")}}}catch(O){console.warn("Failed to load address",O)}})()},[a]);const z=e.reduce((ie,O)=>ie+O.price*(O.qty||1),0),ne=async ie=>{if(ie.preventDefault(),S(""),!f||!p){S("Please fill in all fields");return}if(o==="upi"){if(!k){S("Please complete UPI payment to place order"),M(!0);return}if(k.status!=="success"){S("Payment was not successful. Please try again"),N(null),M(!0);return}}const O={items:e,total:z,paymentMethod:o,address:f,phone:p,paymentDetails:k||null,deliveryStatus:[{step:"confirmed",completed:!0,date:new Date().toISOString()},{step:"processing",completed:!1,date:null},{step:"shipped",completed:!1,date:null},{step:"delivered",completed:!1,date:null}]};try{await r(O),t(),n("/orders")}catch(x){S("Failed to place order: "+x.message)}},ee=async ie=>{N(ie),M(!1),setTimeout(async()=>{const O={items:e,total:z,paymentMethod:o,address:f,phone:p,paymentDetails:ie,deliveryStatus:[{step:"confirmed",completed:!0,date:new Date().toISOString()},{step:"processing",completed:!1,date:null},{step:"shipped",completed:!1,date:null},{step:"delivered",completed:!1,date:null}]};try{await r(O),t(),n("/orders")}catch(x){S("Failed to place order: "+x.message)}},1e3)};return e.length===0?y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 py-12 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"Cart is empty"}),y.jsx("a",{href:"/products",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Continue Shopping "})]}):y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Checkout"}),y.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Delivery Address"}),y.jsx("textarea",{value:f,onChange:ie=>h(ie.target.value),placeholder:"Enter your full address including house number, street, city, state and pin code",className:"w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:border-orange-600 focus:outline-none min-h-[100px]",rows:4})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),y.jsx("input",{type:"tel",value:p,onChange:ie=>v(ie.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit phone number",className:"w-full px-3 py-3 text-base border-2 border-gray-200 rounded-lg focus:border-orange-600 focus:outline-none min-h-[44px]",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Payment Method"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border-2 border-gray-200 rounded-lg active:bg-gray-50 transition-colors touch-area min-h-[50px]",children:[y.jsx("input",{type:"radio",value:"cod",checked:o==="cod",onChange:ie=>c(ie.target.value),className:"w-5 h-5 cursor-pointer"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Cash on Delivery"}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pay when you receive the order"})]})]}),y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border-2 border-gray-200 rounded-lg active:bg-gray-50 transition-colors touch-area min-h-[50px]",children:[y.jsx("input",{type:"radio",value:"upi",checked:o==="upi",onChange:ie=>c(ie.target.value),className:"w-5 h-5 cursor-pointer"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"UPI Payment"}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pay securely using UPI"})]})]})]})]}),o==="upi"&&y.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 p-3 rounded-lg",children:[y.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Scan to Pay"}),y.jsxs("p",{className:"text-xs text-blue-700 mt-1.5",children:["UPI ID: ",y.jsx("strong",{children:"support@dsmart.upi"})]}),y.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:["Amount: ",y.jsxs("strong",{children:["",z.toFixed(0)]})]})]}),b&&y.jsx("div",{className:"text-sm text-red-700 bg-red-50 p-3 rounded-lg border-2 border-red-200",children:b}),y.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-3 rounded-lg border-2 border-gray-200 sticky top-20 z-10",children:[y.jsx("h3",{className:"font-bold text-sm text-gray-900 mb-2",children:"Order Summary"}),y.jsx("div",{className:"space-y-1.5 mb-2.5 max-h-32 overflow-y-auto",children:e.map(ie=>y.jsxs("div",{className:"flex justify-between text-xs text-gray-700",children:[y.jsxs("span",{className:"truncate flex-1",children:[ie.name," ",y.jsxs("span",{className:"font-semibold",children:["",ie.qty||1]})]}),y.jsxs("span",{className:"font-medium ml-2",children:["",(ie.price*(ie.qty||1)).toFixed(0)]})]},ie.id))}),y.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 flex justify-between items-center",children:[y.jsx("span",{className:"font-bold text-gray-900",children:"Total:"}),y.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["",z.toFixed(0)]})]})]}),y.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold rounded-lg active:opacity-90 touch-area min-h-[48px] text-base transition",children:o==="upi"?"Continue to UPI Payment":"Place Order"})]}),E&&y.jsx(R3,{onSuccess:ee,onClose:()=>M(!1),amount:z,upiId:"support@dsmart.upi"})]})}function N3(){const{orders:n,fetchOrders:e,loading:t,error:r,cancelOrder:a,updateStatus:o}=yf(),[c]=rl(on);return F.useEffect(()=>{c&&e(c.uid)},[c,e]),t?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Loading orders..."})}):r?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:y.jsxs("p",{className:"text-red-600 bg-red-50 p-3 rounded",children:["Error loading orders: ",r]})}):c?y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"My Orders"}),n.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx("p",{className:"mb-3",children:"No orders yet"}),y.jsx(bt,{to:"/products",className:"text-gray-900",children:"Continue shopping"})]}):y.jsx("div",{className:"space-y-3",children:n.map(f=>y.jsxs("div",{className:"bg-white dark:bg-white-800 p-4 rounded border",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:f.id}),y.jsx("div",{className:"text-xs text-gray-500",children:vf(f.createdAt).format("MMM DD, YYYY")})]}),y.jsx("div",{className:`text-sm px-2 py-1 rounded ${f.status==="confirmed"?"bg-blue-100 text-blue-800":f.status==="processing"?"bg-yellow-100 text-yellow-800":f.status==="shipped"?"bg-orange-100 text-orange-800":f.status==="delivered"?"bg-green-100 text-green-700":f.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-900"}`,children:f.status.toUpperCase()})]}),y.jsxs("div",{className:"text-sm mb-3",children:[y.jsxs("div",{className:"text-gray-600",children:["Items: ",f.items.length]}),y.jsxs("div",{className:"font-medium",children:["",f.total.toFixed(0)]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsxs(bt,{to:`/order/${f.id}`,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-yellow-400 text-black rounded text-sm hover:bg-yellow-500 border-2 border-yellow-600",children:[y.jsx(TI,{size:16})," Track"]}),f.status==="confirmed"&&y.jsxs("button",{onClick:()=>a(f.id),className:"flex-1 flex items-center justify-center gap-2 py-2 bg-yellow-100 text-yellow-800 rounded text-sm hover:bg-yellow-200 border",children:[y.jsx(dE,{size:16})," Cancel"]})]})]},f.id))})]}):y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"Please login to view your orders"}),y.jsx(bt,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"})]})}function O3(){const{id:n}=Ug(),{getOrder:e}=yf(),t=e(n);if(!t)return y.jsx("div",{className:"max-w-2xl mx-auto p-4 py-12 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Order not found"})});const r=()=>{navigator.clipboard.writeText(t.id)},a=t.deliveryStatus??[];return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsx("div",{className:"mb-4",children:y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Order Details"}),y.jsxs("button",{onClick:r,className:"flex items-center gap-1 px-2 py-1 text-sm bg-gray-100 dark:bg-gray-800 rounded",title:"Copy order ID",children:[y.jsx(wI,{size:14})," ",t.id]})]})}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4 border-b",children:[y.jsx("h3",{className:"font-semibold mb-4",children:"Delivery Status"}),y.jsx("div",{className:"space-y-3",children:a.length===0?y.jsx("p",{className:"text-sm text-gray-500",children:"Status not available yet"}):a.map((o,c)=>y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:`mt-1 w-6 h-6 rounded-full flex items-center justify-center ${o.completed?"bg-green-500 text-white":"bg-white text-gray-600 border"}`,children:o.completed?y.jsx(yI,{size:16}):y.jsx(bI,{size:16})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-medium capitalize",children:o.step}),o.date&&y.jsx("div",{className:"text-xs text-gray-500",children:vf(o.date).format("MMM DD, YYYY hh:mm A")})]})]},c))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Items Ordered"}),y.jsx("div",{className:"space-y-2",children:t.items?.map(o=>y.jsxs("div",{className:"flex justify-between text-sm pb-2 border-b last:border-0",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:o.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Size: ",o.size," | Qty: ",o.qty||1]})]}),y.jsxs("div",{className:"font-medium",children:["$",(o.price*(o.qty||1)).toFixed(2)]})]},o.id))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),y.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.address}),y.jsxs("p",{className:"text-sm mt-2",children:["Phone: ",t.phone]})]}),y.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{children:"Subtotal:"}),y.jsxs("span",{children:["",t.total.toFixed(0)]})]}),y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{children:"Shipping:"}),y.jsx("span",{children:"Free"})]}),y.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{children:["",t.total.toFixed(0)]})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rate & Review Products"}),t.items?.map(o=>y.jsxs("div",{className:"mb-6 pb-6 border-b last:border-0",children:[y.jsxs("div",{className:"flex gap-3 mb-4",children:[o.image&&y.jsx("img",{src:o.image,alt:o.name,className:"w-16 h-16 rounded object-cover"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium",children:o.name}),y.jsxs("p",{className:"text-sm text-orange-500",children:["Qty: ",o.qty||1]})]})]}),y.jsx(W1,{productId:o.id,showFormOnly:!0})]},o.id))]})]})}function D3(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,o]=F.useState(""),c=un(),f=async p=>{p.preventDefault(),o("");try{await gO(on,n,t),c("/")}catch(v){o(v.message)}},h=async()=>{try{const p=new Wi;await lS(on,p),c("/")}catch(p){o(p.message)}};return y.jsxs("div",{className:"max-w-md mx-auto p-4",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Login"}),y.jsxs("form",{onSubmit:f,className:"space-y-3",children:[y.jsx("input",{value:n,onChange:p=>e(p.target.value),placeholder:"Email",className:"w-full p-2 border rounded"}),y.jsx("input",{value:t,onChange:p=>r(p.target.value),placeholder:"Password",type:"password",className:"w-full p-2 border rounded"}),a&&y.jsx("div",{className:"text-sm text-red-500",children:a}),y.jsx("button",{className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700",children:"Login"})]}),y.jsx("div",{className:"mt-3",children:y.jsx("button",{onClick:h,className:"w-full py-2 border rounded",children:"Sign in with Google"})}),y.jsxs("p",{className:"mt-3 text-sm",children:["Don\\'t have an account? ",y.jsx(bt,{to:"/register",className:"text-red-600 hover:text-red-700",children:"Register"})]})]})}function M3(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,o]=F.useState(""),[c,f]=F.useState(""),[h,p]=F.useState(""),v=un(),b=async E=>{E.preventDefault(),p("");try{if(!c)throw new Error("Mobile number is required");const k=(await pO(on,n,t)).user;a&&await WE(k,{displayName:a});try{await Ms(pn(Bt,"users",k.uid),{name:a||k.displayName||"",email:k.email,phone:c,createdAt:Dh()})}catch(N){console.warn("Failed to write user doc",N)}v("/")}catch(M){p(M.message)}},S=async E=>{p("");try{let M;if(E==="google")M=new Wi;else if(E==="facebook")M=new Rr;else throw new Error("Unsupported provider");const N=(await lS(on,M)).user;try{await Ms(pn(Bt,"users",N.uid),{name:N.displayName||"",email:N.email||"",phone:N.phoneNumber||"",provider:E,updatedAt:Dh()},{merge:!0})}catch(U){console.warn("Failed to write user doc for provider sign-in",U)}v("/")}catch(M){p(M.message)}};return y.jsxs("div",{className:"max-w-md mx-auto p-4",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Register"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{type:"button",onClick:()=>S("google"),className:"w-full flex items-center justify-center gap-2 border p-2 rounded bg-white hover:bg-gray-50",children:y.jsx("span",{children:"Continue with Google"})}),y.jsx("button",{type:"button",onClick:()=>S("facebook"),className:"w-full flex items-center justify-center gap-2 border p-2 rounded bg-white hover:bg-gray-50",children:y.jsx("span",{children:"Continue with Facebook"})}),y.jsx("div",{className:"text-center text-sm text-gray-500",children:"or register with email"}),y.jsxs("form",{onSubmit:b,className:"space-y-3",children:[y.jsx("input",{value:a,onChange:E=>o(E.target.value),placeholder:"Full name",className:"w-full p-2 border rounded"}),y.jsx("input",{value:n,onChange:E=>e(E.target.value),placeholder:"Email",className:"w-full p-2 border rounded"}),y.jsx("input",{value:c,onChange:E=>f(E.target.value),placeholder:"Mobile number (required)",className:"w-full p-2 border rounded",required:!0,inputMode:"tel"}),y.jsx("input",{value:t,onChange:E=>r(E.target.value),placeholder:"Password",type:"password",className:"w-full p-2 border rounded"}),h&&y.jsx("div",{className:"text-sm text-red-500",children:h}),y.jsx("button",{className:"w-full bg-green-600 text-white py-2 rounded",children:"Create account"})]})]}),y.jsxs("p",{className:"mt-3 text-sm",children:["Already have an account? ",y.jsx(bt,{to:"/login",className:"text-gray-900",children:"Login"})]})]})}function k3(){const n=un(),{products:e,deleteProduct:t}=sr();return y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Manage Products"}),y.jsxs("button",{onClick:()=>n("/admin/add-product"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded text-sm",children:[y.jsx(cE,{size:16})," Add Product"]})]}),e.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx("p",{className:"mb-3",children:"No products yet"}),y.jsx("button",{onClick:()=>n("/admin/add-product"),className:"text-green-600",children:"Create the first product"})]}):y.jsx("div",{className:"space-y-2",children:e.map(r=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-semibold",children:r.name}),y.jsxs("div",{className:"text-sm text-gray-500",children:["$",r.price," | ",r.category]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>n(`/admin/edit-product/${r.id}`),className:"p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-900/20",children:y.jsx(uE,{size:16})}),y.jsx("button",{onClick:async()=>{if(confirm("Delete this product?"))try{await t(r.id)}catch(a){console.error("Delete failed",a),alert("Failed to delete product")}},className:"p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-900/20 text-gray-900",children:y.jsx(dE,{size:16})})]})]},r.id))})]})}function P3(){const n=un(),{addProduct:e}=sr(),[t,r]=F.useState({name:"",price:"",description:"",category:"electronics",image:""}),a=async o=>{if(o.preventDefault(),!(!t.name||!t.price))try{await e({name:t.name,price:Number(t.price),description:t.description,category:t.category,image:t.image||"https://picsum.photos/300"}),n("/admin/products")}catch(c){console.error("Add product failed",c),alert("Failed to add product: "+c.message)}};return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>n("/admin/products"),className:"p-2",children:y.jsx(lE,{})}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Add Product"})]}),y.jsxs("form",{onSubmit:a,className:"bg-white dark:bg-gray-800 p-4 rounded space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name *"}),y.jsx("input",{type:"text",value:t.name,onChange:o=>r({...t,name:o.target.value}),placeholder:"Enter product name",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),y.jsx("input",{type:"number",value:t.price,onChange:o=>r({...t,price:o.target.value}),placeholder:"Enter price",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),y.jsxs("select",{value:t.category,onChange:o=>r({...t,category:o.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700",children:[y.jsx("option",{children:"electronics"}),y.jsx("option",{children:"clothing"}),y.jsx("option",{children:"books"}),y.jsx("option",{children:"home"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:t.image,onChange:o=>r({...t,image:o.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:t.description,onChange:o=>r({...t,description:o.target.value}),placeholder:"Product description",rows:3,className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded font-medium",children:"Add Product"})]})]})}function L3(){const{id:n}=Ug(),e=un(),{getProduct:t,updateProduct:r}=sr(),[a,o]=F.useState({name:"",price:"",description:"",category:"electronics",image:""});F.useEffect(()=>{const f=t(n);f&&setTimeout(()=>o(f),0)},[n,t]);const c=f=>{if(f.preventDefault(),!a.name||!a.price)return;(async()=>{try{await r(n,{name:a.name,price:Number(a.price),description:a.description,category:a.category,image:a.image}),e("/admin/products")}catch(p){console.error("Update failed",p),alert("Failed to update product")}})()};return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>e("/admin/products"),className:"p-2",children:y.jsx(lE,{})}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Edit Product"})]}),y.jsxs("form",{onSubmit:c,className:"bg-white dark:bg-gray-800 p-4 rounded space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name *"}),y.jsx("input",{type:"text",value:a.name,onChange:f=>o({...a,name:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),y.jsx("input",{type:"number",value:a.price,onChange:f=>o({...a,price:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),y.jsxs("select",{value:a.category,onChange:f=>o({...a,category:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700",children:[y.jsx("option",{children:"electronics"}),y.jsx("option",{children:"clothing"}),y.jsx("option",{children:"books"}),y.jsx("option",{children:"home"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:a.image,onChange:f=>o({...a,image:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:a.description,onChange:f=>o({...a,description:f.target.value}),rows:3,className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsx("button",{type:"submit",className:"w-full bg-white text-gray-900 py-2 rounded font-medium",children:"Update Product"})]})]})}function j3(){const[n]=rl(on),e=un(),[t,r]=F.useState(!0),[a,o]=F.useState({name:"",email:"",phone:"",address:{village:"",city:"",po:"",ps:"",district:"",pin:"",landmark:"",mobile:""}}),[c,f]=F.useState(!1),[h,p]=F.useState(a.address),[v,b]=F.useState(!1),[S,E]=F.useState([]),[M,k]=F.useState(!1),[N,U]=F.useState(0);F.useEffect(()=>{(async()=>{if(n)try{const D=pn(Bt,"users",n.uid),I=await jy(D);if(I.exists()){const C=I.data();o(j=>({...j,name:n.displayName||C.name||"",email:n.email||C.email||"",phone:n.phoneNumber||C.phone||"",address:C.address||j.address})),p(C.address||a.address)}else o(C=>({...C,name:n.displayName||"",email:n.email||"",phone:n.phoneNumber||""}))}catch(D){console.error("Error loading user data:",D)}r(!1)})()},[n,a.address]),F.useEffect(()=>{try{const x=localStorage.getItem("recentlyViewed"),D=x?JSON.parse(x):[];E(D)}catch{E([])}},[]);const B=(x,D)=>{p(I=>({...I,[x]:D}))},z=async()=>{if(n){b(!0);try{const x=pn(Bt,"users",n.uid);await Ms(x,{name:a.name,email:a.email,phone:a.phone,address:h,updatedAt:new Date},{merge:!0}),o(D=>({...D,address:h})),f(!1),alert("Address saved successfully!")}catch(x){console.error("Error saving address:",x),alert("Error saving address. Please try again.")}b(!1)}},ne=()=>{p(a.address),f(!1)},ee=()=>{window.location.href="tel:+919000000000"},ie=async x=>{const D=x.target.files&&x.target.files[0];if(!D||!n)return;const I=`profiles/${n.uid}/${Date.now()}_${D.name}`,C=oL(Oj,I);try{k(!0),U(0);const j=sL(C,D);j.on("state_changed",de=>{const ce=Math.round(de.bytesTransferred/de.totalBytes*100);U(ce)}),await j;const P=await aL(C);try{await WE(on.currentUser,{photoURL:P})}catch(de){console.warn("updateProfile failed",de)}try{const de=pn(Bt,"users",n.uid);await Ms(de,{photoURL:P,updatedAt:new Date},{merge:!0})}catch(de){console.warn("Failed to update user doc with photoURL",de)}alert("Profile picture updated")}catch(j){console.error("Profile upload failed",j),alert("Failed to upload profile picture")}finally{k(!1),U(0)}},O=()=>{window.open("https://wa.me/919000000000?text=Hello%20I%20need%20support","_blank")};return t?y.jsx("div",{className:"max-w-md mx-auto p-4 pb-32 flex items-center justify-center h-screen",children:y.jsx("div",{className:"text-gray-600",children:"Loading..."})}):y.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:n?.photoURL?y.jsx("img",{src:n.photoURL,alt:"profile",className:"w-full h-full object-cover"}):y.jsx("div",{className:"text-xl text-gray-600",children:n?.displayName?.[0]||"U"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-500",children:"Profile Photo"}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("input",{id:"profileFile",type:"file",accept:"image/*",onChange:ie,className:"hidden"}),y.jsx("label",{htmlFor:"profileFile",className:"text-sm px-3 py-1 border rounded bg-white hover:bg-gray-50 cursor-pointer",children:"Change"}),M&&y.jsxs("div",{className:"text-xs text-gray-500",children:["Uploading ",N,"%"]})]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold text-lg",children:n?.displayName||"Guest"}),y.jsx("div",{className:"text-sm text-gray-500",children:n?.email||"Not signed in"})]})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsx("h3",{className:"font-semibold mb-2",children:"Customer Details"}),y.jsxs("div",{className:"text-sm text-gray-700",children:["Name: ",a.name]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["Contact: ",a.phone||""]}),y.jsx("button",{onClick:()=>e("/orders"),className:"mt-3 text-sm text-gray-900",children:"View Orders"})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:"font-semibold",children:"Address"}),!c&&y.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm",children:[y.jsx(uE,{size:16})," Edit"]})]}),c?y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Village/City"}),y.jsx("input",{type:"text",value:h.village,onChange:x=>B("village",x.target.value),placeholder:"Village or City name",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"P.O (Post Office)"}),y.jsx("input",{type:"text",value:h.po,onChange:x=>B("po",x.target.value),placeholder:"Post Office",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"P.S (Police Station)"}),y.jsx("input",{type:"text",value:h.ps,onChange:x=>B("ps",x.target.value),placeholder:"Police Station",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"District"}),y.jsx("input",{type:"text",value:h.district,onChange:x=>B("district",x.target.value),placeholder:"District",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"PIN Code"}),y.jsx("input",{type:"text",value:h.pin,onChange:x=>B("pin",x.target.value),placeholder:"PIN Code",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Landmark"}),y.jsx("input",{type:"text",value:h.landmark,onChange:x=>B("landmark",x.target.value),placeholder:"Landmark (Optional)",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Mobile Number"}),y.jsx("input",{type:"tel",value:h.mobile,onChange:x=>B("mobile",x.target.value),placeholder:"10-digit mobile number",className:"w-full p-2 border rounded text-sm",maxLength:"10"})]}),y.jsxs("div",{className:"flex gap-2 pt-2",children:[y.jsx("button",{onClick:z,disabled:v,className:"flex-1 bg-blue-600 text-white py-2 rounded text-sm font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition",children:v?"Saving...":"Save Address"}),y.jsx("button",{onClick:ne,disabled:v,className:"flex-1 bg-gray-300 text-gray-800 py-2 rounded text-sm font-medium hover:bg-gray-400 disabled:opacity-50 transition",children:"Cancel"})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-sm text-gray-700",children:["Village/City: ",a.address.village||a.address.city||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["P.O: ",a.address.po||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["P.S: ",a.address.ps||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["District: ",a.address.district||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["PIN: ",a.address.pin||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["Landmark: ",a.address.landmark||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["Mobile: ",a.address.mobile||""]})]})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h3",{className:"font-semibold",children:"Recently Viewed"}),y.jsx("button",{onClick:()=>{localStorage.removeItem("recentlyViewed"),E([])},className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear"})]}),S.length===0?y.jsx("p",{className:"text-sm text-gray-500",children:"No recent items"}):y.jsx("div",{className:"space-y-2",children:S.map(x=>y.jsxs(bt,{to:`/product/${x.id}`,className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded overflow-hidden",children:x.image?y.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Viewed ",new Date(x.viewedAt).toLocaleString()]})]})]},x.id))})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Customer Support"}),y.jsxs("div",{className:"space-y-2 mb-3",children:[y.jsx("p",{className:"text-sm text-gray-700",children:"Email: support@crodyto.example"}),y.jsx("p",{className:"text-sm text-gray-700",children:"Phone: +91 90000 00000"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:ee,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white py-2 rounded font-medium hover:bg-green-700 transition",children:[y.jsx(CI,{size:18})," Call Now"]}),y.jsxs("button",{onClick:O,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded font-medium hover:bg-blue-700 transition",children:[y.jsx(xI,{size:18})," Chat"]})]})]})]})}function V3(){const[n,e]=F.useState(!1),[t,r]=F.useState(null);return F.useEffect(()=>{try{sr.getState().subscribeToProducts()}catch(a){console.warn("subscribeToProducts failed",a)}return()=>{try{sr.getState().unsubscribeProducts()}catch(a){console.warn("unsubscribeProducts failed",a)}}},[]),F.useEffect(()=>{const a=c=>{console.error("Global error:",c.error),r(`Error: ${c.error?.message||"Unknown error"}`)};window.addEventListener("error",a);const o=c=>{c.target.closest(".scrollable")||c.preventDefault()};return document.addEventListener("touchmove",o,{passive:!1}),()=>{window.removeEventListener("error",a),document.removeEventListener("touchmove",o)}},[]),t?y.jsx("div",{className:"flex flex-col h-screen bg-white text-gray-900 overflow-hidden",children:y.jsx("main",{className:"flex-1 overflow-y-auto flex items-center justify-center",children:y.jsxs("div",{className:"text-center p-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),y.jsx("p",{className:"text-gray-600 mb-4",children:t}),y.jsx("button",{onClick:()=>{r(null),window.location.href="/my-ecommerce/"},className:"px-4 py-2 bg-white text-gray-900 rounded hover:bg-gray-100",children:"Go Home"})]})})}):y.jsx(JR,{basename:"/my-ecommerce/",children:y.jsxs("div",{className:"flex flex-col h-screen bg-white text-gray-900 overflow-hidden",children:[y.jsx(Dj,{onCartClick:()=>e(!0)}),y.jsx(jj,{isOpen:n,onClose:()=>e(!1)}),y.jsx("main",{className:"flex-1 overflow-y-auto scrollable",children:y.jsxs(RR,{children:[y.jsx(xn,{path:"/",element:y.jsx(f3,{})}),y.jsx(xn,{path:"/products",element:y.jsx(m3,{})}),y.jsx(xn,{path:"/product/:id",element:y.jsx(x3,{})}),y.jsx(xn,{path:"/wishlist",element:y.jsx(C3,{})}),y.jsx(xn,{path:"/checkout",element:y.jsx(I3,{})}),y.jsx(xn,{path:"/orders",element:y.jsx(N3,{})}),y.jsx(xn,{path:"/order/:id",element:y.jsx(O3,{})}),y.jsx(xn,{path:"/login",element:y.jsx(D3,{})}),y.jsx(xn,{path:"/register",element:y.jsx(M3,{})}),y.jsx(xn,{path:"/account",element:y.jsx(j3,{})}),y.jsx(xn,{path:"/admin/products",element:y.jsx(k3,{})}),y.jsx(xn,{path:"/admin/add-product",element:y.jsx(P3,{})}),y.jsx(xn,{path:"/admin/edit-product/:id",element:y.jsx(L3,{})})]})}),y.jsx(Lj,{})]})})}jC.createRoot(document.getElementById("root")).render(y.jsx(F.StrictMode,{children:y.jsx(V3,{})}));
