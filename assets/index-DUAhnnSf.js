(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function qg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xp={exports:{}},vu={};var Sb;function PC(){if(Sb)return vu;Sb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return vu.Fragment=e,vu.jsx=t,vu.jsxs=t,vu}var xb;function LC(){return xb||(xb=1,xp.exports=PC()),xp.exports}var y=LC(),Ap={exports:{}},Re={};var Ab;function jC(){if(Ab)return Re;Ab=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function L(j,ne,he){this.props=j,this.context=ne,this.refs=P,this.updater=he||I}L.prototype.isReactComponent={},L.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},L.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=L.prototype;function B(j,ne,he){this.props=j,this.context=ne,this.refs=P,this.updater=he||I}var X=B.prototype=new U;X.constructor=B,k(X,L.prototype),X.isPureReactComponent=!0;var ee=Array.isArray;function re(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function M(j,ne,he){var me=he.ref;return{$$typeof:n,type:j,key:ne,ref:me!==void 0?me:null,props:he}}function N(j,ne){return M(j.type,ne,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function z(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(he){return ne[he]})}var O=/\/+/g;function de(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):ne.toString(36)}function ce(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(re,re):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,ne,he,me,be){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(Ae){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case n:case e:Ne=!0;break;case v:return Ne=j._init,q(Ne(j._payload),ne,he,me,be)}}if(Ne)return be=be(j),Ne=me===""?"."+de(j,0):me,ee(be)?(he="",Ne!=null&&(he=Ne.replace(O,"$&/")+"/"),q(be,ne,he,"",function(yt){return yt})):be!=null&&(C(be)&&(be=N(be,he+(be.key==null||j&&j.key===be.key?"":(""+be.key).replace(O,"$&/")+"/")+Ne)),ne.push(be)),1;Ne=0;var ot=me===""?".":me+":";if(ee(j))for(var qe=0;qe<j.length;qe++)me=j[qe],Ae=ot+de(me,qe),Ne+=q(me,ne,he,Ae,be);else if(qe=x(j),typeof qe=="function")for(j=qe.call(j),qe=0;!(me=j.next()).done;)me=me.value,Ae=ot+de(me,qe++),Ne+=q(me,ne,he,Ae,be);else if(Ae==="object"){if(typeof j.then=="function")return q(ce(j),ne,he,me,be);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function J(j,ne,he){if(j==null)return j;var me=[],be=0;return q(j,me,"","",function(Ae){return ne.call(he,Ae,be++)}),me}function $(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(he){(j._status===0||j._status===-1)&&(j._status=1,j._result=he)},function(he){(j._status===0||j._status===-1)&&(j._status=2,j._result=he)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var le=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},fe={map:J,forEach:function(j,ne,he){J(j,function(){ne.apply(this,arguments)},he)},count:function(j){var ne=0;return J(j,function(){ne++}),ne},toArray:function(j){return J(j,function(ne){return ne})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Re.Activity=_,Re.Children=fe,Re.Component=L,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=B,Re.StrictMode=r,Re.Suspense=h,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Re.__COMPILER_RUNTIME={__proto__:null,c:function(j){return D.H.useMemoCache(j)}},Re.cache=function(j){return function(){return j.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(j,ne,he){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=k({},j.props),be=j.key;if(ne!=null)for(Ae in ne.key!==void 0&&(be=""+ne.key),ne)!S.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(me[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)me.children=he;else if(1<Ae){for(var Ne=Array(Ae),ot=0;ot<Ae;ot++)Ne[ot]=arguments[ot+2];me.children=Ne}return M(j.type,be,me)},Re.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Re.createElement=function(j,ne,he){var me,be={},Ae=null;if(ne!=null)for(me in ne.key!==void 0&&(Ae=""+ne.key),ne)S.call(ne,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(be[me]=ne[me]);var Ne=arguments.length-2;if(Ne===1)be.children=he;else if(1<Ne){for(var ot=Array(Ne),qe=0;qe<Ne;qe++)ot[qe]=arguments[qe+2];be.children=ot}if(j&&j.defaultProps)for(me in Ne=j.defaultProps,Ne)be[me]===void 0&&(be[me]=Ne[me]);return M(j,Ae,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:f,render:j}},Re.isValidElement=C,Re.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:$}},Re.memo=function(j,ne){return{$$typeof:p,type:j,compare:ne===void 0?null:ne}},Re.startTransition=function(j){var ne=D.T,he={};D.T=he;try{var me=j(),be=D.S;be!==null&&be(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(re,le)}catch(Ae){le(Ae)}finally{ne!==null&&he.types!==null&&(ne.types=he.types),D.T=ne}},Re.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Re.use=function(j){return D.H.use(j)},Re.useActionState=function(j,ne,he){return D.H.useActionState(j,ne,he)},Re.useCallback=function(j,ne){return D.H.useCallback(j,ne)},Re.useContext=function(j){return D.H.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j,ne){return D.H.useDeferredValue(j,ne)},Re.useEffect=function(j,ne){return D.H.useEffect(j,ne)},Re.useEffectEvent=function(j){return D.H.useEffectEvent(j)},Re.useId=function(){return D.H.useId()},Re.useImperativeHandle=function(j,ne,he){return D.H.useImperativeHandle(j,ne,he)},Re.useInsertionEffect=function(j,ne){return D.H.useInsertionEffect(j,ne)},Re.useLayoutEffect=function(j,ne){return D.H.useLayoutEffect(j,ne)},Re.useMemo=function(j,ne){return D.H.useMemo(j,ne)},Re.useOptimistic=function(j,ne){return D.H.useOptimistic(j,ne)},Re.useReducer=function(j,ne,he){return D.H.useReducer(j,ne,he)},Re.useRef=function(j){return D.H.useRef(j)},Re.useState=function(j){return D.H.useState(j)},Re.useSyncExternalStore=function(j,ne,he){return D.H.useSyncExternalStore(j,ne,he)},Re.useTransition=function(){return D.H.useTransition()},Re.version="19.2.0",Re}var Cb;function Hg(){return Cb||(Cb=1,Ap.exports=jC()),Ap.exports}var F=Hg();const Ke=qg(F);var Cp={exports:{}},_u={},Rp={exports:{}},Ip={};var Rb;function VC(){return Rb||(Rb=1,(function(n){function e(q,J){var $=q.length;q.push(J);e:for(;0<$;){var le=$-1>>>1,fe=q[le];if(0<a(fe,J))q[le]=J,q[$]=fe,$=le;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],$=q.pop();if($!==J){q[0]=$;e:for(var le=0,fe=q.length,j=fe>>>1;le<j;){var ne=2*(le+1)-1,he=q[ne],me=ne+1,be=q[me];if(0>a(he,$))me<fe&&0>a(be,he)?(q[le]=be,q[me]=$,le=me):(q[le]=he,q[ne]=$,le=ne);else if(me<fe&&0>a(be,$))q[le]=be,q[me]=$,le=me;else break e}}return J}function a(q,J){var $=q.sortIndex-J.sortIndex;return $!==0?$:q.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],p=[],v=1,_=null,T=3,x=!1,I=!1,k=!1,P=!1,L=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(q){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=q)r(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(p)}}function ee(q){if(k=!1,X(q),!I)if(t(h)!==null)I=!0,re||(re=!0,z());else{var J=t(p);J!==null&&ce(ee,J.startTime-q)}}var re=!1,D=-1,S=5,M=-1;function N(){return P?!0:!(n.unstable_now()-M<S)}function C(){if(P=!1,re){var q=n.unstable_now();M=q;var J=!0;try{e:{I=!1,k&&(k=!1,U(D),D=-1),x=!0;var $=T;try{t:{for(X(q),_=t(h);_!==null&&!(_.expirationTime>q&&N());){var le=_.callback;if(typeof le=="function"){_.callback=null,T=_.priorityLevel;var fe=le(_.expirationTime<=q);if(q=n.unstable_now(),typeof fe=="function"){_.callback=fe,X(q),J=!0;break t}_===t(h)&&r(h),X(q)}else r(h);_=t(h)}if(_!==null)J=!0;else{var j=t(p);j!==null&&ce(ee,j.startTime-q),J=!1}}break e}finally{_=null,T=$,x=!1}J=void 0}}finally{J?z():re=!1}}}var z;if(typeof B=="function")z=function(){B(C)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,de=O.port2;O.port1.onmessage=C,z=function(){de.postMessage(null)}}else z=function(){L(C,0)};function ce(q,J){D=L(function(){q(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(q){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var $=T;T=J;try{return q()}finally{T=$}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=T;T=q;try{return J()}finally{T=$}},n.unstable_scheduleCallback=function(q,J,$){var le=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?le+$:le):$=le,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=$+fe,q={id:v++,callback:J,priorityLevel:q,startTime:$,expirationTime:fe,sortIndex:-1},$>le?(q.sortIndex=$,e(p,q),t(h)===null&&q===t(p)&&(k?(U(D),D=-1):k=!0,ce(ee,$-le))):(q.sortIndex=fe,e(h,q),I||x||(I=!0,re||(re=!0,z()))),q},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(q){var J=T;return function(){var $=T;T=J;try{return q.apply(this,arguments)}finally{T=$}}}})(Ip)),Ip}var Ib;function UC(){return Ib||(Ib=1,Rp.exports=VC()),Rp.exports}var Np={exports:{}},nn={};var Nb;function zC(){if(Nb)return nn;Nb=1;var n=Hg();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,v)},nn.flushSync=function(h){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=v,r.d.f()}},nn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},nn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},nn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:x}):v==="script"&&r.d.X(h,{crossOrigin:_,integrity:T,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},nn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);r.d.L(h,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},nn.requestFormReset=function(h){r.d.r(h)},nn.unstable_batchedUpdates=function(h,p){return h(p)},nn.useFormState=function(h,p,v){return c.H.useFormState(h,p,v)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var Ob;function BC(){if(Ob)return Np.exports;Ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Np.exports=zC(),Np.exports}var Db;function FC(){if(Db)return _u;Db=1;var n=UC(),e=Hg(),t=BC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return h(m),i;if(g===u)return h(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=g;else{for(var w=!1,A=m.child;A;){if(A===o){w=!0,o=m,u=g;break}if(A===u){w=!0,u=m,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,u=m;break}if(A===u){w=!0,u=g,o=m;break}A=A.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case L:return"Profiler";case P:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case B:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case X:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:de(i.type)||"Memo";case S:s=i._payload,i=i._init;try{return de(i(s))}catch{}}return null}var ce=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},le=[],fe=-1;function j(i){return{current:i}}function ne(i){0>fe||(i.current=le[fe],le[fe]=null,fe--)}function he(i,s){fe++,le[fe]=i.current,i.current=s}var me=j(null),be=j(null),Ae=j(null),Ne=j(null);function ot(i,s){switch(he(Ae,s),he(be,i),he(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Y0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Y0(s),i=K0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(me),he(me,i)}function qe(){ne(me),ne(be),ne(Ae)}function yt(i){i.memoizedState!==null&&he(Ne,i);var s=me.current,o=K0(s,i.type);s!==o&&(he(be,i),he(me,o))}function un(i){be.current===i&&(ne(me),ne(be)),Ne.current===i&&(ne(Ne),mu._currentValue=$)}var Gn,hi;function Ii(i){if(Gn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Gn=s&&s[1]||"",hi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gn+i+hi}var ml=!1;function Xs(i,s){if(!i||ml)return"";ml=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var W=te}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(te){W=te}i.call(oe.prototype)}}else{try{throw Error()}catch(te){W=te}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&W&&typeof te.stack=="string")return[te.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var V=w.split(`
`),Q=A.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===Q.length)for(u=V.length-1,m=Q.length-1;1<=u&&0<=m&&V[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==Q[m]){var ie=`
`+V[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=m);break}}}finally{ml=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ii(o):""}function pl(i,s){switch(i.tag){case 26:case 27:case 5:return Ii(i.type);case 16:return Ii("Lazy");case 13:return i.child!==s&&s!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Xs(i.type,!1);case 11:return Xs(i.type.render,!1);case 1:return Xs(i.type,!0);case 31:return Ii("Activity");default:return""}}function gl(i){try{var s="",o=null;do s+=pl(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var At=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,qr=n.unstable_cancelCallback,Cf=n.unstable_shouldYield,mc=n.unstable_requestPaint,cn=n.unstable_now,Ws=n.unstable_getCurrentPriorityLevel,yl=n.unstable_ImmediatePriority,vl=n.unstable_UserBlockingPriority,Hr=n.unstable_NormalPriority,Rf=n.unstable_LowPriority,pc=n.unstable_IdlePriority,gc=n.log,yc=n.unstable_setDisableYieldValue,fi=null,Yt=null;function $n(i){if(typeof gc=="function"&&yc(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(fi,i)}catch{}}var wt=Math.clz32?Math.clz32:_c,vc=Math.log,Ka=Math.LN2;function _c(i){return i>>>=0,i===0?32:31-(vc(i)/Ka|0)|0}var Ni=256,Js=262144,Ct=4194304;function Oi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?m=Oi(u):(w&=A,w!==0?m=Oi(w):o||(o=A&~i,o!==0&&(m=Oi(o))))):(A=u&~g,A!==0?m=Oi(A):w!==0?m=Oi(w):o||(o=u&~i,o!==0&&(m=Oi(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function mi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function If(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bc(){var i=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),i}function Mi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Zs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Nf(i,s,o,u,m,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,Q=i.hiddenUpdates;for(o=w&~o;0<o;){var ie=31-wt(o),oe=1<<ie;A[ie]=0,V[ie]=-1;var W=Q[ie];if(W!==null)for(Q[ie]=null,ie=0;ie<W.length;ie++){var te=W[ie];te!==null&&(te.lane&=-536870913)}o&=~oe}u!==0&&ea(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~s))}function ea(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-wt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function _l(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-wt(o),m=1<<u;m&s|i[u]&s&&(i[u]|=s),o&=~m}}function bl(i,s){var o=s&-s;return o=(o&42)!==0?1:ta(o),(o&(i.suspendedLanes|s))!==0?0:o}function ta(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ur(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function wc(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:yb(i.type))}function pi(i,s){var o=J.p;try{return J.p=i,s()}finally{J.p=o}}var gi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+gi,qt="__reactProps$"+gi,ki="__reactContainer$"+gi,Qa="__reactEvents$"+gi,Of="__reactListeners$"+gi,Ec="__reactHandles$"+gi,Tc="__reactResources$"+gi,Pi="__reactMarker$"+gi;function Xa(i){delete i[Rt],delete i[qt],delete i[Qa],delete i[Of],delete i[Ec]}function Li(i){var s=i[Rt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ki]||o[Rt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=tb(i);i!==null;){if(o=i[Rt])return o;i=tb(i)}return s}i=o,o=i.parentNode}return null}function Yn(i){if(i=i[Rt]||i[ki]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Dn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ji(i){var s=i[Tc];return s||(s=i[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(i){i[Pi]=!0}var wl=new Set,El={};function Vi(i,s){Ui(i,s),Ui(i+"Capture",s)}function Ui(i,s){for(El[i]=s,i=0;i<s.length;i++)wl.add(s[i])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},xl={};function Sc(i){return At.call(xl,i)?!0:At.call(Sl,i)?!1:Tl.test(i)?xl[i]=!0:(Sl[i]=!0,!1)}function Wa(i,s,o){if(Sc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Mn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Nt(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Al(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=Gr(i)?"checked":"value";i._valueTracker=Al(i,s,""+i[s])}}function na(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Gr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ia=/[\n"\\]/g;function vn(i){return i.replace(ia,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ja(i,s,o,u,m,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ht(s)):i.value!==""+Ht(s)&&(i.value=""+Ht(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?Cl(i,w,Ht(s)):o!=null?Cl(i,w,Ht(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Ht(A):i.removeAttribute("name")}function xc(i,s,o,u,m,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Xe(i);return}o=o!=null?""+Ht(o):"",s=s!=null?""+Ht(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),Xe(i)}function Cl(i,s,o){s==="number"&&zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function $r(i,s,o,u){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ht(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Ac(i,s,o){if(s!=null&&(s=""+Ht(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Ht(o):""}function Yr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ht(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xe(i)}function _n(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Cc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Il(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&Rl(i,m,u)}else for(var g in s)s.hasOwnProperty(g)&&Rl(i,g,s[g])}function Za(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(i){return Kr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function yi(){}var Nl=null;function Kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qr=null,Bi=null;function ra(i){var s=Yn(i);if(s&&(i=s.stateNode)){var o=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ja(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var m=u[qt]||null;if(!m)throw Error(r(90));Ja(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&na(u)}break e;case"textarea":Ac(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&$r(i,!!o.multiple,s,!1)}}}var to=!1;function Xr(i,s,o){if(to)return i(s,o);to=!0;try{var u=i(s);return u}finally{if(to=!1,(Qr!==null||Bi!==null)&&(wd(),Qr&&(s=Qr,i=Bi,Bi=Qr=null,ra(s),i)))for(s=0;s<i.length;s++)ra(i[s])}}function vi(i,s){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(Qn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){sa=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{sa=!1}var Fi=null,Ol=null,aa=null;function Dl(){if(aa)return aa;var i,s=Ol,o=s.length,u,m="value"in Fi?Fi.value:Fi.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var w=o-i;for(u=1;u<=w&&s[o-u]===m[g-u];u++);return aa=m.slice(i,1<u?1-u:void 0)}function oa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function cr(){return!0}function _i(){return!1}function Kt(i){function s(o,u,m,g,w){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?cr:_i,this.isPropagationStopped=_i,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),s}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Kt(dr),Wr=_({},dr,{view:0,detail:0}),Ml=Kt(Wr),Jr,no,Hi,io=_({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hi&&(Hi&&i.type==="mousemove"?(Jr=i.screenX-Hi.screenX,no=i.screenY-Hi.screenY):no=Jr=0,Hi=i),Jr)},movementY:function(i){return"movementY"in i?i.movementY:no}}),kl=Kt(io),la=_({},io,{dataTransfer:0}),Ic=Kt(la),Nc=_({},Wr,{relatedTarget:0}),ua=Kt(Nc),Pl=_({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oc=Kt(Pl),ro=_({},dr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Dc=Kt(ro),Mc=_({},dr,{data:0}),Gi=Kt(Mc),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Lc[i])?!!s[i]:!1}function Zr(){return jc}var dn=_({},Wr,{key:function(i){if(i.key){var s=kc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Vc=Kt(dn),Uc=_({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=Kt(Uc),d=_({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),b=Kt(d),E=_({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Kt(E),Y=_({},io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=Kt(Y),pe=_({},dr,{newState:0,oldState:0}),Oe=Kt(pe),Et=[9,13,27,32],$e=Qn&&"CompositionEvent"in window,ht=null;Qn&&"documentMode"in document&&(ht=document.documentMode);var Xn=Qn&&"TextEvent"in window&&!ht,$i=Qn&&(!$e||ht&&8<ht&&11>=ht),bi=" ",wi=!1;function ca(i,s){switch(i){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ao=!1;function sA(i,s){switch(i){case"compositionend":return so(s);case"keypress":return s.which!==32?null:(wi=!0,bi);case"textInput":return i=s.data,i===bi&&wi?null:i;default:return null}}function aA(i,s){if(ao)return i==="compositionend"||!$e&&ca(i,s)?(i=Dl(),aa=Ol=Fi=null,ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $i&&s.locale!=="ko"?null:s.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!oA[i.type]:s==="textarea"}function sv(i,s,o,u){Qr?Bi?Bi.push(u):Bi=[u]:Qr=u,s=Rd(s,"onChange"),0<s.length&&(o=new qi("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Ll=null,jl=null;function lA(i){B0(i,0)}function zc(i){var s=Dn(i);if(na(s))return i}function av(i,s){if(i==="change")return s}var ov=!1;if(Qn){var Df;if(Qn){var Mf="oninput"in document;if(!Mf){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Mf=typeof lv.oninput=="function"}Df=Mf}else Df=!1;ov=Df&&(!document.documentMode||9<document.documentMode)}function uv(){Ll&&(Ll.detachEvent("onpropertychange",cv),jl=Ll=null)}function cv(i){if(i.propertyName==="value"&&zc(jl)){var s=[];sv(s,jl,i,Kn(i)),Xr(lA,s)}}function uA(i,s,o){i==="focusin"?(uv(),Ll=s,jl=o,Ll.attachEvent("onpropertychange",cv)):i==="focusout"&&uv()}function cA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zc(jl)}function dA(i,s){if(i==="click")return zc(s)}function hA(i,s){if(i==="input"||i==="change")return zc(s)}function fA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var kn=typeof Object.is=="function"?Object.is:fA;function Vl(i,s){if(kn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!At.call(s,m)||!kn(i[m],s[m]))return!1}return!0}function dv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hv(i,s){var o=dv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dv(o)}}function fv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?fv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function mv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=zi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=zi(i.document)}return s}function kf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var mA=Qn&&"documentMode"in document&&11>=document.documentMode,oo=null,Pf=null,Ul=null,Lf=!1;function pv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lf||oo==null||oo!==zi(u)||(u=oo,"selectionStart"in u&&kf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ul&&Vl(Ul,u)||(Ul=u,u=Rd(Pf,"onSelect"),0<u.length&&(s=new qi("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=oo)))}function da(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var lo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},jf={},gv={};Qn&&(gv=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ha(i){if(jf[i])return jf[i];if(!lo[i])return i;var s=lo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in gv)return jf[i]=s[o];return i}var yv=ha("animationend"),vv=ha("animationiteration"),_v=ha("animationstart"),pA=ha("transitionrun"),gA=ha("transitionstart"),yA=ha("transitioncancel"),bv=ha("transitionend"),wv=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Ei(i,s){wv.set(i,s),Vi(s,[i])}var Bc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Wn=[],uo=0,Uf=0;function Fc(){for(var i=uo,s=Uf=uo=0;s<i;){var o=Wn[s];Wn[s++]=null;var u=Wn[s];Wn[s++]=null;var m=Wn[s];Wn[s++]=null;var g=Wn[s];if(Wn[s++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}g!==0&&Ev(o,m,g)}}function qc(i,s,o,u){Wn[uo++]=i,Wn[uo++]=s,Wn[uo++]=o,Wn[uo++]=u,Uf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function zf(i,s,o,u){return qc(i,s,o,u),Hc(i)}function fa(i,s){return qc(i,null,null,s),Hc(i)}function Ev(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-wt(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=o|536870912),g):null}function Hc(i){if(50<ou)throw ou=0,Qm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var co={};function vA(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,s,o,u){return new vA(i,s,o,u)}function Bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fr(i,s){var o=i.alternate;return o===null?(o=Pn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Tv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Gc(i,s,o,u,m,g){var w=0;if(u=i,typeof i=="function")Bf(i)&&(w=1);else if(typeof i=="string")w=TC(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Pn(31,o,s,m),i.elementType=M,i.lanes=g,i;case k:return ma(o.children,m,g,s);case P:w=8,m|=24;break;case L:return i=Pn(12,o,s,m|2),i.elementType=L,i.lanes=g,i;case ee:return i=Pn(13,o,s,m),i.elementType=ee,i.lanes=g,i;case re:return i=Pn(19,o,s,m),i.elementType=re,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:w=10;break e;case U:w=9;break e;case X:w=11;break e;case D:w=14;break e;case S:w=16,u=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Pn(w,o,s,m),s.elementType=i,s.type=u,s.lanes=g,s}function ma(i,s,o,u){return i=Pn(7,i,u,s),i.lanes=o,i}function Ff(i,s,o){return i=Pn(6,i,null,s),i.lanes=o,i}function Sv(i){var s=Pn(18,null,null,0);return s.stateNode=i,s}function qf(i,s,o){return s=Pn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var xv=new WeakMap;function Jn(i,s){if(typeof i=="object"&&i!==null){var o=xv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:gl(s)},xv.set(i,s),s)}return{value:i,source:s,stack:gl(s)}}var ho=[],fo=0,$c=null,zl=0,Zn=[],ei=0,es=null,Yi=1,Ki="";function mr(i,s){ho[fo++]=zl,ho[fo++]=$c,$c=i,zl=s}function Av(i,s,o){Zn[ei++]=Yi,Zn[ei++]=Ki,Zn[ei++]=es,es=i;var u=Yi;i=Ki;var m=32-wt(u)-1;u&=~(1<<m),o+=1;var g=32-wt(s)+m;if(30<g){var w=m-m%5;g=(u&(1<<w)-1).toString(32),u>>=w,m-=w,Yi=1<<32-wt(s)+m|o<<m|u,Ki=g+i}else Yi=1<<g|o<<m|u,Ki=i}function Hf(i){i.return!==null&&(mr(i,1),Av(i,1,0))}function Gf(i){for(;i===$c;)$c=ho[--fo],ho[fo]=null,zl=ho[--fo],ho[fo]=null;for(;i===es;)es=Zn[--ei],Zn[ei]=null,Ki=Zn[--ei],Zn[ei]=null,Yi=Zn[--ei],Zn[ei]=null}function Cv(i,s){Zn[ei++]=Yi,Zn[ei++]=Ki,Zn[ei++]=es,Yi=s.id,Ki=s.overflow,es=i}var Qt=null,lt=null,Be=!1,ts=null,ti=!1,$f=Error(r(519));function ns(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Jn(s,i)),$f}function Rv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Rt]=i,s[qt]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<uu.length;o++)Pe(uu[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),xc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Yr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||G0(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=yi),s=!0):s=!1,s||ns(i,!0)}function Iv(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Qt=Qt.return}}function mo(i){if(i!==Qt)return!1;if(!Be)return Iv(i),Be=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||cp(i.type,i.memoizedProps)),o=!o),o&&lt&&ns(i),Iv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));lt=eb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));lt=eb(i)}else s===27?(s=lt,gs(i.type)?(i=pp,pp=null,lt=i):lt=s):lt=Qt?ii(i.stateNode.nextSibling):null;return!0}function pa(){lt=Qt=null,Be=!1}function Yf(){var i=ts;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),ts=null),i}function Bl(i){ts===null?ts=[i]:ts.push(i)}var Kf=j(null),ga=null,pr=null;function is(i,s,o){he(Kf,s._currentValue),s._currentValue=o}function gr(i){i._currentValue=Kf.current,ne(Kf)}function Qf(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Xf(i,s,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var V=0;V<s.length;V++)if(A.context===s[V]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Qf(g.return,o,i),u||(w=null);break e}g=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Qf(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function po(i,s,o,u){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var A=m.type;kn(m.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(m===Ne.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(mu):i=[mu])}m=m.return}i!==null&&Xf(s,i,o,u),s.flags|=262144}function Yc(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ya(i){ga=i,pr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return Nv(ga,i)}function Kc(i,s){return ga===null&&ya(i),Nv(i,s)}function Nv(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},pr===null){if(i===null)throw Error(r(308));pr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else pr=pr.next=s;return o}var _A=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},bA=n.unstable_scheduleCallback,wA=n.unstable_NormalPriority,Ot={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new _A,data:new Map,refCount:0}}function Fl(i){i.refCount--,i.refCount===0&&bA(wA,function(){i.controller.abort()})}var ql=null,Jf=0,go=0,yo=null;function EA(i,s){if(ql===null){var o=ql=[];Jf=0,go=tp(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Jf++,s.then(Ov,Ov),s}function Ov(){if(--Jf===0&&ql!==null){yo!==null&&(yo.status="fulfilled");var i=ql;ql=null,go=0,yo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function TA(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Dv=q.S;q.S=function(i,s){p0=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&EA(i,s),Dv!==null&&Dv(i,s)};var va=j(null);function Zf(){var i=va.current;return i!==null?i:it.pooledCache}function Qc(i,s){s===null?he(va,va.current):he(va,s.pool)}function Mv(){var i=Zf();return i===null?null:{parent:Ot._currentValue,pool:i}}var vo=Error(r(460)),em=Error(r(474)),Xc=Error(r(542)),Wc={then:function(){}};function kv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Pv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(yi,yi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jv(i),i;default:if(typeof s.status=="string")s.then(yi,yi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jv(i),i}throw ba=s,vo}}function _a(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ba=o,vo):o}}var ba=null;function Lv(){if(ba===null)throw Error(r(459));var i=ba;return ba=null,i}function jv(i){if(i===vo||i===Xc)throw Error(r(483))}var _o=null,Hl=0;function Jc(i){var s=Hl;return Hl+=1,_o===null&&(_o=[]),Pv(_o,i,s)}function Gl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Zc(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Vv(i){function s(G,H){if(i){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function o(G,H){if(!i)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function m(G,H){return G=fr(G,H),G.index=0,G.sibling=null,G}function g(G,H,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function w(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,H,K,se){return H===null||H.tag!==6?(H=Ff(K,G.mode,se),H.return=G,H):(H=m(H,K),H.return=G,H)}function V(G,H,K,se){var we=K.type;return we===k?ie(G,H,K.props.children,se,K.key):H!==null&&(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&_a(we)===H.type)?(H=m(H,K.props),Gl(H,K),H.return=G,H):(H=Gc(K.type,K.key,K.props,null,G.mode,se),Gl(H,K),H.return=G,H)}function Q(G,H,K,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=qf(K,G.mode,se),H.return=G,H):(H=m(H,K.children||[]),H.return=G,H)}function ie(G,H,K,se,we){return H===null||H.tag!==7?(H=ma(K,G.mode,se,we),H.return=G,H):(H=m(H,K),H.return=G,H)}function oe(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ff(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return K=Gc(H.type,H.key,H.props,null,G.mode,K),Gl(K,H),K.return=G,K;case I:return H=qf(H,G.mode,K),H.return=G,H;case S:return H=_a(H),oe(G,H,K)}if(ce(H)||z(H))return H=ma(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return oe(G,Jc(H),K);if(H.$$typeof===B)return oe(G,Kc(G,H),K);Zc(G,H)}return null}function W(G,H,K,se){var we=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:A(G,H,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===we?V(G,H,K,se):null;case I:return K.key===we?Q(G,H,K,se):null;case S:return K=_a(K),W(G,H,K,se)}if(ce(K)||z(K))return we!==null?null:ie(G,H,K,se,null);if(typeof K.then=="function")return W(G,H,Jc(K),se);if(K.$$typeof===B)return W(G,H,Kc(G,K),se);Zc(G,K)}return null}function te(G,H,K,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,A(H,G,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?K:se.key)||null,V(H,G,se,we);case I:return G=G.get(se.key===null?K:se.key)||null,Q(H,G,se,we);case S:return se=_a(se),te(G,H,K,se,we)}if(ce(se)||z(se))return G=G.get(K)||null,ie(H,G,se,we,null);if(typeof se.then=="function")return te(G,H,K,Jc(se),we);if(se.$$typeof===B)return te(G,H,K,Kc(H,se),we);Zc(H,se)}return null}function ve(G,H,K,se){for(var we=null,He=null,_e=H,Me=H=0,je=null;_e!==null&&Me<K.length;Me++){_e.index>Me?(je=_e,_e=null):je=_e.sibling;var Ge=W(G,_e,K[Me],se);if(Ge===null){_e===null&&(_e=je);break}i&&_e&&Ge.alternate===null&&s(G,_e),H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge,_e=je}if(Me===K.length)return o(G,_e),Be&&mr(G,Me),we;if(_e===null){for(;Me<K.length;Me++)_e=oe(G,K[Me],se),_e!==null&&(H=g(_e,H,Me),He===null?we=_e:He.sibling=_e,He=_e);return Be&&mr(G,Me),we}for(_e=u(_e);Me<K.length;Me++)je=te(_e,G,Me,K[Me],se),je!==null&&(i&&je.alternate!==null&&_e.delete(je.key===null?Me:je.key),H=g(je,H,Me),He===null?we=je:He.sibling=je,He=je);return i&&_e.forEach(function(ws){return s(G,ws)}),Be&&mr(G,Me),we}function Te(G,H,K,se){if(K==null)throw Error(r(151));for(var we=null,He=null,_e=H,Me=H=0,je=null,Ge=K.next();_e!==null&&!Ge.done;Me++,Ge=K.next()){_e.index>Me?(je=_e,_e=null):je=_e.sibling;var ws=W(G,_e,Ge.value,se);if(ws===null){_e===null&&(_e=je);break}i&&_e&&ws.alternate===null&&s(G,_e),H=g(ws,H,Me),He===null?we=ws:He.sibling=ws,He=ws,_e=je}if(Ge.done)return o(G,_e),Be&&mr(G,Me),we;if(_e===null){for(;!Ge.done;Me++,Ge=K.next())Ge=oe(G,Ge.value,se),Ge!==null&&(H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge);return Be&&mr(G,Me),we}for(_e=u(_e);!Ge.done;Me++,Ge=K.next())Ge=te(_e,G,Me,Ge.value,se),Ge!==null&&(i&&Ge.alternate!==null&&_e.delete(Ge.key===null?Me:Ge.key),H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge);return i&&_e.forEach(function(kC){return s(G,kC)}),Be&&mr(G,Me),we}function nt(G,H,K,se){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var we=K.key;H!==null;){if(H.key===we){if(we=K.type,we===k){if(H.tag===7){o(G,H.sibling),se=m(H,K.props.children),se.return=G,G=se;break e}}else if(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&_a(we)===H.type){o(G,H.sibling),se=m(H,K.props),Gl(se,K),se.return=G,G=se;break e}o(G,H);break}else s(G,H);H=H.sibling}K.type===k?(se=ma(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=Gc(K.type,K.key,K.props,null,G.mode,se),Gl(se,K),se.return=G,G=se)}return w(G);case I:e:{for(we=K.key;H!==null;){if(H.key===we)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){o(G,H.sibling),se=m(H,K.children||[]),se.return=G,G=se;break e}else{o(G,H);break}else s(G,H);H=H.sibling}se=qf(K,G.mode,se),se.return=G,G=se}return w(G);case S:return K=_a(K),nt(G,H,K,se)}if(ce(K))return ve(G,H,K,se);if(z(K)){if(we=z(K),typeof we!="function")throw Error(r(150));return K=we.call(K),Te(G,H,K,se)}if(typeof K.then=="function")return nt(G,H,Jc(K),se);if(K.$$typeof===B)return nt(G,H,Kc(G,K),se);Zc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(o(G,H.sibling),se=m(H,K),se.return=G,G=se):(o(G,H),se=Ff(K,G.mode,se),se.return=G,G=se),w(G)):o(G,H)}return function(G,H,K,se){try{Hl=0;var we=nt(G,H,K,se);return _o=null,we}catch(_e){if(_e===vo||_e===Xc)throw _e;var He=Pn(29,_e,null,G.mode);return He.lanes=se,He.return=G,He}finally{}}}var wa=Vv(!0),Uv=Vv(!1),rs=!1;function tm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function as(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Hc(i),Ev(i,null,o),s}return qc(i,u,s,o),Hc(i)}function $l(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,_l(i,o)}}function im(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var rm=!1;function Yl(){if(rm){var i=yo;if(i!==null)throw i}}function Kl(i,s,o,u){rm=!1;var m=i.updateQueue;rs=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,Q=V.next;V.next=null,w===null?g=Q:w.next=Q,w=V;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==w&&(A===null?ie.firstBaseUpdate=Q:A.next=Q,ie.lastBaseUpdate=V))}if(g!==null){var oe=m.baseState;w=0,ie=Q=V=null,A=g;do{var W=A.lane&-536870913,te=W!==A.lane;if(te?(Le&W)===W:(u&W)===W){W!==0&&W===go&&(rm=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=i,Te=A;W=s;var nt=o;switch(Te.tag){case 1:if(ve=Te.payload,typeof ve=="function"){oe=ve.call(nt,oe,W);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Te.payload,W=typeof ve=="function"?ve.call(nt,oe,W):ve,W==null)break e;oe=_({},oe,W);break e;case 2:rs=!0}}W=A.callback,W!==null&&(i.flags|=64,te&&(i.flags|=8192),te=m.callbacks,te===null?m.callbacks=[W]:te.push(W))}else te={lane:W,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(Q=ie=te,V=oe):ie=ie.next=te,w|=W;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;te=A,A=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ie===null&&(V=oe),m.baseState=V,m.firstBaseUpdate=Q,m.lastBaseUpdate=ie,g===null&&(m.shared.lanes=0),ds|=w,i.lanes=w,i.memoizedState=oe}}function zv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Bv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)zv(o[i],s)}var bo=j(null),ed=j(0);function Fv(i,s){i=xr,he(ed,i),he(bo,s),xr=i|s.baseLanes}function sm(){he(ed,xr),he(bo,bo.current)}function am(){xr=ed.current,ne(bo),ne(ed)}var Ln=j(null),ni=null;function os(i){var s=i.alternate;he(Tt,Tt.current&1),he(Ln,i),ni===null&&(s===null||bo.current!==null||s.memoizedState!==null)&&(ni=i)}function om(i){he(Tt,Tt.current),he(Ln,i),ni===null&&(ni=i)}function qv(i){i.tag===22?(he(Tt,Tt.current),he(Ln,i),ni===null&&(ni=i)):ls()}function ls(){he(Tt,Tt.current),he(Ln,Ln.current)}function jn(i){ne(Ln),ni===i&&(ni=null),ne(Tt)}var Tt=j(0);function td(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||fp(o)||mp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yr=0,De=null,et=null,Dt=null,nd=!1,wo=!1,Ea=!1,id=0,Ql=0,Eo=null,SA=0;function vt(){throw Error(r(321))}function lm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!kn(i[o],s[o]))return!1;return!0}function um(i,s,o,u,m,g){return yr=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?A_:Sm,Ea=!1,g=o(u,m),Ea=!1,wo&&(g=Gv(s,o,u,m)),Hv(i),g}function Hv(i){q.H=Jl;var s=et!==null&&et.next!==null;if(yr=0,Dt=et=De=null,nd=!1,Ql=0,Eo=null,s)throw Error(r(300));i===null||Mt||(i=i.dependencies,i!==null&&Yc(i)&&(Mt=!0))}function Gv(i,s,o,u){De=i;var m=0;do{if(wo&&(Eo=null),Ql=0,wo=!1,25<=m)throw Error(r(301));if(m+=1,Dt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=C_,g=s(o,u)}while(wo);return g}function xA(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?Xl(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(De.flags|=1024),s}function cm(){var i=id!==0;return id=0,i}function dm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function hm(i){if(nd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}nd=!1}yr=0,Dt=et=De=null,wo=!1,Ql=id=0,Eo=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?De.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function St(){if(et===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=Dt===null?De.memoizedState:Dt.next;if(s!==null)Dt=s,et=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Dt===null?De.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(i){var s=Ql;return Ql+=1,Eo===null&&(Eo=[]),i=Pv(Eo,i,s),s=De,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?A_:Sm),i}function sd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xl(i);if(i.$$typeof===B)return Xt(i)}throw Error(r(438,String(i)))}function fm(i){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=rd(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=N;return s.index++,o}function vr(i,s){return typeof s=="function"?s(i):s}function ad(i){var s=St();return mm(s,et,i)}function mm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}s.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var A=w=null,V=null,Q=s,ie=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(Le&oe)===oe:(yr&oe)===oe){var W=Q.revertLane;if(W===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===go&&(ie=!0);else if((yr&W)===W){Q=Q.next,W===go&&(ie=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=oe,w=g):V=V.next=oe,De.lanes|=W,ds|=W;oe=Q.action,Ea&&o(g,oe),g=Q.hasEagerState?Q.eagerState:o(g,oe)}else W={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=W,w=g):V=V.next=W,De.lanes|=oe,ds|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?w=g:V.next=A,!kn(g,i.memoizedState)&&(Mt=!0,ie&&(o=yo,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=V,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function pm(i){var s=St(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);kn(g,s.memoizedState)||(Mt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function $v(i,s,o){var u=De,m=St(),g=Be;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!kn((et||m).memoizedState,o);if(w&&(m.memoizedState=o,Mt=!0),m=m.queue,vm(Qv.bind(null,u,m,i),[i]),m.getSnapshot!==s||w||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,To(9,{destroy:void 0},Kv.bind(null,u,m,o,s),null),it===null)throw Error(r(349));g||(yr&127)!==0||Yv(u,s,o)}return o}function Yv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=rd(),De.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Kv(i,s,o,u){s.value=o,s.getSnapshot=u,Xv(s)&&Wv(i)}function Qv(i,s,o){return o(function(){Xv(s)&&Wv(i)})}function Xv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!kn(i,o)}catch{return!0}}function Wv(i){var s=fa(i,2);s!==null&&Sn(s,i,2)}function gm(i){var s=hn();if(typeof i=="function"){var o=i;if(i=o(),Ea){$n(!0);try{o()}finally{$n(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:i},s}function Jv(i,s,o,u){return i.baseState=o,mm(i,et,typeof u=="function"?u:vr)}function AA(i,s,o,u,m){if(ud(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};q.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Zv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Zv(i,s){var o=s.action,u=s.payload,m=i.state;if(s.isTransition){var g=q.T,w={};q.T=w;try{var A=o(m,u),V=q.S;V!==null&&V(w,A),e_(i,s,A)}catch(Q){ym(i,s,Q)}finally{g!==null&&w.types!==null&&(g.types=w.types),q.T=g}}else try{g=o(m,u),e_(i,s,g)}catch(Q){ym(i,s,Q)}}function e_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){t_(i,s,u)},function(u){return ym(i,s,u)}):t_(i,s,o)}function t_(i,s,o){s.status="fulfilled",s.value=o,n_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Zv(i,o)))}function ym(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,n_(s),s=s.next;while(s!==u)}i.action=null}function n_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function i_(i,s){return s}function r_(i,s){if(Be){var o=it.formState;if(o!==null){e:{var u=De;if(Be){if(lt){t:{for(var m=lt,g=ti;m.nodeType!==8;){if(!g){m=null;break t}if(m=ii(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){lt=ii(m.nextSibling),u=m.data==="F!";break e}}ns(u)}u=!1}u&&(s=o[0])}}return o=hn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:s},o.queue=u,o=T_.bind(null,De,u),u.dispatch=o,u=gm(!1),g=Tm.bind(null,De,!1,u.queue),u=hn(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,o=AA.bind(null,De,m,g,o),m.dispatch=o,u.memoizedState=i,[s,o,!1]}function s_(i){var s=St();return a_(s,et,i)}function a_(i,s,o){if(s=mm(i,s,i_)[0],i=ad(vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Xl(s)}catch(w){throw w===vo?Xc:w}else u=s;s=St();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(De.flags|=2048,To(9,{destroy:void 0},CA.bind(null,m,o),null)),[u,g,i]}function CA(i,s){i.action=s}function o_(i){var s=St(),o=et;if(o!==null)return a_(s,o,i);St(),s=s.memoizedState,o=St();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function To(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=rd(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function l_(){return St().memoizedState}function od(i,s,o,u){var m=hn();De.flags|=i,m.memoizedState=To(1|s,{destroy:void 0},o,u===void 0?null:u)}function ld(i,s,o,u){var m=St();u=u===void 0?null:u;var g=m.memoizedState.inst;et!==null&&u!==null&&lm(u,et.memoizedState.deps)?m.memoizedState=To(s,g,o,u):(De.flags|=i,m.memoizedState=To(1|s,g,o,u))}function u_(i,s){od(8390656,8,i,s)}function vm(i,s){ld(2048,8,i,s)}function RA(i){De.flags|=4;var s=De.updateQueue;if(s===null)s=rd(),De.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function c_(i){var s=St().memoizedState;return RA({ref:s,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function d_(i,s){return ld(4,2,i,s)}function h_(i,s){return ld(4,4,i,s)}function f_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function m_(i,s,o){o=o!=null?o.concat([i]):null,ld(4,4,f_.bind(null,s,i),o)}function _m(){}function p_(i,s){var o=St();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&lm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function g_(i,s){var o=St();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&lm(s,u[1]))return u[0];if(u=i(),Ea){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[u,s],u}function bm(i,s,o){return o===void 0||(yr&1073741824)!==0&&(Le&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=y0(),De.lanes|=i,ds|=i,o)}function y_(i,s,o,u){return kn(o,s)?o:bo.current!==null?(i=bm(i,o,u),kn(i,s)||(Mt=!0),i):(yr&42)===0||(yr&1073741824)!==0&&(Le&261930)===0?(Mt=!0,i.memoizedState=o):(i=y0(),De.lanes|=i,ds|=i,s)}function v_(i,s,o,u,m){var g=J.p;J.p=g!==0&&8>g?g:8;var w=q.T,A={};q.T=A,Tm(i,!1,s,o);try{var V=m(),Q=q.S;if(Q!==null&&Q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=TA(V,u);Wl(i,s,ie,zn(i))}else Wl(i,s,u,zn(i))}catch(oe){Wl(i,s,{then:function(){},status:"rejected",reason:oe},zn())}finally{J.p=g,w!==null&&A.types!==null&&(w.types=A.types),q.T=w}}function IA(){}function wm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var m=__(i).queue;v_(i,m,s,$,o===null?IA:function(){return b_(i),o(u)})}function __(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:$},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function b_(i){var s=__(i);s.next===null&&(s=i.alternate.memoizedState),Wl(i,s.next.queue,{},zn())}function Em(){return Xt(mu)}function w_(){return St().memoizedState}function E_(){return St().memoizedState}function NA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=zn();i=ss(o);var u=as(s,i,o);u!==null&&(Sn(u,s,o),$l(u,s,o)),s={cache:Wf()},i.payload=s;return}s=s.return}}function OA(i,s,o){var u=zn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ud(i)?S_(s,o):(o=zf(i,s,o,u),o!==null&&(Sn(o,i,u),x_(o,s,u)))}function T_(i,s,o){var u=zn();Wl(i,s,o,u)}function Wl(i,s,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ud(i))S_(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,o);if(m.hasEagerState=!0,m.eagerState=A,kn(A,w))return qc(i,s,m,0),it===null&&Fc(),!1}catch{}finally{}if(o=zf(i,s,m,u),o!==null)return Sn(o,i,u),x_(o,s,u),!0}return!1}function Tm(i,s,o,u){if(u={lane:2,revertLane:tp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ud(i)){if(s)throw Error(r(479))}else s=zf(i,o,u,2),s!==null&&Sn(s,i,2)}function ud(i){var s=i.alternate;return i===De||s!==null&&s===De}function S_(i,s){wo=nd=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function x_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,_l(i,o)}}var Jl={readContext:Xt,use:sd,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Jl.useEffectEvent=vt;var A_={readContext:Xt,use:sd,useCallback:function(i,s){return hn().memoizedState=[i,s===void 0?null:s],i},useContext:Xt,useEffect:u_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,od(4194308,4,f_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return od(4194308,4,i,s)},useInsertionEffect:function(i,s){od(4,2,i,s)},useMemo:function(i,s){var o=hn();s=s===void 0?null:s;var u=i();if(Ea){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=hn();if(o!==void 0){var m=o(s);if(Ea){$n(!0);try{o(s)}finally{$n(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=OA.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var s=hn();return i={current:i},s.memoizedState=i},useState:function(i){i=gm(i);var s=i.queue,o=T_.bind(null,De,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:_m,useDeferredValue:function(i,s){var o=hn();return bm(o,i,s)},useTransition:function(){var i=gm(!1);return i=v_.bind(null,De,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=De,m=hn();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(Le&127)!==0||Yv(u,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,u_(Qv.bind(null,u,g,i),[i]),u.flags|=2048,To(9,{destroy:void 0},Kv.bind(null,u,g,o,s),null),o},useId:function(){var i=hn(),s=it.identifierPrefix;if(Be){var o=Ki,u=Yi;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=id++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=SA++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Em,useFormState:r_,useActionState:r_,useOptimistic:function(i){var s=hn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Tm.bind(null,De,!0,o),o.dispatch=s,[i,s]},useMemoCache:fm,useCacheRefresh:function(){return hn().memoizedState=NA.bind(null,De)},useEffectEvent:function(i){var s=hn(),o={impl:i};return s.memoizedState=o,function(){if((Ye&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Sm={readContext:Xt,use:sd,useCallback:p_,useContext:Xt,useEffect:vm,useImperativeHandle:m_,useInsertionEffect:d_,useLayoutEffect:h_,useMemo:g_,useReducer:ad,useRef:l_,useState:function(){return ad(vr)},useDebugValue:_m,useDeferredValue:function(i,s){var o=St();return y_(o,et.memoizedState,i,s)},useTransition:function(){var i=ad(vr)[0],s=St().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:$v,useId:w_,useHostTransitionStatus:Em,useFormState:s_,useActionState:s_,useOptimistic:function(i,s){var o=St();return Jv(o,et,i,s)},useMemoCache:fm,useCacheRefresh:E_};Sm.useEffectEvent=c_;var C_={readContext:Xt,use:sd,useCallback:p_,useContext:Xt,useEffect:vm,useImperativeHandle:m_,useInsertionEffect:d_,useLayoutEffect:h_,useMemo:g_,useReducer:pm,useRef:l_,useState:function(){return pm(vr)},useDebugValue:_m,useDeferredValue:function(i,s){var o=St();return et===null?bm(o,i,s):y_(o,et.memoizedState,i,s)},useTransition:function(){var i=pm(vr)[0],s=St().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:$v,useId:w_,useHostTransitionStatus:Em,useFormState:o_,useActionState:o_,useOptimistic:function(i,s){var o=St();return et!==null?Jv(o,et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:fm,useCacheRefresh:E_};C_.useEffectEvent=c_;function xm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Am={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=zn(),m=ss(u);m.payload=s,o!=null&&(m.callback=o),s=as(i,m,u),s!==null&&(Sn(s,i,u),$l(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=zn(),m=ss(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=as(i,m,u),s!==null&&(Sn(s,i,u),$l(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=zn(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(i,u,o),s!==null&&(Sn(s,i,o),$l(s,i,o))}};function R_(i,s,o,u,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,w):s.prototype&&s.prototype.isPureReactComponent?!Vl(o,u)||!Vl(m,g):!0}function I_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Am.enqueueReplaceState(s,s.state,null)}function Ta(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function N_(i){Bc(i)}function O_(i){console.error(i)}function D_(i){Bc(i)}function cd(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function M_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Cm(i,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){cd(i,s)},o}function k_(i){return i=ss(i),i.tag=3,i}function P_(i,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){M_(s,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){M_(s,o,u),typeof m!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function DA(i,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&po(s,o,m,!0),o=Ln.current,o!==null){switch(o.tag){case 31:case 13:return ni===null?Ed():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Wc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Jm(i,u,m)),!1;case 22:return o.flags|=65536,u===Wc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Jm(i,u,m)),!1}throw Error(r(435,o.tag))}return Jm(i,u,m),Ed(),!1}if(Be)return s=Ln.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==$f&&(i=Error(r(422),{cause:u}),Bl(Jn(i,o)))):(u!==$f&&(s=Error(r(423),{cause:u}),Bl(Jn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Jn(u,o),m=Cm(i.stateNode,u,m),im(i,m),_t!==4&&(_t=2)),!1;var g=Error(r(520),{cause:u});if(g=Jn(g,o),au===null?au=[g]:au.push(g),_t!==4&&(_t=2),s===null)return!0;u=Jn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Cm(o.stateNode,u,i),im(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hs===null||!hs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=k_(m),P_(m,i,o,u),im(o,m),!1}o=o.return}while(o!==null);return!1}var Rm=Error(r(461)),Mt=!1;function Wt(i,s,o,u){s.child=i===null?Uv(s,null,o,u):wa(s,i.child,o,u)}function L_(i,s,o,u,m){o=o.render;var g=s.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return ya(s),u=um(i,s,o,w,g,m),A=cm(),i!==null&&!Mt?(dm(i,s,m),_r(i,s,m)):(Be&&A&&Hf(s),s.flags|=1,Wt(i,s,u,m),s.child)}function j_(i,s,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!Bf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,V_(i,s,g,u,m)):(i=Gc(o.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Lm(i,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:Vl,o(w,u)&&i.ref===s.ref)return _r(i,s,m)}return s.flags|=1,i=fr(g,u),i.ref=s.ref,i.return=s,s.child=i}function V_(i,s,o,u,m){if(i!==null){var g=i.memoizedProps;if(Vl(g,u)&&i.ref===s.ref)if(Mt=!1,s.pendingProps=u=g,Lm(i,m))(i.flags&131072)!==0&&(Mt=!0);else return s.lanes=i.lanes,_r(i,s,m)}return Im(i,s,o,u,m)}function U_(i,s,o,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=s.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,s.child=null;return z_(i,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qc(s,g!==null?g.cachePool:null),g!==null?Fv(s,g):sm(),qv(s);else return u=s.lanes=536870912,z_(i,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Qc(s,g.cachePool),Fv(s,g),ls(),s.memoizedState=null):(i!==null&&Qc(s,null),sm(),ls());return Wt(i,s,m,o),s.child}function Zl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function z_(i,s,o,u,m){var g=Zf();return g=g===null?null:{parent:Ot._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Qc(s,null),sm(),qv(s),i!==null&&po(i,s,u,!0),s.childLanes=m,null}function dd(i,s){return s=fd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function B_(i,s,o){return wa(s,i.child,null,o),i=dd(s,s.pendingProps),i.flags|=2,jn(s),s.memoizedState=null,i}function MA(i,s,o){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=dd(s,u),s.lanes=536870912,Zl(null,i);if(om(s),(i=lt)?(i=Z0(i,ti),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:es!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=Sv(i),o.return=s,s.child=o,Qt=s,lt=null)):i=null,i===null)throw ns(s);return s.lanes=536870912,null}return dd(s,u)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(om(s),m)if(s.flags&256)s.flags&=-257,s=B_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Mt||po(i,s,o,!1),m=(o&i.childLanes)!==0,Mt||m){if(u=it,u!==null&&(w=bl(u,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,fa(i,w),Sn(u,i,w),Rm;Ed(),s=B_(i,s,o)}else i=g.treeContext,lt=ii(w.nextSibling),Qt=s,Be=!0,ts=null,ti=!1,i!==null&&Cv(s,i),s=dd(s,u),s.flags|=4096;return s}return i=fr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function hd(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Im(i,s,o,u,m){return ya(s),o=um(i,s,o,u,void 0,m),u=cm(),i!==null&&!Mt?(dm(i,s,m),_r(i,s,m)):(Be&&u&&Hf(s),s.flags|=1,Wt(i,s,o,m),s.child)}function F_(i,s,o,u,m,g){return ya(s),s.updateQueue=null,o=Gv(s,u,o,m),Hv(i),u=cm(),i!==null&&!Mt?(dm(i,s,g),_r(i,s,g)):(Be&&u&&Hf(s),s.flags|=1,Wt(i,s,o,g),s.child)}function q_(i,s,o,u,m){if(ya(s),s.stateNode===null){var g=co,w=o.contextType;typeof w=="object"&&w!==null&&(g=Xt(w)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Am,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},tm(s),w=o.contextType,g.context=typeof w=="object"&&w!==null?Xt(w):co,g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(xm(s,o,w,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Am.enqueueReplaceState(g,g.state,null),Kl(s,u,g,m),Yl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,V=Ta(o,A);g.props=V;var Q=g.context,ie=o.contextType;w=co,typeof ie=="object"&&ie!==null&&(w=Xt(ie));var oe=o.getDerivedStateFromProps;ie=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Q!==w)&&I_(s,g,u,w),rs=!1;var W=s.memoizedState;g.state=W,Kl(s,u,g,m),Yl(),Q=s.memoizedState,A||W!==Q||rs?(typeof oe=="function"&&(xm(s,o,oe,u),Q=s.memoizedState),(V=rs||R_(s,o,V,u,W,Q,w))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=w,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,nm(i,s),w=s.memoizedProps,ie=Ta(o,w),g.props=ie,oe=s.pendingProps,W=g.context,Q=o.contextType,V=co,typeof Q=="object"&&Q!==null&&(V=Xt(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==oe||W!==V)&&I_(s,g,u,V),rs=!1,W=s.memoizedState,g.state=W,Kl(s,u,g,m),Yl();var te=s.memoizedState;w!==oe||W!==te||rs||i!==null&&i.dependencies!==null&&Yc(i.dependencies)?(typeof A=="function"&&(xm(s,o,A,u),te=s.memoizedState),(ie=rs||R_(s,o,ie,u,W,te,V)||i!==null&&i.dependencies!==null&&Yc(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),g.props=u,g.state=te,g.context=V,u=ie):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,hd(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=wa(s,i.child,null,m),s.child=wa(s,null,o,m)):Wt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=_r(i,s,m),i}function H_(i,s,o,u){return pa(),s.flags|=256,Wt(i,s,o,u),s.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(i){return{baseLanes:i,cachePool:Mv()}}function Dm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Un),i}function G_(i,s,o){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Be){if(m?os(s):ls(),(i=lt)?(i=Z0(i,ti),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:es!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=Sv(i),o.return=s,s.child=o,Qt=s,lt=null)):i=null,i===null)throw ns(s);return mp(i)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(ls(),m=s.mode,A=fd({mode:"hidden",children:A},m),u=ma(u,m,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=Om(o),u.childLanes=Dm(i,w,o),s.memoizedState=Nm,Zl(null,u)):(os(s),Mm(s,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(g)s.flags&256?(os(s),s.flags&=-257,s=km(i,s,o)):s.memoizedState!==null?(ls(),s.child=i.child,s.flags|=128,s=null):(ls(),A=u.fallback,m=s.mode,u=fd({mode:"visible",children:u.children},m),A=ma(A,m,o,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,wa(s,i.child,null,o),u=s.child,u.memoizedState=Om(o),u.childLanes=Dm(i,w,o),s.memoizedState=Nm,s=Zl(null,u));else if(os(s),mp(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var Q=w.dgst;w=Q,u=Error(r(419)),u.stack="",u.digest=w,Bl({value:u,source:null,stack:null}),s=km(i,s,o)}else if(Mt||po(i,s,o,!1),w=(o&i.childLanes)!==0,Mt||w){if(w=it,w!==null&&(u=bl(w,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,fa(i,u),Sn(w,i,u),Rm;fp(A)||Ed(),s=km(i,s,o)}else fp(A)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,lt=ii(A.nextSibling),Qt=s,Be=!0,ts=null,ti=!1,i!==null&&Cv(s,i),s=Mm(s,u.children),s.flags|=4096);return s}return m?(ls(),A=u.fallback,m=s.mode,V=i.child,Q=V.sibling,u=fr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Q!==null?A=fr(Q,A):(A=ma(A,m,o,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,Zl(null,u),u=s.child,A=i.child.memoizedState,A===null?A=Om(o):(m=A.cachePool,m!==null?(V=Ot._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=Mv(),A={baseLanes:A.baseLanes|o,cachePool:m}),u.memoizedState=A,u.childLanes=Dm(i,w,o),s.memoizedState=Nm,Zl(i.child,u)):(os(s),o=i.child,i=o.sibling,o=fr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function Mm(i,s){return s=fd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function fd(i,s){return i=Pn(22,i,null,s),i.lanes=0,i}function km(i,s,o){return wa(s,i.child,null,o),i=Mm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function $_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Qf(i.return,s,o)}function Pm(i,s,o,u,m,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function Y_(i,s,o){var u=s.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var w=Tt.current,A=(w&2)!==0;if(A?(w=w&1|2,s.flags|=128):w&=1,he(Tt,w),Wt(i,s,u,o),u=Be?zl:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$_(i,o,s);else if(i.tag===19)$_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&td(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Pm(s,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&td(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Pm(s,!0,o,null,g,u);break;case"together":Pm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function _r(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ds|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(po(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=fr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=fr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Lm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Yc(i)))}function kA(i,s,o){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),is(s,Ot,i.memoizedState.cache),pa();break;case 27:case 5:yt(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,om(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?G_(i,s,o):(os(s),i=_r(i,s,o),i!==null?i.sibling:null);os(s);break;case 19:var m=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(po(i,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return Y_(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(Tt,Tt.current),u)break;return null;case 22:return s.lanes=0,U_(i,s,o,s.pendingProps);case 24:is(s,Ot,i.memoizedState.cache)}return _r(i,s,o)}function K_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Mt=!0;else{if(!Lm(i,o)&&(s.flags&128)===0)return Mt=!1,kA(i,s,o);Mt=(i.flags&131072)!==0}else Mt=!1,Be&&(s.flags&1048576)!==0&&Av(s,zl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=_a(s.elementType),s.type=i,typeof i=="function")Bf(i)?(u=Ta(i,u),s.tag=1,s=q_(null,s,i,u,o)):(s.tag=0,s=Im(null,s,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===X){s.tag=11,s=L_(null,s,i,u,o);break e}else if(m===D){s.tag=14,s=j_(null,s,i,u,o);break e}}throw s=de(i)||i,Error(r(306,s,""))}}return s;case 0:return Im(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=Ta(u,s.pendingProps),q_(i,s,u,m,o);case 3:e:{if(ot(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;m=g.element,nm(i,s),Kl(s,u,null,o);var w=s.memoizedState;if(u=w.cache,is(s,Ot,u),u!==g.cache&&Xf(s,[Ot],o,!0),Yl(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=H_(i,s,u,o);break e}else if(u!==m){m=Jn(Error(r(424)),s),Bl(m),s=H_(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(lt=ii(i.firstChild),Qt=s,Be=!0,ts=null,ti=!0,o=Uv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(pa(),u===m){s=_r(i,s,o);break e}Wt(i,s,u,o)}s=s.child}return s;case 26:return hd(i,s),i===null?(o=sb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Be||(o=s.type,i=s.pendingProps,u=Id(Ae.current).createElement(o),u[Rt]=s,u[qt]=i,Jt(u,o,i),It(u),s.stateNode=u):s.memoizedState=sb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return yt(s),i===null&&Be&&(u=s.stateNode=nb(s.type,s.pendingProps,Ae.current),Qt=s,ti=!0,m=lt,gs(s.type)?(pp=m,lt=ii(u.firstChild)):lt=m),Wt(i,s,s.pendingProps.children,o),hd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Be&&((m=u=lt)&&(u=cC(u,s.type,s.pendingProps,ti),u!==null?(s.stateNode=u,Qt=s,lt=ii(u.firstChild),ti=!1,m=!0):m=!1),m||ns(s)),yt(s),m=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,u=g.children,cp(m,g)?u=null:w!==null&&cp(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=um(i,s,xA,null,null,o),mu._currentValue=m),hd(i,s),Wt(i,s,u,o),s.child;case 6:return i===null&&Be&&((i=o=lt)&&(o=dC(o,s.pendingProps,ti),o!==null?(s.stateNode=o,Qt=s,lt=null,i=!0):i=!1),i||ns(s)),null;case 13:return G_(i,s,o);case 4:return ot(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=wa(s,null,u,o):Wt(i,s,u,o),s.child;case 11:return L_(i,s,s.type,s.pendingProps,o);case 7:return Wt(i,s,s.pendingProps,o),s.child;case 8:return Wt(i,s,s.pendingProps.children,o),s.child;case 12:return Wt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,is(s,s.type,u.value),Wt(i,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,ya(s),m=Xt(m),u=u(m),s.flags|=1,Wt(i,s,u,o),s.child;case 14:return j_(i,s,s.type,s.pendingProps,o);case 15:return V_(i,s,s.type,s.pendingProps,o);case 19:return Y_(i,s,o);case 31:return MA(i,s,o);case 22:return U_(i,s,o,s.pendingProps);case 24:return ya(s),u=Xt(Ot),i===null?(m=Zf(),m===null&&(m=it,g=Wf(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:u,cache:m},tm(s),is(s,Ot,m)):((i.lanes&o)!==0&&(nm(i,s),Kl(s,null,null,o),Yl()),m=i.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),is(s,Ot,u)):(u=g.cache,is(s,Ot,u),u!==m.cache&&Xf(s,[Ot],o,!0))),Wt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function br(i){i.flags|=4}function jm(i,s,o,u,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(w0())i.flags|=8192;else throw ba=Wc,em}else i.flags&=-16777217}function Q_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!cb(s))if(w0())i.flags|=8192;else throw ba=Wc,em}function md(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?bc():536870912,i.lanes|=s,Co|=s)}function eu(i,s){if(!Be)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ut(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function PA(i,s,o){var u=s.pendingProps;switch(Gf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),gr(Ot),qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(mo(s)?br(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yf())),ut(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(br(s),g!==null?(ut(s),Q_(s,g)):(ut(s),jm(s,m,null,u,o))):g?g!==i.memoizedState?(br(s),ut(s),Q_(s,g)):(ut(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&br(s),ut(s),jm(s,m,i,u,o)),null;case 27:if(un(s),o=Ae.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&br(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ut(s),null}i=me.current,mo(s)?Rv(s):(i=nb(m,u,o),s.stateNode=i,br(s))}return ut(s),null;case 5:if(un(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&br(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(g=me.current,mo(s))Rv(s);else{var w=Id(Ae.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}g[Rt]=s,g[qt]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=g;e:switch(Jt(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&br(s)}}return ut(s),jm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&br(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ae.current,mo(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[Rt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||G0(i.nodeValue,o)),i||ns(s,!0)}else i=Id(i).createTextNode(u),i[Rt]=s,s.stateNode=i}return ut(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=mo(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Rt]=s}else pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),i=!1}else o=Yf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(jn(s),s):(jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ut(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=mo(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Rt]=s}else pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),m=!1}else m=Yf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(jn(s),s):(jn(s),null)}return jn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),md(s,s.updateQueue),ut(s),null);case 4:return qe(),i===null&&sp(s.stateNode.containerInfo),ut(s),null;case 10:return gr(s.type),ut(s),null;case 19:if(ne(Tt),u=s.memoizedState,u===null)return ut(s),null;if(m=(s.flags&128)!==0,g=u.rendering,g===null)if(m)eu(u,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=td(i),g!==null){for(s.flags|=128,eu(u,!1),i=g.updateQueue,s.updateQueue=i,md(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Tv(o,i),o=o.sibling;return he(Tt,Tt.current&1|2),Be&&mr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&cn()>_d&&(s.flags|=128,m=!0,eu(u,!1),s.lanes=4194304)}else{if(!m)if(i=td(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,md(s,i),eu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Be)return ut(s),null}else 2*cn()-u.renderingStartTime>_d&&o!==536870912&&(s.flags|=128,m=!0,eu(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=Tt.current,he(Tt,m?o&1|2:o&1),Be&&mr(s,u.treeForkCount),i):(ut(s),null);case 22:case 23:return jn(s),am(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),o=s.updateQueue,o!==null&&md(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ne(va),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),gr(Ot),ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function LA(i,s){switch(Gf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return gr(Ot),qe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return un(s),null;case 31:if(s.memoizedState!==null){if(jn(s),s.alternate===null)throw Error(r(340));pa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(jn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));pa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ne(Tt),null;case 4:return qe(),null;case 10:return gr(s.type),null;case 22:case 23:return jn(s),am(),i!==null&&ne(va),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return gr(Ot),null;case 25:return null;default:return null}}function X_(i,s){switch(Gf(s),s.tag){case 3:gr(Ot),qe();break;case 26:case 27:case 5:un(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&jn(s);break;case 13:jn(s);break;case 19:ne(Tt);break;case 10:gr(s.type);break;case 22:case 23:jn(s),am(),i!==null&&ne(va);break;case 24:gr(Ot)}}function tu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,w=o.inst;u=g(),w.destroy=u}o=o.next}while(o!==m)}}catch(A){Je(s,s.return,A)}}function us(i,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=s;var V=o,Q=A;try{Q()}catch(ie){Je(m,V,ie)}}}u=u.next}while(u!==g)}}catch(ie){Je(s,s.return,ie)}}function W_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Bv(s,o)}catch(u){Je(i,i.return,u)}}}function J_(i,s,o){o.props=Ta(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,s,u)}}function nu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){Je(i,s,m)}}function Qi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Je(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,s,m)}else o.current=null}function Z_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function Vm(i,s,o){try{var u=i.stateNode;rC(u,i.type,o,s),u[qt]=s}catch(m){Je(i,i.return,m)}}function e0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gs(i.type)||i.tag===4}function Um(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||e0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=yi));else if(u!==4&&(u===27&&gs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(zm(i,s,o),i=i.sibling;i!==null;)zm(i,s,o),i=i.sibling}function pd(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&gs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(pd(i,s,o),i=i.sibling;i!==null;)pd(i,s,o),i=i.sibling}function t0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Jt(s,u,o),s[Rt]=i,s[qt]=o}catch(g){Je(i,i.return,g)}}var wr=!1,kt=!1,Bm=!1,n0=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function jA(i,s){if(i=i.containerInfo,lp=Ld,i=mv(i),kf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,V=-1,Q=0,ie=0,oe=i,W=null;t:for(;;){for(var te;oe!==o||m!==0&&oe.nodeType!==3||(A=w+m),oe!==g||u!==0&&oe.nodeType!==3||(V=w+u),oe.nodeType===3&&(w+=oe.nodeValue.length),(te=oe.firstChild)!==null;)W=oe,oe=te;for(;;){if(oe===i)break t;if(W===o&&++Q===m&&(A=w),W===g&&++ie===u&&(V=w),(te=oe.nextSibling)!==null)break;oe=W,W=oe.parentNode}oe=te}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(up={focusedElem:i,selectionRange:o},Ld=!1,Gt=s;Gt!==null;)if(s=Gt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Gt=i;else for(;Gt!==null;){switch(s=Gt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ve=Ta(o.type,m);i=u.getSnapshotBeforeUpdate(ve,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Je(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)hp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Gt=i;break}Gt=s.return}}function i0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(i,o),u&4&&tu(5,o);break;case 1:if(Tr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){Je(o,o.return,w)}else{var m=Ta(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Je(o,o.return,w)}}u&64&&W_(o),u&512&&nu(o,o.return);break;case 3:if(Tr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Bv(i,s)}catch(w){Je(o,o.return,w)}}break;case 27:s===null&&u&4&&t0(o);case 26:case 5:Tr(i,o),s===null&&u&4&&Z_(o),u&512&&nu(o,o.return);break;case 12:Tr(i,o);break;case 31:Tr(i,o),u&4&&a0(i,o);break;case 13:Tr(i,o),u&4&&o0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=$A.bind(null,o),hC(i,o))));break;case 22:if(u=o.memoizedState!==null||wr,!u){s=s!==null&&s.memoizedState!==null||kt,m=wr;var g=kt;wr=u,(kt=s)&&!g?Sr(i,o,(o.subtreeFlags&8772)!==0):Tr(i,o),wr=m,kt=g}break;case 30:break;default:Tr(i,o)}}function r0(i){var s=i.alternate;s!==null&&(i.alternate=null,r0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Xa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,bn=!1;function Er(i,s,o){for(o=o.child;o!==null;)s0(i,s,o),o=o.sibling}function s0(i,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 26:kt||Qi(o,s),Er(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Qi(o,s);var u=ft,m=bn;gs(o.type)&&(ft=o.stateNode,bn=!1),Er(i,s,o),du(o.stateNode),ft=u,bn=m;break;case 5:kt||Qi(o,s);case 6:if(u=ft,m=bn,ft=null,Er(i,s,o),ft=u,bn=m,ft!==null)if(bn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){Je(o,s,g)}else try{ft.removeChild(o.stateNode)}catch(g){Je(o,s,g)}break;case 18:ft!==null&&(bn?(i=ft,W0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Po(i)):W0(ft,o.stateNode));break;case 4:u=ft,m=bn,ft=o.stateNode.containerInfo,bn=!0,Er(i,s,o),ft=u,bn=m;break;case 0:case 11:case 14:case 15:us(2,o,s),kt||us(4,o,s),Er(i,s,o);break;case 1:kt||(Qi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&J_(o,s,u)),Er(i,s,o);break;case 21:Er(i,s,o);break;case 22:kt=(u=kt)||o.memoizedState!==null,Er(i,s,o),kt=u;break;default:Er(i,s,o)}}function a0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Po(i)}catch(o){Je(s,s.return,o)}}}function o0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Po(i)}catch(o){Je(s,s.return,o)}}function VA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new n0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new n0),s;default:throw Error(r(435,i.tag))}}function gd(i,s){var o=VA(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var m=YA.bind(null,i,u);u.then(m,m)}})}function wn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(gs(A.type)){ft=A.stateNode,bn=!1;break e}break;case 5:ft=A.stateNode,bn=!1;break e;case 3:case 4:ft=A.stateNode.containerInfo,bn=!0;break e}A=A.return}if(ft===null)throw Error(r(160));s0(g,w,m),ft=null,bn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)l0(s,i),s=s.sibling}var Ti=null;function l0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(s,i),En(i),u&4&&(us(3,i,i.return),tu(3,i),us(5,i,i.return));break;case 1:wn(s,i),En(i),u&512&&(kt||o===null||Qi(o,o.return)),u&64&&wr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ti;if(wn(s,i),En(i),u&512&&(kt||o===null||Qi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Pi]||g[Rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Jt(g,u,o),g[Rt]=i,It(g),u=g;break e;case"link":var w=lb("link","href",m).get(u+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=m.createElement(u),Jt(g,u,o),m.head.appendChild(g);break;case"meta":if(w=lb("meta","content",m).get(u+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=m.createElement(u),Jt(g,u,o),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[Rt]=i,It(g),u=g}i.stateNode=u}else ub(m,i.type,i.stateNode);else i.stateNode=ob(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ub(m,i.type,i.stateNode):ob(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Vm(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(s,i),En(i),u&512&&(kt||o===null||Qi(o,o.return)),o!==null&&u&4&&Vm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(s,i),En(i),u&512&&(kt||o===null||Qi(o,o.return)),i.flags&32){m=i.stateNode;try{_n(m,"")}catch(ve){Je(i,i.return,ve)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Vm(i,m,o!==null?o.memoizedProps:m)),u&1024&&(Bm=!0);break;case 6:if(wn(s,i),En(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ve){Je(i,i.return,ve)}}break;case 3:if(Dd=null,m=Ti,Ti=Nd(s.containerInfo),wn(s,i),Ti=m,En(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(s.containerInfo)}catch(ve){Je(i,i.return,ve)}Bm&&(Bm=!1,u0(i));break;case 4:u=Ti,Ti=Nd(i.stateNode.containerInfo),wn(s,i),En(i),Ti=u;break;case 12:wn(s,i),En(i);break;case 31:wn(s,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,gd(i,u)));break;case 13:wn(s,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vd=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,gd(i,u)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=wr,ie=kt;if(wr=Q||m,kt=ie||V,wn(s,i),kt=ie,wr=Q,En(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||V||wr||kt||Sa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=V.stateNode;var oe=V.memoizedProps.style,W=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ve){Je(V,V.return,ve)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ve){Je(V,V.return,ve)}}}else if(s.tag===18){if(o===null){V=s;try{var te=V.stateNode;m?J0(te,!0):J0(V.stateNode,!1)}catch(ve){Je(V,V.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,gd(i,o))));break;case 19:wn(s,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,gd(i,u)));break;case 30:break;case 21:break;default:wn(s,i),En(i)}}function En(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(e0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=Um(i);pd(i,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(_n(w,""),o.flags&=-33);var A=Um(i);pd(i,A,w);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=Um(i);zm(i,Q,V);break;default:throw Error(r(161))}}catch(ie){Je(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function u0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;u0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)i0(i,s.alternate,s),s=s.sibling}function Sa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),Sa(s);break;case 1:Qi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&J_(s,s.return,o),Sa(s);break;case 27:du(s.stateNode);case 26:case 5:Qi(s,s.return),Sa(s);break;case 22:s.memoizedState===null&&Sa(s);break;case 30:Sa(s);break;default:Sa(s)}i=i.sibling}}function Sr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:Sr(m,g,o),tu(4,g);break;case 1:if(Sr(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Je(u,u.return,Q)}if(u=g,m=u.updateQueue,m!==null){var A=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)zv(V[m],A)}catch(Q){Je(u,u.return,Q)}}o&&w&64&&W_(g),nu(g,g.return);break;case 27:t0(g);case 26:case 5:Sr(m,g,o),o&&u===null&&w&4&&Z_(g),nu(g,g.return);break;case 12:Sr(m,g,o);break;case 31:Sr(m,g,o),o&&w&4&&a0(m,g);break;case 13:Sr(m,g,o),o&&w&4&&o0(m,g);break;case 22:g.memoizedState===null&&Sr(m,g,o),nu(g,g.return);break;case 30:break;default:Sr(m,g,o)}s=s.sibling}}function Fm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Fl(o))}function qm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fl(i))}function Si(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)c0(i,s,o,u),s=s.sibling}function c0(i,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Si(i,s,o,u),m&2048&&tu(9,s);break;case 1:Si(i,s,o,u);break;case 3:Si(i,s,o,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fl(i)));break;case 12:if(m&2048){Si(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Je(s,s.return,V)}}else Si(i,s,o,u);break;case 31:Si(i,s,o,u);break;case 13:Si(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?Si(i,s,o,u):iu(i,s):g._visibility&2?Si(i,s,o,u):(g._visibility|=2,So(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Fm(w,s);break;case 24:Si(i,s,o,u),m&2048&&qm(s.alternate,s);break;default:Si(i,s,o,u)}}function So(i,s,o,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,w=s,A=o,V=u,Q=w.flags;switch(w.tag){case 0:case 11:case 15:So(g,w,A,V,m),tu(8,w);break;case 23:break;case 22:var ie=w.stateNode;w.memoizedState!==null?ie._visibility&2?So(g,w,A,V,m):iu(g,w):(ie._visibility|=2,So(g,w,A,V,m)),m&&Q&2048&&Fm(w.alternate,w);break;case 24:So(g,w,A,V,m),m&&Q&2048&&qm(w.alternate,w);break;default:So(g,w,A,V,m)}s=s.sibling}}function iu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,m=u.flags;switch(u.tag){case 22:iu(o,u),m&2048&&Fm(u.alternate,u);break;case 24:iu(o,u),m&2048&&qm(u.alternate,u);break;default:iu(o,u)}s=s.sibling}}var ru=8192;function xo(i,s,o){if(i.subtreeFlags&ru)for(i=i.child;i!==null;)d0(i,s,o),i=i.sibling}function d0(i,s,o){switch(i.tag){case 26:xo(i,s,o),i.flags&ru&&i.memoizedState!==null&&SC(o,Ti,i.memoizedState,i.memoizedProps);break;case 5:xo(i,s,o);break;case 3:case 4:var u=Ti;Ti=Nd(i.stateNode.containerInfo),xo(i,s,o),Ti=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=ru,ru=16777216,xo(i,s,o),ru=u):xo(i,s,o));break;default:xo(i,s,o)}}function h0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function su(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,m0(u,i)}h0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f0(i),i=i.sibling}function f0(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&us(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,yd(i)):su(i);break;default:su(i)}}function yd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,m0(u,i)}h0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:us(8,s,s.return),yd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,yd(s));break;default:yd(s)}i=i.sibling}}function m0(i,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=i;Gt!==null;){u=Gt;var m=u.sibling,g=u.return;if(r0(u),u===o){Gt=null;break e}if(m!==null){m.return=g,Gt=m;break e}Gt=g}}}var UA={getCacheForType:function(i){var s=Xt(Ot),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Xt(Ot).controller.signal}},zA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,ke=null,Le=0,We=0,Vn=null,cs=!1,Ao=!1,Hm=!1,xr=0,_t=0,ds=0,xa=0,Gm=0,Un=0,Co=0,au=null,Tn=null,$m=!1,vd=0,p0=0,_d=1/0,bd=null,hs=null,zt=0,fs=null,Ro=null,Ar=0,Ym=0,Km=null,g0=null,ou=0,Qm=null;function zn(){return(Ye&2)!==0&&Le!==0?Le&-Le:q.T!==null?tp():wc()}function y0(){if(Un===0)if((Le&536870912)===0||Be){var i=Js;Js<<=1,(Js&3932160)===0&&(Js=262144),Un=i}else Un=536870912;return i=Ln.current,i!==null&&(i.flags|=32),Un}function Sn(i,s,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Io(i,0),ms(i,Le,Un,!1)),Zs(i,o),((Ye&2)===0||i!==it)&&(i===it&&((Ye&2)===0&&(xa|=o),_t===4&&ms(i,Le,Un,!1)),Xi(i))}function v0(i,s,o){if((Ye&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||mi(i,s),m=u?qA(i,s):Wm(i,s,!0),g=u;do{if(m===0){Ao&&!u&&ms(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!BA(o)){m=Wm(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var A=i;m=au;var V=A.current.memoizedState.isDehydrated;if(V&&(Io(A,w).flags|=256),w=Wm(A,w,!1),w!==2){if(Hm&&!V){A.errorRecoveryDisabledLanes|=g,xa|=g,m=4;break e}g=Tn,Tn=m,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){Io(i,0),ms(i,s,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ms(u,s,Un,!cs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=vd+300-cn(),10<m)){if(ms(u,s,Un,!cs),Di(u,0,!0)!==0)break e;Ar=s,u.timeoutHandle=Q0(_0.bind(null,u,o,Tn,bd,$m,s,Un,xa,Co,cs,g,"Throttled",-0,0),m);break e}_0(u,o,Tn,bd,$m,s,Un,xa,Co,cs,g,null,-0,0)}}break}while(!0);Xi(i)}function _0(i,s,o,u,m,g,w,A,V,Q,ie,oe,W,te){if(i.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},d0(s,g,oe);var ve=(g&62914560)===g?vd-cn():(g&4194048)===g?p0-cn():0;if(ve=xC(oe,ve),ve!==null){Ar=g,i.cancelPendingCommit=ve(C0.bind(null,i,s,g,o,u,m,w,A,V,ie,oe,null,W,te)),ms(i,g,w,!Q);return}}C0(i,s,g,o,u,m,w,A,V)}function BA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!kn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ms(i,s,o,u){s&=~Gm,s&=~xa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var g=31-wt(m),w=1<<g;u[g]=-1,m&=~w}o!==0&&ea(i,o,s)}function wd(){return(Ye&6)===0?(lu(0),!1):!0}function Xm(){if(ke!==null){if(We===0)var i=ke.return;else i=ke,pr=ga=null,hm(i),_o=null,Hl=0,i=ke;for(;i!==null;)X_(i.alternate,i),i=i.return;ke=null}}function Io(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,oC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Ar=0,Xm(),it=i,ke=o=fr(i.current,null),Le=s,We=0,Vn=null,cs=!1,Ao=mi(i,s),Hm=!1,Co=Un=Gm=xa=ds=_t=0,Tn=au=null,$m=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-wt(u),g=1<<m;s|=i[m],u&=~g}return xr=s,Fc(),o}function b0(i,s){De=null,q.H=Jl,s===vo||s===Xc?(s=Lv(),We=3):s===em?(s=Lv(),We=4):We=s===Rm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,ke===null&&(_t=1,cd(i,Jn(s,i.current)))}function w0(){var i=Ln.current;return i===null?!0:(Le&4194048)===Le?ni===null:(Le&62914560)===Le||(Le&536870912)!==0?i===ni:!1}function E0(){var i=q.H;return q.H=Jl,i===null?Jl:i}function T0(){var i=q.A;return q.A=UA,i}function Ed(){_t=4,cs||(Le&4194048)!==Le&&Ln.current!==null||(Ao=!0),(ds&134217727)===0&&(xa&134217727)===0||it===null||ms(it,Le,Un,!1)}function Wm(i,s,o){var u=Ye;Ye|=2;var m=E0(),g=T0();(it!==i||Le!==s)&&(bd=null,Io(i,s)),s=!1;var w=_t;e:do try{if(We!==0&&ke!==null){var A=ke,V=Vn;switch(We){case 8:Xm(),w=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(s=!0);var Q=We;if(We=0,Vn=null,No(i,A,V,Q),o&&Ao){w=0;break e}break;default:Q=We,We=0,Vn=null,No(i,A,V,Q)}}FA(),w=_t;break}catch(ie){b0(i,ie)}while(!0);return s&&i.shellSuspendCounter++,pr=ga=null,Ye=u,q.H=m,q.A=g,ke===null&&(it=null,Le=0,Fc()),w}function FA(){for(;ke!==null;)S0(ke)}function qA(i,s){var o=Ye;Ye|=2;var u=E0(),m=T0();it!==i||Le!==s?(bd=null,_d=cn()+500,Io(i,s)):Ao=mi(i,s);e:do try{if(We!==0&&ke!==null){s=ke;var g=Vn;t:switch(We){case 1:We=0,Vn=null,No(i,s,g,1);break;case 2:case 9:if(kv(g)){We=0,Vn=null,x0(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),Xi(i)},g.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:kv(g)?(We=0,Vn=null,x0(s)):(We=0,Vn=null,No(i,s,g,7));break;case 5:var w=null;switch(ke.tag){case 26:w=ke.memoizedState;case 5:case 27:var A=ke;if(w?cb(w):A.stateNode.complete){We=0,Vn=null;var V=A.sibling;if(V!==null)ke=V;else{var Q=A.return;Q!==null?(ke=Q,Td(Q)):ke=null}break t}}We=0,Vn=null,No(i,s,g,5);break;case 6:We=0,Vn=null,No(i,s,g,6);break;case 8:Xm(),_t=6;break e;default:throw Error(r(462))}}HA();break}catch(ie){b0(i,ie)}while(!0);return pr=ga=null,q.H=u,q.A=m,Ye=o,ke!==null?0:(it=null,Le=0,Fc(),_t)}function HA(){for(;ke!==null&&!Cf();)S0(ke)}function S0(i){var s=K_(i.alternate,i,xr);i.memoizedProps=i.pendingProps,s===null?Td(i):ke=s}function x0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=F_(o,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=F_(o,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:hm(s);default:X_(o,s),s=ke=Tv(s,xr),s=K_(o,s,xr)}i.memoizedProps=i.pendingProps,s===null?Td(i):ke=s}function No(i,s,o,u){pr=ga=null,hm(s),_o=null,Hl=0;var m=s.return;try{if(DA(i,m,s,o,Le)){_t=1,cd(i,Jn(o,i.current)),ke=null;return}}catch(g){if(m!==null)throw ke=m,g;_t=1,cd(i,Jn(o,i.current)),ke=null;return}s.flags&32768?(Be||u===1?i=!0:Ao||(Le&536870912)!==0?i=!1:(cs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),A0(s,i)):Td(s)}function Td(i){var s=i;do{if((s.flags&32768)!==0){A0(s,cs);return}i=s.return;var o=PA(s.alternate,s,xr);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=i}while(s!==null);_t===0&&(_t=5)}function A0(i,s){do{var o=LA(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);_t=6,ke=null}function C0(i,s,o,u,m,g,w,A,V){i.cancelPendingCommit=null;do Sd();while(zt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Uf,Nf(i,o,g,w,A,V),i===it&&(ke=it=null,Le=0),Ro=s,fs=i,Ar=o,Ym=g,Km=m,g0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,KA(Hr,function(){return D0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,m=J.p,J.p=2,w=Ye,Ye|=4;try{jA(i,s,o)}finally{Ye=w,J.p=m,q.T=u}}zt=1,R0(),I0(),N0()}}function R0(){if(zt===1){zt=0;var i=fs,s=Ro,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var u=J.p;J.p=2;var m=Ye;Ye|=4;try{l0(s,i);var g=up,w=mv(i.containerInfo),A=g.focusedElem,V=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&fv(A.ownerDocument.documentElement,A)){if(V!==null&&kf(A)){var Q=V.start,ie=V.end;if(ie===void 0&&(ie=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ie,A.value.length);else{var oe=A.ownerDocument||document,W=oe&&oe.defaultView||window;if(W.getSelection){var te=W.getSelection(),ve=A.textContent.length,Te=Math.min(V.start,ve),nt=V.end===void 0?Te:Math.min(V.end,ve);!te.extend&&Te>nt&&(w=nt,nt=Te,Te=w);var G=hv(A,Te),H=hv(A,nt);if(G&&H&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var K=oe.createRange();K.setStart(G.node,G.offset),te.removeAllRanges(),Te>nt?(te.addRange(K),te.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),te.addRange(K))}}}}for(oe=[],te=A;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var se=oe[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Ld=!!lp,up=lp=null}finally{Ye=m,J.p=u,q.T=o}}i.current=s,zt=2}}function I0(){if(zt===2){zt=0;var i=fs,s=Ro,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var u=J.p;J.p=2;var m=Ye;Ye|=4;try{i0(i,s.alternate,s)}finally{Ye=m,J.p=u,q.T=o}}zt=3}}function N0(){if(zt===4||zt===3){zt=0,mc();var i=fs,s=Ro,o=Ar,u=g0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,Ro=fs=null,O0(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(hs=null),ur(o),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(fi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,m=J.p,J.p=2,q.T=null;try{for(var g=i.onRecoverableError,w=0;w<u.length;w++){var A=u[w];g(A.value,{componentStack:A.stack})}}finally{q.T=s,J.p=m}}(Ar&3)!==0&&Sd(),Xi(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Qm?ou++:(ou=0,Qm=i):ou=0,lu(0)}}function O0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Fl(s)))}function Sd(){return R0(),I0(),N0(),D0()}function D0(){if(zt!==5)return!1;var i=fs,s=Ym;Ym=0;var o=ur(Ar),u=q.T,m=J.p;try{J.p=32>o?32:o,q.T=null,o=Km,Km=null;var g=fs,w=Ar;if(zt=0,Ro=fs=null,Ar=0,(Ye&6)!==0)throw Error(r(331));var A=Ye;if(Ye|=4,f0(g.current),c0(g,g.current,w,o),Ye=A,lu(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(fi,g)}catch{}return!0}finally{J.p=m,q.T=u,O0(i,s)}}function M0(i,s,o){s=Jn(o,s),s=Cm(i.stateNode,s,2),i=as(i,s,2),i!==null&&(Zs(i,2),Xi(i))}function Je(i,s,o){if(i.tag===3)M0(i,i,o);else for(;s!==null;){if(s.tag===3){M0(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){i=Jn(o,i),o=k_(2),u=as(s,o,2),u!==null&&(P_(o,u,s,i),Zs(u,2),Xi(u));break}}s=s.return}}function Jm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new zA;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Hm=!0,m.add(o),i=GA.bind(null,i,s,o),s.then(i,i))}function GA(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Le&o)===o&&(_t===4||_t===3&&(Le&62914560)===Le&&300>cn()-vd?(Ye&2)===0&&Io(i,0):Gm|=o,Co===Le&&(Co=0)),Xi(i)}function k0(i,s){s===0&&(s=bc()),i=fa(i,s),i!==null&&(Zs(i,s),Xi(i))}function $A(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),k0(i,o)}function YA(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),k0(i,o)}function KA(i,s){return Ut(i,s)}var xd=null,Oo=null,Zm=!1,Ad=!1,ep=!1,ps=0;function Xi(i){i!==Oo&&i.next===null&&(Oo===null?xd=Oo=i:Oo=Oo.next=i),Ad=!0,Zm||(Zm=!0,XA())}function lu(i,s){if(!ep&&Ad){ep=!0;do for(var o=!1,u=xd;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var w=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-wt(42|i)+1)-1,g&=m&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,V0(u,g))}else g=Le,g=Di(u,u===it?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||mi(u,g)||(o=!0,V0(u,g));u=u.next}while(o);ep=!1}}function QA(){P0()}function P0(){Ad=Zm=!1;var i=0;ps!==0&&aC()&&(i=ps);for(var s=cn(),o=null,u=xd;u!==null;){var m=u.next,g=L0(u,s);g===0?(u.next=null,o===null?xd=m:o.next=m,m===null&&(Oo=o)):(o=u,(i!==0||(g&3)!==0)&&(Ad=!0)),u=m}zt!==0&&zt!==5||lu(i),ps!==0&&(ps=0)}function L0(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-wt(g),A=1<<w,V=m[w];V===-1?((A&o)===0||(A&u)!==0)&&(m[w]=If(A,s)):V<=s&&(i.expiredLanes|=A),g&=~A}if(s=it,o=Le,o=Di(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&qr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||mi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&qr(u),ur(o)){case 2:case 8:o=vl;break;case 32:o=Hr;break;case 268435456:o=pc;break;default:o=Hr}return u=j0.bind(null,i),o=Ut(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&qr(u),i.callbackPriority=2,i.callbackNode=null,2}function j0(i,s){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Sd()&&i.callbackNode!==o)return null;var u=Le;return u=Di(i,i===it?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(v0(i,u,s),L0(i,cn()),i.callbackNode!=null&&i.callbackNode===o?j0.bind(null,i):null)}function V0(i,s){if(Sd())return null;v0(i,s,!0)}function XA(){lC(function(){(Ye&6)!==0?Ut(yl,QA):P0()})}function tp(){if(ps===0){var i=go;i===0&&(i=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),ps=i}return ps}function U0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:eo(""+i)}function z0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function WA(i,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var g=U0((m[qt]||null).action),w=u.submitter;w&&(s=(s=w[qt]||null)?U0(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var A=new qi("action","action",null,u,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ps!==0){var V=w?z0(m,w):new FormData(m);wm(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(A.preventDefault(),V=w?z0(m,w):new FormData(m),wm(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var np=0;np<Vf.length;np++){var ip=Vf[np],JA=ip.toLowerCase(),ZA=ip[0].toUpperCase()+ip.slice(1);Ei(JA,"on"+ZA)}Ei(yv,"onAnimationEnd"),Ei(vv,"onAnimationIteration"),Ei(_v,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(pA,"onTransitionRun"),Ei(gA,"onTransitionStart"),Ei(yA,"onTransitionCancel"),Ei(bv,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function B0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var w=u.length-1;0<=w;w--){var A=u[w],V=A.instance,Q=A.currentTarget;if(A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(ie){Bc(ie)}m.currentTarget=null,g=V}else for(w=0;w<u.length;w++){if(A=u[w],V=A.instance,Q=A.currentTarget,A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(ie){Bc(ie)}m.currentTarget=null,g=V}}}}function Pe(i,s){var o=s[Qa];o===void 0&&(o=s[Qa]=new Set);var u=i+"__bubble";o.has(u)||(F0(s,i,2,!1),o.add(u))}function rp(i,s,o){var u=0;s&&(u|=4),F0(o,i,u,s)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function sp(i){if(!i[Cd]){i[Cd]=!0,wl.forEach(function(o){o!=="selectionchange"&&(eC.has(o)||rp(o,!1,i),rp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Cd]||(s[Cd]=!0,rp("selectionchange",!1,s))}}function F0(i,s,o,u){switch(yb(s)){case 2:var m=RC;break;case 8:m=IC;break;default:m=bp}o=m.bind(null,s,o,i),m=void 0,!sa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function ap(i,s,o,u,m){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===m)break;if(w===4)for(w=u.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;A!==null;){if(w=Li(A),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){u=g=w;continue e}A=A.parentNode}}u=u.return}Xr(function(){var Q=g,ie=Kn(o),oe=[];e:{var W=wv.get(i);if(W!==void 0){var te=qi,ve=i;switch(i){case"keypress":if(oa(o)===0)break e;case"keydown":case"keyup":te=Vc;break;case"focusin":ve="focus",te=ua;break;case"focusout":ve="blur",te=ua;break;case"beforeblur":case"afterblur":te=ua;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=b;break;case yv:case vv:case _v:te=Oc;break;case bv:te=R;break;case"scroll":case"scrollend":te=Ml;break;case"wheel":te=Z;break;case"copy":case"cut":case"paste":te=Dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=hr;break;case"toggle":case"beforetoggle":te=Oe}var Te=(s&4)!==0,nt=!Te&&(i==="scroll"||i==="scrollend"),G=Te?W!==null?W+"Capture":null:W;Te=[];for(var H=Q,K;H!==null;){var se=H;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=vi(H,G),se!=null&&Te.push(cu(H,se,K))),nt)break;H=H.return}0<Te.length&&(W=new te(W,ve,null,o,ie),oe.push({event:W,listeners:Te}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",W&&o!==Nl&&(ve=o.relatedTarget||o.fromElement)&&(Li(ve)||ve[ki]))break e;if((te||W)&&(W=ie.window===ie?ie:(W=ie.ownerDocument)?W.defaultView||W.parentWindow:window,te?(ve=o.relatedTarget||o.toElement,te=Q,ve=ve?Li(ve):null,ve!==null&&(nt=l(ve),Te=ve.tag,ve!==nt||Te!==5&&Te!==27&&Te!==6)&&(ve=null)):(te=null,ve=Q),te!==ve)){if(Te=kl,se="onMouseLeave",G="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Te=hr,se="onPointerLeave",G="onPointerEnter",H="pointer"),nt=te==null?W:Dn(te),K=ve==null?W:Dn(ve),W=new Te(se,H+"leave",te,o,ie),W.target=nt,W.relatedTarget=K,se=null,Li(ie)===Q&&(Te=new Te(G,H+"enter",ve,o,ie),Te.target=K,Te.relatedTarget=nt,se=Te),nt=se,te&&ve)t:{for(Te=tC,G=te,H=ve,K=0,se=G;se;se=Te(se))K++;se=0;for(var we=H;we;we=Te(we))se++;for(;0<K-se;)G=Te(G),K--;for(;0<se-K;)H=Te(H),se--;for(;K--;){if(G===H||H!==null&&G===H.alternate){Te=G;break t}G=Te(G),H=Te(H)}Te=null}else Te=null;te!==null&&q0(oe,W,te,Te,!1),ve!==null&&nt!==null&&q0(oe,nt,ve,Te,!0)}}e:{if(W=Q?Dn(Q):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var He=av;else if(rv(W))if(ov)He=hA;else{He=cA;var _e=uA}else te=W.nodeName,!te||te.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Za(Q.elementType)&&(He=av):He=dA;if(He&&(He=He(i,Q))){sv(oe,He,o,ie);break e}_e&&_e(i,W,Q),i==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&Cl(W,"number",W.value)}switch(_e=Q?Dn(Q):window,i){case"focusin":(rv(_e)||_e.contentEditable==="true")&&(oo=_e,Pf=Q,Ul=null);break;case"focusout":Ul=Pf=oo=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,pv(oe,o,ie);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":pv(oe,o,ie)}var Me;if($e)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ao?ca(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&($i&&o.locale!=="ko"&&(ao||je!=="onCompositionStart"?je==="onCompositionEnd"&&ao&&(Me=Dl()):(Fi=ie,Ol="value"in Fi?Fi.value:Fi.textContent,ao=!0)),_e=Rd(Q,je),0<_e.length&&(je=new Gi(je,i,null,o,ie),oe.push({event:je,listeners:_e}),Me?je.data=Me:(Me=so(o),Me!==null&&(je.data=Me)))),(Me=Xn?sA(i,o):aA(i,o))&&(je=Rd(Q,"onBeforeInput"),0<je.length&&(_e=new Gi("onBeforeInput","beforeinput",null,o,ie),oe.push({event:_e,listeners:je}),_e.data=Me)),WA(oe,i,Q,o,ie)}B0(oe,s)})}function cu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Rd(i,s){for(var o=s+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=vi(i,o),m!=null&&u.unshift(cu(i,m,g)),m=vi(i,s),m!=null&&u.push(cu(i,m,g))),i.tag===3)return u;i=i.return}return[]}function tC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function q0(i,s,o,u,m){for(var g=s._reactName,w=[];o!==null&&o!==u;){var A=o,V=A.alternate,Q=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||Q===null||(V=Q,m?(Q=vi(o,g),Q!=null&&w.unshift(cu(o,Q,V))):m||(Q=vi(o,g),Q!=null&&w.push(cu(o,Q,V)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var nC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function H0(i){return(typeof i=="string"?i:""+i).replace(nC,`
`).replace(iC,"")}function G0(i,s){return s=H0(s),H0(i)===s}function tt(i,s,o,u,m,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||_n(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&_n(i,""+u);break;case"className":Mn(i,"class",u);break;case"tabIndex":Mn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(i,o,u);break;case"style":Il(i,u,g);break;case"data":if(s!=="object"){Mn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=eo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(i,s,"name",m.name,m,null),tt(i,s,"formEncType",m.formEncType,m,null),tt(i,s,"formMethod",m.formMethod,m,null),tt(i,s,"formTarget",m.formTarget,m,null)):(tt(i,s,"encType",m.encType,m,null),tt(i,s,"method",m.method,m,null),tt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=eo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=yi);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=eo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Wa(i,"popover",u);break;case"xlinkActuate":Nt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Rc.get(o)||o,Wa(i,o,u))}}function op(i,s,o,u,m,g){switch(o){case"style":Il(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?_n(i,u):(typeof u=="number"||typeof u=="bigint")&&_n(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!El.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Wa(i,o,u)}}}function Jt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,g,w,o,null)}}m&&tt(i,s,"srcSet",o.srcSet,o,null),u&&tt(i,s,"src",o.src,o,null);return;case"input":Pe("invalid",i);var A=g=w=m=null,V=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":m=ie;break;case"type":w=ie;break;case"checked":V=ie;break;case"defaultChecked":Q=ie;break;case"value":g=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:tt(i,s,u,ie,o,null)}}xc(i,g,A,V,Q,w,m,!1);return;case"select":Pe("invalid",i),u=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:tt(i,s,m,A,o,null)}s=g,o=w,i.multiple=!!u,s!=null?$r(i,!!u,s,!1):o!=null&&$r(i,!!u,o,!0);return;case"textarea":Pe("invalid",i),g=m=u=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(i,s,w,A,o,null)}Yr(i,u,m,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(i,s,V,u,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<uu.length;u++)Pe(uu[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,Q,u,o,null)}return;default:if(Za(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&op(i,s,ie,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&tt(i,s,A,u,o,null))}function rC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,A=null,V=null,Q=null,ie=null;for(te in o){var oe=o[te];if(o.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(te)||tt(i,s,te,null,u,oe)}}for(var W in u){var te=u[W];if(oe=o[W],u.hasOwnProperty(W)&&(te!=null||oe!=null))switch(W){case"type":g=te;break;case"name":m=te;break;case"checked":Q=te;break;case"defaultChecked":ie=te;break;case"value":w=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==oe&&tt(i,s,W,te,u,oe)}}Ja(i,w,A,V,Q,ie,g,m);return;case"select":te=w=A=W=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":te=V;default:u.hasOwnProperty(g)||tt(i,s,g,null,u,V)}for(m in u)if(g=u[m],V=o[m],u.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":W=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==V&&tt(i,s,m,g,u,V)}s=A,o=w,u=te,W!=null?$r(i,!!o,W,!1):!!u!=!!o&&(s!=null?$r(i,!!o,s,!0):$r(i,!!o,o?[]:"",!1));return;case"textarea":te=W=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,s,A,null,u,m)}for(w in u)if(m=u[w],g=o[w],u.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":W=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&tt(i,s,w,m,u,g)}Ac(i,W,te);return;case"option":for(var ve in o)if(W=o[ve],o.hasOwnProperty(ve)&&W!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:tt(i,s,ve,null,u,W)}for(V in u)if(W=u[V],te=o[V],u.hasOwnProperty(V)&&W!==te&&(W!=null||te!=null))switch(V){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:tt(i,s,V,W,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)W=o[Te],o.hasOwnProperty(Te)&&W!=null&&!u.hasOwnProperty(Te)&&tt(i,s,Te,null,u,W);for(Q in u)if(W=u[Q],te=o[Q],u.hasOwnProperty(Q)&&W!==te&&(W!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:tt(i,s,Q,W,u,te)}return;default:if(Za(s)){for(var nt in o)W=o[nt],o.hasOwnProperty(nt)&&W!==void 0&&!u.hasOwnProperty(nt)&&op(i,s,nt,void 0,u,W);for(ie in u)W=u[ie],te=o[ie],!u.hasOwnProperty(ie)||W===te||W===void 0&&te===void 0||op(i,s,ie,W,u,te);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!u.hasOwnProperty(G)&&tt(i,s,G,null,u,W);for(oe in u)W=u[oe],te=o[oe],!u.hasOwnProperty(oe)||W===te||W==null&&te==null||tt(i,s,oe,W,u,te)}function $0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,w=m.initiatorType,A=m.duration;if(g&&A&&$0(w)){for(w=0,A=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],Q=V.startTime;if(Q>A)break;var ie=V.transferSize,oe=V.initiatorType;ie&&$0(oe)&&(V=V.responseEnd,w+=ie*(V<A?1:(A-Q)/(V-Q)))}if(--u,s+=8*(g+w)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var lp=null,up=null;function Id(i){return i.nodeType===9?i:i.ownerDocument}function Y0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function cp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dp=null;function aC(){var i=window.event;return i&&i.type==="popstate"?i===dp?!1:(dp=i,!0):(dp=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,oC=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(i){return X0.resolve(null).then(i).catch(uC)}:Q0;function uC(i){setTimeout(function(){throw i})}function gs(i){return i==="head"}function W0(i,s){var o=s,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),Po(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")du(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,du(o);for(var g=o.firstChild;g;){var w=g.nextSibling,A=g.nodeName;g[Pi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&du(i.ownerDocument.body);o=m}while(o);Po(s)}function J0(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function hp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hp(o),Xa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function cC(i,s,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Pi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ii(i.nextSibling),i===null)break}return null}function dC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ii(i.nextSibling),i===null))return null;return i}function Z0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ii(i.nextSibling),i===null))return null;return i}function fp(i){return i.data==="$?"||i.data==="$~"}function mp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function hC(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ii(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var pp=null;function eb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return ii(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function tb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function nb(i,s,o){switch(s=Id(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function du(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Xa(i)}var ri=new Map,ib=new Set;function Nd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cr=J.d;J.d={f:fC,r:mC,D:pC,C:gC,L:yC,m:vC,X:bC,S:_C,M:wC};function fC(){var i=Cr.f(),s=wd();return i||s}function mC(i){var s=Yn(i);s!==null&&s.tag===5&&s.type==="form"?b_(s):Cr.r(i)}var Do=typeof document>"u"?null:document;function rb(i,s,o){var u=Do;if(u&&typeof s=="string"&&s){var m=vn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),ib.has(m)||(ib.add(m),i={rel:i,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Jt(s,"link",i),It(s),u.head.appendChild(s)))}}function pC(i){Cr.D(i),rb("dns-prefetch",i,null)}function gC(i,s){Cr.C(i,s),rb("preconnect",i,s)}function yC(i,s,o){Cr.L(i,s,o);var u=Do;if(u&&i&&s){var m='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var g=m;switch(s){case"style":g=Mo(i);break;case"script":g=ko(i)}ri.has(g)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ri.set(g,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(hu(g))||s==="script"&&u.querySelector(fu(g))||(s=u.createElement("link"),Jt(s,"link",i),It(s),u.head.appendChild(s)))}}function vC(i,s){Cr.m(i,s);var o=Do;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+vn(u)+'"][href="'+vn(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ko(i)}if(!ri.has(g)&&(i=_({rel:"modulepreload",href:i},s),ri.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fu(g)))return}u=o.createElement("link"),Jt(u,"link",i),It(u),o.head.appendChild(u)}}}function _C(i,s,o){Cr.S(i,s,o);var u=Do;if(u&&i){var m=ji(u).hoistableStyles,g=Mo(i);s=s||"default";var w=m.get(g);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(hu(g)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ri.get(g))&&gp(i,o);var V=w=u.createElement("link");It(V),Jt(V,"link",i),V._p=new Promise(function(Q,ie){V.onload=Q,V.onerror=ie}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Od(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(g,w)}}}function bC(i,s){Cr.X(i,s);var o=Do;if(o&&i){var u=ji(o).hoistableScripts,m=ko(i),g=u.get(m);g||(g=o.querySelector(fu(m)),g||(i=_({src:i,async:!0},s),(s=ri.get(m))&&yp(i,s),g=o.createElement("script"),It(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function wC(i,s){Cr.M(i,s);var o=Do;if(o&&i){var u=ji(o).hoistableScripts,m=ko(i),g=u.get(m);g||(g=o.querySelector(fu(m)),g||(i=_({src:i,async:!0,type:"module"},s),(s=ri.get(m))&&yp(i,s),g=o.createElement("script"),It(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function sb(i,s,o,u){var m=(m=Ae.current)?Nd(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Mo(o.href),o=ji(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Mo(o.href);var g=ji(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(hu(i)))&&!g._p&&(w.instance=g,w.state.loading=5),ri.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ri.set(i,o),g||EC(m,i,o,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ko(o),o=ji(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Mo(i){return'href="'+vn(i)+'"'}function hu(i){return'link[rel="stylesheet"]['+i+"]"}function ab(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function EC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),It(s),i.head.appendChild(s))}function ko(i){return'[src="'+vn(i)+'"]'}function fu(i){return"script[async]"+i}function ob(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(u)return s.instance=u,It(u),u;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),It(u),Jt(u,"style",m),Od(u,o.precedence,i),s.instance=u;case"stylesheet":m=Mo(o.href);var g=i.querySelector(hu(m));if(g)return s.state.loading|=4,s.instance=g,It(g),g;u=ab(o),(m=ri.get(m))&&gp(u,m),g=(i.ownerDocument||i).createElement("link"),It(g);var w=g;return w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Jt(g,"link",u),s.state.loading|=4,Od(g,o.precedence,i),s.instance=g;case"script":return g=ko(o.src),(m=i.querySelector(fu(g)))?(s.instance=m,It(m),m):(u=o,(m=ri.get(g))&&(u=_({},o),yp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),It(m),Jt(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Od(u,o.precedence,i));return s.instance}function Od(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function gp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function yp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Dd=null;function lb(i,s,o){if(Dd===null){var u=new Map,m=Dd=new Map;m.set(o,u)}else m=Dd,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Pi]||g[Rt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=i+w;var A=u.get(w);A?A.push(g):u.set(w,[g])}}return u}function ub(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function TC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function cb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function SC(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Mo(u.href),g=s.querySelector(hu(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Md.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,It(g);return}g=s.ownerDocument||s,u=ab(u),(m=ri.get(m))&&gp(u,m),g=g.createElement("link"),It(g);var w=g;w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Jt(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Md.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var vp=0;function xC(i,s){return i.stylesheets&&i.count===0&&Pd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Pd(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&vp===0&&(vp=62500*sC());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Pd(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>vp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Md(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kd=null;function Pd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kd=new Map,s.forEach(AC,i),kd=null,Md.call(i))}function AC(i,s){if(!(s.state.loading&4)){var o=kd.get(i);if(o)var u=o.get(null);else{o=new Map,kd.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}m=s.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||u,g===u&&o.set(null,m),o.set(w,m),this.count++,u=Md.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var mu={$$typeof:B,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function CC(i,s,o,u,m,g,w,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function db(i,s,o,u,m,g,w,A,V,Q,ie,oe){return i=new CC(i,s,o,w,V,Q,ie,oe,A),s=1,g===!0&&(s|=24),g=Pn(3,null,null,s),i.current=g,g.stateNode=i,s=Wf(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},tm(g),i}function hb(i){return i?(i=co,i):co}function fb(i,s,o,u,m,g){m=hb(m),u.context===null?u.context=m:u.pendingContext=m,u=ss(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=as(i,u,s),o!==null&&(Sn(o,i,s),$l(o,i,s))}function mb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function _p(i,s){mb(i,s),(i=i.alternate)&&mb(i,s)}function pb(i){if(i.tag===13||i.tag===31){var s=fa(i,67108864);s!==null&&Sn(s,i,67108864),_p(i,67108864)}}function gb(i){if(i.tag===13||i.tag===31){var s=zn();s=ta(s);var o=fa(i,s);o!==null&&Sn(o,i,s),_p(i,s)}}var Ld=!0;function RC(i,s,o,u){var m=q.T;q.T=null;var g=J.p;try{J.p=2,bp(i,s,o,u)}finally{J.p=g,q.T=m}}function IC(i,s,o,u){var m=q.T;q.T=null;var g=J.p;try{J.p=8,bp(i,s,o,u)}finally{J.p=g,q.T=m}}function bp(i,s,o,u){if(Ld){var m=wp(u);if(m===null)ap(i,s,u,jd,o),vb(i,u);else if(OC(m,i,s,o,u))u.stopPropagation();else if(vb(i,u),s&4&&-1<NC.indexOf(i)){for(;m!==null;){var g=Yn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Oi(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var V=1<<31-wt(w);A.entanglements[1]|=V,w&=~V}Xi(g),(Ye&6)===0&&(_d=cn()+500,lu(0))}}break;case 31:case 13:A=fa(g,2),A!==null&&Sn(A,g,2),wd(),_p(g,2)}if(g=wp(u),g===null&&ap(i,s,u,jd,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else ap(i,s,u,null,o)}}function wp(i){return i=Kn(i),Ep(i)}var jd=null;function Ep(i){if(jd=null,i=Li(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return jd=i,null}function yb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ws()){case yl:return 2;case vl:return 8;case Hr:case Rf:return 32;case pc:return 268435456;default:return 32}default:return 32}}var Tp=!1,ys=null,vs=null,_s=null,pu=new Map,gu=new Map,bs=[],NC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vb(i,s){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(s.pointerId)}}function yu(i,s,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Yn(s),s!==null&&pb(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function OC(i,s,o,u,m){switch(s){case"focusin":return ys=yu(ys,i,s,o,u,m),!0;case"dragenter":return vs=yu(vs,i,s,o,u,m),!0;case"mouseover":return _s=yu(_s,i,s,o,u,m),!0;case"pointerover":var g=m.pointerId;return pu.set(g,yu(pu.get(g)||null,i,s,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,gu.set(g,yu(gu.get(g)||null,i,s,o,u,m)),!0}return!1}function _b(i){var s=Li(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,pi(i.priority,function(){gb(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,pi(i.priority,function(){gb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=wp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Nl=u,o.target.dispatchEvent(u),Nl=null}else return s=Yn(o),s!==null&&pb(s),i.blockedOn=o,!1;s.shift()}return!0}function bb(i,s,o){Vd(i)&&o.delete(s)}function DC(){Tp=!1,ys!==null&&Vd(ys)&&(ys=null),vs!==null&&Vd(vs)&&(vs=null),_s!==null&&Vd(_s)&&(_s=null),pu.forEach(bb),gu.forEach(bb)}function Ud(i,s){i.blockedOn===s&&(i.blockedOn=null,Tp||(Tp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,DC)))}var zd=null;function wb(i){zd!==i&&(zd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zd===i&&(zd=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(Ep(u||o)===null)continue;break}var g=Yn(o);g!==null&&(i.splice(s,3),s-=3,wm(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Po(i){function s(V){return Ud(V,i)}ys!==null&&Ud(ys,i),vs!==null&&Ud(vs,i),_s!==null&&Ud(_s,i),pu.forEach(s),gu.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)_b(o),o.blockedOn===null&&bs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],w=m[qt]||null;if(typeof g=="function")w||wb(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[qt]||null)A=w.formAction;else if(Ep(m)!==null)continue}else A=w.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),wb(o)}}}function Eb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Sp(i){this._internalRoot=i}Bd.prototype.render=Sp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=zn();fb(o,u,i,s,null,null)},Bd.prototype.unmount=Sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;fb(i.current,2,null,i,null,null),wd(),s[ki]=null}};function Bd(i){this._internalRoot=i}Bd.prototype.unstable_scheduleHydration=function(i){if(i){var s=wc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,i),o===0&&_b(i)}};var Tb=e.version;if(Tb!=="19.2.0")throw Error(r(527,Tb,"19.2.0"));J.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var MC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{fi=Fd.inject(MC),Yt=Fd}catch{}}return _u.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",m=N_,g=O_,w=D_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=db(i,1,!1,null,null,o,u,null,m,g,w,Eb),i[ki]=s.current,sp(i),new Sp(s)},_u.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,m="",g=N_,w=O_,A=D_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=db(i,1,!0,s,o??null,u,m,V,g,w,A,Eb),s.context=hb(null),o=s.current,u=zn(),u=ta(u),m=ss(u),m.callback=null,as(o,m,u),o=u,s.current.lanes=o,Zs(s,o),Xi(s),i[ki]=s.current,sp(i),new Bd(s)},_u.version="19.2.0",_u}var Mb;function qC(){if(Mb)return Cp.exports;Mb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cp.exports=FC(),Cp.exports}var HC=qC();var kb="popstate";function GC(n={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return rg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Vu(a)}return YC(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function li(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $C(){return Math.random().toString(36).substring(2,10)}function Pb(n,e){return{usr:n.state,key:n.key,idx:e}}function rg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:t,key:e&&e.key||r||$C()}}function Vu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function sl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function YC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",h=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){f="POP";let P=v(),L=P==null?null:P-p;p=P,h&&h({action:f,location:k.location,delta:L})}function T(P,L){f="PUSH";let U=rg(k.location,P,L);p=v()+1;let B=Pb(U,p),X=k.createHref(U);try{c.pushState(B,"",X)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(X)}l&&h&&h({action:f,location:k.location,delta:1})}function x(P,L){f="REPLACE";let U=rg(k.location,P,L);p=v();let B=Pb(U,p),X=k.createHref(U);c.replaceState(B,"",X),l&&h&&h({action:f,location:k.location,delta:0})}function I(P){return KC(P)}let k={get action(){return f},get location(){return n(a,c)},listen(P){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(kb,_),h=P,()=>{a.removeEventListener(kb,_),h=null}},createHref(P){return e(a,P)},createURL:I,encodeLocation(P){let L=I(P);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:x,go(P){return c.go(P)}};return k}function KC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Vu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function KE(n,e,t="/"){return QC(n,e,t,!1)}function QC(n,e,t,r){let a=typeof e=="string"?sl(e):e,l=Lr(a.pathname||"/",t);if(l==null)return null;let c=QE(n);XC(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let p=oR(l);f=sR(c[h],p,r)}return f}function QE(n,e=[],t=[],r="",a=!1){let l=(c,f,h=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;mt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=Mr([r,v.relativePath]),T=t.concat(v);c.children&&c.children.length>0&&(mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),QE(c.children,e,T,_,h)),!(c.path==null&&!c.index)&&e.push({path:_,score:iR(_,c.index),routesMeta:T})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let h of XE(c.path))l(c,f,!0,h)}),e}function XE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=XE(r.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function XC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var WC=/^:[\w-]+$/,JC=3,ZC=2,eR=1,tR=10,nR=-2,Lb=n=>n==="*";function iR(n,e){let t=n.split("/"),r=t.length;return t.some(Lb)&&(r+=nR),e&&(r+=ZC),t.filter(a=>!Lb(a)).reduce((a,l)=>a+(WC.test(l)?JC:l===""?eR:tR),r)}function rR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function sR(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let h=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=yh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),T=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=yh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Mr([l,_.pathname]),pathnameBase:hR(Mr([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=Mr([l,_.pathnameBase]))}return c}function yh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=aR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},T)=>{if(v==="*"){let I=f[T]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const x=f[T];return _&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function aR(n,e=!1,t=!0){li(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function oR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Lr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var lR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uR=n=>lR.test(n);function cR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?sl(n):n,l;if(t)if(uR(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),li(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=jb(t.substring(1),"/"):l=jb(t,e)}else l=e;return{pathname:l,search:fR(r),hash:mR(a)}}function jb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Op(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function WE(n){let e=dR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function JE(n,e,t,r=!1){let a;typeof n=="string"?a=sl(n):(a={...n},mt(!a.pathname||!a.pathname.includes("?"),Op("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Op("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Op("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let _=e.length-1;if(!r&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}f=_>=0?e[_]:"/"}let h=cR(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Mr=n=>n.join("/").replace(/\/\/+/g,"/"),hR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var gR=["GET",...ZE];new Set(gR);var al=F.createContext(null);al.displayName="DataRouter";var Gh=F.createContext(null);Gh.displayName="DataRouterState";F.createContext(!1);var eT=F.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var yR=F.createContext(new Map);yR.displayName="Fetchers";var vR=F.createContext(null);vR.displayName="Await";var or=F.createContext(null);or.displayName="Navigation";var Qu=F.createContext(null);Qu.displayName="Location";var lr=F.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Gg=F.createContext(null);Gg.displayName="RouteError";function _R(n,{relative:e}={}){mt(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(or),{hash:a,pathname:l,search:c}=Wu(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Mr([t,l])),r.createHref({pathname:f,search:c,hash:a})}function Xu(){return F.useContext(Qu)!=null}function Br(){return mt(Xu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Qu).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(n){F.useContext(or).static||F.useLayoutEffect(n)}function ln(){let{isDataRoute:n}=F.useContext(lr);return n?DR():bR()}function bR(){mt(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(al),{basename:e,navigator:t}=F.useContext(or),{matches:r}=F.useContext(lr),{pathname:a}=Br(),l=JSON.stringify(WE(r)),c=F.useRef(!1);return nT(()=>{c.current=!0}),F.useCallback((h,p={})=>{if(li(c.current,tT),!c.current)return;if(typeof h=="number"){t.go(h);return}let v=JE(h,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Mr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}F.createContext(null);function $g(){let{matches:n}=F.useContext(lr),e=n[n.length-1];return e?e.params:{}}function Wu(n,{relative:e}={}){let{matches:t}=F.useContext(lr),{pathname:r}=Br(),a=JSON.stringify(WE(t));return F.useMemo(()=>JE(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function wR(n,e){return iT(n,e)}function iT(n,e,t,r,a){mt(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(or),{matches:c}=F.useContext(lr),f=c[c.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let U=_&&_.path||"";rT(p,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=Br(),x;if(e){let U=typeof e=="string"?sl(e):e;mt(v==="/"||U.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=T;let I=x.pathname||"/",k=I;if(v!=="/"){let U=v.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=KE(n,{pathname:k});li(_||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),li(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=AR(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:Mr([v,l.encodeLocation?l.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:Mr([v,l.encodeLocation?l.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),c,t,r,a);return e&&L?F.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},L):L}function ER(){let n=OR(),e=pR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var TR=F.createElement(ER,null),SR=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(lr.Provider,{value:this.props.routeContext},F.createElement(Gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xR({routeContext:n,match:e,children:t}){let r=F.useContext(al);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(lr.Provider,{value:n},t)}function AR(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,h=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=v),_.route.id){let{loaderData:T,errors:x}=t,I=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!x||x[_.route.id]===void 0);if(_.route.lazy||I){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let p=t&&r?(v,_)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:_})}:void 0;return l.reduceRight((v,_,T)=>{let x,I=!1,k=null,P=null;t&&(x=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||TR,f&&(h<0&&T===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,P=null):h===T&&(I=!0,P=_.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,T+1)),U=()=>{let B;return x?B=k:I?B=P:_.route.Component?B=F.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=v,F.createElement(xR,{match:_,routeContext:{outlet:v,matches:L,isDataRoute:t!=null},children:B})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?F.createElement(SR,{location:t.location,revalidation:t.revalidation,component:k,error:x,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):U()},null)}function Yg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CR(n){let e=F.useContext(al);return mt(e,Yg(n)),e}function RR(n){let e=F.useContext(Gh);return mt(e,Yg(n)),e}function IR(n){let e=F.useContext(lr);return mt(e,Yg(n)),e}function Kg(n){let e=IR(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function NR(){return Kg("useRouteId")}function OR(){let n=F.useContext(Gg),e=RR("useRouteError"),t=Kg("useRouteError");return n!==void 0?n:e.errors?.[t]}function DR(){let{router:n}=CR("useNavigate"),e=Kg("useNavigate"),t=F.useRef(!1);return nT(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{li(t.current,tT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Vb={};function rT(n,e,t){!e&&!Vb[n]&&(Vb[n]=!0,li(!1,t))}F.memo(MR);function MR({routes:n,future:e,state:t,unstable_onError:r}){return iT(n,void 0,t,r,e)}function An(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){mt(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=sl(t));let{pathname:h="/",search:p="",hash:v="",state:_=null,key:T="default"}=t,x=F.useMemo(()=>{let I=Lr(h,c);return I==null?null:{location:{pathname:I,search:p,hash:v,state:_,key:T},navigationType:r}},[c,h,p,v,_,T,r]);return li(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:F.createElement(or.Provider,{value:f},F.createElement(Qu.Provider,{children:e,value:x}))}function PR({children:n,location:e}){return wR(sg(n),e)}function sg(n,e=[]){let t=[];return F.Children.forEach(n,(r,a)=>{if(!F.isValidElement(r))return;let l=[...e,a];if(r.type===F.Fragment){t.push.apply(t,sg(r.props.children,l));return}mt(r.type===An,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=sg(r.props.children,l)),t.push(c)}),t}var th="get",nh="application/x-www-form-urlencoded";function $h(n){return n!=null&&typeof n.tagName=="string"}function LR(n){return $h(n)&&n.tagName.toLowerCase()==="button"}function jR(n){return $h(n)&&n.tagName.toLowerCase()==="form"}function VR(n){return $h(n)&&n.tagName.toLowerCase()==="input"}function UR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zR(n,e){return n.button===0&&(!e||e==="_self")&&!UR(n)}function ag(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function BR(n,e){let t=ag(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var qd=null;function FR(){if(qd===null)try{new FormData(document.createElement("form"),0),qd=!1}catch{qd=!0}return qd}var qR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dp(n){return n!=null&&!qR.has(n)?(li(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):n}function HR(n,e){let t,r,a,l,c;if(jR(n)){let f=n.getAttribute("action");r=f?Lr(f,e):null,t=n.getAttribute("method")||th,a=Dp(n.getAttribute("enctype"))||nh,l=new FormData(n)}else if(LR(n)||VR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Lr(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||th,a=Dp(n.getAttribute("formenctype"))||Dp(f.getAttribute("enctype"))||nh,l=new FormData(f,n),!FR()){let{name:p,type:v,value:_}=n;if(v==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,_)}}else{if($h(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=th,r=null,a=nh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function GR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Lr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function $R(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await $R(l,t);return c.links?c.links():[]}return[]}));return JR(r.flat(1).filter(YR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ub(n,e,t,r,a,l){let c=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,p)=>c(h,p)||f(h,p)):l==="data"?e.filter((h,p)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function QR(n,e,{includeHydrateFallback:t}={}){return XR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function XR(n){return[...new Set(n)]}function WR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function JR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(WR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function sT(){let n=F.useContext(al);return Qg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZR(){let n=F.useContext(Gh);return Qg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xg=F.createContext(void 0);Xg.displayName="FrameworkContext";function aT(){let n=F.useContext(Xg);return Qg(n,"You must render this element inside a <HydratedRouter> element"),n}function eI(n,e){let t=F.useContext(Xg),[r,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,T=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=L=>{L.forEach(U=>{c(U.isIntersecting)})},P=new IntersectionObserver(k,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[n]),F.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let x=()=>{a(!0)},I=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:bu(f,x),onBlur:bu(h,I),onMouseEnter:bu(p,x),onMouseLeave:bu(v,I),onTouchStart:bu(_,x)}]:[!1,T,{}]}function bu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tI({page:n,...e}){let{router:t}=sT(),r=F.useMemo(()=>KE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(iI,{page:n,matches:r,...e}):null}function nI(n){let{manifest:e,routeModules:t}=aT(),[r,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return KR(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function iI({page:n,matches:e,...t}){let r=Br(),{manifest:a,routeModules:l}=aT(),{basename:c}=sT(),{loaderData:f,matches:h}=ZR(),p=F.useMemo(()=>Ub(n,e,h,a,r,"data"),[n,e,h,a,r]),v=F.useMemo(()=>Ub(n,e,h,a,r,"assets"),[n,e,h,a,r]),_=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,k=!1;if(e.forEach(L=>{let U=a.routes[L.route.id];!U||!U.hasLoader||(!p.some(B=>B.route.id===L.route.id)&&L.route.id in f&&l[L.route.id]?.shouldRevalidate||U.hasClientLoader?k=!0:I.add(L.route.id))}),I.size===0)return[];let P=GR(n,c,"data");return k&&I.size>0&&P.searchParams.set("_routes",e.filter(L=>I.has(L.route.id)).map(L=>L.route.id).join(",")),[P.pathname+P.search]},[c,f,r,a,p,e,n,l]),T=F.useMemo(()=>QR(v,a),[v,a]),x=nI(v);return F.createElement(F.Fragment,null,_.map(I=>F.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),T.map(I=>F.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),x.map(({key:I,link:k})=>F.createElement("link",{key:I,nonce:t.nonce,...k})))}function rI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.9.6")}catch{}function sI({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=GC({window:t,v5Compat:!0}));let a=r.current,[l,c]=F.useState({action:a.action,location:a.location}),f=F.useCallback(h=>{F.startTransition(()=>c(h))},[c]);return F.useLayoutEffect(()=>a.listen(f),[a,f]),F.createElement(kR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:h,to:p,preventScrollReset:v,viewTransition:_,...T},x){let{basename:I}=F.useContext(or),k=typeof p=="string"&&lT.test(p),P,L=!1;if(typeof p=="string"&&k&&(P=p,oT))try{let M=new URL(window.location.href),N=p.startsWith("//")?new URL(M.protocol+p):new URL(p),C=Lr(N.pathname,I);N.origin===M.origin&&C!=null?p=C+N.search+N.hash:L=!0}catch{li(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=_R(p,{relative:a}),[B,X,ee]=eI(r,T),re=uI(p,{replace:c,state:f,target:h,preventScrollReset:v,relative:a,viewTransition:_});function D(M){e&&e(M),M.defaultPrevented||re(M)}let S=F.createElement("a",{...T,...ee,href:P||U,onClick:L||l?e:D,ref:rI(x,X),target:h,"data-discover":!k&&t==="render"?"true":void 0});return B&&!k?F.createElement(F.Fragment,null,S,F.createElement(tI,{page:U})):S});Vt.displayName="Link";var aI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:h,...p},v){let _=Wu(c,{relative:p.relative}),T=Br(),x=F.useContext(Gh),{navigator:I,basename:k}=F.useContext(or),P=x!=null&&pI(_)&&f===!0,L=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,U=T.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(U=U.toLowerCase(),B=B?B.toLowerCase():null,L=L.toLowerCase()),B&&k&&(B=Lr(B,k)||B);const X=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ee=U===L||!a&&U.startsWith(L)&&U.charAt(X)==="/",re=B!=null&&(B===L||!a&&B.startsWith(L)&&B.charAt(L.length)==="/"),D={isActive:ee,isPending:re,isTransitioning:P},S=ee?e:void 0,M;typeof r=="function"?M=r(D):M=[r,ee?"active":null,re?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(D):l;return F.createElement(Vt,{...p,"aria-current":S,className:M,ref:v,style:N,to:c,viewTransition:f},typeof h=="function"?h(D):h)});aI.displayName="NavLink";var oI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=th,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:_,...T},x)=>{let I=fI(),k=mI(f,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&lT.test(f),U=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let X=B.nativeEvent.submitter,ee=X?.getAttribute("formmethod")||c;I(X||B.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return F.createElement("form",{ref:x,method:P,action:k,onSubmit:r?h:U,...T,"data-discover":!L&&n==="render"?"true":void 0})});oI.displayName="Form";function lI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(n){let e=F.useContext(al);return mt(e,lI(n)),e}function uI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=ln(),h=Br(),p=Wu(n,{relative:l});return F.useCallback(v=>{if(zR(v,e)){v.preventDefault();let _=t!==void 0?t:Vu(h)===Vu(p);f(n,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[h,f,p,t,r,e,n,a,l,c])}function cI(n){li(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(ag(n)),t=F.useRef(!1),r=Br(),a=F.useMemo(()=>BR(r.search,t.current?null:e.current),[r.search]),l=ln(),c=F.useCallback((f,h)=>{const p=ag(typeof f=="function"?f(new URLSearchParams(a)):f);t.current=!0,l("?"+p,h)},[l,a]);return[a,c]}var dI=0,hI=()=>`__${String(++dI)}__`;function fI(){let{router:n}=uT("useSubmit"),{basename:e}=F.useContext(or),t=NR();return F.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:h,body:p}=HR(r,e);if(a.navigate===!1){let v=a.fetcherKey||hI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function mI(n,{relative:e}={}){let{basename:t}=F.useContext(or),r=F.useContext(lr);mt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Wu(n||".",{relative:e})},c=Br();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Mr([t,l.pathname])),Vu(l)}function pI(n,{relative:e}={}){let t=F.useContext(eT);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uT("useViewTransitionState"),a=Wu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Lr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Lr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return yh(a.pathname,c)!=null||yh(a.pathname,l)!=null}var cT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zb=Ke.createContext&&Ke.createContext(cT),gI=["attr","size","title"];function yI(n,e){if(n==null)return{};var t=vI(n,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function vI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function vh(){return vh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vh.apply(this,arguments)}function Bb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function _h(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(t),!0).forEach(function(r){_I(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Bb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _I(n,e,t){return e=bI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bI(n){var e=wI(n,"string");return typeof e=="symbol"?e:e+""}function wI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dT(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,_h({key:t},e.attr),dT(e.child)))}function at(n){return e=>Ke.createElement(EI,vh({attr:_h({},n.attr)},e),dT(n.child))}function EI(n){var e=t=>{var{attr:r,size:a,title:l}=n,c=yI(n,gI),f=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ke.createElement("svg",vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:h,style:_h(_h({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ke.createElement("title",null,l),n.children)};return zb!==void 0?Ke.createElement(zb.Consumer,null,t=>e(t)):e(cT)}function hT(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function TI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(n)}function SI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(n)}function xI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(n)}function AI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(n)}function CI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function RI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(n)}function fT(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function II(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function NI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function Yh(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(n)}function OI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function DI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function MI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(n)}function kI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function PI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(n)}function mT(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function og(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function LI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(n)}function jI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(n)}function Ma(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(n)}function ih(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function pT(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function VI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function UI(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function Wo(n){return at({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}const Fb=n=>{let e;const t=new Set,r=(p,v)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const T=e;e=v??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(x=>x(e,T))}},a=()=>e,f={setState:r,getState:a,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=n(r,a,f);return f},zI=(n=>n?Fb(n):Fb),BI=n=>n;function FI(n,e=BI){const t=Ke.useSyncExternalStore(n.subscribe,Ke.useCallback(()=>e(n.getState()),[n,e]),Ke.useCallback(()=>e(n.getInitialState()),[n,e]));return Ke.useDebugValue(t),t}const qb=n=>{const e=zI(n),t=r=>FI(e,r);return Object.assign(t,e),t},Ju=(n=>n?qb(n):qb),Fs=Ju((n,e)=>({items:[],addItem:t=>{const r=e().items.slice(),a=r.findIndex(l=>l.id===t.id);a>-1?r[a].qty=(r[a].qty||1)+(t.qty||1):r.push({...t,qty:t.qty||1}),n({items:r})},removeItem:t=>n(r=>({items:r.items.filter(a=>a.id!==t)})),updateQty:(t,r)=>n(a=>({items:a.items.map(l=>l.id===t?{...l,qty:r}:l)})),clear:()=>n({items:[]}),get totalCount(){return e().items.reduce((t,r)=>t+(r.qty||0),0)}}));function Hb({small:n=!1}){return y.jsx("span",{className:`font-bold ${n?"text-lg":"text-xl"} text-gray-900 whitespace-nowrap`,children:"Crodyto"})}const qs=F.createContext({language:"en",setLanguage:()=>{},t:n=>n}),Lo={en:{customerDetails:"Customer Details",name:"Name",email:"Email",phone:"Phone",contact:"Contact",address:"Address",edit:"Edit",save:"Save",cancel:"Cancel",village:"Village/City",po:"P.O (Post Office)",ps:"P.S (Police Station)",district:"District",pin:"PIN Code",landmark:"Landmark",mobile:"Mobile Number",customerSupport:"Customer Support",callNow:"Call Now",chat:"Chat",logout:"Logout",profilePhoto:"Profile Photo",viewOrders:"View Orders",recentlyViewed:"Recently Viewed",clear:"Clear",noRecentItems:"No recent items",change:"Change",savingAddress:"Saving...",saveAddress:"Save Address",language:"Language",home:"Home",search:"Search",cart:"Cart",account:"Account",wishlist:"Wishlist",orders:"Orders",products:"Products",featuredProducts:"Featured Products",price:"Price",rating:"Rating",inStock:"In Stock",outOfStock:"Out of Stock",addToCart:"Add to Cart",add:"Add",buy:"Buy",addToWishlist:"Add to Wishlist",removeFromWishlist:"Remove from Wishlist",quantity:"Quantity",description:"Description",reviews:"Reviews",viewAll:"View all",checkout:"Checkout",subtotal:"Subtotal",shipping:"Shipping",total:"Total",placeOrder:"Place Order",orderConfirmed:"Order Confirmed",login:"Login",register:"Register",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",loading:"Loading...",error:"Error",success:"Success",noResults:"No results found",delete:"Delete",confirm:"Confirm",close:"Close"},hi:{customerDetails:" ",name:"",email:"",phone:"",contact:"",address:"",edit:" ",save:"",cancel:" ",village:"/",po:"",ps:" ",district:"",pin:" ",landmark:" ",mobile:" ",customerSupport:" ",callNow:"  ",chat:"",logout:"",profilePhoto:" ",viewOrders:" ",recentlyViewed:"    ",clear:"",noRecentItems:"    ",change:"",savingAddress:"  ...",saveAddress:" ",language:"",home:"",search:"",cart:"",account:"",wishlist:"",orders:"",products:"",featuredProducts:" ",price:"",rating:"",inStock:" ",outOfStock:"  ",addToCart:"  ",add:"",buy:"",addToWishlist:"  ",removeFromWishlist:"  ",quantity:"",description:"",reviews:"",viewAll:" ",checkout:"",subtotal:" ",shipping:"",total:"",placeOrder:"  ",orderConfirmed:"  ",login:"",register:" ",password:"",confirmPassword:"   ",forgotPassword:"  ?",dontHaveAccount:"  ?",alreadyHaveAccount:"   ?",loading:"   ...",error:"",success:"",noResults:"  ",delete:"",confirm:" ",close:" "},bn:{customerDetails:" ",name:"",email:"",phone:"",contact:"",address:"",edit:" ",save:" ",cancel:" ",village:"/",po:" ",ps:" ",district:"",pin:" ",landmark:"",mobile:" ",customerSupport:" ",callNow:"  ",chat:"",logout:" ",profilePhoto:" ",viewOrders:" ",recentlyViewed:"  ",clear:" ",noRecentItems:"   ",change:" ",savingAddress:"  ...",saveAddress:"  ",language:"",home:"",search:"",cart:"",account:"",wishlist:"",orders:"",products:"",featuredProducts:" ",price:"",rating:"",inStock:" ",outOfStock:" ",addToCart:"  ",add:" ",buy:"",addToWishlist:"  ",removeFromWishlist:"  ",quantity:"",description:"",reviews:"",viewAll:" ",checkout:"",subtotal:"-",shipping:"",total:"",placeOrder:" ",orderConfirmed:" ",login:"",register:" ",password:"",confirmPassword:"  ",forgotPassword:"  ?",dontHaveAccount:" ?",alreadyHaveAccount:"  ?",loading:" ...",error:"",success:"",noResults:"  ",delete:"",confirm:" ",close:" "}};function qI({children:n}){const[e,t]=F.useState("en");F.useEffect(()=>{const l=localStorage.getItem("app_language");if(l&&Lo[l])t(l),document.documentElement.lang=l;else{const c=navigator.language||navigator.userLanguage||"en",f=c.startsWith("bn")?"bn":c.startsWith("hi")?"hi":"en";t(f),document.documentElement.lang=f}},[]);const r=F.useCallback(l=>{Lo[l]&&(t(l),localStorage.setItem("app_language",l),document.documentElement.lang=l)},[]),a=F.useCallback(l=>Lo[e]&&Lo[e][l]?Lo[e][l]:Lo.en[l]||l,[e]);return y.jsx(qs.Provider,{value:{language:e,setLanguage:r,t:a},children:n})}function HI({onCartClick:n}){const e=Fs(f=>f.totalCount),t=ln(),[r,a]=F.useState(""),{t:l}=F.useContext(qs),c=f=>{f.preventDefault(),r.trim()&&(t("/products?q="+encodeURIComponent(r)),a(""))};return y.jsx("header",{className:"w-full bg-gradient-to-r from-orange-600 to-orange-700 border-b border-orange-800 px-3 sm:px-4 py-2 sm:py-3 sticky top-0 z-20 shadow-lg safe-area-top",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[y.jsx(Vt,{to:"/","aria-label":"Home",className:"flex-shrink-0 touch-area",children:y.jsx(Hb,{})}),y.jsx("form",{onSubmit:c,className:"flex-1 max-w-md",children:y.jsxs("div",{className:"flex items-center bg-white bg-opacity-20 rounded-lg overflow-hidden backdrop-blur-sm",children:[y.jsx("input",{className:"flex-1 px-3 py-2 bg-transparent outline-none text-sm text-white placeholder-orange-100 font-normal",placeholder:l("search")+" "+l("products")+"...",value:r,onChange:f=>a(f.target.value)}),y.jsx("button",{type:"submit",className:"px-3 py-2 text-white active:opacity-70","aria-label":"search",children:y.jsx(og,{size:18})})]})}),y.jsx("div",{className:"flex items-center gap-3",children:y.jsxs("button",{onClick:n,className:"relative touch-area text-white active:opacity-70","aria-label":"cart",children:[y.jsx(Ma,{size:20}),e>0&&y.jsx("span",{className:"absolute top-0 right-0 bg-yellow-400 text-orange-700 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:e>99?"99+":e})]})})]}),y.jsxs("div",{className:"sm:hidden flex items-center justify-between gap-2",children:[y.jsx(Vt,{to:"/","aria-label":"Home",className:"flex-shrink-0 touch-area",children:y.jsx(Hb,{small:!0})}),y.jsx("form",{onSubmit:c,className:"flex-1 min-w-0",children:y.jsxs("div",{className:"flex items-center bg-white bg-opacity-90 rounded-lg overflow-hidden h-10",children:[y.jsx("input",{type:"search",className:"flex-1 px-3 py-2 bg-transparent outline-none text-sm text-gray-900 placeholder-gray-500",placeholder:l("search")+"...",value:r,onChange:f=>a(f.target.value)}),y.jsx("button",{type:"submit",className:"px-3 py-2 text-gray-600 active:opacity-70 flex-shrink-0","aria-label":"search",children:y.jsx(og,{size:16})})]})}),y.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:y.jsxs("button",{onClick:n,className:"relative touch-area text-white active:opacity-70","aria-label":"cart",children:[y.jsx(Ma,{size:20}),e>0&&y.jsx("span",{className:"absolute top-0 right-0 bg-yellow-400 text-orange-700 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:e>99?"99+":e})]})})]})]})})}function GI(){const n=ln(),e=Fs(a=>a.items),t=e.reduce((a,l)=>a+l.price*(l.qty||1),0);if(!e||e.length===0)return null;const r={bottom:"calc(env(safe-area-inset-bottom, 0px) + 64px)"};return y.jsx("div",{className:"fixed left-0 right-0 z-40 flex justify-center md:hidden",style:r,children:y.jsxs("div",{className:"max-w-3xl w-full mx-3 bg-white border border-gray-200 rounded-lg p-2 flex items-center justify-between shadow",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"text-sm font-medium",children:[e.length," item",e.length>1?"s":""]}),y.jsxs("div",{className:"text-sm text-gray-500",children:["",t.toFixed(0)]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"px-3 py-1 bg-white text-gray-900 border rounded",onClick:()=>n("/cart"),children:"View Cart"}),y.jsx("button",{className:"px-3 py-1 bg-gray-900 text-white rounded",onClick:()=>n("/checkout"),children:"Checkout"})]})]})})}function $I(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),f=(l=t.getItem(a))!=null?l:null;return f instanceof Promise?f.then(c):c(f)},setItem:(a,l)=>t.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>t.removeItem(a)}}const lg=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return lg(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return lg(r)(t)}}}},YI=(n,e)=>(t,r,a)=>{let l={storage:$I(()=>localStorage),partialize:k=>k,version:0,merge:(k,P)=>({...P,...k}),...e},c=!1;const f=new Set,h=new Set;let p=l.storage;if(!p)return n((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...k)},r,a);const v=()=>{const k=l.partialize({...r()});return p.setItem(l.name,{state:k,version:l.version})},_=a.setState;a.setState=(k,P)=>(_(k,P),v());const T=n((...k)=>(t(...k),v()),r,a);a.getInitialState=()=>T;let x;const I=()=>{var k,P;if(!p)return;c=!1,f.forEach(U=>{var B;return U((B=r())!=null?B:T)});const L=((P=l.onRehydrateStorage)==null?void 0:P.call(l,(k=r())!=null?k:T))||void 0;return lg(p.getItem.bind(p))(l.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==l.version){if(l.migrate){const B=l.migrate(U.state,U.version);return B instanceof Promise?B.then(X=>[!0,X]):[!0,B]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var B;const[X,ee]=U;if(x=l.merge(ee,(B=r())!=null?B:T),t(x,!0),X)return v()}).then(()=>{L?.(x,void 0),x=r(),c=!0,h.forEach(U=>U(x))}).catch(U=>{L?.(void 0,U)})};return a.persist={setOptions:k=>{l={...l,...k},k.storage&&(p=k.storage)},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>I(),hasHydrated:()=>c,onHydrate:k=>(f.add(k),()=>{f.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},l.skipHydration||I(),x||T},Wg=YI,KI=()=>{};var Gb={};const gT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},QI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let T=(f&15)<<2|p>>6,x=p&63;h||(x=64,c||(T=64)),r.push(t[v],t[_],t[T],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new XI;const T=l<<2|f>>4;if(r.push(T),p!==64){const x=f<<4&240|p>>2;if(r.push(x),_!==64){const I=p<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WI=function(n){const e=gT(n);return yT.encodeByteArray(e,!0)},bh=function(n){return WI(n).replace(/\./g,"")},vT=function(n){try{return yT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZI=()=>JI().__FIREBASE_DEFAULTS__,e2=()=>{if(typeof process>"u"||typeof Gb>"u")return;const n=Gb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},t2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vT(n[1]);return e&&JSON.parse(e)},Kh=()=>{try{return KI()||ZI()||e2()||t2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_T=n=>Kh()?.emulatorHosts?.[n],bT=n=>{const e=_T(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wT=()=>Kh()?.config,ET=n=>Kh()?.[`_${n}`];class n2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Hs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jg(n){return(await fetch(n,{credentials:"include"})).ok}function TT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[bh(JSON.stringify(t)),bh(JSON.stringify(c)),""].join(".")}const Iu={};function i2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Iu))Iu[e]?n.emulator.push(e):n.prod.push(e);return n}function r2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $b=!1;function Zg(n,e){if(typeof window>"u"||typeof document>"u"||!Hs(window.location.host)||Iu[n]===e||Iu[n]||$b)return;Iu[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=i2().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function h(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{$b=!0,c()},T}function v(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=r2(r),x=t("text"),I=document.getElementById(x)||document.createElement("span"),k=t("learnmore"),P=document.getElementById(k)||document.createElement("a"),L=t("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;f(B),v(P,k);const X=p();h(U,L),B.append(U,I,P,X),document.body.appendChild(B)}l?(I.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function a2(){const n=Kh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ST(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u2(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function c2(){return!a2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xT(){try{return typeof indexedDB=="object"}catch{return!1}}function AT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function d2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const h2="FirebaseError";class di extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=h2,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}}class Fa{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?f2(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new di(a,f,r)}}function f2(n,e){return n.replace(m2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const m2=/\{\$([^}]+)}/g;function p2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ks(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(Yb(l)&&Yb(c)){if(!ks(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Yb(n){return n!==null&&typeof n=="object"}function Zu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Su(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function g2(n,e){const t=new y2(n,e);return t.subscribe.bind(t)}class y2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");v2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Mp),a.error===void 0&&(a.error=Mp),a.complete===void 0&&(a.complete=Mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mp(){}const _2=1e3,b2=2,w2=14400*1e3,E2=.5;function Kb(n,e=_2,t=b2){const r=e*Math.pow(t,n),a=Math.round(E2*r*(Math.random()-.5)*2);return Math.min(w2,r+a)}function rt(n){return n&&n._delegate?n._delegate:n}class ui{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ca="[DEFAULT]";class T2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new n2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x2(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S2(n){return n===Ca?void 0:n}function x2(n){return n.instantiationMode==="EAGER"}class A2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const C2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},R2=Ve.INFO,I2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},N2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=I2[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qh{constructor(e){this.name=e,this._logLevel=R2,this._logHandler=N2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const O2=(n,e)=>e.some(t=>n instanceof t);let Qb,Xb;function D2(){return Qb||(Qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return Xb||(Xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,ug=new WeakMap,RT=new WeakMap,kp=new WeakMap,ey=new WeakMap;function k2(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Rs(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&CT.set(t,n)}).catch(()=>{}),ey.set(e,n),e}function P2(n){if(ug.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ug.set(n,e)}let cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ug.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function L2(n){cg=n(cg)}function j2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pp(this),e,...t);return RT.set(r,e.sort?e.sort():[e]),Rs(r)}:M2().includes(n)?function(...e){return n.apply(Pp(this),e),Rs(CT.get(this))}:function(...e){return Rs(n.apply(Pp(this),e))}}function V2(n){return typeof n=="function"?j2(n):(n instanceof IDBTransaction&&P2(n),O2(n,D2())?new Proxy(n,cg):n)}function Rs(n){if(n instanceof IDBRequest)return k2(n);if(kp.has(n))return kp.get(n);const e=V2(n);return e!==n&&(kp.set(n,e),ey.set(e,n)),e}const Pp=n=>ey.get(n);function IT(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Rs(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Rs(c.result),h.oldVersion,h.newVersion,Rs(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const U2=["get","getKey","getAll","getAllKeys","count"],z2=["put","add","delete","clear"],Lp=new Map;function Wb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Lp.get(e))return Lp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=z2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||U2.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&h.done]))[0]};return Lp.set(e,l),l}L2(n=>({...n,get:(e,t,r)=>Wb(e,t)||n.get(e,t,r),has:(e,t)=>!!Wb(e,t)||n.has(e,t)}));class B2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function F2(n){return n.getComponent()?.type==="VERSION"}const dg="@firebase/app",Jb="0.14.6";const jr=new Qh("@firebase/app"),q2="@firebase/app-compat",H2="@firebase/analytics-compat",G2="@firebase/analytics",$2="@firebase/app-check-compat",Y2="@firebase/app-check",K2="@firebase/auth",Q2="@firebase/auth-compat",X2="@firebase/database",W2="@firebase/data-connect",J2="@firebase/database-compat",Z2="@firebase/functions",eN="@firebase/functions-compat",tN="@firebase/installations",nN="@firebase/installations-compat",iN="@firebase/messaging",rN="@firebase/messaging-compat",sN="@firebase/performance",aN="@firebase/performance-compat",oN="@firebase/remote-config",lN="@firebase/remote-config-compat",uN="@firebase/storage",cN="@firebase/storage-compat",dN="@firebase/firestore",hN="@firebase/ai",fN="@firebase/firestore-compat",mN="firebase",pN="12.6.0";const hg="[DEFAULT]",gN={[dg]:"fire-core",[q2]:"fire-core-compat",[G2]:"fire-analytics",[H2]:"fire-analytics-compat",[Y2]:"fire-app-check",[$2]:"fire-app-check-compat",[K2]:"fire-auth",[Q2]:"fire-auth-compat",[X2]:"fire-rtdb",[W2]:"fire-data-connect",[J2]:"fire-rtdb-compat",[Z2]:"fire-fn",[eN]:"fire-fn-compat",[tN]:"fire-iid",[nN]:"fire-iid-compat",[iN]:"fire-fcm",[rN]:"fire-fcm-compat",[sN]:"fire-perf",[aN]:"fire-perf-compat",[oN]:"fire-rc",[lN]:"fire-rc-compat",[uN]:"fire-gcs",[cN]:"fire-gcs-compat",[dN]:"fire-fst",[fN]:"fire-fst-compat",[hN]:"fire-vertex","fire-js":"fire-js",[mN]:"fire-js-all"};const wh=new Map,yN=new Map,fg=new Map;function Zb(n,e){try{n.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ci(n){const e=n.name;if(fg.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,n);for(const t of wh.values())Zb(t,n);for(const t of yN.values())Zb(t,n);return!0}function Gs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function In(n){return n==null?!1:n.settings!==void 0}const vN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Fa("app","Firebase",vN);class _N{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}const qa=pN;function NT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:hg,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(t||(t=wT()),!t)throw Is.create("no-options");const l=wh.get(a);if(l){if(ks(t,l.options)&&ks(r,l.config))return l;throw Is.create("duplicate-app",{appName:a})}const c=new A2(a);for(const h of fg.values())c.addComponent(h);const f=new _N(t,r,c);return wh.set(a,f),f}function Xh(n=hg){const e=wh.get(n);if(!e&&n===hg&&wT())return NT();if(!e)throw Is.create("no-app",{appName:n});return e}function On(n,e,t){let r=gN[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(c.join(" "));return}Ci(new ui(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const bN="firebase-heartbeat-database",wN=1,Uu="firebase-heartbeat-store";let jp=null;function OT(){return jp||(jp=IT(bN,wN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),jp}async function EN(n){try{const t=(await OT()).transaction(Uu),r=await t.objectStore(Uu).get(DT(n));return await t.done,r}catch(e){if(e instanceof di)jr.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e?.message});jr.warn(t.message)}}}async function ew(n,e){try{const r=(await OT()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(e,DT(n)),await r.done}catch(t){if(t instanceof di)jr.warn(t.message);else{const r=Is.create("idb-set",{originalErrorMessage:t?.message});jr.warn(r.message)}}}function DT(n){return`${n.name}!${n.options.appId}`}const TN=1024,SN=30;class xN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>SN){const a=RN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tw(),{heartbeatsToSend:t,unsentEntries:r}=AN(this._heartbeatsCache.heartbeats),a=bh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return jr.warn(e),""}}}function tw(){return new Date().toISOString().substring(0,10)}function AN(n,e=TN){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),nw(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),nw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xT()?AT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nw(n){return bh(JSON.stringify({version:2,heartbeats:n})).length}function RN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function IN(n){Ci(new ui("platform-logger",e=>new B2(e),"PRIVATE")),Ci(new ui("heartbeat",e=>new xN(e),"PRIVATE")),On(dg,Jb,n),On(dg,Jb,"esm2020"),On("fire-js","")}IN("");var NN="firebase",ON="12.6.0";On(NN,ON,"app");function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DN=MT,kT=new Fa("auth","Firebase",MT());const Eh=new Qh("@firebase/auth");function MN(n,...e){Eh.logLevel<=Ve.WARN&&Eh.warn(`Auth (${qa}): ${n}`,...e)}function rh(n,...e){Eh.logLevel<=Ve.ERROR&&Eh.error(`Auth (${qa}): ${n}`,...e)}function ci(n,...e){throw ny(n,...e)}function Ai(n,...e){return ny(n,...e)}function ty(n,e,t){const r={...DN(),[e]:t};return new Fa("auth","Firebase",r).create(e,{appName:n.name})}function kr(n){return ty(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kN(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ci(n,"argument-error"),ty(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ny(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kT.create(n,...e)}function Se(n,e,...t){if(!n)throw ny(e,...t)}function Nr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rh(e),new Error(e)}function Vr(n,e){n||Nr(e)}function mg(){return typeof self<"u"&&self.location?.href||""}function PN(){return iw()==="http:"||iw()==="https:"}function iw(){return typeof self<"u"&&self.location?.protocol||null}function LN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PN()||ST()||"connection"in navigator)?navigator.onLine:!0}function jN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ec{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vr(t>e,"Short delay should be less than long delay!"),this.isMobile=s2()||l2()}get(){return LN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iy(n,e){Vr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class PT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zN=new ec(3e4,6e4);function $s(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Fr(n,e,t,r,a={}){return LT(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Zu({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...l};return o2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Hs(n.emulatorConfig.host)&&(p.credentials="include"),PT.fetch()(await jT(n,n.config.apiHost,t,f),p)})}async function LT(n,e,t){n._canInitEmulator=!1;const r={...VN,...e};try{const a=new FN(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Hd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hd(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Hd(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Hd(n,"user-disabled",c);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ty(n,v,p);ci(n,v)}}catch(a){if(a instanceof di)throw a;ci(n,"network-request-failed",{message:String(a)})}}async function tc(n,e,t,r,a={}){const l=await Fr(n,e,t,r,a);return"mfaPendingCredential"in l&&ci(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function jT(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?iy(n.config,a):`${n.config.apiScheme}://${a}`;return UN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function BN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),zN.get())})}}function Hd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Ai(n,e,r);return a.customData._tokenResponse=t,a}function rw(n){return n!==void 0&&n.enterprise!==void 0}class qN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HN(n,e){return Fr(n,"GET","/v2/recaptchaConfig",$s(n,e))}async function GN(n,e){return Fr(n,"POST","/v1/accounts:delete",e)}async function Th(n,e){return Fr(n,"POST","/v1/accounts:lookup",e)}function Nu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $N(n,e=!1){const t=rt(n),r=await t.getIdToken(e),a=ry(r);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Nu(Vp(a.auth_time)),issuedAtTime:Nu(Vp(a.iat)),expirationTime:Nu(Vp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Vp(n){return Number(n)*1e3}function ry(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const a=vT(t);return a?JSON.parse(a):(rh("Failed to decode base64 JWT payload"),null)}catch(a){return rh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function sw(n){const e=ry(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof di&&YN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function YN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class KN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sh(n){const e=n.auth,t=await n.getIdToken(),r=await Jo(n,Th(e,{idToken:t}));Se(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?VT(a.providerUserInfo):[],c=XN(n.providerData,l),f=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,p=f?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new pg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function QN(n){const e=rt(n);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XN(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function VT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function WN(n,e){const t=await LT(n,{},async()=>{const r=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await jT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return n.emulatorConfig&&Hs(n.emulatorConfig.host)&&(h.credentials="include"),PT.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JN(n,e){return Fr(n,"POST","/v2/accounts:revokeToken",$s(n,e))}class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=sw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await WN(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Ho;return r&&(Se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return Nr("not implemented")}}function Es(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new KN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new pg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Jo(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $N(this,e)}reload(){return QN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await Jo(this,GN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:x,providerData:I,stsTokenManager:k}=t;Se(_&&k,e,"internal-error");const P=Ho.fromJSON(this.name,k);Se(typeof _=="string",e,"internal-error"),Es(r,e.name),Es(a,e.name),Se(typeof T=="boolean",e,"internal-error"),Se(typeof x=="boolean",e,"internal-error"),Es(l,e.name),Es(c,e.name),Es(f,e.name),Es(h,e.name),Es(p,e.name),Es(v,e.name);const L=new xi({uid:_,auth:e,email:a,emailVerified:T,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:p,lastLoginAt:v});return I&&Array.isArray(I)&&(L.providerData=I.map(U=>({...U}))),h&&(L._redirectEventId=h),L}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ho;a.updateFromServerResponse(t);const l=new xi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Sh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?VT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Ho;f.updateFromIdToken(r);const h=new xi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new pg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(h,p),h}}const aw=new Map;function Or(n){Vr(n instanceof Function,"Expected a class definition");let e=aw.get(n);return e?(Vr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aw.set(n,e),e)}class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UT.type="NONE";const ow=UT;function sh(n,e,t){return`firebase:${n}:${e}:${t}`}class Go{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=sh(this.userKey,a.apiKey,l),this.fullPersistenceKey=sh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Th(this.auth,{idToken:e}).catch(()=>{});return t?xi._fromGetAccountInfoResponse(this.auth,t,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Go(Or(ow),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Or(ow);const c=sh(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const T=await Th(e,{idToken:v}).catch(()=>{});if(!T)break;_=await xi._fromGetAccountInfoResponse(e,T,v)}else _=xi._fromJSON(e,v);p!==l&&(f=_),l=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Go(l,e,r):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Go(l,e,r))}}function lw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GT(e))return"Blackberry";if($T(e))return"Webos";if(BT(e))return"Safari";if((e.includes("chrome/")||FT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function zT(n=on()){return/firefox\//i.test(n)}function BT(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FT(n=on()){return/crios\//i.test(n)}function qT(n=on()){return/iemobile/i.test(n)}function HT(n=on()){return/android/i.test(n)}function GT(n=on()){return/blackberry/i.test(n)}function $T(n=on()){return/webos/i.test(n)}function sy(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZN(n=on()){return sy(n)&&!!window.navigator?.standalone}function eO(){return u2()&&document.documentMode===10}function YT(n=on()){return sy(n)||HT(n)||$T(n)||GT(n)||/windows phone/i.test(n)||qT(n)}function KT(n,e=[]){let t;switch(n){case"Browser":t=lw(on());break;case"Worker":t=`${lw(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qa}/${r}`}class tO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function nO(n,e={}){return Fr(n,"GET","/v2/passwordPolicy",$s(n,e))}const iO=6;class rO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class sO{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uw(this),this.idTokenSubscription=new uw(this),this.beforeStateQueue=new tO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Th(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(kr(this));const t=e?rt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nO(this),t=new rO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await JN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ys(n){return rt(n)}class uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=g2(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aO(n){Wh=n}function QT(n){return Wh.loadJS(n)}function oO(){return Wh.recaptchaEnterpriseScript}function lO(){return Wh.gapiScript}function uO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cO{constructor(){this.enterprise=new dO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hO="recaptcha-enterprise",XT="NO_RECAPTCHA";class fO{constructor(e){this.type=hO,this.auth=Ys(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{HN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new qN(h);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(h=>{f(h)})})}function a(l,c,f){const h=window.grecaptcha;rw(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(XT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!t&&rw(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=oO();h.length!==0&&(h+=f),QT(h).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function cw(n,e,t,r=!1,a=!1){const l=new fO(n);let c;if(a)c=XT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function gg(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await cw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}function mO(n,e){const t=Gs(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ks(l,e??{}))return a;ci(a,"already-initialized")}return t.initialize({options:e})}function pO(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Or);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function gO(n,e,t){const r=Ys(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=WT(e),{host:c,port:f}=yO(e),h=f===null?"":`:${f}`,p={url:`${l}//${c}${h}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ks(p,r.config.emulator)&&ks(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Hs(c)?(Jg(`${l}//${c}${h}`),Zg("Auth",!0)):vO()}function WT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yO(n){const e=WT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:dw(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:dw(c)}}}function dw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class ay{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,t){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function _O(n,e){return Fr(n,"POST","/v1/accounts:signUp",e)}async function bO(n,e){return tc(n,"POST","/v1/accounts:signInWithPassword",$s(n,e))}async function wO(n,e){return tc(n,"POST","/v1/accounts:signInWithEmailLink",$s(n,e))}async function EO(n,e){return tc(n,"POST","/v1/accounts:signInWithEmailLink",$s(n,e))}class zu extends ay{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new zu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,t,"signInWithPassword",bO);case"emailLink":return wO(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,r,"signUpPassword",_O);case"emailLink":return EO(e,{idToken:t,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $o(n,e){return tc(n,"POST","/v1/accounts:signInWithIdp",$s(n,e))}const TO="http://localhost";class ka extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new ka(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$o(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:TO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zu(t)}return e}}function SO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xO(n){const e=Tu(Su(n)).link,t=e?Tu(Su(e)).deep_link_id:null,r=Tu(Su(n)).deep_link_id;return(r?Tu(Su(r)).link:null)||r||t||e||n}class oy{constructor(e){const t=Tu(Su(e)),r=t.apiKey??null,a=t.oobCode??null,l=SO(t.mode??null);Se(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=xO(e);try{return new oy(t)}catch{return null}}}class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,t){return zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=oy.parseLink(t);return Se(r,"argument-error"),zu._fromEmailAndCode(e,r.code,r.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ly{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nc extends ly{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ir extends nc{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";class Ji extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ka._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ji.credential(t,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Ts extends nc{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";class Ss extends nc{constructor(){super("twitter.com")}static credential(e,t){return ka._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ss.credential(t,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";async function AO(n,e){return tc(n,"POST","/v1/accounts:signUp",$s(n,e))}class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await xi._fromIdTokenResponse(e,r,a),c=hw(r);return new Pa({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=hw(r);return new Pa({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function hw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class xh extends di{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new xh(e,t,r,a)}}function JT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(n,l,e,r):l})}async function CO(n,e,t=!1){const r=await Jo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pa._forOperation(n,"link",r)}async function RO(n,e,t=!1){const{auth:r}=n;if(In(r.app))return Promise.reject(kr(r));const a="reauthenticate";try{const l=await Jo(n,JT(r,a,e,n),t);Se(l.idToken,r,"internal-error");const c=ry(l.idToken);Se(c,r,"internal-error");const{sub:f}=c;return Se(n.uid===f,r,"user-mismatch"),Pa._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ci(r,"user-mismatch"),l}}async function ZT(n,e,t=!1){if(In(n.app))return Promise.reject(kr(n));const r="signIn",a=await JT(n,r,e),l=await Pa._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function IO(n,e){return ZT(Ys(n),e)}async function eS(n){const e=Ys(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NO(n,e,t){if(In(n.app))return Promise.reject(kr(n));const r=Ys(n),c=await gg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&eS(n),h}),f=await Pa._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function OO(n,e,t){return In(n.app)?Promise.reject(kr(n)):IO(rt(n),ol.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eS(n),r})}async function DO(n,e){return Fr(n,"POST","/v1/accounts:update",e)}async function tS(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=rt(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Jo(r,DO(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:h})=>h==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function MO(n,e,t,r){return rt(n).onIdTokenChanged(e,t,r)}function kO(n,e,t){return rt(n).beforeAuthStateChanged(e,t)}function PO(n,e,t,r){return rt(n).onAuthStateChanged(e,t,r)}function LO(n){return rt(n).signOut()}const Ah="__sak";class nS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jO=1e3,VO=10;class iS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);eO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,VO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},jO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iS.type="LOCAL";const UO=iS;class rS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rS.type="SESSION";const sS=rS;function zO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,l)),h=await zO(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];function uy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class BO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const p=uy("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(v),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function er(){return window}function FO(n){er().location.href=n}function aS(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function qO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HO(){return navigator?.serviceWorker?.controller||null}function GO(){return aS()?self:null}const oS="firebaseLocalStorageDb",$O=1,Ch="firebaseLocalStorage",lS="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zh(n,e){return n.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function YO(){const n=indexedDB.deleteDatabase(oS);return new ic(n).toPromise()}function yg(){const n=indexedDB.open(oS,$O);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ch,{keyPath:lS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),await YO(),e(await yg()))})})}async function fw(n,e,t){const r=Zh(n,!0).put({[lS]:e,value:t});return new ic(r).toPromise()}async function KO(n,e){const t=Zh(n,!1).get(e),r=await new ic(t).toPromise();return r===void 0?null:r.value}function mw(n,e){const t=Zh(n,!0).delete(e);return new ic(t).toPromise()}const QO=800,XO=3;class uS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>XO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(GO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qO(),!this.activeServiceWorker)return;this.sender=new BO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await fw(e,Ah,"1"),await mw(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>fw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>KO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Zh(a,!1).getAll();return new ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uS.type="LOCAL";const WO=uS;new ec(3e4,6e4);function cS(n,e){return e?Or(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class cy extends ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JO(n){return ZT(n.auth,new cy(n),n.bypassAuthState)}function ZO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),RO(t,new cy(n),n.bypassAuthState)}async function eD(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),CO(t,new cy(n),n.bypassAuthState)}class dS{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JO;case"linkViaPopup":case"linkViaRedirect":return eD;case"reauthViaPopup":case"reauthViaRedirect":return ZO;default:ci(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tD=new ec(2e3,1e4);async function hS(n,e,t){if(In(n.app))return Promise.reject(Ai(n,"operation-not-supported-in-this-environment"));const r=Ys(n);kN(n,e,ly);const a=cS(r,t);return new Ra(r,"signInViaPopup",e,a).executeNotNull()}class Ra extends dS{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tD.get())};e()}}Ra.currentPopupAction=null;const nD="pendingRedirect",ah=new Map;class iD extends dS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await rD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rD(n,e){const t=oD(e),r=aD(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function sD(n,e){ah.set(n._key(),e)}function aD(n){return Or(n._redirectPersistence)}function oD(n){return sh(nD,n.config.apiKey,n.name)}async function lD(n,e,t=!1){if(In(n.app))return Promise.reject(kr(n));const r=Ys(n),a=cS(r,e),c=await new iD(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const uD=600*1e3;class cD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!fS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ai(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uD&&this.cachedEventUids.clear(),this.cachedEventUids.has(pw(e))}saveEventToCache(e){this.cachedEventUids.add(pw(e)),this.lastProcessedEventTime=Date.now()}}function pw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function dD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(n);default:return!1}}async function hD(n,e={}){return Fr(n,"GET","/v1/projects",e)}const fD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mD=/^https?/;async function pD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await hD(n);for(const t of e)try{if(gD(t))return}catch{}ci(n,"unauthorized-domain")}function gD(n){const e=mg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!mD.test(t))return!1;if(fD.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const yD=new ec(3e4,6e4);function gw(){const n=er().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vD(n){return new Promise((e,t)=>{function r(){gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gw(),t(Ai(n,"network-request-failed"))},timeout:yD.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)r();else{const a=uO("iframefcb");return er()[a]=()=>{gapi.load?r():t(Ai(n,"network-request-failed"))},QT(`${lO()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw oh=null,e})}let oh=null;function _D(n){return oh=oh||vD(n),oh}const bD=new ec(5e3,15e3),wD="__/auth/iframe",ED="emulator/auth/iframe",TD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xD(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iy(e,ED):`https://${n.config.authDomain}/${wD}`,r={apiKey:e.apiKey,appName:n.name,v:qa},a=SD.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Zu(r).slice(1)}`}async function AD(n){const e=await _D(n),t=er().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:xD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TD,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Ai(n,"network-request-failed"),f=er().setTimeout(()=>{l(c)},bD.get());function h(){er().clearTimeout(f),a(r)}r.ping(h).then(h,()=>{l(c)})}))}const CD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RD=500,ID=600,ND="_blank",OD="http://localhost";class yw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DD(n,e,t,r=RD,a=ID){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h={...CD,width:r.toString(),height:a.toString(),top:l,left:c},p=on().toLowerCase();t&&(f=FT(p)?ND:t),zT(p)&&(e=e||OD,h.scrollbars="yes");const v=Object.entries(h).reduce((T,[x,I])=>`${T}${x}=${I},`,"");if(ZN(p)&&f!=="_self")return MD(e||"",f),new yw(null);const _=window.open(e||"",f,v);Se(_,n,"popup-blocked");try{_.focus()}catch{}return new yw(_)}function MD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const kD="__/auth/handler",PD="emulator/auth/handler",LD=encodeURIComponent("fac");async function vw(n,e,t,r,a,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qa,eventId:a};if(e instanceof ly){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",p2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof nc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),p=h?`#${LD}=${encodeURIComponent(h)}`:"";return`${jD(n)}?${Zu(f).slice(1)}${p}`}function jD({config:n}){return n.emulator?iy(n,PD):`https://${n.authDomain}/${kD}`}const Up="webStorageSupport";class VD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sS,this._completeRedirectFn=lD,this._overrideRedirectResult=sD}async _openPopup(e,t,r,a){Vr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await vw(e,t,r,mg(),a);return DD(e,l,uy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await vw(e,t,r,mg(),a);return FO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Vr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await AD(e),r=new cD(e);return t.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Up,{type:Up},a=>{const l=a?.[0]?.[Up];l!==void 0&&t(!!l),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return YT()||BT()||sy()}}const UD=VD;var _w="@firebase/auth",bw="1.11.1";class zD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FD(n){Ci(new ui("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(n)},p=new sO(r,a,l,h);return pO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ci(new ui("auth-internal",e=>{const t=Ys(e.getProvider("auth").getImmediate());return(r=>new zD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(_w,bw,BD(n)),On(_w,bw,"esm2020")}const qD=300,HD=ET("authIdTokenMaxAge")||qD;let ww=null;const GD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>HD)return;const a=t?.token;ww!==a&&(ww=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function $D(n=Xh()){const e=Gs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mO(n,{popupRedirectResolver:UD,persistence:[WO,UO,sS]}),r=ET("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=GD(l.toString());kO(t,c,()=>c(t.currentUser)),MO(t,f=>c(f))}}const a=_T("auth");return a&&gO(t,`http://${a}`),t}function YD(){return document.getElementsByTagName("head")?.[0]??document}aO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Ai("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",YD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FD("Browser");var Ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ns,mS;(function(){var n;function e(D,S){function M(){}M.prototype=S.prototype,D.F=S.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(N,C,z){for(var O=Array(arguments.length-2),de=2;de<arguments.length;de++)O[de-2]=arguments[de];return S.prototype[C].apply(N,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,S,M){M||(M=0);const N=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)N[C]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(C=0;C<16;++C)N[C]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=D.g[0],M=D.g[1],C=D.g[2];let z=D.g[3],O;O=S+(z^M&(C^z))+N[0]+3614090360&4294967295,S=M+(O<<7&4294967295|O>>>25),O=z+(C^S&(M^C))+N[1]+3905402710&4294967295,z=S+(O<<12&4294967295|O>>>20),O=C+(M^z&(S^M))+N[2]+606105819&4294967295,C=z+(O<<17&4294967295|O>>>15),O=M+(S^C&(z^S))+N[3]+3250441966&4294967295,M=C+(O<<22&4294967295|O>>>10),O=S+(z^M&(C^z))+N[4]+4118548399&4294967295,S=M+(O<<7&4294967295|O>>>25),O=z+(C^S&(M^C))+N[5]+1200080426&4294967295,z=S+(O<<12&4294967295|O>>>20),O=C+(M^z&(S^M))+N[6]+2821735955&4294967295,C=z+(O<<17&4294967295|O>>>15),O=M+(S^C&(z^S))+N[7]+4249261313&4294967295,M=C+(O<<22&4294967295|O>>>10),O=S+(z^M&(C^z))+N[8]+1770035416&4294967295,S=M+(O<<7&4294967295|O>>>25),O=z+(C^S&(M^C))+N[9]+2336552879&4294967295,z=S+(O<<12&4294967295|O>>>20),O=C+(M^z&(S^M))+N[10]+4294925233&4294967295,C=z+(O<<17&4294967295|O>>>15),O=M+(S^C&(z^S))+N[11]+2304563134&4294967295,M=C+(O<<22&4294967295|O>>>10),O=S+(z^M&(C^z))+N[12]+1804603682&4294967295,S=M+(O<<7&4294967295|O>>>25),O=z+(C^S&(M^C))+N[13]+4254626195&4294967295,z=S+(O<<12&4294967295|O>>>20),O=C+(M^z&(S^M))+N[14]+2792965006&4294967295,C=z+(O<<17&4294967295|O>>>15),O=M+(S^C&(z^S))+N[15]+1236535329&4294967295,M=C+(O<<22&4294967295|O>>>10),O=S+(C^z&(M^C))+N[1]+4129170786&4294967295,S=M+(O<<5&4294967295|O>>>27),O=z+(M^C&(S^M))+N[6]+3225465664&4294967295,z=S+(O<<9&4294967295|O>>>23),O=C+(S^M&(z^S))+N[11]+643717713&4294967295,C=z+(O<<14&4294967295|O>>>18),O=M+(z^S&(C^z))+N[0]+3921069994&4294967295,M=C+(O<<20&4294967295|O>>>12),O=S+(C^z&(M^C))+N[5]+3593408605&4294967295,S=M+(O<<5&4294967295|O>>>27),O=z+(M^C&(S^M))+N[10]+38016083&4294967295,z=S+(O<<9&4294967295|O>>>23),O=C+(S^M&(z^S))+N[15]+3634488961&4294967295,C=z+(O<<14&4294967295|O>>>18),O=M+(z^S&(C^z))+N[4]+3889429448&4294967295,M=C+(O<<20&4294967295|O>>>12),O=S+(C^z&(M^C))+N[9]+568446438&4294967295,S=M+(O<<5&4294967295|O>>>27),O=z+(M^C&(S^M))+N[14]+3275163606&4294967295,z=S+(O<<9&4294967295|O>>>23),O=C+(S^M&(z^S))+N[3]+4107603335&4294967295,C=z+(O<<14&4294967295|O>>>18),O=M+(z^S&(C^z))+N[8]+1163531501&4294967295,M=C+(O<<20&4294967295|O>>>12),O=S+(C^z&(M^C))+N[13]+2850285829&4294967295,S=M+(O<<5&4294967295|O>>>27),O=z+(M^C&(S^M))+N[2]+4243563512&4294967295,z=S+(O<<9&4294967295|O>>>23),O=C+(S^M&(z^S))+N[7]+1735328473&4294967295,C=z+(O<<14&4294967295|O>>>18),O=M+(z^S&(C^z))+N[12]+2368359562&4294967295,M=C+(O<<20&4294967295|O>>>12),O=S+(M^C^z)+N[5]+4294588738&4294967295,S=M+(O<<4&4294967295|O>>>28),O=z+(S^M^C)+N[8]+2272392833&4294967295,z=S+(O<<11&4294967295|O>>>21),O=C+(z^S^M)+N[11]+1839030562&4294967295,C=z+(O<<16&4294967295|O>>>16),O=M+(C^z^S)+N[14]+4259657740&4294967295,M=C+(O<<23&4294967295|O>>>9),O=S+(M^C^z)+N[1]+2763975236&4294967295,S=M+(O<<4&4294967295|O>>>28),O=z+(S^M^C)+N[4]+1272893353&4294967295,z=S+(O<<11&4294967295|O>>>21),O=C+(z^S^M)+N[7]+4139469664&4294967295,C=z+(O<<16&4294967295|O>>>16),O=M+(C^z^S)+N[10]+3200236656&4294967295,M=C+(O<<23&4294967295|O>>>9),O=S+(M^C^z)+N[13]+681279174&4294967295,S=M+(O<<4&4294967295|O>>>28),O=z+(S^M^C)+N[0]+3936430074&4294967295,z=S+(O<<11&4294967295|O>>>21),O=C+(z^S^M)+N[3]+3572445317&4294967295,C=z+(O<<16&4294967295|O>>>16),O=M+(C^z^S)+N[6]+76029189&4294967295,M=C+(O<<23&4294967295|O>>>9),O=S+(M^C^z)+N[9]+3654602809&4294967295,S=M+(O<<4&4294967295|O>>>28),O=z+(S^M^C)+N[12]+3873151461&4294967295,z=S+(O<<11&4294967295|O>>>21),O=C+(z^S^M)+N[15]+530742520&4294967295,C=z+(O<<16&4294967295|O>>>16),O=M+(C^z^S)+N[2]+3299628645&4294967295,M=C+(O<<23&4294967295|O>>>9),O=S+(C^(M|~z))+N[0]+4096336452&4294967295,S=M+(O<<6&4294967295|O>>>26),O=z+(M^(S|~C))+N[7]+1126891415&4294967295,z=S+(O<<10&4294967295|O>>>22),O=C+(S^(z|~M))+N[14]+2878612391&4294967295,C=z+(O<<15&4294967295|O>>>17),O=M+(z^(C|~S))+N[5]+4237533241&4294967295,M=C+(O<<21&4294967295|O>>>11),O=S+(C^(M|~z))+N[12]+1700485571&4294967295,S=M+(O<<6&4294967295|O>>>26),O=z+(M^(S|~C))+N[3]+2399980690&4294967295,z=S+(O<<10&4294967295|O>>>22),O=C+(S^(z|~M))+N[10]+4293915773&4294967295,C=z+(O<<15&4294967295|O>>>17),O=M+(z^(C|~S))+N[1]+2240044497&4294967295,M=C+(O<<21&4294967295|O>>>11),O=S+(C^(M|~z))+N[8]+1873313359&4294967295,S=M+(O<<6&4294967295|O>>>26),O=z+(M^(S|~C))+N[15]+4264355552&4294967295,z=S+(O<<10&4294967295|O>>>22),O=C+(S^(z|~M))+N[6]+2734768916&4294967295,C=z+(O<<15&4294967295|O>>>17),O=M+(z^(C|~S))+N[13]+1309151649&4294967295,M=C+(O<<21&4294967295|O>>>11),O=S+(C^(M|~z))+N[4]+4149444226&4294967295,S=M+(O<<6&4294967295|O>>>26),O=z+(M^(S|~C))+N[11]+3174756917&4294967295,z=S+(O<<10&4294967295|O>>>22),O=C+(S^(z|~M))+N[2]+718787259&4294967295,C=z+(O<<15&4294967295|O>>>17),O=M+(z^(C|~S))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,S){S===void 0&&(S=D.length);const M=S-this.blockSize,N=this.C;let C=this.h,z=0;for(;z<S;){if(C==0)for(;z<=M;)a(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<S;)if(N[C++]=D.charCodeAt(z++),C==this.blockSize){a(this,N),C=0;break}}else for(;z<S;)if(N[C++]=D[z++],C==this.blockSize){a(this,N),C=0;break}}this.h=C,this.o+=S},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,M=0;M<4;++M)for(let N=0;N<32;N+=8)D[S++]=this.g[M]>>>N&255;return D};function l(D,S){var M=f;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=S(D)}function c(D,S){this.h=S;const M=[];let N=!0;for(let C=D.length-1;C>=0;C--){const z=D[C]|0;N&&z==S||(M[C]=z,N=!1)}this.g=M}var f={};function h(D){return-128<=D&&D<128?l(D,function(S){return new c([S|0],S<0?-1:0)}):new c([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return P(p(-D));const S=[];let M=1;for(let N=0;D>=M;N++)S[N]=D/M|0,M*=4294967296;return new c(S,0)}function v(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return P(v(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(S,8));let N=_;for(let z=0;z<D.length;z+=8){var C=Math.min(8,D.length-z);const O=parseInt(D.substring(z,z+C),S);C<8?(C=p(Math.pow(S,C)),N=N.j(C).add(p(O))):(N=N.j(M),N=N.add(p(O)))}return N}var _=h(0),T=h(1),x=h(16777216);n=c.prototype,n.m=function(){if(k(this))return-P(this).m();let D=0,S=1;for(let M=0;M<this.g.length;M++){const N=this.i(M);D+=(N>=0?N:4294967296+N)*S,S*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(k(this))return"-"+P(this).toString(D);const S=p(Math.pow(D,6));var M=this;let N="";for(;;){const C=X(M,S).g;M=L(M,C.j(S));let z=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=C,I(M))return z+N;for(;z.length<6;)z="0"+z;N=z+N}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=L(this,D),k(D)?-1:I(D)?0:1};function P(D){const S=D.g.length,M=[];for(let N=0;N<S;N++)M[N]=~D.g[N];return new c(M,~D.h).add(T)}n.abs=function(){return k(this)?P(this):this},n.add=function(D){const S=Math.max(this.g.length,D.g.length),M=[];let N=0;for(let C=0;C<=S;C++){let z=N+(this.i(C)&65535)+(D.i(C)&65535),O=(z>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);N=O>>>16,z&=65535,O&=65535,M[C]=O<<16|z}return new c(M,M[M.length-1]&-2147483648?-1:0)};function L(D,S){return D.add(P(S))}n.j=function(D){if(I(this)||I(D))return _;if(k(this))return k(D)?P(this).j(P(D)):P(P(this).j(D));if(k(D))return P(this.j(P(D)));if(this.l(x)<0&&D.l(x)<0)return p(this.m()*D.m());const S=this.g.length+D.g.length,M=[];for(var N=0;N<2*S;N++)M[N]=0;for(N=0;N<this.g.length;N++)for(let C=0;C<D.g.length;C++){const z=this.i(N)>>>16,O=this.i(N)&65535,de=D.i(C)>>>16,ce=D.i(C)&65535;M[2*N+2*C]+=O*ce,U(M,2*N+2*C),M[2*N+2*C+1]+=z*ce,U(M,2*N+2*C+1),M[2*N+2*C+1]+=O*de,U(M,2*N+2*C+1),M[2*N+2*C+2]+=z*de,U(M,2*N+2*C+2)}for(D=0;D<S;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=S;D<2*S;D++)M[D]=0;return new c(M,0)};function U(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function B(D,S){this.g=D,this.h=S}function X(D,S){if(I(S))throw Error("division by zero");if(I(D))return new B(_,_);if(k(D))return S=X(P(D),S),new B(P(S.g),P(S.h));if(k(S))return S=X(D,P(S)),new B(P(S.g),S.h);if(D.g.length>30){if(k(D)||k(S))throw Error("slowDivide_ only works with positive integers.");for(var M=T,N=S;N.l(D)<=0;)M=ee(M),N=ee(N);var C=re(M,1),z=re(N,1);for(N=re(N,2),M=re(M,2);!I(N);){var O=z.add(N);O.l(D)<=0&&(C=C.add(M),z=O),N=re(N,1),M=re(M,1)}return S=L(D,C.j(S)),new B(C,S)}for(C=_;D.l(S)>=0;){for(M=Math.max(1,Math.floor(D.m()/S.m())),N=Math.ceil(Math.log(M)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),z=p(M),O=z.j(S);k(O)||O.l(D)>0;)M-=N,z=p(M),O=z.j(S);I(z)&&(z=T),C=C.add(z),D=L(D,O)}return new B(C,D)}n.B=function(D){return X(this,D).h},n.and=function(D){const S=Math.max(this.g.length,D.g.length),M=[];for(let N=0;N<S;N++)M[N]=this.i(N)&D.i(N);return new c(M,this.h&D.h)},n.or=function(D){const S=Math.max(this.g.length,D.g.length),M=[];for(let N=0;N<S;N++)M[N]=this.i(N)|D.i(N);return new c(M,this.h|D.h)},n.xor=function(D){const S=Math.max(this.g.length,D.g.length),M=[];for(let N=0;N<S;N++)M[N]=this.i(N)^D.i(N);return new c(M,this.h^D.h)};function ee(D){const S=D.g.length+1,M=[];for(let N=0;N<S;N++)M[N]=D.i(N)<<1|D.i(N-1)>>>31;return new c(M,D.h)}function re(D,S){const M=S>>5;S%=32;const N=D.g.length-M,C=[];for(let z=0;z<N;z++)C[z]=S>0?D.i(z+M)>>>S|D.i(z+M+1)<<32-S:D.i(z+M);return new c(C,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Ns=c}).apply(typeof Ew<"u"?Ew:typeof self<"u"?self:typeof window<"u"?window:{});var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pS,xu,gS,lh,vg,yS,vS,_S;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gd=="object"&&Gd];for(var b=0;b<d.length;++b){var E=d[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(d,b){if(b)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var Y=d[R];if(!(Y in E))break e;E=E[Y]}d=d[d.length-1],R=E[d],b=b(R),b!=R&&b!=null&&e(E,d,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(b){var E=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&E.push([R,b[R]]);return E}});var l=l||{},c=this||self;function f(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function h(d,b,E){return d.call.apply(d.bind,arguments)}function p(d,b,E){return p=h,p.apply(null,arguments)}function v(d,b){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function _(d,b){function E(){}E.prototype=b.prototype,d.Z=b.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(R,Y,Z){for(var pe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)pe[Oe-2]=arguments[Oe];return b.prototype[Y].apply(R,pe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const b=d.length;if(b>0){const E=Array(b);for(let R=0;R<b;R++)E[R]=d[R];return E}return[]}function I(d,b){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var E=typeof Y;if(E=E!="object"?E:Y?Array.isArray(Y)?"array":E:"null",E=="array"||E=="object"&&typeof Y.length=="number"){E=d.length||0;const Z=Y.length||0;d.length=E+Z;for(let pe=0;pe<Z;pe++)d[E+pe]=Y[pe]}else d.push(Y)}}class k{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function P(d){c.setTimeout(()=>{throw d},0)}function L(){var d=D;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,E){const R=B.get();R.set(b,E),this.h?this.h.next=R:this.g=R,this.h=R}}var B=new k(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,re=!1,D=new U,S=()=>{const d=Promise.resolve(void 0);ee=()=>{d.then(M)}};function M(){for(var d;d=L();){try{d.h.call(d.g)}catch(E){P(E)}var b=B;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}re=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,b),c.removeEventListener("test",E,b)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function de(d,b){C.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}_(de,C),de.prototype.init=function(d,b){const E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(E=="mouseover"?b=d.fromElement:E=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(d,b,E,R,Y){this.listener=d,this.proxy=null,this.src=b,this.type=E,this.capture=!!R,this.ha=Y,this.key=++q,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function le(d,b,E){for(const R in d)b.call(E,d[R],R,d)}function fe(d,b){for(const E in d)b.call(void 0,d[E],E,d)}function j(d){const b={};for(const E in d)b[E]=d[E];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(d,b){let E,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(E in R)d[E]=R[E];for(let Z=0;Z<ne.length;Z++)E=ne[Z],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,b,E,R,Y){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const pe=Ae(d,b,R,Y);return pe>-1?(b=d[pe],E||(b.fa=!1)):(b=new J(b,this.src,Z,!!R,Y),b.fa=E,d.push(b)),b};function be(d,b){const E=b.type;if(E in d.g){var R=d.g[E],Y=Array.prototype.indexOf.call(R,b,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(R,Y,1),Z&&($(b),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Ae(d,b,E,R){for(let Y=0;Y<d.length;++Y){const Z=d[Y];if(!Z.da&&Z.listener==b&&Z.capture==!!E&&Z.ha==R)return Y}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),ot={};function qe(d,b,E,R,Y){if(Array.isArray(b)){for(let Z=0;Z<b.length;Z++)qe(d,b[Z],E,R,Y);return null}return E=gl(E),d&&d[ce]?d.J(b,E,f(R)?!!R.capture:!1,Y):yt(d,b,E,!1,R,Y)}function yt(d,b,E,R,Y,Z){if(!b)throw Error("Invalid event type");const pe=f(Y)?!!Y.capture:!!Y;let Oe=Xs(d);if(Oe||(d[Ne]=Oe=new me(d)),E=Oe.add(b,E,R,pe,Z),E.proxy)return E;if(R=un(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)z||(Y=pe),Y===void 0&&(Y=!1),d.addEventListener(b.toString(),R,Y);else if(d.attachEvent)d.attachEvent(Ii(b.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function un(){function d(E){return b.call(d.src,d.listener,E)}const b=ml;return d}function Gn(d,b,E,R,Y){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)Gn(d,b[Z],E,R,Y);else R=f(R)?!!R.capture:!!R,E=gl(E),d&&d[ce]?(d=d.i,Z=String(b).toString(),Z in d.g&&(b=d.g[Z],E=Ae(b,E,R,Y),E>-1&&($(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete d.g[Z],d.h--)))):d&&(d=Xs(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ae(b,E,R,Y)),(E=d>-1?b[d]:null)&&hi(E))}function hi(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[ce])be(b.i,d);else{var E=d.type,R=d.proxy;b.removeEventListener?b.removeEventListener(E,R,d.capture):b.detachEvent?b.detachEvent(Ii(E),R):b.addListener&&b.removeListener&&b.removeListener(R),(E=Xs(b))?(be(E,d),E.h==0&&(E.src=null,b[Ne]=null)):$(d)}}}function Ii(d){return d in ot?ot[d]:ot[d]="on"+d}function ml(d,b){if(d.da)d=!0;else{b=new de(b,this);const E=d.listener,R=d.ha||d.src;d.fa&&hi(d),d=E.call(R,b)}return d}function Xs(d){return d=d[Ne],d instanceof me?d:null}var pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function gl(d){return typeof d=="function"?d:(d[pl]||(d[pl]=function(b){return d.handleEvent(b)}),d[pl])}function At(){N.call(this),this.i=new me(this),this.M=this,this.G=null}_(At,N),At.prototype[ce]=!0,At.prototype.removeEventListener=function(d,b,E,R){Gn(this,d,b,E,R)};function Ut(d,b){var E,R=d.G;if(R)for(E=[];R;R=R.G)E.push(R);if(d=d.M,R=b.type||b,typeof b=="string")b=new C(b,d);else if(b instanceof C)b.target=b.target||d;else{var Y=b;b=new C(R,d),he(b,Y)}Y=!0;let Z,pe;if(E)for(pe=E.length-1;pe>=0;pe--)Z=b.g=E[pe],Y=qr(Z,R,!0,b)&&Y;if(Z=b.g=d,Y=qr(Z,R,!0,b)&&Y,Y=qr(Z,R,!1,b)&&Y,E)for(pe=0;pe<E.length;pe++)Z=b.g=E[pe],Y=qr(Z,R,!1,b)&&Y}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const E=d.g[b];for(let R=0;R<E.length;R++)$(E[R]);delete d.g[b],d.h--}}this.G=null},At.prototype.J=function(d,b,E,R){return this.i.add(String(d),b,!1,E,R)},At.prototype.K=function(d,b,E,R){return this.i.add(String(d),b,!0,E,R)};function qr(d,b,E,R){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let Z=0;Z<b.length;++Z){const pe=b[Z];if(pe&&!pe.da&&pe.capture==E){const Oe=pe.listener,Et=pe.ha||pe.src;pe.fa&&be(d.i,pe),Y=Oe.call(Et,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function Cf(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(d,b||0)}function mc(d){d.g=Cf(()=>{d.g=null,d.i&&(d.i=!1,mc(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class cn extends N{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:mc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(d){N.call(this),this.h=d,this.g={}}_(Ws,N);var yl=[];function vl(d){le(d.g,function(b,E){this.g.hasOwnProperty(E)&&hi(b)},d),d.g={}}Ws.prototype.N=function(){Ws.Z.N.call(this),vl(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=c.JSON.stringify,Rf=c.JSON.parse,pc=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gc(){}function yc(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){C.call(this,"d")}_(Yt,C);function $n(){C.call(this,"c")}_($n,C);var wt={},vc=null;function Ka(){return vc=vc||new At}wt.Ia="serverreachability";function _c(d){C.call(this,wt.Ia,d)}_(_c,C);function Ni(d){const b=Ka();Ut(b,new _c(b))}wt.STAT_EVENT="statevent";function Js(d,b){C.call(this,wt.STAT_EVENT,d),this.stat=b}_(Js,C);function Ct(d){const b=Ka();Ut(b,new Js(b,d))}wt.Ja="timingevent";function Oi(d,b){C.call(this,wt.Ja,d),this.size=b}_(Oi,C);function Di(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},b)}function mi(){this.g=!0}mi.prototype.ua=function(){this.g=!1};function If(d,b,E,R,Y,Z){d.info(function(){if(d.g)if(Z){var pe="",Oe=Z.split("&");for(let $e=0;$e<Oe.length;$e++){var Et=Oe[$e].split("=");if(Et.length>1){const ht=Et[0];Et=Et[1];const Xn=ht.split("_");pe=Xn.length>=2&&Xn[1]=="type"?pe+(ht+"="+Et+"&"):pe+(ht+"=redacted&")}}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+b+`
`+E+`
`+pe})}function bc(d,b,E,R,Y,Z,pe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+b+`
`+E+`
`+Z+" "+pe})}function Mi(d,b,E,R){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Nf(d,E)+(R?" "+R:"")})}function Zs(d,b){d.info(function(){return"TIMEOUT: "+b})}mi.prototype.info=function(){};function Nf(d,b){if(!d.g)return b;if(!b)return null;try{const Z=JSON.parse(b);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var E=Z[d];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let pe=1;pe<R.length;pe++)R[pe]=""}}}}return Hr(Z)}catch{return b}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function ta(){}_(ta,gc),ta.prototype.g=function(){return new XMLHttpRequest},bl=new ta;function ur(d){return encodeURIComponent(String(d))}function wc(d){var b=1;d=d.split(":");const E=[];for(;b>0&&d.length;)E.push(d.shift()),b--;return d.length&&E.push(d.join(":")),E}function pi(d,b,E,R){this.j=d,this.i=b,this.l=E,this.S=R||1,this.V=new Ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function ki(d,b,E){d.M=1,d.A=na(Nt(b)),d.u=E,d.R=!0,Qa(d,null)}function Qa(d,b){d.F=Date.now(),Pi(d),d.B=Nt(d.A);var E=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),Za(E.i,"t",R),d.C=0,E=d.j.L,d.h=new gi,d.g=Lc(d.j,E?b:null,!d.u),d.P>0&&(d.O=new cn(p(d.Y,d,d.g),d.P)),b=d.V,E=d.g,R=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(yl[0]=Y.toString()),Y=yl);for(let Z=0;Z<Y.length;Z++){const pe=qe(E,Y[Z],R||b.handleEvent,!1,b.h||b);if(!pe)break;b.g[pe.key]=pe}b=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Ni(),If(d.i,d.v,d.B,d.l,d.S,d.u)}pi.prototype.ba=function(d){d=d.target;const b=this.O;b&&_i(d)==3?b.j():this.Y(d)},pi.prototype.Y=function(d){try{if(d==this.g)e:{const Oe=_i(this.g),Et=this.g.ya(),$e=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Oe!=4||Et==7||(Et==8||$e<=0?Ni(3):Ni(2)),Li(this);var b=this.g.ca();this.X=b;var E=Of(this);if(this.o=b==200,bc(this.i,this.v,this.B,this.l,this.S,Oe,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var Z=R;break t}}Z=null}if(d=Z)Mi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,d);else{this.o=!1,this.m=3,Ct(12),Dn(this),Yn(this);break e}}if(this.R){d=!0;let ht;for(;!this.K&&this.C<E.length;)if(ht=Tc(this,E),ht==qt){Oe==4&&(this.m=4,Ct(14),d=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,Ct(15),Mi(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Mi(this.i,this.l,ht,null),ji(this,ht);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||E.length!=0||this.h.h||(this.m=1,Ct(16),d=!1),this.o=this.o&&d,!d)Mi(this.i,this.l,E,"[Invalid Chunked Response]"),Dn(this),Yn(this);else if(E.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Pl(pe),pe.P=!0,Ct(11))}}else Mi(this.i,this.l,E,null),ji(this,E);Oe==4&&Dn(this),this.o&&!this.K&&(Oe==4?Dc(this.j,this):(this.o=!1,Pi(this)))}else dr(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Dn(this),Yn(this)}}}catch{}finally{}};function Of(d){if(!Ec(d))return d.g.la();const b=Kt(d.g);if(b==="")return"";let E="";const R=b.length,Y=_i(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Dn(d),Yn(d),"";d.h.i=new c.TextDecoder}for(let Z=0;Z<R;Z++)d.h.h=!0,E+=d.h.i.decode(b[Z],{stream:!(Y&&Z==R-1)});return b.length=0,d.h.g+=E,d.C=0,d.h.g}function Ec(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Tc(d,b){var E=d.C,R=b.indexOf(`
`,E);return R==-1?qt:(E=Number(b.substring(E,R)),isNaN(E)?Rt:(R+=1,R+E>b.length?qt:(b=b.slice(R,R+E),d.C=R+E,b)))}pi.prototype.cancel=function(){this.K=!0,Dn(this)};function Pi(d){d.T=Date.now()+d.H,Xa(d,d.H)}function Xa(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Di(p(d.aa,d),b)}function Li(d){d.D&&(c.clearTimeout(d.D),d.D=null)}pi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Zs(this.i,this.B),this.M!=2&&(Ni(),Ct(17)),Dn(this),this.m=2,Yn(this)):Xa(this,this.T-d)};function Yn(d){d.j.I==0||d.K||Dc(d.j,d)}function Dn(d){Li(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,vl(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function ji(d,b){try{var E=d.j;if(E.I!=0&&(E.g==d||Ui(E.h,d))){if(!d.L&&Ui(E.h,d)&&E.I==3){try{var R=E.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)ro(E),Jr(E);else break e;ua(E),Ct(18)}}else E.xa=Y[1],0<E.xa-E.K&&Y[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Di(p(E.Va,E),6e3));Vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Gi(E,11)}else if((d.L||E.g==d)&&ro(E),!O(b))for(Y=E.Ba.g.parse(b),b=0;b<Y.length;b++){let $e=Y[b];const ht=$e[0];if(!(ht<=E.K))if(E.K=ht,$e=$e[1],E.I==2)if($e[0]=="c"){E.M=$e[1],E.ba=$e[2];const Xn=$e[3];Xn!=null&&(E.ka=Xn,E.j.info("VER="+E.ka));const $i=$e[4];$i!=null&&(E.za=$i,E.j.info("SVER="+E.za));const bi=$e[5];bi!=null&&typeof bi=="number"&&bi>0&&(R=1.5*bi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const wi=d.g;if(wi){const ca=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var Z=R.h;Z.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Tl(Z,Z.h),Z.h=null))}if(R.G){const so=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(R.wa=so,Xe(R.J,R.G,so))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var pe=d;if(R.na=Pc(R,R.L?R.ba:null,R.W),pe.L){Sl(R.h,pe);var Oe=pe,Et=R.O;Et&&(Oe.H=Et),Oe.D&&(Li(Oe),Pi(Oe)),R.g=pe}else Nc(R);E.i.length>0&&Hi(E)}else $e[0]!="stop"&&$e[0]!="close"||Gi(E,7);else E.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Gi(E,7):Ml(E):$e[0]!="noop"&&E.l&&E.l.qa($e),E.A=0)}}Ni(4)}catch{}}var It=class{constructor(d,b){this.g=d,this.map=b}};function wl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function El(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vi(d){return d.h?1:d.g?d.g.size:0}function Ui(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function Tl(d,b){d.g?d.g.add(b):d.h=b}function Sl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}wl.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const E of d.g.values())b=b.concat(E.G);return b}return x(d.i)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(d,b){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const R=d[E].indexOf("=");let Y,Z=null;R>=0?(Y=d[E].substring(0,R),Z=d[E].substring(R+1)):Y=d[E],b(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Mn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Mn?(this.l=d.l,Ht(this,d.j),this.o=d.o,this.g=d.g,Gr(this,d.u),this.h=d.h,Al(this,Rc(d.i)),this.m=d.m):d&&(b=String(d).match(Sc))?(this.l=!1,Ht(this,b[1]||"",!0),this.o=zi(b[2]||""),this.g=zi(b[3]||"",!0),Gr(this,b[4]),this.h=zi(b[5]||"",!0),Al(this,b[6]||"",!0),this.m=zi(b[7]||"")):(this.l=!1,this.i=new Yr(null,this.l))}Mn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(ia(b,Ja,!0),":");var E=this.g;return(E||b=="file")&&(d.push("//"),(b=this.o)&&d.push(ia(b,Ja,!0),"@"),d.push(ur(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(ia(E,E.charAt(0)=="/"?Cl:xc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",ia(E,Ac)),d.join("")},Mn.prototype.resolve=function(d){const b=Nt(this);let E=!!d.j;E?Ht(b,d.j):E=!!d.o,E?b.o=d.o:E=!!d.g,E?b.g=d.g:E=d.u!=null;var R=d.h;if(E)Gr(b,d.u);else if(E=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(R=b.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let pe=0;pe<Y.length;){const Oe=Y[pe++];Oe=="."?R&&pe==Y.length&&Z.push(""):Oe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),R&&pe==Y.length&&Z.push("")):(Z.push(Oe),R=!0)}R=Z.join("/")}else R=Y}return E?b.h=R:E=d.i.toString()!=="",E?Al(b,Rc(d.i)):E=!!d.m,E&&(b.m=d.m),b};function Nt(d){return new Mn(d)}function Ht(d,b,E){d.j=E?zi(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Gr(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function Al(d,b,E){b instanceof Yr?(d.i=b,eo(d.i,d.l)):(E||(b=ia(b,$r)),d.i=new Yr(b,d.l))}function Xe(d,b,E){d.i.set(b,E)}function na(d){return Xe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function zi(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ia(d,b,E){return typeof d=="string"?(d=encodeURI(d).replace(b,vn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ja=/[#\/\?@]/g,xc=/[#\?:]/g,Cl=/[#\?]/g,$r=/[#\?@]/g,Ac=/#/g;function Yr(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&Wa(d.i,function(b,E){d.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}n=Yr.prototype,n.add=function(d,b){_n(this),this.i=null,d=Kr(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(b),this.h+=1,this};function Cc(d,b){_n(d),b=Kr(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Rl(d,b){return _n(d),b=Kr(d,b),d.g.has(b)}n.forEach=function(d,b){_n(this),this.g.forEach(function(E,R){E.forEach(function(Y){d.call(b,Y,R,this)},this)},this)};function Il(d,b){_n(d);let E=[];if(typeof b=="string")Rl(d,b)&&(E=E.concat(d.g.get(Kr(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)E=E.concat(d[b]);return E}n.set=function(d,b){return _n(this),this.i=null,d=Kr(this,d),Rl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},n.get=function(d,b){return d?(d=Il(this,d),d.length>0?String(d[0]):b):b};function Za(d,b,E){Cc(d,b),E.length>0&&(d.i=null,d.g.set(Kr(d,b),x(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var E=b[R];const Y=ur(E);E=Il(this,E);for(let Z=0;Z<E.length;Z++){let pe=Y;E[Z]!==""&&(pe+="="+ur(E[Z])),d.push(pe)}}return this.i=d.join("&")};function Rc(d){const b=new Yr;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Kr(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function eo(d,b){b&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(E,R){const Y=R.toLowerCase();R!=Y&&(Cc(this,R),Za(this,Y,E))},d)),d.j=b}function yi(d,b){const E=new mi;if(c.Image){const R=new Image;R.onload=v(Kn,E,"TestLoadImage: loaded",!0,b,R),R.onerror=v(Kn,E,"TestLoadImage: error",!1,b,R),R.onabort=v(Kn,E,"TestLoadImage: abort",!1,b,R),R.ontimeout=v(Kn,E,"TestLoadImage: timeout",!1,b,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else b(!1)}function Nl(d,b){const E=new mi,R=new AbortController,Y=setTimeout(()=>{R.abort(),Kn(E,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:R.signal}).then(Z=>{clearTimeout(Y),Z.ok?Kn(E,"TestPingServer: ok",!0,b):Kn(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),Kn(E,"TestPingServer: error",!1,b)})}function Kn(d,b,E,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(E)}catch{}}function Qr(){this.g=new pc}function Bi(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Bi,gc),Bi.prototype.g=function(){return new ra(this.i,this.h)};function ra(d,b){At.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ra,At),n=ra.prototype,n.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,vi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Xr(this):vi(this),this.readyState==3&&to(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Xr(this))},n.Na=function(d){this.g&&(this.response=d,Xr(this))},n.ga=function(){this.g&&Xr(this)};function Xr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,vi(d)}n.setRequestHeader=function(d,b){this.A.append(d,b)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=b.next();return d.join(`\r
`)};function vi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qn(d){let b="";return le(d,function(E,R){b+=R,b+=":",b+=E,b+=`\r
`}),b}function sa(d,b,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Qn(E),typeof d=="string"?E!=null&&ur(E):Xe(d,b,E))}function Ze(d){At.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ze,At);var Fi=/^https?$/i,Ol=["POST","PUT"];n=Ze.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,b,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(Z){aa(this,Z);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)E.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())E.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Ol,b,void 0)>=0)||R||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of E)this.g.setRequestHeader(Z,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){aa(this,Z)}};function aa(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,Dl(d),cr(d)}function Dl(d){d.A||(d.A=!0,Ut(d,"complete"),Ut(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ut(this,"complete"),Ut(this,"abort"),cr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Ze.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},n.Xa=function(){oa(this)};function oa(d){if(d.h&&typeof l<"u"){if(d.v&&_i(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ut(d,"readystatechange"),_i(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var R;if(R=Z===0){let pe=String(d.D).match(Sc)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),R=!Fi.test(pe?pe.toLowerCase():"")}E=R}if(E)Ut(d,"complete"),Ut(d,"success");else{d.o=6;try{var Y=_i(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Dl(d)}}finally{cr(d)}}}}function cr(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,b||Ut(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _i(d){return d.g?d.g.readyState:0}n.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Rf(b)}};function Kt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function dr(d){const b={};d=(d.g&&_i(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(O(d[R]))continue;var E=wc(d[R]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=b[Y]||[];b[Y]=Z,Z.push(E)}fe(b,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(d,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||b}function Wr(d){this.za=0,this.i=[],this.j=new mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,d),this.Za=qi("retryDelaySeedMs",1e4,d),this.Ta=qi("forwardChannelMaxRetries",2,d),this.va=qi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new wl(d&&d.concurrentRequestLimit),this.Ba=new Qr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Wr.prototype,n.ka=8,n.I=1,n.connect=function(d,b,E,R){Ct(0),this.W=d,this.H=b||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Pc(this,null,this.W),Hi(this)};function Ml(d){if(no(d),d.I==3){var b=d.V++,E=Nt(d.J);if(Xe(E,"SID",d.M),Xe(E,"RID",b),Xe(E,"TYPE","terminate"),la(d,E),b=new pi(d,d.j,b),b.M=2,b.A=na(Nt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=b.A,E=!0),E||(b.g=Lc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Pi(b)}kc(d)}function Jr(d){d.g&&(Pl(d),d.g.cancel(),d.g=null)}function no(d){Jr(d),d.v&&(c.clearTimeout(d.v),d.v=null),ro(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Hi(d){if(!El(d.h)&&!d.m){d.m=!0;var b=d.Ea;ee||S(),re||(ee(),re=!0),D.add(b,d),d.D=0}}function io(d,b){return Vi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Di(p(d.Ea,d,b),Mc(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new pi(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=j(Z),he(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=Ic(this,Y,b),E=Nt(this.J),Xe(E,"RID",d),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),la(this,E),Z&&(this.R?b="headers="+ur(Qn(Z))+"&"+b:this.u&&sa(E,this.u,Z)),Tl(this.h,Y),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",b),Xe(E,"SID","null"),Y.U=!0,ki(Y,E,null)):ki(Y,E,b),this.I=2}}else this.I==3&&(d?kl(this,d):this.i.length==0||El(this.h)||kl(this))};function kl(d,b){var E;b?E=b.l:E=d.V++;const R=Nt(d.J);Xe(R,"SID",d.M),Xe(R,"RID",E),Xe(R,"AID",d.K),la(d,R),d.u&&d.o&&sa(R,d.u,d.o),E=new pi(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Ic(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Tl(d.h,E),ki(E,R,b)}function la(d,b){d.H&&le(d.H,function(E,R){Xe(b,R,E)}),d.l&&le({},function(E,R){Xe(b,R,E)})}function Ic(d,b,E){E=Math.min(d.i.length,E);const R=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Oe=-1;for(;;){const Et=["count="+E];Oe==-1?E>0?(Oe=Y[0].g,Et.push("ofs="+Oe)):Oe=0:Et.push("ofs="+Oe);let $e=!0;for(let ht=0;ht<E;ht++){var Z=Y[ht].g;const Xn=Y[ht].map;if(Z-=Oe,Z<0)Oe=Math.max(0,Y[ht].g-100),$e=!1;else try{Z="req"+Z+"_"||"";try{var pe=Xn instanceof Map?Xn:Object.entries(Xn);for(const[$i,bi]of pe){let wi=bi;f(bi)&&(wi=Hr(bi)),Et.push(Z+$i+"="+encodeURIComponent(wi))}}catch($i){throw Et.push(Z+"type="+encodeURIComponent("_badmap")),$i}}catch{R&&R(Xn)}}if($e){pe=Et.join("&");break e}}pe=void 0}return d=d.i.splice(0,E),b.G=d,pe}function Nc(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;ee||S(),re||(ee(),re=!0),D.add(b,d),d.A=0}}function ua(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Di(p(d.Da,d),Mc(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Di(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Jr(this),Oc(this))};function Pl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Oc(d){d.g=new pi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=Nt(d.na);Xe(b,"RID","rpc"),Xe(b,"SID",d.M),Xe(b,"AID",d.K),Xe(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xe(b,"TO",d.ia),Xe(b,"TYPE","xmlhttp"),la(d,b),d.u&&d.o&&sa(b,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=na(Nt(b)),E.u=null,E.R=!0,Qa(E,d)}n.Va=function(){this.C!=null&&(this.C=null,Jr(this),ua(this),Ct(19))};function ro(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Dc(d,b){var E=null;if(d.g==b){ro(d),Pl(d),d.g=null;var R=2}else if(Ui(d.h,b))E=b.G,Sl(d.h,b),R=1;else return;if(d.I!=0){if(b.o)if(R==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var Y=d.D;R=Ka(),Ut(R,new Oi(R,E)),Hi(d)}else Nc(d);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(R==1&&io(d,b)||R==2&&ua(d)))switch(E&&E.length>0&&(b=d.h,b.i=b.i.concat(E)),Y){case 1:Gi(d,5);break;case 4:Gi(d,10);break;case 3:Gi(d,6);break;default:Gi(d,2)}}}function Mc(d,b){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*b}function Gi(d,b){if(d.j.info("Error code "+b),b==2){var E=p(d.bb,d),R=d.Ua;const Y=!R;R=new Mn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ht(R,"https"),na(R),Y?yi(R.toString(),E):Nl(R.toString(),E)}else Ct(2);d.I=0,d.l&&d.l.pa(b),kc(d),no(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function kc(d){if(d.I=0,d.ja=[],d.l){const b=xl(d.h);(b.length!=0||d.i.length!=0)&&(I(d.ja,b),I(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function Pc(d,b,E){var R=E instanceof Mn?Nt(E):new Mn(E);if(R.g!="")b&&(R.g=b+"."+R.g),Gr(R,R.u);else{var Y=c.location;R=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Mn(null);R&&Ht(Z,R),b&&(Z.g=b),Y&&Gr(Z,Y),E&&(Z.h=E),R=Z}return E=d.G,b=d.wa,E&&b&&Xe(R,E,b),Xe(R,"VER",d.ka),la(d,R),R}function Lc(d,b,E){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new Ze(new Bi({ab:E})):new Ze(d.ma),b.Fa(d.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}n=jc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zr(){}Zr.prototype.g=function(d,b){return new dn(d,b)};function dn(d,b){At.call(this),this.g=new Wr(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!O(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new hr(this)}_(dn,At),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ml(this.g)},dn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Hr(d),d=E);b.i.push(new It(b.Ya++,d)),b.I==3&&Hi(b)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,dn.Z.N.call(this)};function Vc(d){Yt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const E in b){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}_(Vc,Yt);function Uc(){$n.call(this),this.status=1}_(Uc,$n);function hr(d){this.g=d}_(hr,jc),hr.prototype.ra=function(){Ut(this.g,"a")},hr.prototype.qa=function(d){Ut(this.g,new Vc(d))},hr.prototype.pa=function(d){Ut(this.g,new Uc)},hr.prototype.oa=function(){Ut(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,_S=function(){return new Zr},vS=function(){return Ka()},yS=wt,vg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,lh=ea,_l.COMPLETE="complete",gS=_l,yc.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",At.prototype.listen=At.prototype.J,xu=yc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,pS=Ze}).apply(typeof Gd<"u"?Gd:typeof self<"u"?self:typeof window<"u"?window:{});const Tw="@firebase/firestore",Sw="4.9.2";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let ll="12.3.0";const La=new Qh("@firebase/firestore");function Vo(){return La.logLevel}function ye(n,...e){if(La.logLevel<=Ve.DEBUG){const t=e.map(dy);La.debug(`Firestore (${ll}): ${n}`,...t)}}function Ur(n,...e){if(La.logLevel<=Ve.ERROR){const t=e.map(dy);La.error(`Firestore (${ll}): ${n}`,...t)}}function Zo(n,...e){if(La.logLevel<=Ve.WARN){const t=e.map(dy);La.warn(`Firestore (${ll}): ${n}`,...t)}}function dy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function xe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,bS(n,r,t)}function bS(n,e,t){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ur(r),new Error(r)}function Qe(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||bS(e,a,r)}function Ie(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class wS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class QD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class XD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},f=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new wS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class WD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new WD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const r=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=eM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function _g(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return zp(a)===zp(l)?Ue(a,l):zp(a)?1:-1}return Ue(n.length,e.length)}const tM=55296,nM=57343;function zp(n){const e=n.charCodeAt(0);return e>=tM&&e<=nM}function el(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const Aw="__name__";class Wi{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Wi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const r=Wi.isNumericId(e),a=Wi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Wi.extractNumericId(e).compare(Wi.extractNumericId(t)):_g(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class st extends Wi{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const iM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Wi{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return iM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Aw}static keyField(){return new en([Aw])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(st.fromString(e))}static fromName(e){return new Ee(st.fromString(e).popFirst(5))}static empty(){return new Ee(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new st(e.slice()))}}function ES(n,e,t){if(!t)throw new ge(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rM(n,e,t,r){if(e===!0&&r===!0)throw new ge(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Cw(n){if(!Ee.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rw(n){if(Ee.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function TS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ef(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function ai(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ef(n);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jt(n,e){const t={typeString:n};return e&&(t.value=e),t}function rc(n,e){if(!TS(n))throw new ge(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ge(ae.INVALID_ARGUMENT,t);return!0}const Iw=-62135596800,Nw=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Nw);return new ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Iw)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nw}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:jt("string",ct._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ct(0,0))}static max(){return new Ce(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bu=-1;function sM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new Ps(a,Ee.empty(),e)}function aM(n){return new Ps(n.readTime,n.key,Bu)}class Ps{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ps(Ce.min(),Ee.empty(),Bu)}static max(){return new Ps(Ce.max(),Ee.empty(),Bu)}}function oM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}const lM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==lM)throw n;ye("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,r)=>{t(e)}))}static reject(e){return new ue(((t,r)=>{r(e)}))}static waitFor(e){return new ue(((t,r)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(h=>r(h)))})),c=!0,l===a&&t()}))}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next((a=>a?ue.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new ue(((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const p=h;t(e[p]).next((v=>{c[p]=v,++f,f===l&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new ue(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function cM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function cl(n){return n.name==="IndexedDbTransactionError"}class tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;const fy=-1;function nf(n){return n==null}function Rh(n){return n===0&&1/n==-1/0}function dM(n){return typeof n=="number"&&Number.isInteger(n)&&!Rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const SS="";function hM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ow(e)),e=fM(n.get(t),e);return Ow(e)}function fM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case SS:t+="";break;default:t+=l}}return t}function Ow(n){return n+SS+""}function Dw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Zt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(e){return new Mw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Mw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Ft(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class AS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new AS("Invalid base64 string: "+l):l}})(e);return new tn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const mM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=mM.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const CS="server_timestamp",RS="__type__",IS="__previous_value__",NS="__local_write_time__";function my(n){return(n?.mapValue?.fields||{})[RS]?.stringValue===CS}function rf(n){const e=n.mapValue.fields[IS];return my(e)?rf(e):e}function Fu(n){const e=Ls(n.mapValue.fields[NS].timestampValue);return new ct(e.seconds,e.nanos)}class pM{constructor(e,t,r,a,l,c,f,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=v}}const Ih="(default)";class qu{constructor(e,t){this.projectId=e,this.database=t||Ih}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}const OS="__type__",gM="__max__",Yd={mapValue:{}},DS="__vector__",Nh="value";function Vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?my(n)?4:vM(n)?9007199254740991:yM(n)?10:11:xe(28295,{value:n})}function sr(n,e){if(n===e)return!0;const t=Vs(n);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fu(n).isEqual(Fu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ls(a.timestampValue),f=Ls(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return js(a.bytesValue).isEqual(js(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return xt(a.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return xt(a.integerValue)===xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=xt(a.doubleValue),f=xt(l.doubleValue);return c===f?Rh(c)===Rh(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return el(n.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Dw(c)!==Dw(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!sr(c[h],f[h])))return!1;return!0})(n,e);default:return xe(52216,{left:n})}}function Hu(n,e){return(n.values||[]).find((t=>sr(t,e)))!==void 0}function tl(n,e){if(n===e)return 0;const t=Vs(n),r=Vs(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=xt(l.integerValue||l.doubleValue),h=xt(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return kw(n.timestampValue,e.timestampValue);case 4:return kw(Fu(n),Fu(e));case 5:return _g(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=js(l),h=js(c);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),h=c.split("/");for(let p=0;p<f.length&&p<h.length;p++){const v=Ue(f[p],h[p]);if(v!==0)return v}return Ue(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ue(xt(l.latitude),xt(c.latitude));return f!==0?f:Ue(xt(l.longitude),xt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Pw(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},h=c.fields||{},p=f[Nh]?.arrayValue,v=h[Nh]?.arrayValue,_=Ue(p?.values?.length||0,v?.values?.length||0);return _!==0?_:Pw(p,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Yd.mapValue&&c===Yd.mapValue)return 0;if(l===Yd.mapValue)return 1;if(c===Yd.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),p=c.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let _=0;_<h.length&&_<v.length;++_){const T=_g(h[_],v[_]);if(T!==0)return T;const x=tl(f[h[_]],p[v[_]]);if(x!==0)return x}return Ue(h.length,v.length)})(n.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function kw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Ls(n),r=Ls(e),a=Ue(t.seconds,r.seconds);return a!==0?a:Ue(t.nanos,r.nanos)}function Pw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=tl(t[a],r[a]);if(l)return l}return Ue(t.length,r.length)}function nl(n){return bg(n)}function bg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ls(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return js(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=bg(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${bg(t.fields[c])}`;return a+"}"})(n.mapValue):xe(61005,{value:n})}function uh(n){switch(Vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(n);return e?16+uh(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+uh(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return Ks(r.fields,((l,c)=>{a+=l.length+uh(c)})),a})(n.mapValue);default:throw xe(13486,{value:n})}}function Lw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wg(n){return!!n&&"integerValue"in n}function py(n){return!!n&&"arrayValue"in n}function jw(n){return!!n&&"nullValue"in n}function Vw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ch(n){return!!n&&"mapValue"in n}function yM(n){return(n?.mapValue?.fields||{})[OS]?.stringValue===DS}function Ou(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ks(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ou(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ou(n.arrayValue.values[t]);return e}return{...n}}function vM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gM}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(t)}setAll(e){let t=en.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=Ou(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ch(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ks(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Nn(Ou(this.value))}}function MS(n){const e=[];return Ks(n.fields,((t,r)=>{const a=new en([t]);if(ch(r)){const l=MS(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Fn(e)}class an{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new an(e,0,Ce.min(),Ce.min(),Ce.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,a){return new an(e,1,t,Ce.min(),r,a,0)}static newNoDocument(e,t){return new an(e,2,t,Ce.min(),Ce.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ce.min(),Ce.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function Uw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),t.key):r=tl(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function zw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sr(n.position[t],e.position[t]))return!1;return!0}class Gu{constructor(e,t="asc"){this.field=e,this.dir=t}}function _M(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kS{}class Lt extends kS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new wM(e,t,r):t==="array-contains"?new SM(e,r):t==="in"?new xM(e,r):t==="not-in"?new AM(e,r):t==="array-contains-any"?new CM(e,r):new Lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new EM(e,r):new TM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(tl(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(tl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends kS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ri(e,t)}matches(e){return PS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PS(n){return n.op==="and"}function LS(n){return bM(n)&&PS(n)}function bM(n){for(const e of n.filters)if(e instanceof Ri)return!1;return!0}function Eg(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+nl(n.value);if(LS(n))return n.filters.map((e=>Eg(e))).join(",");{const e=n.filters.map((t=>Eg(t))).join(",");return`${n.op}(${e})`}}function jS(n,e){return n instanceof Lt?(function(r,a){return a instanceof Lt&&r.op===a.op&&r.field.isEqual(a.field)&&sr(r.value,a.value)})(n,e):n instanceof Ri?(function(r,a){return a instanceof Ri&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&jS(c,a.filters[f])),!0):!1})(n,e):void xe(19439)}function VS(n){return n instanceof Lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${nl(t.value)}`})(n):n instanceof Ri?(function(t){return t.op.toString()+" {"+t.getFilters().map(VS).join(" ,")+"}"})(n):"Filter"}class wM extends Lt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class EM extends Lt{constructor(e,t){super(e,"in",t),this.keys=US("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class TM extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=US("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function US(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class SM extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return py(t)&&Hu(t.arrayValue,this.value)}}class xM extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hu(this.value.arrayValue,t)}}class AM extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hu(this.value.arrayValue,t)}}class CM extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!py(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Hu(this.value.arrayValue,r)))}}class RM{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Bw(n,e=null,t=[],r=[],a=null,l=null,c=null){return new RM(n,e,t,r,a,l,c)}function gy(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Eg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>nl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>nl(r))).join(",")),e.Te=t}return e.Te}function yy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_M(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zw(n.startAt,e.startAt)&&zw(n.endAt,e.endAt)}function Tg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class dl{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IM(n,e,t,r,a,l,c,f){return new dl(n,e,t,r,a,l,c,f)}function sf(n){return new dl(n)}function Fw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zS(n){return n.collectionGroup!==null}function Du(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ft(en.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Gu(l,r))})),t.has(en.keyField().canonicalString())||e.Ie.push(new Gu(en.keyField(),r))}return e.Ie}function tr(n){const e=Ie(n);return e.Ee||(e.Ee=NM(e,Du(n))),e.Ee}function NM(n,e){if(n.limitType==="F")return Bw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Gu(a.field,l)}));const t=n.endAt?new Oh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Oh(n.startAt.position,n.startAt.inclusive):null;return Bw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Sg(n,e){const t=n.filters.concat([e]);return new dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xg(n,e,t){return new dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function af(n,e){return yy(tr(n),tr(e))&&n.limitType===e.limitType}function BS(n){return`${gy(tr(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>VS(a))).join(", ")}]`),nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>nl(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>nl(a))).join(",")),`Target(${r})`})(tr(n))}; limitType=${n.limitType})`}function of(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ee.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Du(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,h){const p=Uw(c,f,h);return c.inclusive?p<=0:p<0})(r.startAt,Du(r),a)||r.endAt&&!(function(c,f,h){const p=Uw(c,f,h);return c.inclusive?p>=0:p>0})(r.endAt,Du(r),a))})(n,e)}function OM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function FS(n){return(e,t)=>{let r=!1;for(const a of Du(n)){const l=DM(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function DM(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(l,c,f){const h=c.data.field(l),p=f.data.field(l);return h!==null&&p!==null?tl(h,p):xe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:n.dir})}}class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return xS(this.inner)}size(){return this.innerSize}}const MM=new pt(Ee.comparator);function zr(){return MM}const qS=new pt(Ee.comparator);function Au(...n){let e=qS;for(const t of n)e=e.insert(t.key,t);return e}function HS(n){let e=qS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ia(){return Mu()}function GS(){return Mu()}function Mu(){return new Ha((n=>n.toString()),((n,e)=>n.isEqual(e)))}const kM=new pt(Ee.comparator),PM=new Ft(Ee.comparator);function ze(...n){let e=PM;for(const t of n)e=e.add(t);return e}const LM=new Ft(Ue);function jM(){return LM}function vy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function $S(n){return{integerValue:""+n}}function VM(n,e){return dM(e)?$S(e):vy(n,e)}class lf{constructor(){this._=void 0}}function UM(n,e,t){return n instanceof $u?(function(a,l){const c={fields:{[RS]:{stringValue:CS},[NS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&my(l)&&(l=rf(l)),l&&(c.fields[IS]=l),{mapValue:c}})(t,e):n instanceof Yu?KS(n,e):n instanceof Ku?QS(n,e):(function(a,l){const c=YS(a,l),f=qw(c)+qw(a.Ae);return wg(c)&&wg(a.Ae)?$S(f):vy(a.serializer,f)})(n,e)}function zM(n,e,t){return n instanceof Yu?KS(n,e):n instanceof Ku?QS(n,e):t}function YS(n,e){return n instanceof Dh?(function(r){return wg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class $u extends lf{}class Yu extends lf{constructor(e){super(),this.elements=e}}function KS(n,e){const t=XS(e);for(const r of n.elements)t.some((a=>sr(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Ku extends lf{constructor(e){super(),this.elements=e}}function QS(n,e){let t=XS(e);for(const r of n.elements)t=t.filter((a=>!sr(a,r)));return{arrayValue:{values:t}}}class Dh extends lf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qw(n){return xt(n.integerValue||n.doubleValue)}function XS(n){return py(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class BM{constructor(e,t){this.field=e,this.transform=t}}function FM(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Yu&&a instanceof Yu||r instanceof Ku&&a instanceof Ku?el(r.elements,a.elements,sr):r instanceof Dh&&a instanceof Dh?sr(r.Ae,a.Ae):r instanceof $u&&a instanceof $u})(n.transform,e.transform)}class qM{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class uf{}function WS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _y(n.key,oi.none()):new sc(n.key,n.data,oi.none());{const t=n.data,r=Nn.empty();let a=new Ft(en.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Qs(n.key,r,new Fn(a.toArray()),oi.none())}}function HM(n,e,t){n instanceof sc?(function(a,l,c){const f=a.value.clone(),h=Gw(a.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Qs?(function(a,l,c){if(!dh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Gw(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(JS(a)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ku(n,e,t,r){return n instanceof sc?(function(l,c,f,h){if(!dh(l.precondition,c))return f;const p=l.value.clone(),v=$w(l.fieldTransforms,h,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Qs?(function(l,c,f,h){if(!dh(l.precondition,c))return f;const p=$w(l.fieldTransforms,h,c),v=c.data;return v.setAll(JS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(l,c,f){return dh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function GM(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=YS(r.transform,a||null);l!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,l))}return t||null}function Hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&el(r,a,((l,c)=>FM(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sc extends uf{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qs extends uf{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Gw(n,e,t){const r=new Map;Qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,zM(c,f,t[a]))}return r}function $w(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,UM(l,c,e))}return r}class _y extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $M extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YM{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&HM(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ku(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ku(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const h=WS(c,f);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((t,r)=>Hw(t,r)))&&el(this.baseMutations,e.baseMutations,((t,r)=>Hw(t,r)))}}class by{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return kM})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new by(e,t,r,a)}}class KM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QM{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pt,Fe;function XM(n){switch(n){case ae.OK:return xe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function ZS(n){if(n===void 0)return Ur("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Pt.OK:return ae.OK;case Pt.CANCELLED:return ae.CANCELLED;case Pt.UNKNOWN:return ae.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ae.INTERNAL;case Pt.UNAVAILABLE:return ae.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ae.NOT_FOUND;case Pt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Pt.ABORTED:return ae.ABORTED;case Pt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Pt.DATA_LOSS:return ae.DATA_LOSS;default:return xe(39323,{code:n})}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function WM(){return new TextEncoder}const JM=new Ns([4294967295,4294967295],0);function Yw(n){const e=WM().encode(n),t=new mS;return t.update(e),new Uint8Array(t.digest())}function Kw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([t,r],0),new Ns([a,l],0)]}class wy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cu(`Invalid padding: ${t}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ns.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Ns.fromNumber(r)));return a.compare(JM)===1&&(a=new Ns([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Yw(e),[r,a]=Kw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new wy(l,a,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=Yw(e),[r,a]=Kw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cf(Ce.min(),a,new pt(Ue),zr(),ze())}}class ac{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ac(r,t,ze(),ze(),ze())}}class hh{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class ex{constructor(e,t){this.targetId=e,this.Ce=t}}class tx{constructor(e,t,r=tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Qw{constructor(){this.ve=0,this.Fe=Xw(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:l})}})),new ac(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Xw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZM{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Kd(),this.He=Kd(),this.Ye=new pt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Tg(l))if(r===0){const c=new Ee(l.path);this.et(t,c,an.newNoDocument(c,Ce.min()))}else Qe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=js(r).toUint8Array()}catch(h){if(h instanceof AS)return Zo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new wy(c,a,l)}catch(h){return Zo(h instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Tg(f.target)){const h=new Ee(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,an.newNoDocument(h,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=ze();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new cf(e,t,this.Ye,this.je,r);return this.je=zr(),this.Je=Kd(),this.He=Kd(),this.Ye=new pt(Ue),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Qw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kd(){return new pt(Ee.comparator)}function Xw(){return new pt(Ee.comparator)}const ek={asc:"ASCENDING",desc:"DESCENDING"},tk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nk={and:"AND",or:"OR"};class ik{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ag(n,e){return n.useProto3Json||nf(e)?e:{value:e}}function Mh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rk(n,e){return Mh(n,e.toTimestamp())}function nr(n){return Qe(!!n,49232),Ce.fromTimestamp((function(t){const r=Ls(t);return new ct(r.seconds,r.nanos)})(n))}function Ey(n,e){return Cg(n,e).canonicalString()}function Cg(n,e){const t=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ix(n){const e=st.fromString(n);return Qe(lx(e),10190,{key:e.toString()}),e}function Rg(n,e){return Ey(n.databaseId,e.path)}function Bp(n,e){const t=ix(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(sx(t))}function rx(n,e){return Ey(n.databaseId,e)}function sk(n){const e=ix(n);return e.length===4?st.emptyPath():sx(e)}function Ig(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sx(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ww(n,e,t){return{name:Rg(n,e),fields:t.value.mapValue.fields}}function ak(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ae.UNKNOWN:ZS(p.code);return new ge(v,p.message||"")})(c);t=new tx(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Bp(n,r.document.name),l=nr(r.document.updateTime),c=r.document.createTime?nr(r.document.createTime):Ce.min(),f=new Nn({mapValue:{fields:r.document.fields}}),h=an.newFoundDocument(a,l,c,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new hh(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Bp(n,r.document),l=r.readTime?nr(r.readTime):Ce.min(),c=an.newNoDocument(a,l),f=r.removedTargetIds||[];t=new hh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Bp(n,r.document),l=r.removedTargetIds||[];t=new hh([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new QM(a,l),f=r.targetId;t=new ex(f,c)}}return t}function ok(n,e){let t;if(e instanceof sc)t={update:Ww(n,e.key,e.value)};else if(e instanceof _y)t={delete:Rg(n,e.key)};else if(e instanceof Qs)t={update:Ww(n,e.key,e.data),updateMask:gk(e.fieldMask)};else{if(!(e instanceof $M))return xe(16599,{Vt:e.type});t={verify:Rg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof $u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Yu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Dh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:rk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(n,e.precondition)),t}function lk(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?nr(a.updateTime):nr(l);return c.isEqual(Ce.min())&&(c=nr(l)),new qM(c,a.transformResults||[])})(t,e)))):[]}function uk(n,e){return{documents:[rx(n,e.path)]}}function ck(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rx(n,a);const l=(function(p){if(p.length!==0)return ox(Ri.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(T){return{field:zo(T.field),direction:fk(T.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Ag(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function dk(n){let e=sk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Qe(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(_){const T=ax(_);return T instanceof Ri&&LS(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((T=>(function(I){return new Gu(Bo(I.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(t.orderBy));let f=null;t.limit&&(f=(function(_){let T;return T=typeof _=="object"?_.value:_,nf(T)?null:T})(t.limit));let h=null;t.startAt&&(h=(function(_){const T=!!_.before,x=_.values||[];return new Oh(x,T)})(t.startAt));let p=null;return t.endAt&&(p=(function(_){const T=!_.before,x=_.values||[];return new Oh(x,T)})(t.endAt)),IM(e,a,c,l,f,"F",h,p)}function hk(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ax(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bo(t.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Bo(t.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(t.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Lt.create(Bo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ri.create(t.compositeFilter.filters.map((r=>ax(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(n):xe(30097,{filter:n})}function fk(n){return ek[n]}function mk(n){return tk[n]}function pk(n){return nk[n]}function zo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return en.fromServerFormat(n.fieldPath)}function ox(n){return n instanceof Lt?(function(t){if(t.op==="=="){if(Vw(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NAN"}};if(jw(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vw(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NAN"}};if(jw(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(t.field),op:mk(t.op),value:t.value}}})(n):n instanceof Ri?(function(t){const r=t.getFilters().map((a=>ox(a)));return r.length===1?r[0]:{compositeFilter:{op:pk(t.op),filters:r}}})(n):xe(54877,{filter:n})}function gk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function lx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class As{constructor(e,t,r,a,l=Ce.min(),c=Ce.min(),f=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yk{constructor(e){this.yt=e}}function vk(n){const e=dk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xg(e,e.limit,"L"):e}class _k{constructor(){this.Cn=new bk}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ps.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class bk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ft(st.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ft(st.comparator)).toArray()}}const Jw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ux=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(ux,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const Zw="LruGarbageCollector",wk=1048576;function eE([n,e],[t,r]){const a=Ue(n,t);return a===0?Ue(e,r):a}class Ek{constructor(e){this.Ir=e,this.buffer=new Ft(eE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Tk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Zw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){cl(t)?ye(Zw,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.Vr(3e5)}))}}class Sk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(tf.ce);const r=new Ek(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Jw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,f,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,f=Date.now(),this.removeTargets(e,r,t)))).next((_=>(l=_,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),Vo()<=Ve.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function xk(n,e){return new Sk(n,e)}class Ak{constructor(){this.changes=new Ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ck{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rk{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&ku(r.mutation,a,Fn.empty(),ct.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const a=Ia();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Au();return l.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Ia();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,a){let l=zr();const c=Mu(),f=(function(){return Mu()})();return t.forEach(((h,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Qs)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),ku(v.mutation,p,v.mutation.getFieldMask(),ct.now())):c.set(p.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((p,v)=>c.set(p,v))),t.forEach(((p,v)=>f.set(p,new Ck(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=Mu();let a=new pt(((c,f)=>c-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let v=r.get(h)||Fn.empty();v=f.applyToLocalView(p,v),r.set(h,v);const _=(a.get(f.batchId)||ze()).add(h);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,v=h.value,_=GS();v.forEach((T=>{if(!l.has(T)){const x=WS(t.get(T),r.get(T));x!==null&&_.set(T,x),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ue.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ue.resolve(Ia());let f=Bu,h=l;return c.next((p=>ue.forEach(p,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{h=h.insert(v,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,h,p,ze()))).next((v=>({batchId:f,changes:HS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let a=Au();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,l).next((f=>ue.forEach(f,(h=>{const p=(function(_,T){return new dl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((_,T)=>{c=c.insert(_,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((h,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,an.newInvalidDocument(v)))}));let f=Au();return c.forEach(((h,p)=>{const v=l.get(h);v!==void 0&&ku(v.mutation,p,Fn.empty(),ct.now()),of(t,p)&&(f=f.insert(h,p))})),f}))}}class Ik{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:nr(a.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:vk(a.bundledQuery),readTime:nr(a.readTime)}})(t)),ue.resolve()}}class Nk{constructor(){this.overlays=new pt(Ee.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ia();return ue.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const a=Ia(),l=t.length+1,c=new Ee(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>r&&a.set(h.getKey(),h)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new pt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=Ia(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Ia(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return ue.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new KM(t,r));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class Ok{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}class Ty{constructor(){this.Qr=new Ft($t.$r),this.Ur=new Ft($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new $t(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new $t(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new st([])),r=new $t(t,e),a=new $t(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new st([])),r=new $t(t,e),a=new $t(t,e+1);let l=ze();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new $t(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}class Dk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft($t.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new YM(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?fy:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),a=new $t(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Ue);return t.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Ee.isDocumentKey(l)||(l=l.child(""));const c=new $t(new Ee(l),0);let f=new Ft(Ue);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(h.Yr)),!0)}),c),ue.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ue.forEach(t.mutations,(a=>{const l=new $t(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new $t(t,0),a=this.Zr.firstAfterOrEqual(r);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mk{constructor(e){this.ri=e,this.docs=(function(){return new pt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=zr();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))})),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=zr();const c=t.path,f=new Ee(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||oM(aM(v),r)<=0||(a.has(v.key)||of(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,r,a){xe(9500)}ii(e,t){return ue.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new kk(this)}getSize(e){return ue.resolve(this.size)}}class kk extends Ak{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Pk{constructor(e){this.persistence=e,this.si=new Ha((t=>gy(t)),yy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Ty,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}class cx{constructor(e,t){this.ui={},this.overlays={},this.ci=new tf(0),this.li=!1,this.li=!0,this.hi=new Ok,this.referenceDelegate=e(this),this.Pi=new Pk(this),this.indexManager=new _k,this.remoteDocumentCache=(function(a){return new Mk(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yk(t),this.Ii=new Ik(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Dk(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const a=new Lk(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class Lk extends uM{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Ri=new Ty,this.Vi=null}static mi(e){return new Sy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(r=>{const a=Ee.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class kh{constructor(e,t){this.persistence=e,this.pi=new Ha((r=>hM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=xk(this,t)}static mi(e,t){return new kh(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ue.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,l.removeEntry(c,Ce.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uh(e.data.value)),t}br(e,t,r){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class xy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xy(e,t.fromCache,r,a)}}class jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return c2()?8:cM(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new jk;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(Vo()<=Ve.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Vo()<=Ve.DEBUG&&ye("QueryEngine","Query:",Uo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Vo()<=Ve.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):ue.resolve())}ys(e,t){if(Fw(t))return ue.resolve(null);let r=tr(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=xg(t,null,"F"),r=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,f);return this.Cs(t,p,c,h.readTime)?this.ys(e,xg(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,a){return Fw(t)||a.isEqual(Ce.min())?ue.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?ue.resolve(null):(Vo()<=Ve.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(t)),this.vs(e,c,t,sM(a,Bu)).next((f=>f)))}))}Ds(e,t){let r=new Ft(FS(e));return t.forEach(((a,l)=>{of(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return Vo()<=Ve.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ps.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Ay="LocalStore",Uk=3e8;class zk{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new pt(Ue),this.xs=new Ha((l=>gy(l)),yy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Bk(n,e,t,r){return new zk(n,e,t,r)}async function dx(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let h=ze();for(const p of a){c.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function Fk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,p,v){const _=p.batch,T=_.keys();let x=ue.resolve();return T.forEach((I=>{x=x.next((()=>v.getEntry(h,I))).next((k=>{const P=p.docVersions.get(I);Qe(P!==null,48541),k.version.compareTo(P)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))}))})),x.next((()=>f.mutationQueue.removeMutationBatch(h,_)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function hx(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function qk(n,e){const t=Ie(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((v,_)=>{const T=a.get(_);if(!T)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,_))));let x=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(tn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),a=a.insert(_,x),(function(k,P,L){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Uk?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,x,v)&&f.push(t.Pi.updateTargetData(l,x))}));let h=zr(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(Hk(l,c,e.documentUpdates).next((v=>{h=v.ks,p=v.qs}))),!r.isEqual(Ce.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(v)}return ue.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,h,p))).next((()=>h))})).then((l=>(t.Ms=a,l)))}function Hk(n,e,t){let r=ze(),a=ze();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=zr();return t.forEach(((f,h)=>{const p=l.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(Ce.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):ye(Ay,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function Gk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=fy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $k(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new As(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Ng(n,e,t){const r=Ie(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!cl(c))throw c;ye(Ay,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function tE(n,e,t){const r=Ie(n);let a=Ce.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,v){const _=Ie(h),T=_.xs.get(v);return T!==void 0?ue.resolve(_.Ms.get(T)):_.Pi.getTargetData(p,v)})(r,c,tr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{l=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Ce.min(),t?l:ze()))).next((f=>(Yk(r,OM(e),f),{documents:f,Qs:l})))))}function Yk(n,e,t){let r=n.Os.get(e)||Ce.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class nE{constructor(){this.activeTargetIds=jM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kk{constructor(){this.Mo=new nE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qk{Oo(e){}shutdown(){}}const iE="ConnectivityMonitor";class rE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(iE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(iE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qd=null;function Og(){return Qd===null?Qd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qd++,"0x"+Qd.toString(16)}const Fp="RestConnection",Xk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Ih?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=Og(),f=this.zo(e,t.toUriEncodedString());ye(Fp,`Sending RPC '${e}' ${c}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,l);const{host:p}=new URL(f),v=Hs(p);return this.Jo(e,f,h,r,v).then((_=>(ye(Fp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw Zo(Fp,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",r),_}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=Xk[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class Jk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class Zk extends Wk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=Og();return new Promise(((f,h)=>{const p=new pS;p.setWithCredentials(!0),p.listenOnce(gS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const _=p.getResponseJson();ye(rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case lh.TIMEOUT:ye(rn,`RPC '${e}' ${c} timed out`),h(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const T=p.getStatus();if(ye(rn,`RPC '${e}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const I=x?.error;if(I&&I.status&&I.message){const k=(function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(U)>=0?U:ae.UNKNOWN})(I.status);h(new ge(k,I.message))}else h(new ge(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(rn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ye(rn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=Og(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=_S(),f=vS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=l.join("");ye(rn,`Creating RPC '${e}' stream ${a}: ${v}`,h);const _=c.createWebChannel(v,h);this.I_(_);let T=!1,x=!1;const I=new Jk({Yo:P=>{x?ye(rn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(T||(ye(rn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),ye(rn,`RPC '${e}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),k=(P,L,U)=>{P.listen(L,(B=>{try{U(B)}catch(X){setTimeout((()=>{throw X}),0)}}))};return k(_,xu.EventType.OPEN,(()=>{x||(ye(rn,`RPC '${e}' stream ${a} transport opened.`),I.o_())})),k(_,xu.EventType.CLOSE,(()=>{x||(x=!0,ye(rn,`RPC '${e}' stream ${a} transport closed`),I.a_(),this.E_(_))})),k(_,xu.EventType.ERROR,(P=>{x||(x=!0,Zo(rn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),I.a_(new ge(ae.UNAVAILABLE,"The operation could not be completed")))})),k(_,xu.EventType.MESSAGE,(P=>{if(!x){const L=P.data[0];Qe(!!L,16349);const U=L,B=U?.error||U[0]?.error;if(B){ye(rn,`RPC '${e}' stream ${a} received error:`,B);const X=B.status;let ee=(function(S){const M=Pt[S];if(M!==void 0)return ZS(M)})(X),re=B.message;ee===void 0&&(ee=ae.INTERNAL,re="Unknown error status: "+X+" with message "+B.message),x=!0,I.a_(new ge(ee,re)),_.close()}else ye(rn,`RPC '${e}' stream ${a} received:`,L),I.u_(L)}})),k(f,yS.STAT_EVENT,(P=>{P.stat===vg.PROXY?ye(rn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===vg.NOPROXY&&ye(rn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function qp(){return typeof document<"u"?document:null}function df(n){return new ik(n,!0)}class fx{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sE="PersistentStream";class mx{constructor(e,t,r,a,l,c,f,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ge(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eP extends mx{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ak(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?nr(c.readTime):Ce.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Ig(this.serializer),t.addTarget=(function(l,c){let f;const h=c.target;if(f=Tg(h)?{documents:uk(l,h)}:{query:ck(l,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=nx(l,c.resumeToken);const p=Ag(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Mh(l,c.snapshotVersion.toTimestamp());const p=Ag(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=hk(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Ig(this.serializer),t.removeTarget=e,this.q_(t)}}class tP extends mx{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=lk(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Ig(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>ok(this.serializer,r)))};this.q_(t)}}class nP{}class iP extends nP{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Cg(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ae.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,Cg(t,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ur(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ja="RemoteStore";class sP{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ga(this)&&(ye(ja,"Restarting streams for network reachability change."),await(async function(h){const p=Ie(h);p.Ea.add(4),await oc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await hf(p)})(this))}))})),this.Ra=new rP(r,a)}}async function hf(n){if(Ga(n))for(const e of n.da)await e(!0)}async function oc(n){for(const e of n.da)await e(!1)}function px(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ny(t)?Iy(t):hl(t).O_()&&Ry(t,e))}function Cy(n,e){const t=Ie(n),r=hl(t);t.Ia.delete(e),r.O_()&&gx(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ga(t)&&t.Ra.set("Unknown"))}function Ry(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hl(n).Y_(e)}function gx(n,e){n.Va.Ue(e),hl(n).Z_(e)}function Iy(n){n.Va=new ZM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),hl(n).start(),n.Ra.ua()}function Ny(n){return Ga(n)&&!hl(n).x_()&&n.Ia.size>0}function Ga(n){return Ie(n).Ea.size===0}function yx(n){n.Va=void 0}async function aP(n){n.Ra.set("Online")}async function oP(n){n.Ia.forEach(((e,t)=>{Ry(n,e)}))}async function lP(n,e){yx(n),Ny(n)?(n.Ra.ha(e),Iy(n)):n.Ra.set("Unknown")}async function uP(n,e,t){if(n.Ra.set("Online"),e instanceof tx&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){ye(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(n,r)}else if(e instanceof hh?n.Va.Ze(e):e instanceof ex?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const r=await hx(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,p)=>{const v=l.Ia.get(h);if(!v)return;l.Ia.set(h,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),gx(l,h);const _=new As(v.target,h,p,v.sequenceNumber);Ry(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){ye(ja,"Failed to raise snapshot:",r),await Ph(n,r)}}async function Ph(n,e,t){if(!cl(e))throw e;n.Ea.add(1),await oc(n),n.Ra.set("Offline"),t||(t=()=>hx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(ja,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await hf(n)}))}function vx(n,e){return e().catch((t=>Ph(n,t,e)))}async function ff(n){const e=Ie(n),t=Us(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fy;for(;cP(e);)try{const a=await Gk(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,dP(e,a)}catch(a){await Ph(e,a)}_x(e)&&bx(e)}function cP(n){return Ga(n)&&n.Ta.length<10}function dP(n,e){n.Ta.push(e);const t=Us(n);t.O_()&&t.X_&&t.ea(e.mutations)}function _x(n){return Ga(n)&&!Us(n).x_()&&n.Ta.length>0}function bx(n){Us(n).start()}async function hP(n){Us(n).ra()}async function fP(n){const e=Us(n);for(const t of n.Ta)e.ea(t.mutations)}async function mP(n,e,t){const r=n.Ta.shift(),a=by.from(r,e,t);await vx(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await ff(n)}async function pP(n,e){e&&Us(n).X_&&await(async function(r,a){if((function(c){return XM(c)&&c!==ae.ABORTED})(a.code)){const l=r.Ta.shift();Us(r).B_(),await vx(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await ff(r)}})(n,e),_x(n)&&bx(n)}async function aE(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ye(ja,"RemoteStore received new credentials");const r=Ga(t);t.Ea.add(3),await oc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await hf(t)}async function gP(n,e){const t=Ie(n);e?(t.Ea.delete(2),await hf(t)):e||(t.Ea.add(2),await oc(t),t.Ra.set("Unknown"))}function hl(n){return n.ma||(n.ma=(function(t,r,a){const l=Ie(t);return l.sa(),new eP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:aP.bind(null,n),t_:oP.bind(null,n),r_:lP.bind(null,n),H_:uP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ny(n)?Iy(n):n.Ra.set("Unknown")):(await n.ma.stop(),yx(n))}))),n.ma}function Us(n){return n.fa||(n.fa=(function(t,r,a){const l=Ie(t);return l.sa(),new tP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:hP.bind(null,n),r_:pP.bind(null,n),ta:fP.bind(null,n),na:mP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ff(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(ja,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Oy{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new Oy(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),cl(n))return new ge(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Au(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class oE{constructor(){this.ga=new pt(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class rl{constructor(e,t,r,a,l,c,f,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new rl(e,t,Yo.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class yP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vP{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ie(t),l=a.queries;a.queries=lE(),l.forEach(((c,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function lE(){return new Ha((n=>BS(n)),af)}async function wx(n,e){const t=Ie(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new yP,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Dy(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&My(t)}async function Ex(n,e){const t=Ie(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _P(n,e){const t=Ie(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&My(t)}function bP(n,e,t){const r=Ie(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function My(n){n.Ca.forEach((e=>{e.next()}))}var Dg,uE;(uE=Dg||(Dg={})).Ma="default",uE.Cache="cache";class Tx{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dg.Cache}}class Sx{constructor(e){this.key=e}}class xx{constructor(e){this.key=e}}class wP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=FS(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new oE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const T=a.get(v),x=of(this.query,_)?_:null,I=!!T&&this.mutatedKeys.has(T.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;T&&x?T.data.isEqual(x.data)?I!==k&&(r.track({type:3,doc:x}),P=!0):this.su(T,x)||(r.track({type:2,doc:x}),P=!0,(h&&this.eu(x,h)>0||p&&this.eu(x,p)<0)&&(f=!0)):!T&&x?(r.track({type:0,doc:x}),P=!0):T&&!x&&(r.track({type:1,doc:T}),P=!0,(h||p)&&(f=!0)),P&&(x?(c=c.add(x),l=k?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(x,I){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:P})}};return k(x)-k(I)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,p=h!==this.Za;return this.Za=h,c.length!==0||p?{snapshot:new rl(this.query,e.tu,l,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new xx(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Sx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ky="SyncEngine";class EP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TP{constructor(e){this.key=e,this.hu=!1}}class SP{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ha((f=>BS(f)),af),this.Iu=new Map,this.Eu=new Set,this.du=new pt(Ee.comparator),this.Au=new Map,this.Ru=new Ty,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xP(n,e,t=!0){const r=Ox(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Ax(r,e,t,!0),a}async function AP(n,e){const t=Ox(n);await Ax(t,e,!0,!1)}async function Ax(n,e,t,r){const a=await $k(n.localStore,tr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await CP(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&px(n.remoteStore,a),f}async function CP(n,e,t,r,a){n.pu=(_,T,x)=>(async function(k,P,L,U){let B=P.view.ru(L);B.Cs&&(B=await tE(k.localStore,P.query,!1).then((({documents:D})=>P.view.ru(D,B))));const X=U&&U.targetChanges.get(P.targetId),ee=U&&U.targetMismatches.get(P.targetId)!=null,re=P.view.applyChanges(B,k.isPrimaryClient,X,ee);return dE(k,P.targetId,re.au),re.snapshot})(n,_,T,x);const l=await tE(n.localStore,e,!0),c=new wP(e,l.Qs),f=c.ru(l.documents),h=ac.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,h);dE(n,t,p.au);const v=new EP(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function RP(n,e,t){const r=Ie(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!af(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ng(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Cy(r.remoteStore,a.targetId),Mg(r,a.targetId)})).catch(ul)):(Mg(r,a.targetId),await Ng(r.localStore,a.targetId,!0))}async function IP(n,e){const t=Ie(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Cy(t.remoteStore,r.targetId))}async function NP(n,e,t){const r=jP(n);try{const a=await(function(c,f){const h=Ie(c),p=ct.now(),v=f.reduce(((x,I)=>x.add(I.key)),ze());let _,T;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let I=zr(),k=ze();return h.Ns.getEntries(x,v).next((P=>{I=P,I.forEach(((L,U)=>{U.isValidDocument()||(k=k.add(L))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,I))).next((P=>{_=P;const L=[];for(const U of f){const B=GM(U,_.get(U.key).overlayedDocument);B!=null&&L.push(new Qs(U.key,B,MS(B.value.mapValue),oi.exists(!0)))}return h.mutationQueue.addMutationBatch(x,p,L,f)})).next((P=>{T=P;const L=P.applyToLocalDocumentSet(_,k);return h.documentOverlayCache.saveOverlays(x,P.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:HS(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,h){let p=c.Vu[c.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(f,h),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,t),await lc(r,a.changes),await ff(r.remoteStore)}catch(a){const l=Dy(a,"Failed to persist write");t.reject(l)}}async function Cx(n,e){const t=Ie(n);try{const r=await qk(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qe(c.hu,14607):a.removedDocuments.size>0&&(Qe(c.hu,42227),c.hu=!1))})),await lc(t,r,e)}catch(r){await ul(r)}}function cE(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const h=Ie(c);h.onlineState=f;let p=!1;h.queries.forEach(((v,_)=>{for(const T of _.Sa)T.va(f)&&(p=!0)})),p&&My(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OP(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new pt(Ee.comparator);c=c.insert(l,an.newNoDocument(l,Ce.min()));const f=ze().add(l),h=new cf(Ce.min(),new Map,new pt(Ue),c,f);await Cx(r,h),r.du=r.du.remove(l),r.Au.delete(e),Py(r)}else await Ng(r.localStore,e,!1).then((()=>Mg(r,e,t))).catch(ul)}async function DP(n,e){const t=Ie(n),r=e.batch.batchId;try{const a=await Fk(t.localStore,e);Ix(t,r,null),Rx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await lc(t,a)}catch(a){await ul(a)}}async function MP(n,e,t){const r=Ie(n);try{const a=await(function(c,f){const h=Ie(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return h.mutationQueue.lookupMutationBatch(p,f).next((_=>(Qe(_!==null,37113),v=_.keys(),h.mutationQueue.removeMutationBatch(p,_)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>h.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);Ix(r,e,t),Rx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await lc(r,a)}catch(a){await ul(a)}}function Rx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Ix(n,e,t){const r=Ie(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Mg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Nx(n,r)}))}function Nx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Cy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Py(n))}function dE(n,e,t){for(const r of t)r instanceof Sx?(n.Ru.addReference(r.key,e),kP(n,r)):r instanceof xx?(ye(ky,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Nx(n,r.key)):xe(19791,{wu:r})}function kP(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ye(ky,"New document in limbo: "+t),n.Eu.add(r),Py(n))}function Py(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(st.fromString(e)),r=n.fu.next();n.Au.set(r,new TP(t)),n.du=n.du.insert(t,r),px(n.remoteStore,new As(tr(sf(t.path)),r,"TargetPurposeLimboResolution",tf.ce))}}async function lc(n,e,t){const r=Ie(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{c.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){a.push(p);const v=xy.As(h.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,p){const v=Ie(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ue.forEach(p,(T=>ue.forEach(T.Es,(x=>v.persistence.referenceDelegate.addReference(_,T.targetId,x))).next((()=>ue.forEach(T.ds,(x=>v.persistence.referenceDelegate.removeReference(_,T.targetId,x)))))))))}catch(_){if(!cl(_))throw _;ye(Ay,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const x=v.Ms.get(T),I=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(T,k)}}})(r.localStore,l))}async function PP(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ye(ky,"User change. New user:",e.toKey());const r=await dx(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((h=>{h.reject(new ge(ae.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lc(t,r.Ls)}}function LP(n,e){const t=Ie(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Ox(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OP.bind(null,e),e.Pu.H_=_P.bind(null,e.eventManager),e.Pu.yu=bP.bind(null,e.eventManager),e}function jP(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MP.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Bk(this.persistence,new Vk,e.initialUser,this.serializer)}Cu(e){return new cx(Sy.mi,this.serializer)}Du(e){return new Kk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class VP extends Lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Tk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new cx((r=>kh.mi(r,t)),this.serializer)}}class kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PP.bind(null,this.syncEngine),await gP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vP})()}createDatastore(e){const t=df(e.databaseInfo.databaseId),r=(function(l){return new Zk(l)})(e.databaseInfo);return(function(l,c,f,h){return new iP(l,c,f,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,f){return new sP(r,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>cE(this.syncEngine,t,0)),(function(){return rE.v()?new rE:new Qk})())}createSyncEngine(e,t){return(function(a,l,c,f,h,p,v){const _=new SP(a,l,c,f,h,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ie(t);ye(ja,"RemoteStore shutting down."),r.Ea.add(5),await oc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kg.provider={build:()=>new kg};class Dx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const zs="FirestoreClient";class UP{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ye(zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Dy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(zs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await dx(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function hE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await zP(n);ye(zs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>aE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>aE(e.remoteStore,a))),n._onlineComponents=e}async function zP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(zs,"Using user provided OfflineComponentProvider");try{await Hp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await Hp(n,new Lh)}}else ye(zs,"Using default OfflineComponentProvider"),await Hp(n,new VP(void 0));return n._offlineComponents}async function Mx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(zs,"Using user provided OnlineComponentProvider"),await hE(n,n._uninitializedComponentsProvider._online)):(ye(zs,"Using default OnlineComponentProvider"),await hE(n,new kg))),n._onlineComponents}function BP(n){return Mx(n).then((e=>e.syncEngine))}async function Pg(n){const e=await Mx(n),t=e.eventManager;return t.onListen=xP.bind(null,e.syncEngine),t.onUnlisten=RP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IP.bind(null,e.syncEngine),t}function FP(n,e,t={}){const r=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,h,p){const v=new Dx({next:T=>{v.Nu(),c.enqueueAndForget((()=>Ex(l,_)));const x=T.docs.has(f);!x&&T.fromCache?p.reject(new ge(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&h&&h.source==="server"?p.reject(new ge(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Tx(sf(f.path),v,{includeMetadataChanges:!0,qa:!0});return wx(l,_)})(await Pg(n),n.asyncQueue,e,t,r))),r.promise}function kx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const fE=new Map;const Px="firestore.googleapis.com",mE=!0;class pE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Px,this.ssl=mE}else this.host=e.host,this.ssl=e.ssl??mE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wk)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KD;switch(r.type){case"firstParty":return new JD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=fE.get(t);r&&(ye("ComponentProvider","Removing Datastore"),fE.delete(t),r.terminate())})(this),Promise.resolve()}}function qP(n,e,t,r={}){n=ai(n,mf);const a=Hs(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(Jg(`https://${f}`),Zg("Firestore",!0)),l.host!==Px&&l.host!==f&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:f,ssl:a,emulatorOptions:r};if(!ks(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=sn.MOCK_USER;else{p=TT(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(_)}n._authCredentials=new QD(new wS(p,v))}}class $a{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $a(this.firestore,e,this._query)}}class bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(rc(t,bt._jsonSchema))return new bt(e,r||null,new Ee(st.fromString(t.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:jt("string",bt._jsonSchemaVersion),referencePath:jt("string")};class Ds extends $a{constructor(e,t,r){super(e,t,sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Ee(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Pu(n,e,...t){if(n=rt(n),ES("collection","path",e),n instanceof mf){const r=st.fromString(e,...t);return Rw(r),new Ds(n,null,r)}{if(!(n instanceof bt||n instanceof Ds))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Rw(r),new Ds(n.firestore,null,r)}}function mn(n,e,...t){if(n=rt(n),arguments.length===1&&(e=hy.newId()),ES("doc","path",e),n instanceof mf){const r=st.fromString(e,...t);return Cw(r),new bt(n,null,new Ee(r))}{if(!(n instanceof bt||n instanceof Ds))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Cw(r),new bt(n.firestore,n instanceof Ds?n.converter:null,new Ee(r))}}const gE="AsyncQueue";class yE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fx(this,"async_queue_retry"),this._c=()=>{const r=qp();r&&ye(gE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=qp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cl(e))throw e;ye(gE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ur("INTERNAL UNHANDLED ERROR: ",vE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Oy.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:vE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function vE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function _E(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Bs extends mf{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new yE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function HP(n,e){const t=typeof n=="object"?n:Xh(),r=typeof n=="string"?n:Ih,a=Gs(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=bT("firestore");l&&qP(a,...l)}return a}function Ly(n){if(n._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GP(n),n._firestoreClient}function GP(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new pM(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kx(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new UP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(tn.fromBase64String(e))}catch(t){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new si(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rc(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:jt("string",si._jsonSchemaVersion),bytes:jt("string")};class pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gf{constructor(e){this._methodName=e}}class ir{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(rc(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:jt("string",ir._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rc(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new rr(e.vectorValues);throw new ge(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:jt("string",rr._jsonSchemaVersion),vectorValues:jt("object")};const $P=/^__.*__$/;class YP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new sc(e,this.data,t,this.fieldTransforms)}}class Lx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:n})}}class jy{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jx(this.Ac)&&$P.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||df(e)}Cc(e,t,r,a=!1){return new jy({Ac:e,methodName:t,Dc:r,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(n){const e=n._freezeSettings(),t=df(n._databaseId);return new KP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Vx(n,e,t,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);Uy("Data must be an object, but it was:",c,r);const f=Ux(r,c);let h,p;if(l.merge)h=new Fn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const T=Lg(e,_,t);if(!c.contains(T))throw new ge(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Bx(v,T)||v.push(T)}h=new Fn(v),p=c.fieldTransforms.filter((_=>h.covers(_.field)))}else h=null,p=c.fieldTransforms;return new YP(new Nn(f),h,p)}class vf extends gf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}class Vy extends gf{_toFieldTransform(e){return new BM(e.path,new $u)}isEqual(e){return e instanceof Vy}}function QP(n,e,t,r){const a=n.Cc(1,e,t);Uy("Data must be an object, but it was:",a,r);const l=[],c=Nn.empty();Ks(r,((h,p)=>{const v=zy(e,h,t);p=rt(p);const _=a.yc(v);if(p instanceof vf)l.push(v);else{const T=uc(p,_);T!=null&&(l.push(v),c.set(v,T))}}));const f=new Fn(l);return new Lx(c,f,a.fieldTransforms)}function XP(n,e,t,r,a,l){const c=n.Cc(1,e,t),f=[Lg(e,r,t)],h=[a];if(l.length%2!=0)throw new ge(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(Lg(e,l[T])),h.push(l[T+1]);const p=[],v=Nn.empty();for(let T=f.length-1;T>=0;--T)if(!Bx(p,f[T])){const x=f[T];let I=h[T];I=rt(I);const k=c.yc(x);if(I instanceof vf)p.push(x);else{const P=uc(I,k);P!=null&&(p.push(x),v.set(x,P))}}const _=new Fn(p);return new Lx(v,_,c.fieldTransforms)}function WP(n,e,t,r=!1){return uc(t,n.Cc(r?4:3,e))}function uc(n,e){if(zx(n=rt(n)))return Uy("Unsupported field value:",e,n),Ux(n,e);if(n instanceof gf)return(function(r,a){if(!jx(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let h=uc(f,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ct.fromDate(r);return{timestampValue:Mh(a.serializer,l)}}if(r instanceof ct){const l=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(a.serializer,l)}}if(r instanceof ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof si)return{bytesValue:nx(a.serializer,r._byteString)};if(r instanceof bt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ey(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof rr)return(function(c,f){return{mapValue:{fields:{[OS]:{stringValue:DS},[Nh]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return vy(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${ef(r)}`)})(n,e)}function Ux(n,e){const t={};return xS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(n,((r,a)=>{const l=uc(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function zx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof ir||n instanceof si||n instanceof bt||n instanceof gf||n instanceof rr)}function Uy(n,e,t){if(!zx(t)||!TS(t)){const r=ef(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Lg(n,e,t){if((e=rt(e))instanceof pf)return e._internalPath;if(typeof e=="string")return zy(n,e);throw jh("Field path arguments must be of type string or ",n,!1,void 0,t)}const JP=new RegExp("[~\\*/\\[\\]]");function zy(n,e,t){if(e.search(JP)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pf(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jh(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new ge(ae.INVALID_ARGUMENT,f+n+h)}function Bx(n,e){return n.some((t=>t.isEqual(e)))}class Fx{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_f("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ZP extends Fx{data(){return super.data()}}function _f(n,e){return typeof e=="string"?zy(n,e):e instanceof pf?e._internalPath:e._delegate._internalPath}function e4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class By{}class qx extends By{}function Hx(n,e,...t){let r=[];e instanceof By&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((h=>h instanceof Fy)).length,f=l.filter((h=>h instanceof bf)).length;if(c>1||c>0&&f>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class bf extends qx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bf(e,t,r)}_apply(e){const t=this._parse(e);return Gx(e._query,t),new $a(e.firestore,e.converter,Sg(e._query,t))}_parse(e){const t=yf(e.firestore);return(function(l,c,f,h,p,v,_){let T;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){wE(_,v);const I=[];for(const k of _)I.push(bE(h,l,k));T={arrayValue:{values:I}}}else T=bE(h,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||wE(_,v),T=WP(f,c,_,v==="in"||v==="not-in");return Lt.create(p,v,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function t4(n,e,t){const r=e,a=_f("where",n);return bf._create(a,r,t)}class Fy extends By{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const h of f)Gx(c,h),c=Sg(c,h)})(e._query,t),new $a(e.firestore,e.converter,Sg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends qx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qy(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(l,c)})(e._query,this._field,this._direction);return new $a(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new dl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function n4(n,e="asc"){const t=e,r=_f("orderBy",n);return qy._create(r,t)}function bE(n,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zS(e)&&t.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!Ee.isDocumentKey(r))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lw(n,new Ee(r))}if(t instanceof bt)return Lw(n,t._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(t)}.`)}function wE(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gx(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class i4{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ks(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Nh].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new rr(t)}convertGeoPoint(e){return new ir(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=Ls(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Qe(lx(r),9688,{name:e});const a=new qu(r.get(1),r.get(3)),l=new Ee(r.popFirst(5));return a.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function $x(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends Fx{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_f("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:jt("string",Oa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class fh extends Oa{data(e={}){return super.data(e)}}class Ko{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ru(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new fh(this._firestore,this._userDataWriter,r.key,r,new Ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const h=new fh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ru(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const h=new fh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ru(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:r4(f.type),doc:h,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}function Hy(n){n=ai(n,bt);const e=ai(n.firestore,Bs);return FP(Ly(e),n._key).then((t=>Qx(e,n,t)))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:jt("string",Ko._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Yx extends i4{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function Ms(n,e,t){n=ai(n,bt);const r=ai(n.firestore,Bs),a=$x(n.converter,e,t);return wf(r,[Vx(yf(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,oi.none())])}function EE(n,e,t,...r){n=ai(n,bt);const a=ai(n.firestore,Bs),l=yf(a);let c;return c=typeof(e=rt(e))=="string"||e instanceof pf?XP(l,"updateDoc",n._key,e,t,r):QP(l,"updateDoc",n._key,e),wf(a,[c.toMutation(n._key,oi.exists(!0))])}function s4(n){return wf(ai(n.firestore,Bs),[new _y(n._key,oi.none())])}function Kx(n,e){const t=ai(n.firestore,Bs),r=mn(n),a=$x(n.converter,e);return wf(t,[Vx(yf(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,oi.exists(!1))]).then((()=>r))}function jg(n,...e){n=rt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_E(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(_E(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let l,c,f;if(n instanceof bt)c=ai(n.firestore,Bs),f=sf(n._key.path),l={next:h=>{e[r]&&e[r](Qx(c,n,h))},error:e[r+1],complete:e[r+2]};else{const h=ai(n,$a);c=ai(h.firestore,Bs),f=h._query;const p=new Yx(c);l={next:v=>{e[r]&&e[r](new Ko(c,p,h,v))},error:e[r+1],complete:e[r+2]},e4(n._query)}return(function(p,v,_,T){const x=new Dx(T),I=new Tx(v,x,_);return p.asyncQueue.enqueueAndForget((async()=>wx(await Pg(p),I))),()=>{x.Nu(),p.asyncQueue.enqueueAndForget((async()=>Ex(await Pg(p),I)))}})(Ly(c),f,a,l)}function wf(n,e){return(function(r,a){const l=new Os;return r.asyncQueue.enqueueAndForget((async()=>NP(await BP(r),a,l))),l.promise})(Ly(n),e)}function Qx(n,e,t){const r=t.docs.get(e._key),a=new Yx(n);return new Oa(n,a,e._key,r,new Ru(t.hasPendingWrites,t.fromCache),e.converter)}function Vh(){return new Vy("serverTimestamp")}(function(e,t=!0){(function(a){ll=a})(qa),Ci(new ui("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Bs(new XD(r.getProvider("auth-internal")),new ZD(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),On(Tw,Sw,e),On(Tw,Sw,"esm2020")})();const Xx="firebasestorage.googleapis.com",Wx="storageBucket",a4=120*1e3,o4=600*1e3,l4=1e3;class gt extends di{constructor(e,t,r=0){super(Gp(e),`Firebase Storage: ${t} (${Gp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function Gp(n){return"storage/"+n}function Gy(){const n="An unknown error occurred, please check the error payload for server response.";return new gt(dt.UNKNOWN,n)}function u4(n){return new gt(dt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function c4(n){return new gt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function d4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(dt.UNAUTHENTICATED,n)}function h4(){return new gt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function f4(n){return new gt(dt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Jx(){return new gt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zx(){return new gt(dt.CANCELED,"User canceled the upload/download.")}function m4(n){return new gt(dt.INVALID_URL,"Invalid URL '"+n+"'.")}function p4(n){return new gt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function g4(){return new gt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Wx+"' property when initializing the app?")}function e1(){return new gt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y4(){return new gt(dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function v4(){return new gt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _4(n){return new gt(dt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vg(n){return new gt(dt.INVALID_ARGUMENT,n)}function t1(){return new gt(dt.APP_DELETED,"The Firebase app was deleted.")}function b4(n){return new gt(dt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lu(n,e){return new gt(dt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wu(n){throw new gt(dt.INTERNAL_ERROR,"Internal error: "+n)}class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qn.makeFromUrl(e,t)}catch{return new qn(e,"")}if(r.path==="")return r;throw p4(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${v}/b/${a}/o${T}`,"i"),I={bucket:1,path:3},k=t===Xx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",L=new RegExp(`^https?://${k}/${a}/${P}`,"i"),B=[{regex:f,indices:h,postModify:l},{regex:x,indices:I,postModify:p},{regex:L,indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<B.length;X++){const ee=B[X],re=ee.regex.exec(e);if(re){const D=re[ee.indices.bucket];let S=re[ee.indices.path];S||(S=""),r=new qn(D,S),ee.postModify(r);break}}if(r==null)throw m4(e);return r}}class w4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function E4(n,e,t){let r=1,a=null,l=null,c=!1,f=0;function h(){return f===2}let p=!1;function v(...P){p||(p=!0,e.apply(null,P))}function _(P){a=setTimeout(()=>{a=null,n(x,h())},P)}function T(){l&&clearTimeout(l)}function x(P,...L){if(p){T();return}if(P){T(),v.call(null,P,...L);return}if(h()||c){T(),v.call(null,P,...L);return}r<64&&(r*=2);let B;f===1?(f=2,B=0):B=(r+Math.random())*1e3,_(B)}let I=!1;function k(P){I||(I=!0,T(),!p&&(a!==null?(P||(f=2),clearTimeout(a),_(0)):P||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,k(!0)},t),k}function T4(n){n(!1)}function S4(n){return n!==void 0}function x4(n){return typeof n=="function"}function A4(n){return typeof n=="object"&&!Array.isArray(n)}function Ef(n){return typeof n=="string"||n instanceof String}function TE(n){return $y()&&n instanceof Blob}function $y(){return typeof Blob<"u"}function SE(n,e,t,r){if(r<e)throw Vg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Vg(`Invalid value for '${n}'. Expected ${t} or less.`)}function cc(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function n1(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Da;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Da||(Da={}));function i1(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class C4{constructor(e,t,r,a,l,c,f,h,p,v,_,T=!0,x=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,k)=>{this.resolve_=I,this.reject_=k,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Xd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const h=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Da.NO_ERROR,h=l.getStatus();if(!f||i1(h,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Da.ABORT;r(!1,new Xd(!1,null,v));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Xd(p,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());S4(h)?l(h):l()}catch(h){c(h)}else if(f!==null){const h=Gy();h.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,h)):c(h)}else if(a.canceled){const h=this.appDelete_?t1():Zx();c(h)}else{const h=Jx();c(h)}};this.canceled_?t(!1,new Xd(!1,null,!0)):this.backoffId_=E4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&T4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function R4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function I4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N4(n,e){e&&(n["X-Firebase-GMPID"]=e)}function O4(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function D4(n,e,t,r,a,l,c=!0,f=!1){const h=n1(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return N4(v,e),R4(v,t),I4(v,l),O4(v,r),new C4(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}function M4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function k4(...n){const e=M4();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if($y())return new Blob(n);throw new gt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function P4(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function L4(n){if(typeof atob>"u")throw _4("base-64");return atob(n)}const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $p{constructor(e,t){this.data=e,this.contentType=t||null}}function j4(n,e){switch(n){case Zi.RAW:return new $p(r1(e));case Zi.BASE64:case Zi.BASE64URL:return new $p(s1(n,e));case Zi.DATA_URL:return new $p(U4(e),z4(e))}throw Gy()}function r1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,c=n.charCodeAt(++t);r=65536|(l&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function V4(n){let e;try{e=decodeURIComponent(n)}catch{throw Lu(Zi.DATA_URL,"Malformed data URL.")}return r1(e)}function s1(n,e){switch(n){case Zi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Lu(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Lu(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=L4(e)}catch(a){throw a.message.includes("polyfill")?a:Lu(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class a1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Lu(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=B4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function U4(n){const e=new a1(n);return e.base64?s1(Zi.BASE64,e.rest):V4(e.rest)}function z4(n){return new a1(n).contentType}function B4(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class xs{constructor(e,t){let r=0,a="";TE(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(TE(this.data_)){const r=this.data_,a=P4(r,e,t);return a===null?null:new xs(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xs(r,!0)}}static getBlob(...e){if($y()){const t=e.map(r=>r instanceof xs?r.data_:r);return new xs(k4.apply(null,t))}else{const t=e.map(c=>Ef(c)?j4(Zi.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new xs(a,!0)}}uploadData(){return this.data_}}function o1(n){let e;try{e=JSON.parse(n)}catch{return null}return A4(e)?e:null}function F4(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function q4(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function l1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function H4(n,e){return e}class fn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||H4}}let Wd=null;function G4(n){return!Ef(n)||n.length<2?n:l1(n)}function u1(){if(Wd)return Wd;const n=[];n.push(new fn("bucket")),n.push(new fn("generation")),n.push(new fn("metageneration")),n.push(new fn("name","fullPath",!0));function e(l,c){return G4(c)}const t=new fn("name");t.xform=e,n.push(t);function r(l,c){return c!==void 0?Number(c):c}const a=new fn("size");return a.xform=r,n.push(a),n.push(new fn("timeCreated")),n.push(new fn("updated")),n.push(new fn("md5Hash",null,!0)),n.push(new fn("cacheControl",null,!0)),n.push(new fn("contentDisposition",null,!0)),n.push(new fn("contentEncoding",null,!0)),n.push(new fn("contentLanguage",null,!0)),n.push(new fn("contentType",null,!0)),n.push(new fn("metadata","customMetadata",!0)),Wd=n,Wd}function $4(n,e){function t(){const r=n.bucket,a=n.fullPath,l=new qn(r,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function Y4(n,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return $4(r,n),r}function c1(n,e,t){const r=o1(e);return r===null?null:Y4(n,r,t)}function K4(n,e,t,r){const a=o1(e);if(a===null||!Ef(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=n.bucket,_=n.fullPath,T="/b/"+c(v)+"/o/"+c(_),x=cc(T,t,r),I=n1({alt:"media",token:p});return x+I})[0]}function d1(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class fl{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Pr(n){if(!n)throw Gy()}function Yy(n,e){function t(r,a){const l=c1(n,a,e);return Pr(l!==null),l}return t}function Q4(n,e){function t(r,a){const l=c1(n,a,e);return Pr(l!==null),K4(l,a,n.host,n._protocol)}return t}function dc(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=h4():a=d4():t.getStatus()===402?a=c4(n.bucket):t.getStatus()===403?a=f4(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function h1(n){const e=dc(n);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=u4(n.path)),l.serverResponse=a.serverResponse,l}return t}function X4(n,e,t){const r=e.fullServerUrl(),a=cc(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new fl(a,l,Yy(n,t),c);return f.errorHandler=h1(e),f}function W4(n,e,t){const r=e.fullServerUrl(),a=cc(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new fl(a,l,Q4(n,t),c);return f.errorHandler=h1(e),f}function J4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function f1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=J4(null,e)),r}function Z4(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let B="";for(let X=0;X<2;X++)B=B+Math.random().toString().slice(2);return B}const h=f();c["Content-Type"]="multipart/related; boundary="+h;const p=f1(e,r,a),v=d1(p,t),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,T=`\r
--`+h+"--",x=xs.getBlob(_,r,T);if(x===null)throw e1();const I={name:p.fullPath},k=cc(l,n.host,n._protocol),P="POST",L=n.maxUploadRetryTime,U=new fl(k,P,Yy(n,t),L);return U.urlParams=I,U.headers=c,U.body=x.uploadData(),U.errorHandler=dc(e),U}class Uh{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function Ky(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Pr(!1)}return Pr(!!t&&(e||["active"]).indexOf(t)!==-1),t}function eL(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c=f1(e,r,a),f={name:c.fullPath},h=cc(l,n.host,n._protocol),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},_=d1(c,t),T=n.maxUploadRetryTime;function x(k){Ky(k);let P;try{P=k.getResponseHeader("X-Goog-Upload-URL")}catch{Pr(!1)}return Pr(Ef(P)),P}const I=new fl(h,p,x,T);return I.urlParams=f,I.headers=v,I.body=_,I.errorHandler=dc(e),I}function tL(n,e,t,r){const a={"X-Goog-Upload-Command":"query"};function l(p){const v=Ky(p,["active","final"]);let _=null;try{_=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pr(!1)}_||Pr(!1);const T=Number(_);return Pr(!isNaN(T)),new Uh(T,r.size(),v==="final")}const c="POST",f=n.maxUploadRetryTime,h=new fl(t,c,l,f);return h.headers=a,h.errorHandler=dc(e),h}const xE=256*1024;function nL(n,e,t,r,a,l,c,f){const h=new Uh(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw y4();const p=h.total-h.current;let v=p;a>0&&(v=Math.min(v,a));const _=h.current,T=_+v;let x="";v===0?x="finalize":p===v?x="upload, finalize":x="upload";const I={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${h.current}`},k=r.slice(_,T);if(k===null)throw e1();function P(X,ee){const re=Ky(X,["active","final"]),D=h.current+v,S=r.size();let M;return re==="final"?M=Yy(e,l)(X,ee):M=null,new Uh(D,S,re==="final",M)}const L="POST",U=e.maxUploadRetryTime,B=new fl(t,L,P,U);return B.headers=I,B.body=k.uploadData(),B.progressCallback=f||null,B.errorHandler=dc(n),B}const Rn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Yp(n){switch(n){case"running":case"pausing":case"canceling":return Rn.RUNNING;case"paused":return Rn.PAUSED;case"success":return Rn.SUCCESS;case"canceled":return Rn.CANCELED;case"error":return Rn.ERROR;default:return Rn.ERROR}}let iL=class{constructor(e,t,r){if(x4(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}};function jo(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class rL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Da.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Da.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Da.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw wu("cannot .send() more than once");if(Hs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sL extends rL{initXhr(){this.xhr_.responseType="text"}}function Fo(){return new sL}class aL{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=u1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(i1(a.status,[]))if(l)a=Jx();else{this.sleepTime=Math.max(this.sleepTime*2,l4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(dt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=eL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Fo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=tL(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Fo,t,r);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=xE*this._chunkMultiplier,t=new Uh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=nL(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Fo,a,l,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){xE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=X4(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,Fo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=Z4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Fo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Zx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Yp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const l=new iL(t||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Yp(this._state)){case Rn.SUCCESS:jo(this._resolve.bind(null,this.snapshot))();break;case Rn.CANCELED:case Rn.ERROR:const t=this._reject;jo(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Yp(this._state)){case Rn.RUNNING:case Rn.PAUSED:e.next&&jo(e.next.bind(e,this.snapshot))();break;case Rn.SUCCESS:e.complete&&jo(e.complete.bind(e))();break;case Rn.CANCELED:case Rn.ERROR:e.error&&jo(e.error.bind(e,this._error))();break;default:e.error&&jo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class Va{constructor(e,t){this._service=e,t instanceof qn?this._location=t:this._location=qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Va(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l1(this._location.path)}get storage(){return this._service}get parent(){const e=F4(this._location.path);if(e===null)return null;const t=new qn(this._location.bucket,e);return new Va(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw b4(e)}}function oL(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new aL(n,new xs(e),t)}function lL(n){n._throwIfRoot("getDownloadURL");const e=W4(n.storage,n._location,u1());return n.storage.makeRequestWithTokens(e,Fo).then(t=>{if(t===null)throw v4();return t})}function uL(n,e){const t=q4(n._location.path,e),r=new qn(n._location.bucket,t);return new Va(n.storage,r)}function cL(n){return/^[A-Za-z]+:\/\//.test(n)}function dL(n,e){return new Va(n,e)}function m1(n,e){if(n instanceof Qy){const t=n;if(t._bucket==null)throw g4();const r=new Va(t,t._bucket);return e!=null?m1(r,e):r}else return e!==void 0?uL(n,e):n}function hL(n,e){if(e&&cL(e)){if(n instanceof Qy)return dL(n,e);throw Vg("To use ref(service, url), the first argument must be a Storage instance.")}else return m1(n,e)}function AE(n,e){const t=e?.[Wx];return t==null?null:qn.makeFromBucketSpec(t,n)}function fL(n,e,t,r={}){n.host=`${e}:${t}`;const a=Hs(e);a&&(Jg(`https://${n.host}/b`),Zg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:TT(l,n.app.options.projectId))}class Qy{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Xx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=a4,this._maxUploadRetryTime=o4,this._requests=new Set,a!=null?this._bucket=qn.makeFromBucketSpec(a,this._host):this._bucket=AE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=AE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Va(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new w4(t1());{const c=D4(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const CE="@firebase/storage",RE="0.14.0";const p1="storage";function mL(n,e,t){return n=rt(n),oL(n,e,t)}function pL(n){return n=rt(n),lL(n)}function gL(n,e){return n=rt(n),hL(n,e)}function yL(n=Xh(),e){n=rt(n);const r=Gs(n,p1).getImmediate({identifier:e}),a=bT("storage");return a&&vL(r,...a),r}function vL(n,e,t,r={}){fL(n,e,t,r)}function _L(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Qy(t,r,a,e,qa)}function bL(){Ci(new ui(p1,_L,"PUBLIC").setMultipleInstances(!0)),On(CE,RE,""),On(CE,RE,"esm2020")}bL();const g1="@firebase/installations",Xy="0.6.19";const y1=1e4,v1=`w:${Xy}`,_1="FIS_v2",wL="https://firebaseinstallations.googleapis.com/v1",EL=3600*1e3,TL="installations",SL="Installations";const xL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ua=new Fa(TL,SL,xL);function b1(n){return n instanceof di&&n.code.includes("request-failed")}function w1({projectId:n}){return`${wL}/projects/${n}/installations`}function E1(n){return{token:n.token,requestStatus:2,expiresIn:CL(n.expiresIn),creationTime:Date.now()}}async function T1(n,e){const r=(await e.json()).error;return Ua.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function S1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function AL(n,{refreshToken:e}){const t=S1(n);return t.append("Authorization",RL(e)),t}async function x1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function CL(n){return Number(n.replace("s","000"))}function RL(n){return`${_1} ${n}`}async function IL({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=w1(n),a=S1(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:t,authVersion:_1,appId:n.appId,sdkVersion:v1},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await x1(()=>fetch(r,f));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:E1(p.authToken)}}else throw await T1("Create Installation",h)}function A1(n){return new Promise(e=>{setTimeout(e,n)})}function NL(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const OL=/^[cdef][\w-]{21}$/,Ug="";function DL(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=ML(n);return OL.test(t)?t:Ug}catch{return Ug}}function ML(n){return NL(n).substr(0,22)}function Tf(n){return`${n.appName}!${n.appId}`}const C1=new Map;function R1(n,e){const t=Tf(n);I1(t,e),kL(t,e)}function I1(n,e){const t=C1.get(n);if(t)for(const r of t)r(e)}function kL(n,e){const t=PL();t&&t.postMessage({key:n,fid:e}),LL()}let Na=null;function PL(){return!Na&&"BroadcastChannel"in self&&(Na=new BroadcastChannel("[Firebase] FID Change"),Na.onmessage=n=>{I1(n.data.key,n.data.fid)}),Na}function LL(){C1.size===0&&Na&&(Na.close(),Na=null)}const jL="firebase-installations-database",VL=1,za="firebase-installations-store";let Kp=null;function Wy(){return Kp||(Kp=IT(jL,VL,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(za)}}})),Kp}async function zh(n,e){const t=Tf(n),a=(await Wy()).transaction(za,"readwrite"),l=a.objectStore(za),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&R1(n,e.fid),e}async function N1(n){const e=Tf(n),r=(await Wy()).transaction(za,"readwrite");await r.objectStore(za).delete(e),await r.done}async function Sf(n,e){const t=Tf(n),a=(await Wy()).transaction(za,"readwrite"),l=a.objectStore(za),c=await l.get(t),f=e(c);return f===void 0?await l.delete(t):await l.put(f,t),await a.done,f&&(!c||c.fid!==f.fid)&&R1(n,f.fid),f}async function Jy(n){let e;const t=await Sf(n.appConfig,r=>{const a=UL(r),l=zL(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Ug?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function UL(n){const e=n||{fid:DL(),registrationStatus:0};return O1(e)}function zL(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ua.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BL(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FL(n)}:{installationEntry:e}}async function BL(n,e){try{const t=await IL(n,e);return zh(n.appConfig,t)}catch(t){throw b1(t)&&t.customData.serverCode===409?await N1(n.appConfig):await zh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function FL(n){let e=await IE(n.appConfig);for(;e.registrationStatus===1;)await A1(100),e=await IE(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Jy(n);return r||t}return e}function IE(n){return Sf(n,e=>{if(!e)throw Ua.create("installation-not-found");return O1(e)})}function O1(n){return qL(n)?{fid:n.fid,registrationStatus:0}:n}function qL(n){return n.registrationStatus===1&&n.registrationTime+y1<Date.now()}async function HL({appConfig:n,heartbeatServiceProvider:e},t){const r=GL(n,t),a=AL(n,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:v1,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await x1(()=>fetch(r,f));if(h.ok){const p=await h.json();return E1(p)}else throw await T1("Generate Auth Token",h)}function GL(n,{fid:e}){return`${w1(n)}/${e}/authTokens:generate`}async function Zy(n,e=!1){let t;const r=await Sf(n.appConfig,l=>{if(!D1(l))throw Ua.create("not-registered");const c=l.authToken;if(!e&&KL(c))return l;if(c.requestStatus===1)return t=$L(n,e),l;{if(!navigator.onLine)throw Ua.create("app-offline");const f=XL(l);return t=YL(n,f),f}});return t?await t:r.authToken}async function $L(n,e){let t=await NE(n.appConfig);for(;t.authToken.requestStatus===1;)await A1(100),t=await NE(n.appConfig);const r=t.authToken;return r.requestStatus===0?Zy(n,e):r}function NE(n){return Sf(n,e=>{if(!D1(e))throw Ua.create("not-registered");const t=e.authToken;return WL(t)?{...e,authToken:{requestStatus:0}}:e})}async function YL(n,e){try{const t=await HL(n,e),r={...e,authToken:t};return await zh(n.appConfig,r),t}catch(t){if(b1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await N1(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await zh(n.appConfig,r)}throw t}}function D1(n){return n!==void 0&&n.registrationStatus===2}function KL(n){return n.requestStatus===2&&!QL(n)}function QL(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+EL}function XL(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function WL(n){return n.requestStatus===1&&n.requestTime+y1<Date.now()}async function JL(n){const e=n,{installationEntry:t,registrationPromise:r}=await Jy(e);return r?r.catch(console.error):Zy(e).catch(console.error),t.fid}async function ZL(n,e=!1){const t=n;return await ej(t),(await Zy(t,e)).token}async function ej(n){const{registrationPromise:e}=await Jy(n);e&&await e}function tj(n){if(!n||!n.options)throw Qp("App Configuration");if(!n.name)throw Qp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Qp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Qp(n){return Ua.create("missing-app-config-values",{valueName:n})}const M1="installations",nj="installations-internal",ij=n=>{const e=n.getProvider("app").getImmediate(),t=tj(e),r=Gs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rj=n=>{const e=n.getProvider("app").getImmediate(),t=Gs(e,M1).getImmediate();return{getId:()=>JL(t),getToken:a=>ZL(t,a)}};function sj(){Ci(new ui(M1,ij,"PUBLIC")),Ci(new ui(nj,rj,"PRIVATE"))}sj();On(g1,Xy);On(g1,Xy,"esm2020");const Bh="analytics",aj="firebase_id",oj="origin",lj=60*1e3,uj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ev="https://www.googletagmanager.com/gtag/js";const pn=new Qh("@firebase/analytics");const cj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hn=new Fa("analytics","Analytics",cj);function dj(n){if(!n.startsWith(ev)){const e=Hn.create("invalid-gtag-resource",{gtagURL:n});return pn.warn(e.message),""}return n}function k1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function hj(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function fj(n,e){const t=hj("firebase-js-sdk-policy",{createScriptURL:dj}),r=document.createElement("script"),a=`${ev}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function mj(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function pj(n,e,t,r,a,l){const c=r[a];try{if(c)await e[c];else{const h=(await k1(t)).find(p=>p.measurementId===a);h&&await e[h.appId]}}catch(f){pn.error(f)}n("config",a,l)}async function gj(n,e,t,r,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const f=await k1(t);for(const h of c){const p=f.find(_=>_.measurementId===h),v=p&&e[p.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,a||{})}catch(l){pn.error(l)}}function yj(n,e,t,r){async function a(l,...c){try{if(l==="event"){const[f,h]=c;await gj(n,e,t,f,h)}else if(l==="config"){const[f,h]=c;await pj(n,e,t,r,f,h)}else if(l==="consent"){const[f,h]=c;n("consent",f,h)}else if(l==="get"){const[f,h,p]=c;n("get",f,h,p)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){pn.error(f)}}return a}function vj(n,e,t,r,a){let l=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=yj(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function _j(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ev)&&t.src.includes(n))return t;return null}const bj=30,wj=1e3;class Ej{constructor(e={},t=wj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const P1=new Ej;function Tj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Sj(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:Tj(t)},a=uj.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();f.error?.message&&(c=f.error.message)}catch{}throw Hn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function xj(n,e=P1,t){const{appId:r,apiKey:a,measurementId:l}=n.options;if(!r)throw Hn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw Hn.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Rj;return setTimeout(async()=>{f.abort()},lj),L1({appId:r,apiKey:a,measurementId:l},c,f,e)}async function L1(n,{throttleEndTimeMillis:e,backoffCount:t},r,a=P1){const{appId:l,measurementId:c}=n;try{await Aj(r,e)}catch(f){if(c)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw f}try{const f=await Sj(n);return a.deleteThrottleMetadata(l),f}catch(f){const h=f;if(!Cj(h)){if(a.deleteThrottleMetadata(l),c)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:c};throw f}const p=Number(h?.customData?.httpStatus)===503?Kb(t,a.intervalMillis,bj):Kb(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return a.setThrottleMetadata(l,v),pn.debug(`Calling attemptFetch again in ${p} millis`),L1(n,v,r,a)}}function Aj(n,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),r(Hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Cj(n){if(!(n instanceof di)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Rj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ij(n,e,t,r,a){if(a&&a.global){n("event",t,r);return}else{const l=await e,c={...r,send_to:l};n("event",t,c)}}async function Nj(n,e,t,r){if(r&&r.global){const a={};for(const l of Object.keys(t))a[`user_properties.${l}`]=t[l];return n("set",a),Promise.resolve()}else{const a=await e;n("config",a,{update:!0,user_properties:t})}}async function Oj(){if(xT())try{await AT()}catch(n){return pn.warn(Hn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return pn.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Dj(n,e,t,r,a,l,c){const f=xj(n);f.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>pn.error(T)),e.push(f);const h=Oj().then(T=>{if(T)return r.getId()}),[p,v]=await Promise.all([f,h]);_j(l)||fj(l,p.measurementId),a("js",new Date);const _=c?.config??{};return _[oj]="firebase",_.update=!0,v!=null&&(_[aj]=v),a("config",p.measurementId,_),p.measurementId}class Mj{constructor(e){this.app=e}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}}let Qo={},OE=[];const DE={};let Xp="dataLayer",kj="gtag",ME,tv,kE=!1;function Pj(){const n=[];if(ST()&&n.push("This is a browser extension environment."),d2()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=Hn.create("invalid-analytics-context",{errorInfo:e});pn.warn(t.message)}}function Lj(n,e,t){Pj();const r=n.options.appId;if(!r)throw Hn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hn.create("no-api-key");if(Qo[r]!=null)throw Hn.create("already-exists",{id:r});if(!kE){mj(Xp);const{wrappedGtag:l,gtagCore:c}=vj(Qo,OE,DE,Xp,kj);tv=l,ME=c,kE=!0}return Qo[r]=Dj(n,OE,DE,e,ME,Xp,t),new Mj(n)}function jj(n=Xh()){n=rt(n);const e=Gs(n,Bh);return e.isInitialized()?e.getImmediate():Vj(n)}function Vj(n,e={}){const t=Gs(n,Bh);if(t.isInitialized()){const a=t.getImmediate();if(ks(e,t.getOptions()))return a;throw Hn.create("already-initialized")}return t.initialize({options:e})}function Uj(n,e,t){n=rt(n),Nj(tv,Qo[n.app.options.appId],e,t).catch(r=>pn.error(r))}function zj(n,e,t,r){n=rt(n),Ij(tv,Qo[n.app.options.appId],e,t,r).catch(a=>pn.error(a))}const PE="@firebase/analytics",LE="0.10.19";function Bj(){Ci(new ui(Bh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Lj(r,a,t)},"PUBLIC")),Ci(new ui("analytics-internal",n,"PRIVATE")),On(PE,LE),On(PE,LE,"esm2020");function n(e){try{const t=e.getProvider(Bh).getImmediate();return{logEvent:(r,a,l)=>zj(t,r,a,l),setUserProperties:(r,a)=>Uj(t,r,a)}}catch(t){throw Hn.create("interop-component-reg-failed",{reason:t})}}}Bj();const Fj={VITE_FIREBASE_API_KEY:"",VITE_FIREBASE_APP_ID:"",VITE_FIREBASE_AUTH_DOMAIN:"",VITE_FIREBASE_MEASUREMENT_ID:"",VITE_FIREBASE_MESSAGING_SENDER_ID:"",VITE_FIREBASE_PROJECT_ID:"",VITE_FIREBASE_STORAGE_BUCKET:""},Aa=typeof import.meta<"u"?Fj:{},xn=typeof window<"u"?window.__FIREBASE_CONFIG__:void 0,Jd={apiKey:Aa.VITE_FIREBASE_API_KEY||xn&&xn.apiKey||"",authDomain:Aa.VITE_FIREBASE_AUTH_DOMAIN||xn&&xn.authDomain||"",projectId:Aa.VITE_FIREBASE_PROJECT_ID||xn&&xn.projectId||"",storageBucket:Aa.VITE_FIREBASE_STORAGE_BUCKET||xn&&xn.storageBucket||"",messagingSenderId:Aa.VITE_FIREBASE_MESSAGING_SENDER_ID||xn&&xn.messagingSenderId||"",appId:Aa.VITE_FIREBASE_APP_ID||xn&&xn.appId||"",measurementId:Aa.VITE_FIREBASE_MEASUREMENT_ID||xn&&xn.measurementId||""};let Eu=null,qj=null,j1=null,V1=null,U1=null;if(!Jd.apiKey)console.error("Firebase config not loaded. App will run without Firebase. Provide VITE_FIREBASE_* env vars or window.__FIREBASE_CONFIG__.");else try{Eu=NT(Jd);try{Jd.measurementId&&typeof window<"u"&&(qj=jj(Eu))}catch(n){console.warn("Firebase analytics init failed",n)}j1=$D(Eu),V1=HP(Eu),U1=yL(Eu),console.info("[Firebase] Initialized for project:",Jd.projectId)}catch(n){console.error("Firebase initialization failed:",n)}const gn=j1,Bt=V1,Hj=U1,hc=Ju(Wg((n,e)=>({items:[],loading:!1,error:null,addItem:async t=>{const r=gn.currentUser;if(n(a=>({items:a.items.some(l=>l.id===t.id)?a.items:[...a.items,t]})),r)try{const a=mn(Bt,"wishlists",r.uid),l=e().items;await Ms(a,{items:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(a){console.error("Failed to save wishlist to Firebase:",a)}},removeItem:async t=>{n(a=>({items:a.items.filter(l=>l.id!==t)}));const r=gn.currentUser;if(r)try{const a=mn(Bt,"wishlists",r.uid),l=e().items;await Ms(a,{items:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(a){console.error("Failed to update wishlist in Firebase:",a)}},isWishlisted:t=>e().items.some(r=>r.id===t),fetchWishlist:async t=>{if(t){n({loading:!0});try{const r=mn(Bt,"wishlists",t),a=await Hy(r);if(a.exists()){const l=a.data();n({items:l.items||[],loading:!1,error:null})}else n({loading:!1})}catch(r){n({error:r.message,loading:!1})}}},clear:async()=>{n({items:[]});const t=gn.currentUser;if(t)try{const r=mn(Bt,"wishlists",t.uid);await Ms(r,{items:[]},{merge:!0})}catch(r){console.error("Failed to clear wishlist:",r)}}}),{name:"wishlist"}));function Gj(){const{pathname:n}=Br(),e=ln(),t=hc(c=>c.items),{t:r}=F.useContext(qs),a=c=>n===c||c==="/products"&&n.startsWith("/products"),l=[{icon:OI,label:r("home"),path:"/"},{icon:og,label:r("search"),path:"/products"},{icon:UI,label:r("account"),path:"/account"},{icon:jI,label:r("orders"),path:"/orders"},{icon:Yh,label:r("wishlist"),path:"/wishlist",badge:t.length}];return y.jsxs(y.Fragment,{children:[y.jsx(GI,{}),y.jsx("nav",{className:"bottom-nav fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-10 safe-area-bottom",children:y.jsx("div",{className:"max-w-6xl mx-auto flex justify-between items-stretch h-16",children:l.map(c=>{const f=c.icon,h=a(c.path);return y.jsxs("button",{onClick:()=>e(c.path),className:`flex-1 flex flex-col items-center justify-center gap-1 py-2 touch-area relative transition-colors ${h?"text-orange-600 border-t-2 border-orange-600 bg-orange-50":"text-gray-600 border-t-2 border-transparent hover:text-gray-900"}`,"aria-label":c.label,"aria-current":h?"page":void 0,children:[y.jsx(f,{size:20}),y.jsx("span",{className:"text-xs font-medium truncate",children:c.label}),c.badge&&c.badge>0&&y.jsx("span",{className:"absolute top-1 right-2 bg-orange-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:c.badge>99?"99+":c.badge})]},c.path)})})})]})}function $j({isOpen:n,onClose:e}){const t=ln(),{items:r,removeItem:a,updateQty:l}=Fs(),c=r.reduce((p,v)=>p+v.price*(v.qty||1),0),f=r.reduce((p,v)=>p+(v.qty||1),0),h=()=>{e(),t("/checkout")};return n?y.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[y.jsx("div",{onClick:e,className:"flex-1 bg-black bg-opacity-50 backdrop-blur-sm"}),y.jsxs("div",{className:"w-full sm:max-w-md bg-white shadow-2xl flex flex-col",children:[y.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 bg-gradient-to-r from-orange-600 to-orange-700 flex items-center justify-between sticky top-0 z-10 safe-area-top",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ma,{className:"text-white",size:20}),y.jsx("h2",{className:"font-bold text-base sm:text-lg text-white",children:"Cart"}),f>0&&y.jsx("span",{className:"bg-yellow-400 text-orange-700 text-xs font-bold px-2 py-0.5 rounded-full",children:f})]}),y.jsx("button",{onClick:e,className:"p-2 hover:bg-orange-500 rounded-lg transition-colors touch-area active:opacity-70","aria-label":"close cart",children:y.jsx(Wo,{size:20,className:"text-white"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto scrollable",children:r.length===0?y.jsxs("div",{className:"p-4 sm:p-6 text-center flex flex-col items-center justify-center h-full",children:[y.jsx(Ma,{size:48,className:"text-gray-300 mb-3"}),y.jsx("p",{className:"text-gray-600 font-semibold text-sm",children:"Your cart is empty"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add products to get started"}),y.jsx("button",{onClick:()=>{e(),t("/products")},className:"mt-4 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold active:opacity-70 touch-area min-h-[44px]",children:"Start Shopping"})]}):y.jsx("div",{className:"divide-y divide-gray-200",children:r.map(p=>y.jsxs("div",{className:"p-3 sm:p-4 active:bg-gray-50",children:[y.jsxs("div",{className:"flex gap-3 mb-3",children:[y.jsx("div",{className:"w-16 sm:w-20 h-16 sm:h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:p.image?y.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm",children:"Img"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"font-semibold text-xs sm:text-sm text-gray-900 line-clamp-2",children:p.name}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.category||"Product"}),y.jsxs("p",{className:"text-orange-600 font-bold mt-1.5 text-sm",children:["",p.price]})]}),y.jsx("button",{onClick:()=>a(p.id),className:"p-1.5 hover:bg-red-100 rounded-lg transition-colors flex-shrink-0 active:opacity-70 touch-area","aria-label":"remove item",children:y.jsx(Wo,{size:16,className:"text-red-500"})})]}),y.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[y.jsxs("div",{className:"flex items-center gap-1.5 border border-gray-300 rounded-lg",children:[y.jsx("button",{onClick:()=>l(p.id,Math.max(1,(p.qty||1)-1)),className:"p-1.5 text-gray-600 active:bg-orange-50 touch-area min-h-[40px] min-w-[40px]","aria-label":"decrease quantity",children:y.jsx(kI,{size:14})}),y.jsx("span",{className:"w-8 text-center text-sm font-semibold text-gray-900",children:p.qty||1}),y.jsx("button",{onClick:()=>l(p.id,(p.qty||1)+1),className:"p-1.5 text-gray-600 active:bg-orange-50 touch-area min-h-[40px] min-w-[40px]","aria-label":"increase quantity",children:y.jsx(mT,{size:14})})]}),y.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["",(p.price*(p.qty||1)).toFixed(0)]})]})]},p.id))})}),r.length>0&&y.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 bg-gradient-to-t from-gray-50 space-y-2.5 sticky bottom-0 safe-area-bottom",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-gray-700 font-medium text-sm",children:"Subtotal:"}),y.jsxs("span",{className:"text-lg sm:text-xl font-bold text-orange-600",children:["",c.toFixed(0)]})]}),y.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Shipping & taxes at checkout"}),y.jsx("button",{onClick:h,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-bold active:opacity-90 touch-area min-h-[48px] text-sm transition",children:"Checkout"}),y.jsx("button",{onClick:e,className:"w-full bg-gray-100 text-gray-900 py-2.5 rounded-lg font-semibold active:opacity-70 touch-area min-h-[44px] text-sm transition",children:"Continue"})]})]})]}):null}function jE(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function nv(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:jE(e[r])&&jE(n[r])&&Object.keys(e[r]).length>0&&nv(n[r],e[r])})}const z1={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ya(){const n=typeof document<"u"?document:{};return nv(n,z1),n}const Yj={document:z1,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function yn(){const n=typeof window<"u"?window:{};return nv(n,Yj),n}function Kj(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function Qj(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function B1(n,e=0){return setTimeout(n,e)}function Fh(){return Date.now()}function Xj(n){const e=yn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function Wj(n,e="x"){const t=yn();let r,a,l;const c=Xj(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(f=>f.replace(",",".")).join(", ")),l=new t.WebKitCSSMatrix(a==="none"?"":a)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=l.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=l.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=l.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Zd(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Jj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Bn(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<n.length;r+=1){const a=n[r];if(a!=null&&!Jj(a)){const l=Object.keys(Object(a)).filter(c=>t.indexOf(c)<0);for(let c=0,f=l.length;c<f;c+=1){const h=l[c],p=Object.getOwnPropertyDescriptor(a,h);p!==void 0&&p.enumerable&&(Zd(e[h])&&Zd(a[h])?a[h].__swiper__?e[h]=a[h]:Bn(e[h],a[h]):!Zd(e[h])&&Zd(a[h])?(e[h]={},a[h].__swiper__?e[h]=a[h]:Bn(e[h],a[h])):e[h]=a[h])}}}return e}function eh(n,e,t){n.style.setProperty(e,t)}function F1({swiper:n,targetPosition:e,side:t}){const r=yn(),a=-n.translate;let l=null,c;const f=n.params.speed;n.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(n.cssModeFrameID);const h=e>a?"next":"prev",p=(_,T)=>h==="next"&&_>=T||h==="prev"&&_<=T,v=()=>{c=new Date().getTime(),l===null&&(l=c);const _=Math.max(Math.min((c-l)/f,1),0),T=.5-Math.cos(_*Math.PI)/2;let x=a+T*(e-a);if(p(x,e)&&(x=e),n.wrapperEl.scrollTo({[t]:x}),p(x,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:x})}),r.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=r.requestAnimationFrame(v)};v()}function Dr(n,e=""){const t=yn(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function Zj(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function eV(n,e){const t=yn();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=Zj(n,e))),r}function qh(n){try{console.warn(n);return}catch{}}function zg(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:Kj(e)),t}function tV(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function nV(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Cs(n,e){return yn().getComputedStyle(n,null).getPropertyValue(e)}function VE(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function iV(n,e){const t=[];let r=n.parentElement;for(;r;)t.push(r),r=r.parentElement;return t}function UE(n,e,t){const r=yn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function zE(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Wp;function rV(){const n=yn(),e=Ya();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function q1(){return Wp||(Wp=rV()),Wp}let Jp;function sV({userAgent:n}={}){const e=q1(),t=yn(),r=t.navigator.platform,a=n||t.navigator.userAgent,l={ios:!1,android:!1},c=t.screen.width,f=t.screen.height,h=a.match(/(Android);?[\s\/]+([\d.]+)?/);let p=a.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const v=a.match(/(iPod)(.*OS\s([\d_]+))?/),_=!p&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=r==="Win32";let x=r==="MacIntel";const I=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&x&&e.touch&&I.indexOf(`${c}x${f}`)>=0&&(p=a.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),x=!1),h&&!T&&(l.os="android",l.android=!0),(p||_||v)&&(l.os="ios",l.ios=!0),l}function H1(n={}){return Jp||(Jp=sV(n)),Jp}let Zp;function aV(){const n=yn(),e=H1();let t=!1;function r(){const f=n.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(r()){const f=String(n.navigator.userAgent);if(f.includes("Version/")){const[h,p]=f.split("Version/")[1].split(" ")[0].split(".").map(v=>Number(v));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),l=r(),c=l||a&&e.ios;return{isSafari:t||l,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function G1(){return Zp||(Zp=aV()),Zp}function oV({swiper:n,on:e,emit:t}){const r=yn();let a=null,l=null;const c=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},f=()=>{!n||n.destroyed||!n.initialized||(a=new ResizeObserver(v=>{l=r.requestAnimationFrame(()=>{const{width:_,height:T}=n;let x=_,I=T;v.forEach(({contentBoxSize:k,contentRect:P,target:L})=>{L&&L!==n.el||(x=P?P.width:(k[0]||k).inlineSize,I=P?P.height:(k[0]||k).blockSize)}),(x!==_||I!==T)&&c()})}),a.observe(n.el))},h=()=>{l&&r.cancelAnimationFrame(l),a&&a.unobserve&&n.el&&(a.unobserve(n.el),a=null)},p=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof r.ResizeObserver<"u"){f();return}r.addEventListener("resize",c),r.addEventListener("orientationchange",p)}),e("destroy",()=>{h(),r.removeEventListener("resize",c),r.removeEventListener("orientationchange",p)})}function lV({swiper:n,extendParams:e,on:t,emit:r}){const a=[],l=yn(),c=(p,v={})=>{const _=l.MutationObserver||l.WebkitMutationObserver,T=new _(x=>{if(n.__preventObserver__)return;if(x.length===1){r("observerUpdate",x[0]);return}const I=function(){r("observerUpdate",x[0])};l.requestAnimationFrame?l.requestAnimationFrame(I):l.setTimeout(I,0)});T.observe(p,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:n.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),a.push(T)},f=()=>{if(n.params.observer){if(n.params.observeParents){const p=iV(n.hostEl);for(let v=0;v<p.length;v+=1)c(p[v])}c(n.hostEl,{childList:n.params.observeSlideChildren}),c(n.wrapperEl,{attributes:!1})}},h=()=>{a.forEach(p=>{p.disconnect()}),a.splice(0,a.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",f),t("destroy",h)}var uV={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(l=>{r.eventsListeners[l]||(r.eventsListeners[l]=[]),r.eventsListeners[l][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(...l){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy,e.apply(r,l)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,l)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(l,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,r,a;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],r=n.slice(1,n.length),a=e):(t=n[0].events,r=n[0].data,a=n[0].context||e),r.unshift(a),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(f=>{f.apply(a,[c,...r])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(f=>{f.apply(a,r)})}),e}};function cV(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Cs(r,"padding-left")||0,10)-parseInt(Cs(r,"padding-right")||0,10),t=t-parseInt(Cs(r,"padding-top")||0,10)-parseInt(Cs(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function dV(){const n=this;function e(N,C){return parseFloat(N.getPropertyValue(n.getDirectionLabel(C))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,rtlTranslate:l,wrongRTL:c}=n,f=n.virtual&&t.virtual.enabled,h=f?n.virtual.slides.length:n.slides.length,p=Dr(a,`.${n.params.slideClass}, swiper-slide`),v=f?n.virtual.slides.length:p.length;let _=[];const T=[],x=[];let I=t.slidesOffsetBefore;typeof I=="function"&&(I=t.slidesOffsetBefore.call(n));let k=t.slidesOffsetAfter;typeof k=="function"&&(k=t.slidesOffsetAfter.call(n));const P=n.snapGrid.length,L=n.slidesGrid.length,U=n.size-I-k;let B=t.spaceBetween,X=-I,ee=0,re=0;if(typeof U>"u")return;typeof B=="string"&&B.indexOf("%")>=0?B=parseFloat(B.replace("%",""))/100*U:typeof B=="string"&&(B=parseFloat(B)),n.virtualSize=-B-I-k,p.forEach(N=>{l?N.style.marginLeft="":N.style.marginRight="",N.style.marginBottom="",N.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(eh(r,"--swiper-centered-offset-before",""),eh(r,"--swiper-centered-offset-after",""));const D=t.grid&&t.grid.rows>1&&n.grid;D?n.grid.initSlides(p):n.grid&&n.grid.unsetSlides();let S;const M=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(N=>typeof t.breakpoints[N].slidesPerView<"u").length>0;for(let N=0;N<v;N+=1){S=0;const C=p[N];if(!(C&&(D&&n.grid.updateSlide(N,C,p),Cs(C,"display")==="none"))){if(f&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(S=t.virtual.slidesPerViewAutoSlideSize),S&&C&&(t.roundLengths&&(S=Math.floor(S)),C.style[n.getDirectionLabel("width")]=`${S}px`);else if(t.slidesPerView==="auto"){M&&(C.style[n.getDirectionLabel("width")]="");const z=getComputedStyle(C),O=C.style.transform,de=C.style.webkitTransform;if(O&&(C.style.transform="none"),de&&(C.style.webkitTransform="none"),t.roundLengths)S=n.isHorizontal()?UE(C,"width"):UE(C,"height");else{const ce=e(z,"width"),q=e(z,"padding-left"),J=e(z,"padding-right"),$=e(z,"margin-left"),le=e(z,"margin-right"),fe=z.getPropertyValue("box-sizing");if(fe&&fe==="border-box")S=ce+$+le;else{const{clientWidth:j,offsetWidth:ne}=C;S=ce+q+J+$+le+(ne-j)}}O&&(C.style.transform=O),de&&(C.style.webkitTransform=de),t.roundLengths&&(S=Math.floor(S))}else S=(U-(t.slidesPerView-1)*B)/t.slidesPerView,t.roundLengths&&(S=Math.floor(S)),C&&(C.style[n.getDirectionLabel("width")]=`${S}px`);C&&(C.swiperSlideSize=S),x.push(S),t.centeredSlides?(X=X+S/2+ee/2+B,ee===0&&N!==0&&(X=X-U/2-B),N===0&&(X=X-U/2-B),Math.abs(X)<1/1e3&&(X=0),t.roundLengths&&(X=Math.floor(X)),re%t.slidesPerGroup===0&&_.push(X),T.push(X)):(t.roundLengths&&(X=Math.floor(X)),(re-Math.min(n.params.slidesPerGroupSkip,re))%n.params.slidesPerGroup===0&&_.push(X),T.push(X),X=X+S+B),n.virtualSize+=S+B,ee=S,re+=1}}if(n.virtualSize=Math.max(n.virtualSize,U)+k,l&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+B}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+B}px`),D&&n.grid.updateWrapperSize(S,_),!t.centeredSlides){const N=[];for(let C=0;C<_.length;C+=1){let z=_[C];t.roundLengths&&(z=Math.floor(z)),_[C]<=n.virtualSize-U&&N.push(z)}_=N,Math.floor(n.virtualSize-U)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-U)}if(f&&t.loop){const N=x[0]+B;if(t.slidesPerGroup>1){const C=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),z=N*t.slidesPerGroup;for(let O=0;O<C;O+=1)_.push(_[_.length-1]+z)}for(let C=0;C<n.virtual.slidesBefore+n.virtual.slidesAfter;C+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+N),T.push(T[T.length-1]+N),n.virtualSize+=N}if(_.length===0&&(_=[0]),B!==0){const N=n.isHorizontal()&&l?"marginLeft":n.getDirectionLabel("marginRight");p.filter((C,z)=>!t.cssMode||t.loop?!0:z!==p.length-1).forEach(C=>{C.style[N]=`${B}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let N=0;x.forEach(z=>{N+=z+(B||0)}),N-=B;const C=N>U?N-U:0;_=_.map(z=>z<=0?-I:z>C?C+k:z)}if(t.centerInsufficientSlides){let N=0;x.forEach(z=>{N+=z+(B||0)}),N-=B;const C=(I||0)+(k||0);if(N+C<U){const z=(U-N-C)/2;_.forEach((O,de)=>{_[de]=O-z}),T.forEach((O,de)=>{T[de]=O+z})}}if(Object.assign(n,{slides:p,snapGrid:_,slidesGrid:T,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){eh(r,"--swiper-centered-offset-before",`${-_[0]}px`),eh(r,"--swiper-centered-offset-after",`${n.size/2-x[x.length-1]/2}px`);const N=-n.snapGrid[0],C=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(z=>z+N),n.slidesGrid=n.slidesGrid.map(z=>z+C)}if(v!==h&&n.emit("slidesLengthChange"),_.length!==P&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),T.length!==L&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const N=`${t.containerModifierClass}backface-hidden`,C=n.el.classList.contains(N);v<=t.maxBackfaceHiddenSlides?C||n.el.classList.add(N):C&&n.el.classList.remove(N)}}function hV(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,l;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{t.push(f)});else for(l=0;l<Math.ceil(e.params.slidesPerView);l+=1){const f=e.activeIndex+l;if(f>e.slides.length&&!r)break;t.push(c(f))}else t.push(c(e.activeIndex));for(l=0;l<t.length;l+=1)if(typeof t[l]<"u"){const f=t[l].offsetHeight;a=f>a?f:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function fV(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const BE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function mV(n=this&&this.translate||0){const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:l}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=t.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let h=0;h<r.length;h+=1){const p=r[h];let v=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(v-=r[0].swiperSlideOffset);const _=(c+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+f),T=(c-l[0]+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+f),x=-(c-v),I=x+e.slidesSizesGrid[h],k=x>=0&&x<=e.size-e.slidesSizesGrid[h],P=x>=0&&x<e.size-1||I>1&&I<=e.size||x<=0&&I>=e.size;P&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),BE(p,P,t.slideVisibleClass),BE(p,k,t.slideFullyVisibleClass),p.progress=a?-_:_,p.originalProgress=a?-T:T}}function pV(n){const e=this;if(typeof n>"u"){const v=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*v||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:l,isEnd:c,progressLoop:f}=e;const h=l,p=c;if(r===0)a=0,l=!0,c=!0;else{a=(n-e.minTranslate())/r;const v=Math.abs(n-e.minTranslate())<1,_=Math.abs(n-e.maxTranslate())<1;l=v||a<=0,c=_||a>=1,v&&(a=0),_&&(a=1)}if(t.loop){const v=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),T=e.slidesGrid[v],x=e.slidesGrid[_],I=e.slidesGrid[e.slidesGrid.length-1],k=Math.abs(n);k>=T?f=(k-T)/I:f=(k+I-x)/I,f>1&&(f-=1)}Object.assign(e,{progress:a,progressLoop:f,isBeginning:l,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),l&&!h&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(h&&!l||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const eg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function gV(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,l=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,f=_=>Dr(r,`.${t.slideClass}${_}, swiper-slide${_}`)[0];let h,p,v;if(l)if(t.loop){let _=a-n.virtual.slidesBefore;_<0&&(_=n.virtual.slides.length+_),_>=n.virtual.slides.length&&(_-=n.virtual.slides.length),h=f(`[data-swiper-slide-index="${_}"]`)}else h=f(`[data-swiper-slide-index="${a}"]`);else c?(h=e.find(_=>_.column===a),v=e.find(_=>_.column===a+1),p=e.find(_=>_.column===a-1)):h=e[a];h&&(c||(v=nV(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v&&(v=e[0]),p=tV(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(_=>{eg(_,_===h,t.slideActiveClass),eg(_,_===v,t.slideNextClass),eg(_,_===p,t.slidePrevClass)}),n.emitSlidesClasses()}const mh=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},tg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Bg=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,f=[c-e];f.push(...Array.from({length:e}).map((h,p)=>c+r+p)),n.slides.forEach((h,p)=>{f.includes(h.column)&&tg(n,p)});return}const l=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=l+e;c+=1){const f=(c%t+t)%t;(f<a||f>l)&&tg(n,f)}else for(let c=Math.max(a-e,0);c<=Math.min(l+e,t-1);c+=1)c!==a&&(c>l||c<a)&&tg(n,c)};function yV(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let l=0;l<e.length;l+=1)typeof e[l+1]<"u"?r>=e[l]&&r<e[l+1]-(e[l+1]-e[l])/2?a=l:r>=e[l]&&r<e[l+1]&&(a=l+1):r>=e[l]&&(a=l);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function vV(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:l,realIndex:c,snapIndex:f}=e;let h=n,p;const v=x=>{let I=x-e.virtual.slidesBefore;return I<0&&(I=e.virtual.slides.length+I),I>=e.virtual.slides.length&&(I-=e.virtual.slides.length),I};if(typeof h>"u"&&(h=yV(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const x=Math.min(a.slidesPerGroupSkip,h);p=x+Math.floor((h-x)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===l&&!e.params.loop){p!==f&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===l&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=v(h);return}const _=e.grid&&a.grid&&a.grid.rows>1;let T;if(e.virtual&&a.virtual.enabled&&a.loop)T=v(h);else if(_){const x=e.slides.find(k=>k.column===h);let I=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(I)&&(I=Math.max(e.slides.indexOf(x),0)),T=Math.floor(I/a.grid.rows)}else if(e.slides[h]){const x=e.slides[h].getAttribute("data-swiper-slide-index");x?T=parseInt(x,10):T=h}else T=h;Object.assign(e,{previousSnapIndex:f,snapIndex:p,previousRealIndex:c,realIndex:T,previousIndex:l,activeIndex:h}),e.initialized&&Bg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==T&&e.emit("realIndexChange"),e.emit("slideChange"))}function _V(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(f=>{!a&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(a=f)});let l=!1,c;if(a){for(let f=0;f<t.slides.length;f+=1)if(t.slides[f]===a){l=!0,c=f;break}}if(a&&l)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var bV={updateSize:cV,updateSlides:dV,updateAutoHeight:hV,updateSlidesOffset:fV,updateSlidesProgress:mV,updateProgress:pV,updateSlidesClasses:gV,updateActiveIndex:vV,updateClickedSlide:_V};function wV(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:l}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=Wj(l,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function EV(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:l,progress:c}=t;let f=0,h=0;const p=0;t.isHorizontal()?f=r?-n:n:h=n,a.roundLengths&&(f=Math.floor(f),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:h,a.cssMode?l[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-h:a.virtualTranslate||(t.isHorizontal()?f-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),l.style.transform=`translate3d(${f}px, ${h}px, ${p}px)`);let v;const _=t.maxTranslate()-t.minTranslate();_===0?v=0:v=(n-t.minTranslate())/_,v!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function TV(){return-this.snapGrid[0]}function SV(){return-this.snapGrid[this.snapGrid.length-1]}function xV(n=0,e=this.params.speed,t=!0,r=!0,a){const l=this,{params:c,wrapperEl:f}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const h=l.minTranslate(),p=l.maxTranslate();let v;if(r&&n>h?v=h:r&&n<p?v=p:v=n,l.updateProgress(v),c.cssMode){const _=l.isHorizontal();if(e===0)f[_?"scrollLeft":"scrollTop"]=-v;else{if(!l.support.smoothScroll)return F1({swiper:l,targetPosition:-v,side:_?"left":"top"}),!0;f.scrollTo({[_?"left":"top"]:-v,behavior:"smooth"})}return!0}return e===0?(l.setTransition(0),l.setTranslate(v),t&&(l.emit("beforeTransitionStart",e,a),l.emit("transitionEnd"))):(l.setTransition(e),l.setTranslate(v),t&&(l.emit("beforeTransitionStart",e,a),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(T){!l||l.destroyed||T.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,l.animating=!1,t&&l.emit("transitionEnd"))}),l.wrapperEl.addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd))),!0}var AV={getTranslate:wV,setTranslate:EV,minTranslate:TV,maxTranslate:SV,translateTo:xV};function CV(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function $1({swiper:n,runCallbacks:e,direction:t,step:r}){const{activeIndex:a,previousIndex:l}=n;let c=t;c||(a>l?c="next":a<l?c="prev":c="reset"),n.emit(`transition${r}`),e&&c==="reset"?n.emit(`slideResetTransition${r}`):e&&a!==l&&(n.emit(`slideChangeTransition${r}`),c==="next"?n.emit(`slideNextTransition${r}`):n.emit(`slidePrevTransition${r}`))}function RV(n=!0,e){const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),$1({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function IV(n=!0,e){const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),$1({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var NV={setTransition:CV,transitionStart:RV,transitionEnd:IV};function OV(n=0,e,t=!0,r,a){typeof n=="string"&&(n=parseInt(n,10));const l=this;let c=n;c<0&&(c=0);const{params:f,snapGrid:h,slidesGrid:p,previousIndex:v,activeIndex:_,rtlTranslate:T,wrapperEl:x,enabled:I}=l;if(!I&&!r&&!a||l.destroyed||l.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=l.params.speed);const k=Math.min(l.params.slidesPerGroupSkip,c);let P=k+Math.floor((c-k)/l.params.slidesPerGroup);P>=h.length&&(P=h.length-1);const L=-h[P];if(f.normalizeSlideIndex)for(let D=0;D<p.length;D+=1){const S=-Math.floor(L*100),M=Math.floor(p[D]*100),N=Math.floor(p[D+1]*100);typeof p[D+1]<"u"?S>=M&&S<N-(N-M)/2?c=D:S>=M&&S<N&&(c=D+1):S>=M&&(c=D)}if(l.initialized&&c!==_&&(!l.allowSlideNext&&(T?L>l.translate&&L>l.minTranslate():L<l.translate&&L<l.minTranslate())||!l.allowSlidePrev&&L>l.translate&&L>l.maxTranslate()&&(_||0)!==c))return!1;c!==(v||0)&&t&&l.emit("beforeSlideChangeStart"),l.updateProgress(L);let U;c>_?U="next":c<_?U="prev":U="reset";const B=l.virtual&&l.params.virtual.enabled;if(!(B&&a)&&(T&&-L===l.translate||!T&&L===l.translate))return l.updateActiveIndex(c),f.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),f.effect!=="slide"&&l.setTranslate(L),U!=="reset"&&(l.transitionStart(t,U),l.transitionEnd(t,U)),!1;if(f.cssMode){const D=l.isHorizontal(),S=T?L:-L;if(e===0)B&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),B&&!l._cssModeVirtualInitialSet&&l.params.initialSlide>0?(l._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[D?"scrollLeft":"scrollTop"]=S})):x[D?"scrollLeft":"scrollTop"]=S,B&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._immediateVirtual=!1});else{if(!l.support.smoothScroll)return F1({swiper:l,targetPosition:S,side:D?"left":"top"}),!0;x.scrollTo({[D?"left":"top"]:S,behavior:"smooth"})}return!0}const re=G1().isSafari;return B&&!a&&re&&l.isElement&&l.virtual.update(!1,!1,c),l.setTransition(e),l.setTranslate(L),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",e,r),l.transitionStart(t,U),e===0?l.transitionEnd(t,U):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(S){!l||l.destroyed||S.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(t,U))}),l.wrapperEl.addEventListener("transitionend",l.onSlideToWrapperTransitionEnd)),!0}function DV(n=0,e,t=!0,r){typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const l=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let f;if(l){const k=c*a.params.grid.rows;f=a.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===k).column}else f=a.getSlideIndexByData(c);const h=l?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p,slidesOffsetBefore:v,slidesOffsetAfter:_}=a.params,T=p||!!v||!!_;let x=a.params.slidesPerView;x==="auto"?x=a.slidesPerViewDynamic():(x=Math.ceil(parseFloat(a.params.slidesPerView,10)),T&&x%2===0&&(x=x+1));let I=h-f<x;if(T&&(I=I||f<Math.ceil(x/2)),r&&T&&a.params.slidesPerView!=="auto"&&!l&&(I=!1),I){const k=T?f<a.activeIndex?"prev":"next":f-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:k,slideTo:!0,activeSlideIndex:k==="next"?f+1:f-h+1,slideRealIndex:k==="next"?a.realIndex:void 0})}if(l){const k=c*a.params.grid.rows;c=a.slides.find(P=>P.getAttribute("data-swiper-slide-index")*1===k).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function MV(n,e=!0,t){const r=this,{enabled:a,params:l,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let f=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<l.slidesPerGroupSkip?1:f,p=r.virtual&&l.virtual.enabled;if(l.loop){if(c&&!p&&l.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&l.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return l.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function kV(n,e=!0,t){const r=this,{params:a,snapGrid:l,slidesGrid:c,rtlTranslate:f,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const v=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!v&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const _=f?r.translate:-r.translate;function T(U){return U<0?-Math.floor(Math.abs(U)):Math.floor(U)}const x=T(_),I=l.map(U=>T(U)),k=a.freeMode&&a.freeMode.enabled;let P=l[I.indexOf(x)-1];if(typeof P>"u"&&(a.cssMode||k)){let U;l.forEach((B,X)=>{x>=B&&(U=X)}),typeof U<"u"&&(P=k?l[U]:l[U>0?U-1:U])}let L=0;if(typeof P<"u"&&(L=c.indexOf(P),L<0&&(L=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(L=L-r.slidesPerViewDynamic("previous",!0)+1,L=Math.max(L,0))),a.rewind&&r.isBeginning){const U=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(U,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(L,n,e,t)}),!0;return r.slideTo(L,n,e,t)}function PV(n,e=!0,t){const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function LV(n,e=!0,t,r=.5){const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let l=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,l),f=c+Math.floor((l-c)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[f]){const p=a.snapGrid[f],v=a.snapGrid[f+1];h-p>(v-p)*r&&(l+=a.params.slidesPerGroup)}else{const p=a.snapGrid[f-1],v=a.snapGrid[f];h-p<=(v-p)*r&&(l-=a.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,a.slidesGrid.length-1),a.slideTo(l,n,e,t)}function jV(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.getSlideIndexWhenGrid(n.clickedIndex),l;const c=n.isElement?"swiper-slide":`.${e.slideClass}`,f=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;l=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(l):a>(f?(n.slides.length-r)/2-(n.params.grid.rows-1):n.slides.length-r)?(n.loopFix(),a=n.getSlideIndex(Dr(t,`${c}[data-swiper-slide-index="${l}"]`)[0]),B1(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var VV={slideTo:OV,slideToLoop:DV,slideNext:MV,slidePrev:kV,slideReset:PV,slideToClosest:LV,slideToClickedSlide:jV};function UV(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const l=()=>{Dr(a,`.${r.slideClass}, swiper-slide`).forEach((I,k)=>{I.setAttribute("data-swiper-slide-index",k)})},c=()=>{const x=Dr(a,`.${r.slideBlankClass}`);x.forEach(I=>{I.remove()}),x.length>0&&(t.recalcSlides(),t.updateSlides())},f=t.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||f)&&c();const h=r.slidesPerGroup*(f?r.grid.rows:1),p=t.slides.length%h!==0,v=f&&t.slides.length%r.grid.rows!==0,_=x=>{for(let I=0;I<x;I+=1){const k=t.isElement?zg("swiper-slide",[r.slideBlankClass]):zg("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(k)}};if(p){if(r.loopAddBlankSlides){const x=h-t.slides.length%h;_(x),t.recalcSlides(),t.updateSlides()}else qh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else if(v){if(r.loopAddBlankSlides){const x=r.grid.rows-t.slides.length%r.grid.rows;_(x),t.recalcSlides(),t.updateSlides()}else qh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else l();const T=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:T?void 0:"next",initial:e})}function zV({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:r,activeSlideIndex:a,initial:l,byController:c,byMousewheel:f}={}){const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:p,allowSlidePrev:v,allowSlideNext:_,slidesEl:T,params:x}=h,{centeredSlides:I,slidesOffsetBefore:k,slidesOffsetAfter:P,initialSlide:L}=x,U=I||!!k||!!P;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&x.virtual.enabled){e&&(!U&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):U&&h.snapIndex<x.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=v,h.allowSlideNext=_,h.emit("loopFix");return}let B=x.slidesPerView;B==="auto"?B=h.slidesPerViewDynamic():(B=Math.ceil(parseFloat(x.slidesPerView,10)),U&&B%2===0&&(B=B+1));const X=x.slidesPerGroupAuto?B:x.slidesPerGroup;let ee=U?Math.max(X,Math.ceil(B/2)):X;ee%X!==0&&(ee+=X-ee%X),ee+=x.loopAdditionalSlides,h.loopedSlides=ee;const re=h.grid&&x.grid&&x.grid.rows>1;p.length<B+ee||h.params.effect==="cards"&&p.length<B+ee*2?qh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):re&&x.grid.fill==="row"&&qh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const D=[],S=[],M=re?Math.ceil(p.length/x.grid.rows):p.length,N=l&&M-L<B&&!U;let C=N?L:h.activeIndex;typeof a>"u"?a=h.getSlideIndex(p.find($=>$.classList.contains(x.slideActiveClass))):C=a;const z=t==="next"||!t,O=t==="prev"||!t;let de=0,ce=0;const J=(re?p[a].column:a)+(U&&typeof r>"u"?-B/2+.5:0);if(J<ee){de=Math.max(ee-J,X);for(let $=0;$<ee-J;$+=1){const le=$-Math.floor($/M)*M;if(re){const fe=M-le-1;for(let j=p.length-1;j>=0;j-=1)p[j].column===fe&&D.push(j)}else D.push(M-le-1)}}else if(J+B>M-ee){ce=Math.max(J-(M-ee*2),X),N&&(ce=Math.max(ce,B-M+L+1));for(let $=0;$<ce;$+=1){const le=$-Math.floor($/M)*M;re?p.forEach((fe,j)=>{fe.column===le&&S.push(j)}):S.push(le)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&p.length<B+ee*2&&(S.includes(a)&&S.splice(S.indexOf(a),1),D.includes(a)&&D.splice(D.indexOf(a),1)),O&&D.forEach($=>{p[$].swiperLoopMoveDOM=!0,T.prepend(p[$]),p[$].swiperLoopMoveDOM=!1}),z&&S.forEach($=>{p[$].swiperLoopMoveDOM=!0,T.append(p[$]),p[$].swiperLoopMoveDOM=!1}),h.recalcSlides(),x.slidesPerView==="auto"?h.updateSlides():re&&(D.length>0&&O||S.length>0&&z)&&h.slides.forEach(($,le)=>{h.grid.updateSlide(le,$,h.slides)}),x.watchSlidesProgress&&h.updateSlidesOffset(),e){if(D.length>0&&O){if(typeof n>"u"){const $=h.slidesGrid[C],fe=h.slidesGrid[C+de]-$;f?h.setTranslate(h.translate-fe):(h.slideTo(C+Math.ceil(de),0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-fe,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-fe))}else if(r){const $=re?D.length/x.grid.rows:D.length;h.slideTo(h.activeIndex+$,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(S.length>0&&z)if(typeof n>"u"){const $=h.slidesGrid[C],fe=h.slidesGrid[C-ce]-$;f?h.setTranslate(h.translate-fe):(h.slideTo(C-ce,0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-fe,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-fe))}else{const $=re?S.length/x.grid.rows:S.length;h.slideTo(h.activeIndex-$,0,!1,!0)}}if(h.allowSlidePrev=v,h.allowSlideNext=_,h.controller&&h.controller.control&&!c){const $={slideRealIndex:n,direction:t,setTranslate:r,activeSlideIndex:a,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(le=>{!le.destroyed&&le.params.loop&&le.loopFix({...$,slideTo:le.params.slidesPerView===x.slidesPerView?e:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...$,slideTo:h.controller.control.params.slidesPerView===x.slidesPerView?e:!1})}h.emit("loopFix")}function BV(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const l=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[l]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var FV={loopCreate:UV,loopFix:zV,loopDestroy:BV};function qV(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function HV(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var GV={setGrabCursor:qV,unsetGrabCursor:HV};function $V(n,e=this){function t(r){if(!r||r===Ya()||r===yn())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function FE(n,e,t){const r=yn(),{params:a}=n,l=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return l&&(t<=c||t>=r.innerWidth-c)?l==="prevent"?(e.preventDefault(),!0):!1:!0}function YV(n){const e=this,t=Ya();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){FE(e,r,r.targetTouches[0].pageX);return}const{params:l,touches:c,enabled:f}=e;if(!f||!l.simulateTouch&&r.pointerType==="mouse"||e.animating&&l.preventInteractionOnTransition)return;!e.animating&&l.cssMode&&l.loop&&e.loopFix();let h=r.target;if(l.touchEventsTarget==="wrapper"&&!eV(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!l.noSwipingClass&&l.noSwipingClass!=="",v=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&v&&(h=v[0]);const _=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,T=!!(r.target&&r.target.shadowRoot);if(l.noSwiping&&(T?$V(_,h):h.closest(_))){e.allowClick=!0;return}if(l.swipeHandler&&!h.closest(l.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const x=c.currentX,I=c.currentY;if(!FE(e,r,x))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=x,c.startY=I,a.touchStartTime=Fh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,l.threshold>0&&(a.allowThresholdMove=!1);let k=!0;h.matches(a.focusableElements)&&(k=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const P=k&&e.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||P)&&!h.isContentEditable&&r.preventDefault(),l.freeMode&&l.freeMode.enabled&&e.freeMode&&e.animating&&!l.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function KV(n){const e=Ya(),t=this,r=t.touchEventsData,{params:a,touches:l,rtlTranslate:c,enabled:f}=t;if(!f||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(ee=>ee.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const v=p.pageX,_=p.pageY;if(h.preventedByNestedSwiper){l.startX=v,l.startY=_;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(l,{startX:v,startY:_,currentX:v,currentY:_}),r.touchStartTime=Fh());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(_<l.startY&&t.translate<=t.maxTranslate()||_>l.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(v>l.startX&&-t.translate<=t.maxTranslate()||v<l.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(v<l.startX&&t.translate<=t.maxTranslate()||v>l.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),l.previousX=l.currentX,l.previousY=l.currentY,l.currentX=v,l.currentY=_;const T=l.currentX-l.startX,x=l.currentY-l.startY;if(t.params.threshold&&Math.sqrt(T**2+x**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let ee;t.isHorizontal()&&l.currentY===l.startY||t.isVertical()&&l.currentX===l.startX?r.isScrolling=!1:T*T+x*x>=25&&(ee=Math.atan2(Math.abs(x),Math.abs(T))*180/Math.PI,r.isScrolling=t.isHorizontal()?ee>a.touchAngle:90-ee>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let I=t.isHorizontal()?T:x,k=t.isHorizontal()?l.currentX-l.previousX:l.currentY-l.previousY;a.oneWayMovement&&(I=Math.abs(I)*(c?1:-1),k=Math.abs(k)*(c?1:-1)),l.diff=I,I*=a.touchRatio,c&&(I=-I,k=-k);const P=t.touchesDirection;t.swipeDirection=I>0?"prev":"next",t.touchesDirection=k>0?"prev":"next";const L=t.params.loop&&!a.cssMode,U=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(L&&U&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ee=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ee)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&P!==t.touchesDirection&&L&&U&&Math.abs(I)>=1){Object.assign(l,{startX:v,startY:_,currentX:v,currentY:_,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=I+r.startTranslate;let B=!0,X=a.resistanceRatio;if(a.touchReleaseOnEdges&&(X=0),I>0?(L&&U&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(B=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+I)**X))):I<0&&(L&&U&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(B=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-I)**X))),B&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(I)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,r.currentTranslate=r.startTranslate,l.diff=t.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function QV(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(ee=>ee.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:f,rtlTranslate:h,slidesGrid:p,enabled:v}=e;if(!v||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=Fh(),T=_-t.touchStartTime;if(e.allowClick){const ee=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(ee&&ee[0]||r.target,ee),e.emit("tap click",r),T<300&&_-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Fh(),B1(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||f.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let x;if(c.followFinger?x=h?e.translate:-e.translate:x=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const I=x>=-e.maxTranslate()&&!e.params.loop;let k=0,P=e.slidesSizesGrid[0];for(let ee=0;ee<p.length;ee+=ee<c.slidesPerGroupSkip?1:c.slidesPerGroup){const re=ee<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[ee+re]<"u"?(I||x>=p[ee]&&x<p[ee+re])&&(k=ee,P=p[ee+re]-p[ee]):(I||x>=p[ee])&&(k=ee,P=p[p.length-1]-p[p.length-2])}let L=null,U=null;c.rewind&&(e.isBeginning?U=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(L=0));const B=(x-p[k])/P,X=k<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(T>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(B>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?L:k+X):e.slideTo(k)),e.swipeDirection==="prev"&&(B>1-c.longSwipesRatio?e.slideTo(k+X):U!==null&&B<0&&Math.abs(B)>c.longSwipesRatio?e.slideTo(U):e.slideTo(k))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(k+X):e.slideTo(k):(e.swipeDirection==="next"&&e.slideTo(L!==null?L:k+X),e.swipeDirection==="prev"&&e.slideTo(U!==null?U:k))}}function qE(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:l}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const f=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!f?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&l!==n.snapGrid&&n.checkOverflow()}function XV(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function WV(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const l=n.maxTranslate()-n.minTranslate();l===0?a=0:a=(n.translate-n.minTranslate())/l,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function JV(n){const e=this;mh(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function ZV(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const Y1=(n,e)=>{const t=Ya(),{params:r,el:a,wrapperEl:l,device:c}=n,f=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:f}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:f}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:f}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&l[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",qE,!0):n[p]("observerUpdate",qE,!0),a[h]("load",n.onLoad,{capture:!0}))};function e3(){const n=this,{params:e}=n;n.onTouchStart=YV.bind(n),n.onTouchMove=KV.bind(n),n.onTouchEnd=QV.bind(n),n.onDocumentTouchStart=ZV.bind(n),e.cssMode&&(n.onScroll=WV.bind(n)),n.onClick=XV.bind(n),n.onLoad=JV.bind(n),Y1(n,"on")}function t3(){Y1(this,"off")}var n3={attachEvents:e3,detachEvents:t3};const HE=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function i3(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,l=r.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const c=Ya(),f=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(l,f,h);if(!p||n.currentBreakpoint===p)return;const _=(p in l?l[p]:void 0)||n.originalParams,T=HE(n,r),x=HE(n,_),I=n.params.grabCursor,k=_.grabCursor,P=r.enabled;T&&!x?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!T&&x&&(a.classList.add(`${r.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),I&&!k?n.unsetGrabCursor():!I&&k&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(re=>{if(typeof _[re]>"u")return;const D=r[re]&&r[re].enabled,S=_[re]&&_[re].enabled;D&&!S&&n[re].disable(),!D&&S&&n[re].enable()});const L=_.direction&&_.direction!==r.direction,U=r.loop&&(_.slidesPerView!==r.slidesPerView||L),B=r.loop;L&&t&&n.changeDirection(),Bn(n.params,_);const X=n.params.enabled,ee=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),P&&!X?n.disable():!P&&X&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",_),t&&(U?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!B&&ee?(n.loopCreate(e),n.updateSlides()):B&&!ee&&n.loopDestroy()),n.emit("breakpoint",_)}function r3(n,e="window",t){if(!n||e==="container"&&!t)return;let r=!1;const a=yn(),l=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const h=parseFloat(f.substr(1));return{value:l*h,point:f}}return{value:f,point:f}});c.sort((f,h)=>parseInt(f.value,10)-parseInt(h.value,10));for(let f=0;f<c.length;f+=1){const{point:h,value:p}=c[f];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var s3={setBreakpoint:i3,getBreakpoint:r3};function a3(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function o3(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:l}=n,c=a3(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:l.android},{ios:l.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function l3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var u3={addClasses:o3,removeClasses:l3};function c3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,l=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>l}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var d3={checkOverflow:c3},Fg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function h3(n,e){return function(r={}){const a=Object.keys(r)[0],l=r[a];if(typeof l!="object"||l===null){Bn(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in l)){Bn(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),Bn(e,r)}}const ng={eventsEmitter:uV,update:bV,translate:AV,transition:NV,slide:VV,loop:FV,grabCursor:GV,events:n3,breakpoints:s3,checkOverflow:d3,classes:u3},ig={};let iv=class Rr{constructor(...e){let t,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[t,r]=e,r||(r={}),r=Bn({},r),t&&!r.el&&(r.el=t);const a=Ya();if(r.el&&typeof r.el=="string"&&a.querySelectorAll(r.el).length>1){const h=[];return a.querySelectorAll(r.el).forEach(p=>{const v=Bn({},r,{el:p});h.push(new Rr(v))}),h}const l=this;l.__swiper__=!0,l.support=q1(),l.device=H1({userAgent:r.userAgent}),l.browser=G1(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],r.modules&&Array.isArray(r.modules)&&l.modules.push(...r.modules);const c={};l.modules.forEach(h=>{h({params:r,swiper:l,extendParams:h3(r,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const f=Bn({},Fg,c);return l.params=Bn({},f,ig,r),l.originalParams=Bn({},l.params),l.passedParams=Bn({},r),l.params&&l.params.on&&Object.keys(l.params.on).forEach(h=>{l.on(h,l.params.on[h])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=Dr(t,`.${r.slideClass}, swiper-slide`),l=VE(a[0]);return VE(e)-l}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Dr(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const r=this,{params:a,slides:l,slidesGrid:c,slidesSizesGrid:f,size:h,activeIndex:p}=r;let v=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let _=l[p]?Math.ceil(l[p].swiperSlideSize):0,T;for(let x=p+1;x<l.length;x+=1)l[x]&&!T&&(_+=Math.ceil(l[x].swiperSlideSize),v+=1,_>h&&(T=!0));for(let x=p-1;x>=0;x-=1)l[x]&&!T&&(_+=l[x].swiperSlideSize,v+=1,_>h&&(T=!0))}else if(e==="current")for(let _=p+1;_<l.length;_+=1)(t?c[_]+f[_]-c[p]<h:c[_]-c[p]<h)&&(v+=1);else for(let _=p-1;_>=0;_-=1)c[p]-c[_]<h&&(v+=1);return v}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&mh(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let l;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;l=e.slideTo(c.length-1,0,!1,!0)}else l=e.slideTo(e.activeIndex,0,!1,!0);l||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(l=>{e==="vertical"?l.style.width="":l.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):Dr(r,a())[0];return!c&&t.params.createElements&&(c=zg("div",t.params.wrapperClass),r.append(c),Dr(r,`.${t.params.slideClass}`).forEach(f=>{c.append(f)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Cs(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Cs(r,"direction")==="rtl"),wrongRTL:Cs(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(l=>{l.complete?mh(t,l):l.addEventListener("load",c=>{mh(t,c.target)})}),Bg(t),t.initialized=!0,Bg(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const r=this,{params:a,el:l,wrapperEl:c,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),l&&typeof l!="string"&&l.removeAttribute("style"),c&&c.removeAttribute("style"),f&&f.length&&f.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Qj(r)),r.destroyed=!0),null}static extendDefaults(e){Bn(ig,e)}static get extendedDefaults(){return ig}static get defaults(){return Fg}static installModule(e){Rr.prototype.__modules__||(Rr.prototype.__modules__=[]);const t=Rr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Rr.installModule(t)),Rr):(Rr.installModule(e),Rr)}};Object.keys(ng).forEach(n=>{Object.keys(ng[n]).forEach(e=>{iv.prototype[e]=ng[n][e]})});iv.use([oV,lV]);const K1=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ba(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Xo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Ba(e[r])&&Ba(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Xo(n[r],e[r]):n[r]=e[r]})}function Q1(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function X1(n={}){return n.pagination&&typeof n.pagination.el>"u"}function W1(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function J1(n=""){const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function f3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function m3({swiper:n,slides:e,passedParams:t,changedParams:r,nextEl:a,prevEl:l,scrollbarEl:c,paginationEl:f}){const h=r.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:p,pagination:v,navigation:_,scrollbar:T,virtual:x,thumbs:I}=n;let k,P,L,U,B,X,ee,re;r.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&p.thumbs&&(!p.thumbs.swiper||p.thumbs.swiper.destroyed)&&(k=!0),r.includes("controller")&&t.controller&&t.controller.control&&p.controller&&!p.controller.control&&(P=!0),r.includes("pagination")&&t.pagination&&(t.pagination.el||f)&&(p.pagination||p.pagination===!1)&&v&&!v.el&&(L=!0),r.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||c)&&(p.scrollbar||p.scrollbar===!1)&&T&&!T.el&&(U=!0),r.includes("navigation")&&t.navigation&&(t.navigation.prevEl||l)&&(t.navigation.nextEl||a)&&(p.navigation||p.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(B=!0);const D=S=>{n[S]&&(n[S].destroy(),S==="navigation"?(n.isElement&&(n[S].prevEl.remove(),n[S].nextEl.remove()),p[S].prevEl=void 0,p[S].nextEl=void 0,n[S].prevEl=void 0,n[S].nextEl=void 0):(n.isElement&&n[S].el.remove(),p[S].el=void 0,n[S].el=void 0))};r.includes("loop")&&n.isElement&&(p.loop&&!t.loop?X=!0:!p.loop&&t.loop?ee=!0:re=!0),h.forEach(S=>{if(Ba(p[S])&&Ba(t[S]))Object.assign(p[S],t[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in t[S]&&!t[S].enabled&&D(S);else{const M=t[S];(M===!0||M===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?M===!1&&D(S):p[S]=t[S]}}),h.includes("controller")&&!P&&n.controller&&n.controller.control&&p.controller&&p.controller.control&&(n.controller.control=p.controller.control),r.includes("children")&&e&&x&&p.virtual.enabled?(x.slides=e,x.update(!0)):r.includes("virtual")&&x&&p.virtual.enabled&&(e&&(x.slides=e),x.update(!0)),r.includes("children")&&e&&p.loop&&(re=!0),k&&I.init()&&I.update(!0),P&&(n.controller.control=p.controller.control),L&&(n.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),n.el.appendChild(f)),f&&(p.pagination.el=f),v.init(),v.render(),v.update()),U&&(n.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),n.el.appendChild(c)),c&&(p.scrollbar.el=c),T.init(),T.updateSize(),T.setTranslate()),B&&(n.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),zE(a,n.navigation.arrowSvg),a.part.add("button-next"),n.el.appendChild(a)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),zE(l,n.navigation.arrowSvg),l.part.add("button-prev"),n.el.appendChild(l))),a&&(p.navigation.nextEl=a),l&&(p.navigation.prevEl=l),_.init(),_.update()),r.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),r.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),r.includes("direction")&&n.changeDirection(t.direction,!1),(X||re)&&n.loopDestroy(),(ee||re)&&n.loopCreate(),n.update()}function p3(n={},e=!0){const t={on:{}},r={},a={};Xo(t,Fg),t._emitClasses=!0,t.init=!1;const l={},c=K1.map(h=>h.replace(/_/,"")),f=Object.assign({},n);return Object.keys(f).forEach(h=>{typeof n[h]>"u"||(c.indexOf(h)>=0?Ba(n[h])?(t[h]={},a[h]={},Xo(t[h],n[h]),Xo(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:l[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:l,events:r}}function g3({el:n,nextEl:e,prevEl:t,paginationEl:r,scrollbarEl:a,swiper:l},c){Q1(c)&&e&&t&&(l.params.navigation.nextEl=e,l.originalParams.navigation.nextEl=e,l.params.navigation.prevEl=t,l.originalParams.navigation.prevEl=t),X1(c)&&r&&(l.params.pagination.el=r,l.originalParams.pagination.el=r),W1(c)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function y3(n,e,t,r,a){const l=[];if(!e)return l;const c=h=>{l.indexOf(h)<0&&l.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return K1.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(Ba(n[h])&&Ba(e[h])){const p=Object.keys(n[h]),v=Object.keys(e[h]);p.length!==v.length?c(h):(p.forEach(_=>{n[h][_]!==e[h][_]&&c(h)}),v.forEach(_=>{n[h][_]!==e[h][_]&&c(h)}))}else n[h]!==e[h]&&c(h)}),l}const v3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Hh(){return Hh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hh.apply(this,arguments)}function Z1(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function eA(n){const e=[];return Ke.Children.toArray(n).forEach(t=>{Z1(t)?e.push(t):t.props&&t.props.children&&eA(t.props.children).forEach(r=>e.push(r))}),e}function _3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ke.Children.toArray(n).forEach(r=>{if(Z1(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=eA(r.props.children);a.length>0?a.forEach(l=>e.push(l)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function b3(n,e,t){if(!t)return null;const r=v=>{let _=v;return v<0?_=e.length+v:_>=e.length&&(_=_-e.length),_},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:l,to:c}=t,f=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let v=f;v<h;v+=1)v>=l&&v<=c&&p.push(e[r(v)]);return p.map((v,_)=>Ke.cloneElement(v,{swiper:n,style:a,key:v.props.virtualIndex||v.key||`slide-${_}`}))}function ju(n,e){return typeof window>"u"?F.useEffect(n,e):F.useLayoutEffect(n,e)}const GE=F.createContext(null),w3=F.createContext(null),tA=F.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:r,onSwiper:a,...l}={},c)=>{let f=!1;const[h,p]=F.useState("swiper"),[v,_]=F.useState(null),[T,x]=F.useState(!1),I=F.useRef(!1),k=F.useRef(null),P=F.useRef(null),L=F.useRef(null),U=F.useRef(null),B=F.useRef(null),X=F.useRef(null),ee=F.useRef(null),re=F.useRef(null),{params:D,passedParams:S,rest:M,events:N}=p3(l),{slides:C,slots:z}=_3(r),O=()=>{x(!T)};Object.assign(D.on,{_containerClasses($,le){p(le)}});const de=()=>{Object.assign(D.on,N),f=!0;const $={...D};if(delete $.wrapperClass,P.current=new iv($),P.current.virtual&&P.current.params.virtual.enabled){P.current.virtual.slides=C;const le={cache:!1,slides:C,renderExternal:_,renderExternalUpdate:!1};Xo(P.current.params.virtual,le),Xo(P.current.originalParams.virtual,le)}};k.current||de(),P.current&&P.current.on("_beforeBreakpoint",O);const ce=()=>{f||!N||!P.current||Object.keys(N).forEach($=>{P.current.on($,N[$])})},q=()=>{!N||!P.current||Object.keys(N).forEach($=>{P.current.off($,N[$])})};F.useEffect(()=>()=>{P.current&&P.current.off("_beforeBreakpoint",O)}),F.useEffect(()=>{!I.current&&P.current&&(P.current.emitSlidesClasses(),I.current=!0)}),ju(()=>{if(c&&(c.current=k.current),!!k.current)return P.current.destroyed&&de(),g3({el:k.current,nextEl:B.current,prevEl:X.current,paginationEl:ee.current,scrollbarEl:re.current,swiper:P.current},D),a&&!P.current.destroyed&&a(P.current),()=>{P.current&&!P.current.destroyed&&P.current.destroy(!0,!1)}},[]),ju(()=>{ce();const $=y3(S,L.current,C,U.current,le=>le.key);return L.current=S,U.current=C,$.length&&P.current&&!P.current.destroyed&&m3({swiper:P.current,slides:C,passedParams:S,changedParams:$,nextEl:B.current,prevEl:X.current,scrollbarEl:re.current,paginationEl:ee.current}),()=>{q()}}),ju(()=>{v3(P.current)},[v]);function J(){return D.virtual?b3(P.current,C,v):C.map(($,le)=>Ke.cloneElement($,{swiper:P.current,swiperSlideIndex:le}))}return Ke.createElement(e,Hh({ref:k,className:J1(`${h}${n?` ${n}`:""}`)},M),Ke.createElement(w3.Provider,{value:P.current},z["container-start"],Ke.createElement(t,{className:f3(D.wrapperClass)},z["wrapper-start"],J(),z["wrapper-end"]),Q1(D)&&Ke.createElement(Ke.Fragment,null,Ke.createElement("div",{ref:X,className:"swiper-button-prev"}),Ke.createElement("div",{ref:B,className:"swiper-button-next"})),W1(D)&&Ke.createElement("div",{ref:re,className:"swiper-scrollbar"}),X1(D)&&Ke.createElement("div",{ref:ee,className:"swiper-pagination"}),z["container-end"]))});tA.displayName="Swiper";const nA=F.forwardRef(({tag:n="div",children:e,className:t="",swiper:r,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:f,...h}={},p)=>{const v=F.useRef(null),[_,T]=F.useState("swiper-slide"),[x,I]=F.useState(!1);function k(B,X,ee){X===v.current&&T(ee)}ju(()=>{if(typeof f<"u"&&(v.current.swiperSlideIndex=f),p&&(p.current=v.current),!(!v.current||!r)){if(r.destroyed){_!=="swiper-slide"&&T("swiper-slide");return}return r.on("_slideClass",k),()=>{r&&r.off("_slideClass",k)}}}),ju(()=>{r&&v.current&&!r.destroyed&&T(r.getSlideClasses(v.current))},[r]);const P={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},L=()=>typeof e=="function"?e(P):e,U=()=>{I(!0)};return Ke.createElement(n,Hh({ref:v,className:J1(`${_}${t?` ${t}`:""}`),"data-swiper-slide-index":c,onLoad:U},h),a&&Ke.createElement(GE.Provider,{value:P},Ke.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},L(),l&&!x&&Ke.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Ke.createElement(GE.Provider,{value:P},L(),l&&!x&&Ke.createElement("div",{className:"swiper-lazy-preloader"})))});nA.displayName="SwiperSlide";const ar=Ju((n,e)=>({products:[],loading:!0,_unsubscribe:null,subscribeToProducts:()=>{if(e()._unsubscribe)return;const t=Hx(Pu(Bt,"products"),n4("createdAt","desc"));let r=jg(t,a=>{const l=a.docs.map(c=>({id:c.id,...c.data()}));console.info("[products] products snapshot received, count=",l.length),n({products:l,loading:!1})},a=>{if(console.error("Products snapshot error",a),n({loading:!1}),!e()._triedFallback){console.warn("[productStore] retrying snapshot without orderBy(createdAt)");try{const l=Pu(Bt,"products"),c=jg(l,f=>{const h=f.docs.map(p=>({id:p.id,...p.data()}));console.info("[productStore] fallback snapshot received, count=",h.length),n({products:h,loading:!1})},f=>{console.error("Products fallback snapshot error",f),n({loading:!1})});n({_unsubscribe:c,_triedFallback:!0})}catch(l){console.error("[productStore] fallback subscribe failed",l)}}});n({_unsubscribe:r})},unsubscribeProducts:async()=>{const t=e()._unsubscribe;if(t){try{t()}catch(r){console.warn("unsubscribe error",r)}n({_unsubscribe:null})}},addProduct:async t=>{const r={...t,createdAt:Vh()};try{await Kx(Pu(Bt,"products"),r)}catch(a){throw console.error("addProduct failed",a),a}},updateProduct:async(t,r)=>{try{await Ms(mn(Bt,"products",t),{...r,updatedAt:Vh()},{merge:!0})}catch(a){throw console.error("updateProduct failed",a),a}},deleteProduct:async t=>{try{await s4(mn(Bt,"products",t))}catch(r){throw console.error("deleteProduct failed",r),r}},getProduct:t=>e().products.find(r=>r.id===t),getAllProducts:()=>e().products}));function E3(){const n=ln(),{products:e}=ar(),{addItem:t}=Fs(),{addItem:r,removeItem:a,isWishlisted:l}=hc(),[c,f]=F.useState(null),{t:h}=F.useContext(qs),p=F.useMemo(()=>e.slice(0,4),[e]),v=async(I,k)=>{I.preventDefault(),I.stopPropagation(),f(`wishlist-${k.id}`);try{l(k.id)?await a(k.id):await r(k)}finally{f(null)}},_=(I,k)=>{I.preventDefault(),I.stopPropagation(),t({...k,qty:1,size:"M"})},T=(I,k)=>{I.preventDefault(),I.stopPropagation(),t({...k,qty:1,size:"M"}),n("/checkout")},x=[{id:1,title:"Big Sale",color:"bg-indigo-500"},{id:2,title:"New Arrivals",color:"bg-emerald-500"},{id:3,title:"Trending",color:"bg-pink-500"}];return y.jsxs("div",{className:"w-full max-w-4xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsx("section",{className:"mb-6",children:y.jsx(tA,{spaceBetween:12,slidesPerView:1,className:"rounded-lg overflow-hidden",children:x.map(I=>y.jsx(nA,{children:y.jsx("div",{className:`${I.color} rounded-lg h-40 sm:h-48 flex items-center justify-center text-white font-bold text-xl sm:text-2xl transition-all hover:scale-105 animate-slideUp`,children:I.title})},I.id))})}),y.jsxs("section",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 animate-slideInLeft",children:h("featuredProducts")}),y.jsxs(Vt,{to:"/products",className:"text-sm font-medium text-orange-600 hover:text-orange-700 hover:translate-x-1 transition-all",children:[h("viewAll")," "]})]}),p.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500",children:y.jsx("p",{children:h("noResults")})}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4",children:p.map((I,k)=>{const P=l(I.id);return y.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-lg transition-all border border-gray-200 overflow-hidden group animate-slideUp",style:{animationDelay:`${k*.1}s`},children:[y.jsxs(Vt,{to:`/product/${I.id}`,className:"block h-24 sm:h-32 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center font-bold text-gray-400 overflow-hidden relative hover:scale-110 transition-transform",children:[I.image?y.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover"}):"Image",I.discount&&y.jsxs("div",{className:"absolute top-1 right-1 bg-gradient-to-r from-orange-600 to-orange-700 text-white text-xs font-bold px-1.5 py-0.5 rounded-full shadow-lg animate-bounce-gentle",children:[I.discount,"%"]})]}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsx(Vt,{to:`/product/${I.id}`,className:"text-sm sm:text-base font-medium text-gray-900 truncate hover:text-orange-600 transition-colors block",children:I.name}),y.jsxs("div",{className:"text-xs sm:text-sm text-orange-600 font-bold mt-1",children:["",I.price]}),y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:" (42)"}),y.jsxs("div",{className:"flex gap-1 sm:gap-2 mt-2",children:[y.jsxs("button",{onClick:L=>_(L,I),className:"flex-1 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white text-xs sm:text-sm font-medium py-1.5 rounded transition-all flex items-center justify-center gap-1 hover:shadow-lg hover:shadow-orange-200",children:[y.jsx(Ma,{size:14,className:"hidden sm:block"}),y.jsx("span",{className:"text-xs sm:text-sm",children:h("add")})]}),y.jsx("button",{onClick:L=>v(L,I),disabled:c===`wishlist-${I.id}`,className:`px-2 py-1.5 rounded transition-all hover:scale-110 ${P?"bg-gradient-to-r from-orange-100 to-orange-50 shadow-md":"bg-gray-100 hover:bg-gray-200"}`,children:y.jsx(Yh,{size:16,className:P?"text-orange-600 fill-current animate-glow":"text-gray-600"})}),y.jsx("button",{onClick:L=>T(L,I),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white text-xs sm:text-sm font-medium py-1.5 rounded transition-all hover:shadow-lg hover:shadow-green-200",children:h("buy")})]})]})]},I.id)})})]})]})}function T3(){const[n]=cI(),e=ln(),{products:t}=ar(),{addItem:r}=Fs(),{addItem:a,isWishlisted:l,removeItem:c}=hc(),{t:f}=F.useContext(qs),h=n.get("q")||"",[p,v]=F.useState(null),[_,T]=F.useState({min:0,max:1e5}),[x,I]=F.useState(!1),k=F.useMemo(()=>[...new Set(t.map(U=>U.category).filter(Boolean))],[t]),P=F.useMemo(()=>{let L=t;if(h.trim()){const U=h.toLowerCase();L=L.filter(B=>B.name?.toLowerCase().includes(U)||B.description?.toLowerCase().includes(U)||B.category?.toLowerCase().includes(U))}return p&&(L=L.filter(U=>U.category===p)),L=L.filter(U=>U.price>=_.min&&U.price<=_.max),L},[t,h,p,_]);return y.jsxs("div",{className:"w-full max-w-6xl mx-auto px-3 sm:px-4 pb-20 pt-2",children:[y.jsxs("div",{className:"mb-4 sticky top-0 bg-white z-10 py-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3 gap-2",children:[y.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 truncate flex-1",children:h?`${f("search")}: "${h}"`:p||f("products")}),y.jsxs("button",{onClick:()=>I(!x),className:"flex items-center gap-2 px-3 py-2 border rounded-lg text-gray-700 active:opacity-70 min-h-[44px] font-medium text-sm",children:[y.jsx(NI,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:f("Filter")})]})]}),y.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[P.length," ",(P.length!==1,f("products"))]})]}),x&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>I(!1)}),y.jsxs("div",{className:"flex gap-3 lg:gap-4",children:[x&&y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 md:relative md:bottom-auto bg-white p-4 rounded-t-lg md:rounded-lg border md:w-48 md:sticky md:top-32 max-h-96 md:max-h-[calc(100vh-200px)] overflow-y-auto z-50",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4 md:hidden",children:[y.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),y.jsx("button",{onClick:()=>I(!1),className:"p-1 text-gray-500 active:opacity-70","aria-label":"close filters",children:y.jsx(Wo,{size:20})})]}),k.length>0&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"font-semibold text-sm mb-3 text-gray-900",children:"Categories"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("button",{onClick:()=>{v(null),I(!1)},className:`w-full text-left text-sm px-3 py-2 rounded touch-area min-h-[44px] transition ${p?"hover:bg-gray-100 text-gray-700":"bg-orange-100 text-orange-700 font-medium"}`,children:"All Categories"}),k.map(L=>y.jsx("button",{onClick:()=>{v(L),I(!1)},className:`w-full text-left text-sm px-3 py-2 rounded touch-area min-h-[44px] transition ${p===L?"bg-orange-100 text-orange-700 font-medium":"hover:bg-gray-100 text-gray-700"}`,children:L},L))]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"font-semibold text-sm mb-3 text-gray-900",children:"Price Range"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Min: ",_.min]}),y.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:_.min,onChange:L=>T({..._,min:Number(L.target.value)}),className:"w-full h-2 cursor-pointer"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-600 block mb-1",children:["Max: ",_.max]}),y.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:_.max,onChange:L=>T({..._,max:Number(L.target.value)}),className:"w-full h-2 cursor-pointer"})]})]})]}),(p||_.min!==0||_.max!==1e5)&&y.jsx("button",{onClick:()=>{v(null),T({min:0,max:1e5})},className:"w-full py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 font-medium text-gray-700 active:opacity-70 touch-area",children:"Reset"})]}),P.length===0?y.jsxs("div",{className:"w-full text-center py-12",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),y.jsx(Vt,{to:"/products",className:"text-orange-600 hover:text-orange-700 font-medium",children:"View all products "})]}):y.jsx("div",{className:"flex-1 min-w-0",children:y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-3",children:P.map(L=>{const U=l(L.id),B=re=>{re.preventDefault(),re.stopPropagation(),U?c(L.id):a(L)},X=re=>{re.preventDefault(),re.stopPropagation(),r({...L,qty:1,size:"M"})},ee=re=>{re.preventDefault(),re.stopPropagation(),r({...L,qty:1,size:"M"}),e("/checkout")};return y.jsxs(Vt,{to:`/product/${L.id}`,className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden group active:shadow-lg transition-shadow",children:[y.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 h-24 sm:h-32",children:[L.image?y.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover group-active:scale-105 transition-transform"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-gray-400",children:"Image"}),L.discount&&y.jsxs("div",{className:"absolute top-1 right-1 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow",children:[L.discount,"%"]})]}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsxs("div",{className:"mb-1 sm:mb-2",children:[y.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 line-clamp-2",children:L.name}),L.category&&y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:L.category})]}),y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{className:"text-xs sm:text-sm font-bold text-orange-600",children:["",L.price]}),y.jsxs("div",{className:"text-xs text-gray-500",children:[" ",(L.rating||4.5).toFixed(1)]})]}),y.jsxs("div",{className:"flex gap-1 text-xs sm:text-sm",children:[y.jsx("button",{onClick:X,className:"flex-1 py-1.5 sm:py-2 bg-orange-100 text-orange-700 rounded font-medium active:opacity-70 min-h-[40px]",title:"Add to cart",children:y.jsx(Ma,{size:14,className:"mx-auto"})}),y.jsx("button",{onClick:B,className:`flex-1 py-1.5 sm:py-2 rounded font-medium active:opacity-70 min-h-[40px] transition ${U?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,title:U?"Remove from wishlist":"Add to wishlist",children:y.jsx(Yh,{size:14,className:"mx-auto",fill:U?"currentColor":"none"})}),y.jsx("button",{onClick:ee,className:"flex-1 py-1.5 sm:py-2 bg-green-600 text-white rounded font-medium active:opacity-70 min-h-[40px]",title:"Buy now",children:"Buy"})]})]})]},L.id)})})})]})]})}const S3=Ju(Wg((n,e)=>({reviews:[],addReview:(t,r,a,l)=>{const c={id:Date.now(),productId:t,userId:r,rating:a,comment:l,createdAt:new Date().toISOString()};n(f=>({reviews:[c,...f.reviews]}))},getProductReviews:t=>e().reviews.filter(a=>a.productId===t),hasUserReviewed:(t,r)=>e().reviews.some(l=>l.productId===t&&l.userId===r),getAverageRating:t=>{const r=e().getProductReviews(t);if(r.length===0)return 0;const a=r.reduce((l,c)=>l+c.rating,0)/r.length;return Math.round(a*10)/10}}),{name:"reviews"})),xf=Ju(Wg((n,e)=>({orders:[],loading:!1,error:null,addOrder:async t=>{try{const r=gn.currentUser;if(!r)throw new Error("User not authenticated");const a=[{step:"Order placed",completed:!0,date:new Date().toISOString()},{step:"Confirmed",completed:!0,date:new Date().toISOString()},{step:"Processing",completed:!1,date:null},{step:"Shipped",completed:!1,date:null},{step:"Out for delivery",completed:!1,date:null},{step:"Delivered",completed:!1,date:null}],l={...t,userId:r.uid,createdAt:new Date().toISOString(),status:"confirmed",deliveryStatus:a},c=await Kx(Pu(Bt,"orders"),l);return n(f=>({orders:[{id:c.id,...l},...f.orders]})),c.id}catch(r){throw n({error:r.message}),r}},fetchOrders:async t=>{if(t){n({loading:!0});try{const r=Hx(Pu(Bt,"orders"),t4("userId","==",t));return jg(r,l=>{const c=l.docs.map(f=>({id:f.id,...f.data()}));n({orders:c,loading:!1,error:null})},l=>n({error:l.message,loading:!1}))}catch(r){n({error:r.message,loading:!1})}}},updateStatus:async(t,r)=>{try{const a=e().orders.find(f=>f.id===t);if(!a)throw new Error("Order not found");const l=a.deliveryStatus.map(f=>f.step.toLowerCase()===r.toLowerCase()?{...f,completed:!0,date:new Date().toISOString()}:f),c=mn(Bt,"orders",t);await EE(c,{status:r,deliveryStatus:l}),n(f=>({orders:f.orders.map(h=>h.id===t?{...h,status:r,deliveryStatus:l}:h)}))}catch(a){n({error:a.message})}},cancelOrder:async t=>{try{const r=[{step:"Cancelled",completed:!0,date:new Date().toISOString()}],a=mn(Bt,"orders",t);await EE(a,{status:"cancelled",deliveryStatus:r}),n(l=>({orders:l.orders.map(c=>c.id===t?{...c,status:"cancelled",deliveryStatus:r}:c)}))}catch(r){n({error:r.message})}},getOrder:t=>e().orders.find(r=>r.id===t)}),{name:"orders"}));function x3(n,e,t,r){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(v){try{p(r.next(v))}catch(_){c(_)}}function h(v){try{p(r.throw(v))}catch(_){c(_)}}function p(v){v.done?l(v.value):a(v.value).then(f,h)}p((r=r.apply(n,[])).next())})}function A3(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,a=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){t.label=p[1];break}if(p[0]===6&&t.label<l[1]){t.label=l[1],l=p;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(p);break}l[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(v){p=[6,v],a=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var qo=function(){return qo=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},qo.apply(this,arguments)},iA=function(n){return{loading:n==null,value:n}},C3=function(){return function(n,e){switch(e.type){case"error":return qo(qo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return iA(e.defaultValue);case"value":return qo(qo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},R3=(function(n){var e=n?n():void 0,t=F.useReducer(C3(),iA(e)),r=t[0],a=t[1],l=F.useCallback(function(){var h=n?n():void 0;a({type:"reset",defaultValue:h})},[n]),c=F.useCallback(function(h){a({type:"error",error:h})},[]),f=F.useCallback(function(h){a({type:"value",value:h})},[]);return F.useMemo(function(){return{error:r.error,loading:r.loading,reset:l,setError:c,setValue:f,value:r.value}},[r.error,r.loading,l,c,f,r.value])}),fc=(function(n,e){var t=R3(function(){return n.currentUser}),r=t.error,a=t.loading,l=t.setError,c=t.setValue,f=t.value;return F.useEffect(function(){var h=PO(n,function(p){return x3(void 0,void 0,void 0,function(){var v;return A3(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return _.sent(),[3,4];case 3:return v=_.sent(),l(v),[3,4];case 4:return c(p),[2]}})})},l);return function(){h()}},[n]),[f,a,r]}),ph={exports:{}},I3=ph.exports,$E;function N3(){return $E||($E=1,(function(n,e){(function(t,r){n.exports=r()})(I3,(function(){var t=1e3,r=6e4,a=36e5,l="millisecond",c="second",f="minute",h="hour",p="day",v="week",_="month",T="quarter",x="year",I="date",k="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(de){var ce=["th","st","nd","rd"],q=de%100;return"["+de+(ce[(q-20)%10]||ce[q]||ce[0])+"]"}},B=function(de,ce,q){var J=String(de);return!J||J.length>=ce?de:""+Array(ce+1-J.length).join(q)+de},X={s:B,z:function(de){var ce=-de.utcOffset(),q=Math.abs(ce),J=Math.floor(q/60),$=q%60;return(ce<=0?"+":"-")+B(J,2,"0")+":"+B($,2,"0")},m:function de(ce,q){if(ce.date()<q.date())return-de(q,ce);var J=12*(q.year()-ce.year())+(q.month()-ce.month()),$=ce.clone().add(J,_),le=q-$<0,fe=ce.clone().add(J+(le?-1:1),_);return+(-(J+(q-$)/(le?$-fe:fe-$))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:_,y:x,w:v,d:p,D:I,h,m:f,s:c,ms:l,Q:T}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},ee="en",re={};re[ee]=U;var D="$isDayjsObject",S=function(de){return de instanceof z||!(!de||!de[D])},M=function de(ce,q,J){var $;if(!ce)return ee;if(typeof ce=="string"){var le=ce.toLowerCase();re[le]&&($=le),q&&(re[le]=q,$=le);var fe=ce.split("-");if(!$&&fe.length>1)return de(fe[0])}else{var j=ce.name;re[j]=ce,$=j}return!J&&$&&(ee=$),$||!J&&ee},N=function(de,ce){if(S(de))return de.clone();var q=typeof ce=="object"?ce:{};return q.date=de,q.args=arguments,new z(q)},C=X;C.l=M,C.i=S,C.w=function(de,ce){return N(de,{locale:ce.$L,utc:ce.$u,x:ce.$x,$offset:ce.$offset})};var z=(function(){function de(q){this.$L=M(q.locale,null,!0),this.parse(q),this.$x=this.$x||q.x||{},this[D]=!0}var ce=de.prototype;return ce.parse=function(q){this.$d=(function(J){var $=J.date,le=J.utc;if($===null)return new Date(NaN);if(C.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var fe=$.match(P);if(fe){var j=fe[2]-1||0,ne=(fe[7]||"0").substring(0,3);return le?new Date(Date.UTC(fe[1],j,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ne)):new Date(fe[1],j,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ne)}}return new Date($)})(q),this.init()},ce.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},ce.$utils=function(){return C},ce.isValid=function(){return this.$d.toString()!==k},ce.isSame=function(q,J){var $=N(q);return this.startOf(J)<=$&&$<=this.endOf(J)},ce.isAfter=function(q,J){return N(q)<this.startOf(J)},ce.isBefore=function(q,J){return this.endOf(J)<N(q)},ce.$g=function(q,J,$){return C.u(q)?this[J]:this.set($,q)},ce.unix=function(){return Math.floor(this.valueOf()/1e3)},ce.valueOf=function(){return this.$d.getTime()},ce.startOf=function(q,J){var $=this,le=!!C.u(J)||J,fe=C.p(q),j=function(qe,yt){var un=C.w($.$u?Date.UTC($.$y,yt,qe):new Date($.$y,yt,qe),$);return le?un:un.endOf(p)},ne=function(qe,yt){return C.w($.toDate()[qe].apply($.toDate("s"),(le?[0,0,0,0]:[23,59,59,999]).slice(yt)),$)},he=this.$W,me=this.$M,be=this.$D,Ae="set"+(this.$u?"UTC":"");switch(fe){case x:return le?j(1,0):j(31,11);case _:return le?j(1,me):j(0,me+1);case v:var Ne=this.$locale().weekStart||0,ot=(he<Ne?he+7:he)-Ne;return j(le?be-ot:be+(6-ot),me);case p:case I:return ne(Ae+"Hours",0);case h:return ne(Ae+"Minutes",1);case f:return ne(Ae+"Seconds",2);case c:return ne(Ae+"Milliseconds",3);default:return this.clone()}},ce.endOf=function(q){return this.startOf(q,!1)},ce.$set=function(q,J){var $,le=C.p(q),fe="set"+(this.$u?"UTC":""),j=($={},$[p]=fe+"Date",$[I]=fe+"Date",$[_]=fe+"Month",$[x]=fe+"FullYear",$[h]=fe+"Hours",$[f]=fe+"Minutes",$[c]=fe+"Seconds",$[l]=fe+"Milliseconds",$)[le],ne=le===p?this.$D+(J-this.$W):J;if(le===_||le===x){var he=this.clone().set(I,1);he.$d[j](ne),he.init(),this.$d=he.set(I,Math.min(this.$D,he.daysInMonth())).$d}else j&&this.$d[j](ne);return this.init(),this},ce.set=function(q,J){return this.clone().$set(q,J)},ce.get=function(q){return this[C.p(q)]()},ce.add=function(q,J){var $,le=this;q=Number(q);var fe=C.p(J),j=function(me){var be=N(le);return C.w(be.date(be.date()+Math.round(me*q)),le)};if(fe===_)return this.set(_,this.$M+q);if(fe===x)return this.set(x,this.$y+q);if(fe===p)return j(1);if(fe===v)return j(7);var ne=($={},$[f]=r,$[h]=a,$[c]=t,$)[fe]||1,he=this.$d.getTime()+q*ne;return C.w(he,this)},ce.subtract=function(q,J){return this.add(-1*q,J)},ce.format=function(q){var J=this,$=this.$locale();if(!this.isValid())return $.invalidDate||k;var le=q||"YYYY-MM-DDTHH:mm:ssZ",fe=C.z(this),j=this.$H,ne=this.$m,he=this.$M,me=$.weekdays,be=$.months,Ae=$.meridiem,Ne=function(yt,un,Gn,hi){return yt&&(yt[un]||yt(J,le))||Gn[un].slice(0,hi)},ot=function(yt){return C.s(j%12||12,yt,"0")},qe=Ae||function(yt,un,Gn){var hi=yt<12?"AM":"PM";return Gn?hi.toLowerCase():hi};return le.replace(L,(function(yt,un){return un||(function(Gn){switch(Gn){case"YY":return String(J.$y).slice(-2);case"YYYY":return C.s(J.$y,4,"0");case"M":return he+1;case"MM":return C.s(he+1,2,"0");case"MMM":return Ne($.monthsShort,he,be,3);case"MMMM":return Ne(be,he);case"D":return J.$D;case"DD":return C.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return Ne($.weekdaysMin,J.$W,me,2);case"ddd":return Ne($.weekdaysShort,J.$W,me,3);case"dddd":return me[J.$W];case"H":return String(j);case"HH":return C.s(j,2,"0");case"h":return ot(1);case"hh":return ot(2);case"a":return qe(j,ne,!0);case"A":return qe(j,ne,!1);case"m":return String(ne);case"mm":return C.s(ne,2,"0");case"s":return String(J.$s);case"ss":return C.s(J.$s,2,"0");case"SSS":return C.s(J.$ms,3,"0");case"Z":return fe}return null})(yt)||fe.replace(":","")}))},ce.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ce.diff=function(q,J,$){var le,fe=this,j=C.p(J),ne=N(q),he=(ne.utcOffset()-this.utcOffset())*r,me=this-ne,be=function(){return C.m(fe,ne)};switch(j){case x:le=be()/12;break;case _:le=be();break;case T:le=be()/3;break;case v:le=(me-he)/6048e5;break;case p:le=(me-he)/864e5;break;case h:le=me/a;break;case f:le=me/r;break;case c:le=me/t;break;default:le=me}return $?le:C.a(le)},ce.daysInMonth=function(){return this.endOf(_).$D},ce.$locale=function(){return re[this.$L]},ce.locale=function(q,J){if(!q)return this.$L;var $=this.clone(),le=M(q,J,!0);return le&&($.$L=le),$},ce.clone=function(){return C.w(this.$d,this)},ce.toDate=function(){return new Date(this.valueOf())},ce.toJSON=function(){return this.isValid()?this.toISOString():null},ce.toISOString=function(){return this.$d.toISOString()},ce.toString=function(){return this.$d.toUTCString()},de})(),O=z.prototype;return N.prototype=O,[["$ms",l],["$s",c],["$m",f],["$H",h],["$W",p],["$M",_],["$y",x],["$D",I]].forEach((function(de){O[de[1]]=function(ce){return this.$g(ce,de[0],de[1])}})),N.extend=function(de,ce){return de.$i||(de(ce,z,N),de.$i=!0),N},N.locale=M,N.isDayjs=S,N.unix=function(de){return N(1e3*de)},N.en=re[ee],N.Ls=re,N.p={},N}))})(ph)),ph.exports}var O3=N3();const Af=qg(O3);var gh={exports:{}},D3=gh.exports,YE;function M3(){return YE||(YE=1,(function(n,e){(function(t,r){n.exports=r()})(D3,(function(){return function(t,r,a){t=t||{};var l=r.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function f(p,v,_,T){return l.fromToBase(p,v,_,T)}a.en.relativeTime=c,l.fromToBase=function(p,v,_,T,x){for(var I,k,P,L=_.$locale().relativeTime||c,U=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],B=U.length,X=0;X<B;X+=1){var ee=U[X];ee.d&&(I=T?a(p).diff(_,ee.d,!0):_.diff(p,ee.d,!0));var re=(t.rounding||Math.round)(Math.abs(I));if(P=I>0,re<=ee.r||!ee.r){re<=1&&X>0&&(ee=U[X-1]);var D=L[ee.l];x&&(re=x(""+re)),k=typeof D=="string"?D.replace("%d",re):D(re,v,ee.l,P);break}}if(v)return k;var S=P?L.future:L.past;return typeof S=="function"?S(k):S.replace("%s",k)},l.to=function(p,v){return f(p,v,this,!0)},l.from=function(p,v){return f(p,v,this)};var h=function(p){return p.$u?a.utc():a()};l.toNow=function(p){return this.to(h(this),p)},l.fromNow=function(p){return this.from(h(this),p)}}}))})(gh)),gh.exports}var k3=M3();const P3=qg(k3);Af.extend(P3);function rA({productId:n,showFormOnly:e=!1}){const[t]=fc(gn),{addReview:r,getProductReviews:a,hasUserReviewed:l,getAverageRating:c}=S3(),{orders:f}=xf(),[h,p]=F.useState(5),[v,_]=F.useState(""),[T,x]=F.useState(!1),I=!!t&&(f??[]).some(B=>B.items?.some(X=>String(X.id)===String(n))),k=a(n)??[],P=c(n)??0,L=t&&l(n,t.uid),U=B=>{B.preventDefault(),!(!t||!I)&&(L||(r(n,t.uid,h,v),_(""),p(5),x(!0),setTimeout(()=>x(!1),3e3)))};return e?y.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:t&&I&&!L?y.jsxs("form",{onSubmit:U,className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-semibold",children:"Write a Review"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium mb-2",children:"Rating"}),y.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(B=>y.jsx("button",{type:"button",onClick:()=>p(B),className:"p-2 transition hover:scale-110",children:y.jsx(ih,{size:20,fill:B<=h?"currentColor":"none",className:B<=h?"text-yellow-400":"text-gray-300"})},B))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium mb-2",children:"Comment"}),y.jsx("textarea",{value:v,onChange:B=>_(B.target.value),placeholder:"Share your experience with this product...",className:"w-full p-2 border rounded text-sm",rows:3})]}),y.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded font-medium hover:bg-blue-700 transition",children:T?" Review submitted":"Submit Review"})]}):L?y.jsx("p",{className:"text-sm text-gray-500",children:" You have already reviewed this product"}):y.jsx("p",{className:"text-sm text-gray-500",children:"You can only review products you have purchased"})}):y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4 animate-fadeIn",children:[y.jsxs("div",{className:"mb-6 pb-4 border-b",children:[y.jsxs("h3",{className:"font-semibold mb-3",children:["Ratings & Reviews (",k.length,")"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"text-3xl font-bold",children:P.toFixed(1)}),y.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((B,X)=>y.jsx(ih,{size:18,fill:X<Math.round(P)?"currentColor":"none"},X))}),y.jsxs("div",{className:"text-sm text-gray-500",children:["(",k.length," reviews)"]})]})]}),k.length===0?y.jsx("p",{className:"text-xs text-gray-500",children:"No reviews yet"}):y.jsx("div",{className:"space-y-3",children:k.map((B,X)=>y.jsxs("div",{className:"border-t pt-3 animate-fadeIn",style:{animationDelay:`${X*50}ms`},children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsxs("div",{children:[y.jsx("div",{className:"flex gap-1 text-yellow-400",children:[...Array(5)].map((ee,re)=>y.jsx(ih,{size:14,fill:re<B.rating?"currentColor":"none"},re))}),B.userId===t?.uid&&y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"(Your review)"})]}),y.jsx("div",{className:"text-xs text-gray-400",children:B.createdAt?Af(B.createdAt).fromNow():"Just now"})]}),B.comment&&y.jsx("p",{className:"text-sm text-gray-700 mt-2",children:B.comment})]},B.id))})]})}function L3({images:n,initialIndex:e=0,isOpen:t,onClose:r}){const[a,l]=F.useState(e);if(!t||!n||n.length===0)return null;const c=()=>{l(p=>p===0?n.length-1:p-1)},f=()=>{l(p=>p===n.length-1?0:p+1)},h=p=>{p.key==="ArrowLeft"&&c(),p.key==="ArrowRight"&&f(),p.key==="Escape"&&r()};return y.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:r,onKeyDown:h,role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-screen flex items-center justify-center",onClick:p=>p.stopPropagation(),children:[y.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Close",children:y.jsx(Wo,{size:24})}),y.jsx("img",{src:n[a],alt:`Product ${a+1}`,className:"max-w-full max-h-[90vh] object-contain"}),n.length>1&&y.jsx("button",{onClick:c,className:"absolute left-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Previous image",children:y.jsx(xI,{size:24})}),n.length>1&&y.jsx("button",{onClick:f,className:"absolute right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Next image",children:y.jsx(AI,{size:24})}),n.length>1&&y.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/10 text-white px-3 py-1 rounded-full text-sm",children:[a+1," / ",n.length]}),n.length>1&&y.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 flex gap-2 flex-wrap justify-center max-w-2xl",children:n.map((p,v)=>y.jsx("button",{onClick:()=>l(v),className:`w-12 h-12 rounded overflow-hidden border-2 transition ${v===a?"border-white":"border-transparent opacity-60 hover:opacity-100"}`,children:y.jsx("img",{src:p,alt:`Thumbnail ${v+1}`,className:"w-full h-full object-cover"})},v))})]})})}function j3({currentProductId:n}){const{products:e}=ar(),t=F.useMemo(()=>{if(!e.length)return[];const r=e.find(l=>l.id===n);return r?e.filter(l=>l.id!==n&&l.category===r.category).sort((l,c)=>{const f=(c.rating||0)-(l.rating||0);return f!==0?f:Math.abs(c.price-r.price)-Math.abs(l.price-r.price)}).slice(0,4):[]},[e,n]);return t.length===0?null:y.jsxs("div",{className:"mt-8 glass-morphism p-6 rounded-xl border border-opacity-20",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(VI,{className:"text-red-600",size:20}),y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"You Might Also Like"})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:t.map(r=>y.jsxs(Vt,{to:`/product/${r.id}`,className:"group hover-lift",children:[y.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg h-24 overflow-hidden mb-2 relative",children:[r.image&&y.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),y.jsxs("div",{className:"absolute top-1 right-1 flex items-center gap-1 bg-yellow-400 text-gray-900 px-2 py-0.5 rounded-full text-xs font-bold",children:[y.jsx(ih,{size:12,fill:"currentColor"}),(r.rating||4.5).toFixed(1)]})]}),y.jsx("p",{className:"text-xs font-semibold text-gray-900 truncate",children:r.name}),y.jsxs("p",{className:"text-sm font-bold text-red-600",children:["",r.price]})]},r.id))})]})}function V3(){const{id:n}=$g(),e=Fs(N=>N.addItem),{addItem:t,removeItem:r,items:a}=hc(),[l,c]=F.useState(1),[f,h]=F.useState("M"),[p,v]=F.useState(!1),[_,T]=F.useState(!1),[x,I]=F.useState(0),L=ar(N=>N.getProduct)(n)||{id:n,name:`Product ${n}`,price:Number(n)*10,rating:4.5,reviews:120,image:`https://picsum.photos/500/500?random=${n}`},U=F.useMemo(()=>L.images&&L.images.length?L.images:L.image?[L.image]:[`https://picsum.photos/500/500?random=${n}1`,`https://picsum.photos/500/500?random=${n}2`,`https://picsum.photos/500/500?random=${n}3`],[L.images,L.image,n]),B=a.some(N=>N.id===n),X=()=>{e({...L,qty:l,size:f}),v(!0),setTimeout(()=>v(!1),2e3)},ee=()=>{B?r(n):t(L)},re=ln(),D=()=>{e({...L,qty:l,size:f}),re("/checkout")},S=async()=>{const N=window.location.href,C=`Check out ${L.name} - $${L.price}`;if(navigator.share)navigator.share({title:"MiniFlip",text:C,url:N}).catch(()=>{});else{navigator.clipboard.writeText(`${C}
${N}`);const z=`https://wa.me/?text=${encodeURIComponent(C+" "+N)}`;window.open(z,"_blank")}},M=N=>{I(N),T(!0)};return F.useEffect(()=>{try{const N="recentlyViewed",C=localStorage.getItem(N),O=(C?JSON.parse(C):[]).filter(q=>String(q.id)!==String(n)),de={id:n,name:L.name,image:U[0]||"",viewedAt:Date.now()};O.unshift(de);const ce=O.slice(0,10);localStorage.setItem(N,JSON.stringify(ce))}catch(N){console.warn("Failed to update recently viewed",N)}},[n,L.name,U]),y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsx("div",{onClick:()=>M(0),className:"bg-gray-200 dark:bg-gray-700 rounded h-64 mb-4 cursor-pointer hover:opacity-80 transition overflow-hidden",children:y.jsx("img",{src:U[0],alt:"Product main",className:"w-full h-full object-cover"})}),U.length>1&&y.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:U.map((N,C)=>y.jsx("button",{onClick:()=>M(C),className:"flex-shrink-0 w-16 h-16 rounded border-2 border-transparent hover:border-gray-400 cursor-pointer transition overflow-hidden",children:y.jsx("img",{src:N,alt:`Product ${C+1}`,className:"w-full h-full object-cover"})},C))}),y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold mb-1",children:L.name}),L.category&&y.jsx("div",{className:"text-sm text-gray-500 mb-2",children:L.category}),y.jsxs("div",{className:"text-sm font-medium",children:[y.jsx("span",{className:"text-yellow-500",children:""}),y.jsxs("span",{className:"text-gray-700 ml-2",children:[(L.rating||4.5).toFixed(1)," (",L.reviewCount||42,")"]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:ee,className:`p-2 rounded border ${B?"bg-orange-50 text-orange-500 border-orange-300":""}`,children:y.jsx(Yh,{fill:B?"currentColor":"none"})}),y.jsx("button",{onClick:S,className:"p-2 rounded border",children:y.jsx(LI,{size:18})})]})]}),y.jsxs("p",{className:"text-2xl font-bold mb-6",children:["",L.price]}),L.description&&y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 p-5 rounded-lg mb-6",children:[y.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-900 dark:text-gray-100",children:"Details"}),y.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap text-base",children:L.description})]}),y.jsxs("div",{className:"space-y-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Size"}),y.jsxs("select",{value:f,onChange:N=>h(N.target.value),className:"w-full p-2 border rounded",children:[y.jsx("option",{children:"XS"}),y.jsx("option",{children:"S"}),y.jsx("option",{children:"M"}),y.jsx("option",{children:"L"}),y.jsx("option",{children:"XL"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>c(Math.max(1,l-1)),className:"px-3 py-1 border rounded",children:"-"}),y.jsx("span",{className:"w-8 text-center",children:l}),y.jsx("button",{onClick:()=>c(l+1),className:"px-3 py-1 border rounded",children:"+"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{onClick:X,className:`w-full py-3 rounded font-medium transition ${p?"bg-green-600 text-white":"bg-red-600 text-white hover:bg-red-700"}`,children:p?" Added":"Add to cart"}),y.jsx("button",{onClick:D,className:"w-full py-3 rounded font-medium bg-green-600 text-white hover:bg-green-700",children:"Buy Now"})]})]}),y.jsx(L3,{images:U,initialIndex:x,isOpen:_,onClose:()=>T(!1)}),y.jsx(rA,{productId:n}),y.jsx(j3,{currentProductId:n}),L.category&&y.jsx(U3,{category:L.category,currentProductId:n})]})}function U3({category:n,currentProductId:e}){const{products:t}=ar(),r=F.useMemo(()=>t.filter(a=>a.category===n&&a.id!==e).slice(0,6),[t,n,e]);return r.length===0?null:y.jsxs("div",{className:"mt-8 border-t pt-6",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["More from ",n]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:r.map(a=>y.jsxs(Vt,{to:`/product/${a.id}`,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsx("div",{className:"h-24 sm:h-28 bg-gray-100 flex items-center justify-center overflow-hidden",children:a.image?y.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):"Image"}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),y.jsxs("div",{className:"text-sm text-red-600 font-semibold mt-1",children:["",a.price]}),y.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" ",(a.rating||4.5).toFixed(1)]})]})]},a.id))})]})}function z3(){const{items:n,removeItem:e,fetchWishlist:t,loading:r}=hc(),{addItem:a}=Fs(),[l]=fc(gn);F.useEffect(()=>{l&&t(l.uid)},[l,t]);const c=f=>{a({...f,qty:1,size:"M"})};return r?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Loading wishlist..."})}):y.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[y.jsxs("h1",{className:"text-2xl font-semibold mb-4",children:["My Wishlist (",n.length,")"]}),n.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-12",children:[y.jsx("p",{className:"mb-3",children:"Your wishlist is empty"}),y.jsx(Vt,{to:"/products",className:"text-red-600 font-medium",children:"Continue shopping "})]}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:n.map(f=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsx("button",{onClick:()=>e(f.id),className:"absolute top-2 right-2 z-10 p-1.5 bg-white dark:bg-gray-700 rounded-full hover:bg-red-50",title:"Remove from wishlist",children:y.jsx(Wo,{size:16,className:"text-red-600"})}),y.jsx(Vt,{to:`/product/${f.id}`,className:"block relative overflow-hidden bg-gray-100 h-28 sm:h-32",children:f.image?y.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Image"})}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsxs(Vt,{to:`/product/${f.id}`,className:"block",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate hover:text-red-600",children:f.name}),f.category&&y.jsx("div",{className:"text-xs text-gray-500",children:f.category}),y.jsxs("div",{className:"text-sm text-red-600 font-semibold mt-1",children:["",f.price]})]}),y.jsxs("button",{onClick:()=>c(f),className:"w-full mt-2 flex items-center justify-center gap-1 py-1.5 bg-red-50 text-red-600 rounded text-xs font-medium hover:bg-red-100 transition",children:[y.jsx(Ma,{size:14})," Add to cart"]})]})]},f.id))})]})}function B3({onSuccess:n,onClose:e,amount:t,upiId:r}){const[a,l]=F.useState(!1),[c,f]=F.useState(""),h=F.useRef(null),p=async()=>{try{const _=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});h.current&&(h.current.srcObject=_)}catch(_){f("Camera access denied. Please enable camera permissions."),console.error("Camera error:",_)}};F.useEffect(()=>(a&&setTimeout(()=>p(),0),()=>{const _=h.current;_?.srcObject&&_.srcObject.getTracks().forEach(T=>T.stop())}),[a]);const v=()=>{setTimeout(()=>{n({transactionId:"UPI_"+Date.now(),status:"success",amount:t})},1e3)};return y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-fadeIn",children:y.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md overflow-hidden animate-slideUp",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[y.jsx("h2",{className:"font-semibold",children:"UPI Payment"}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded",children:y.jsx(Wo,{size:20})})]}),y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{className:"text-center py-4 bg-blue-50 rounded",children:[y.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"}),y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["",t]})]}),y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[y.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"UPI ID"}),y.jsx("div",{className:"text-sm font-mono font-bold",children:r})]}),a?y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"relative bg-black rounded overflow-hidden h-64",children:[y.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 border-2 border-green-500 border-dashed m-8 rounded"})]}),y.jsx("button",{onClick:()=>l(!1),className:"w-full py-2 bg-gray-200 text-gray-900 rounded font-medium",children:"Close Scanner"})]}):y.jsxs("button",{onClick:()=>l(!0),className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors",children:[y.jsx(TI,{size:20})," Open Camera"]}),y.jsx("button",{onClick:v,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Complete Payment"}),c&&y.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded text-sm",children:c}),y.jsx("div",{className:"text-xs text-gray-500 text-center",children:`Click "Complete Payment" once you've sent the payment via UPI`})]})]})})}function F3(){const n=ln(),{items:e,clear:t}=Fs(),{addOrder:r}=xf(),[a]=fc(gn),[l,c]=F.useState("cod"),[f,h]=F.useState(""),[p,v]=F.useState(""),[_,T]=F.useState(""),[x,I]=F.useState(!1),[k,P]=F.useState(null);F.useEffect(()=>{(async()=>{if(a)try{const ee=mn(Bt,"users",a.uid),re=await Hy(ee);if(re.exists()){const S=re.data().address;if(S){const M=[S.village||S.city,S.po,S.ps,S.district,S.pin].filter(Boolean).join(", "),N=S.landmark?`${M} (${S.landmark})`:M;h(N),v(S.mobile||S.phone||a.phoneNumber||"")}}}catch(ee){console.warn("Failed to load address",ee)}})()},[a]);const L=e.reduce((X,ee)=>X+ee.price*(ee.qty||1),0),U=async X=>{if(X.preventDefault(),T(""),!f||!p){T("Please fill in all fields");return}if(l==="upi"){if(!k){T("Please complete UPI payment to place order"),I(!0);return}if(k.status!=="success"){T("Payment was not successful. Please try again"),P(null),I(!0);return}}const ee={items:e,total:L,paymentMethod:l,address:f,phone:p,paymentDetails:k||null,deliveryStatus:[{step:"confirmed",completed:!0,date:new Date().toISOString()},{step:"processing",completed:!1,date:null},{step:"shipped",completed:!1,date:null},{step:"delivered",completed:!1,date:null}]};try{await r(ee),t(),n("/orders")}catch(re){T("Failed to place order: "+re.message)}},B=async X=>{P(X),I(!1),setTimeout(async()=>{const ee={items:e,total:L,paymentMethod:l,address:f,phone:p,paymentDetails:X,deliveryStatus:[{step:"confirmed",completed:!0,date:new Date().toISOString()},{step:"processing",completed:!1,date:null},{step:"shipped",completed:!1,date:null},{step:"delivered",completed:!1,date:null}]};try{await r(ee),t(),n("/orders")}catch(re){T("Failed to place order: "+re.message)}},1e3)};return e.length===0?y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 py-12 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"Cart is empty"}),y.jsx("a",{href:"/products",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Continue Shopping "})]}):y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Checkout"}),y.jsxs("form",{onSubmit:U,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Delivery Address"}),y.jsx("textarea",{value:f,onChange:X=>h(X.target.value),placeholder:"Enter your full address including house number, street, city, state and pin code",className:"w-full px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:border-orange-600 focus:outline-none min-h-[100px]",rows:4})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Phone Number"}),y.jsx("input",{type:"tel",value:p,onChange:X=>v(X.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit phone number",className:"w-full px-3 py-3 text-base border-2 border-gray-200 rounded-lg focus:border-orange-600 focus:outline-none min-h-[44px]",maxLength:10})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Payment Method"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border-2 border-gray-200 rounded-lg active:bg-gray-50 transition-colors touch-area min-h-[50px]",children:[y.jsx("input",{type:"radio",value:"cod",checked:l==="cod",onChange:X=>c(X.target.value),className:"w-5 h-5 cursor-pointer"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Cash on Delivery"}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pay when you receive the order"})]})]}),y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border-2 border-gray-200 rounded-lg active:bg-gray-50 transition-colors touch-area min-h-[50px]",children:[y.jsx("input",{type:"radio",value:"upi",checked:l==="upi",onChange:X=>c(X.target.value),className:"w-5 h-5 cursor-pointer"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"UPI Payment"}),y.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Pay securely using UPI"})]})]})]})]}),l==="upi"&&y.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 p-3 rounded-lg",children:[y.jsx("p",{className:"text-sm font-semibold text-blue-900",children:" Scan to Pay"}),y.jsxs("p",{className:"text-xs text-blue-700 mt-1.5",children:["UPI ID: ",y.jsx("strong",{children:"support@dsmart.upi"})]}),y.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:["Amount: ",y.jsxs("strong",{children:["",L.toFixed(0)]})]})]}),_&&y.jsx("div",{className:"text-sm text-red-700 bg-red-50 p-3 rounded-lg border-2 border-red-200",children:_}),y.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 p-3 rounded-lg border-2 border-gray-200 sticky top-20 z-10",children:[y.jsx("h3",{className:"font-bold text-sm text-gray-900 mb-2",children:"Order Summary"}),y.jsx("div",{className:"space-y-1.5 mb-2.5 max-h-32 overflow-y-auto",children:e.map(X=>y.jsxs("div",{className:"flex justify-between text-xs text-gray-700",children:[y.jsxs("span",{className:"truncate flex-1",children:[X.name," ",y.jsxs("span",{className:"font-semibold",children:["",X.qty||1]})]}),y.jsxs("span",{className:"font-medium ml-2",children:["",(X.price*(X.qty||1)).toFixed(0)]})]},X.id))}),y.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 flex justify-between items-center",children:[y.jsx("span",{className:"font-bold text-gray-900",children:"Total:"}),y.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["",L.toFixed(0)]})]})]}),y.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold rounded-lg active:opacity-90 touch-area min-h-[48px] text-base transition",children:l==="upi"?"Continue to UPI Payment":"Place Order"})]}),x&&y.jsx(B3,{onSuccess:B,onClose:()=>I(!1),amount:L,upiId:"support@dsmart.upi"})]})}function q3(){const{orders:n,fetchOrders:e,loading:t,error:r,cancelOrder:a,updateStatus:l}=xf(),[c]=fc(gn);return F.useEffect(()=>{c&&e(c.uid)},[c,e]),t?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Loading orders..."})}):r?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:y.jsxs("p",{className:"text-red-600 bg-red-50 p-3 rounded",children:["Error loading orders: ",r]})}):c?y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"My Orders"}),n.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx("p",{className:"mb-3",children:"No orders yet"}),y.jsx(Vt,{to:"/products",className:"text-gray-900",children:"Continue shopping"})]}):y.jsx("div",{className:"space-y-3",children:n.map(f=>y.jsxs("div",{className:"bg-white dark:bg-white-800 p-4 rounded border",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:f.id}),y.jsx("div",{className:"text-xs text-gray-500",children:Af(f.createdAt).format("MMM DD, YYYY")})]}),y.jsx("div",{className:`text-sm px-2 py-1 rounded ${f.status==="confirmed"?"bg-blue-100 text-blue-800":f.status==="processing"?"bg-yellow-100 text-yellow-800":f.status==="shipped"?"bg-orange-100 text-orange-800":f.status==="delivered"?"bg-green-100 text-green-700":f.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-900"}`,children:f.status.toUpperCase()})]}),y.jsxs("div",{className:"text-sm mb-3",children:[y.jsxs("div",{className:"text-gray-600",children:["Items: ",f.items.length]}),y.jsxs("div",{className:"font-medium",children:["",f.total.toFixed(0)]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsxs(Vt,{to:`/order/${f.id}`,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-yellow-400 text-black rounded text-sm hover:bg-yellow-500 border-2 border-yellow-600",children:[y.jsx(II,{size:16})," Track"]}),f.status==="confirmed"&&y.jsxs("button",{onClick:()=>a(f.id),className:"flex-1 flex items-center justify-center gap-2 py-2 bg-yellow-100 text-yellow-800 rounded text-sm hover:bg-yellow-200 border",children:[y.jsx(pT,{size:16})," Cancel"]})]})]},f.id))})]}):y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"Please login to view your orders"}),y.jsx(Vt,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"})]})}function H3(){const{id:n}=$g(),{getOrder:e}=xf(),t=e(n);if(!t)return y.jsx("div",{className:"max-w-2xl mx-auto p-4 py-12 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Order not found"})});const r=()=>{navigator.clipboard.writeText(t.id)},a=t.deliveryStatus??[];return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsx("div",{className:"mb-4",children:y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Order Details"}),y.jsxs("button",{onClick:r,className:"flex items-center gap-1 px-2 py-1 text-sm bg-gray-100 dark:bg-gray-800 rounded",title:"Copy order ID",children:[y.jsx(RI,{size:14})," ",t.id]})]})}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4 border-b",children:[y.jsx("h3",{className:"font-semibold mb-4",children:"Delivery Status"}),y.jsx("div",{className:"space-y-3",children:a.length===0?y.jsx("p",{className:"text-sm text-gray-500",children:"Status not available yet"}):a.map((l,c)=>y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:`mt-1 w-6 h-6 rounded-full flex items-center justify-center ${l.completed?"bg-green-500 text-white":"bg-white text-gray-600 border"}`,children:l.completed?y.jsx(SI,{size:16}):y.jsx(CI,{size:16})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-medium capitalize",children:l.step}),l.date&&y.jsx("div",{className:"text-xs text-gray-500",children:Af(l.date).format("MMM DD, YYYY hh:mm A")})]})]},c))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Items Ordered"}),y.jsx("div",{className:"space-y-2",children:t.items?.map(l=>y.jsxs("div",{className:"flex justify-between text-sm pb-2 border-b last:border-0",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:l.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Size: ",l.size," | Qty: ",l.qty||1]})]}),y.jsxs("div",{className:"font-medium",children:["$",(l.price*(l.qty||1)).toFixed(2)]})]},l.id))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),y.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.address}),y.jsxs("p",{className:"text-sm mt-2",children:["Phone: ",t.phone]})]}),y.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{children:"Subtotal:"}),y.jsxs("span",{children:["",t.total.toFixed(0)]})]}),y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{children:"Shipping:"}),y.jsx("span",{children:"Free"})]}),y.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{children:["",t.total.toFixed(0)]})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rate & Review Products"}),t.items?.map(l=>y.jsxs("div",{className:"mb-6 pb-6 border-b last:border-0",children:[y.jsxs("div",{className:"flex gap-3 mb-4",children:[l.image&&y.jsx("img",{src:l.image,alt:l.name,className:"w-16 h-16 rounded object-cover"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium",children:l.name}),y.jsxs("p",{className:"text-sm text-orange-500",children:["Qty: ",l.qty||1]})]})]}),y.jsx(rA,{productId:l.id,showFormOnly:!0})]},l.id))]})]})}function G3(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,l]=F.useState(""),c=ln(),{t:f}=F.useContext(qs),h=async v=>{v.preventDefault(),l("");try{await OO(gn,n,t),c("/")}catch(_){l(_.message)}},p=async()=>{try{const v=new Ji;await hS(gn,v),c("/")}catch(v){l(v.message)}};return y.jsxs("div",{className:"max-w-md mx-auto p-4",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:f("login")}),y.jsxs("form",{onSubmit:h,className:"space-y-3",children:[y.jsx("input",{value:n,onChange:v=>e(v.target.value),placeholder:f("email"),className:"w-full p-2 border rounded"}),y.jsx("input",{value:t,onChange:v=>r(v.target.value),placeholder:f("password"),type:"password",className:"w-full p-2 border rounded"}),a&&y.jsx("div",{className:"text-sm text-red-500",children:a}),y.jsx("button",{className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700",children:f("login")})]}),y.jsx("div",{className:"mt-3",children:y.jsx("button",{onClick:p,className:"w-full py-2 border rounded",children:"Sign in with Google"})}),y.jsxs("p",{className:"mt-3 text-sm",children:[f("dontHaveAccount")," ",y.jsx(Vt,{to:"/register",className:"text-red-600 hover:text-red-700",children:f("register")})]})]})}function $3(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,l]=F.useState(""),[c,f]=F.useState(""),[h,p]=F.useState(""),v=ln(),{t:_}=F.useContext(qs),T=async I=>{I.preventDefault(),p("");try{if(!c)throw new Error("Mobile number is required");const P=(await NO(gn,n,t)).user;a&&await tS(P,{displayName:a});try{await Ms(mn(Bt,"users",P.uid),{name:a||P.displayName||"",email:P.email,phone:c,createdAt:Vh()})}catch(L){console.warn("Failed to write user doc",L)}v("/")}catch(k){p(k.message)}},x=async I=>{p("");try{let k;if(I==="google")k=new Ji;else if(I==="facebook")k=new Ir;else throw new Error("Unsupported provider");const L=(await hS(gn,k)).user;try{await Ms(mn(Bt,"users",L.uid),{name:L.displayName||"",email:L.email||"",phone:L.phoneNumber||"",provider:I,updatedAt:Vh()},{merge:!0})}catch(U){console.warn("Failed to write user doc for provider sign-in",U)}v("/")}catch(k){p(k.message)}};return y.jsxs("div",{className:"max-w-md mx-auto p-4",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:_("register")}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{type:"button",onClick:()=>x("google"),className:"w-full flex items-center justify-center gap-2 border p-2 rounded bg-white hover:bg-gray-50",children:y.jsx("span",{children:"Continue with Google"})}),y.jsx("button",{type:"button",onClick:()=>x("facebook"),className:"w-full flex items-center justify-center gap-2 border p-2 rounded bg-white hover:bg-gray-50",children:y.jsx("span",{children:"Continue with Facebook"})}),y.jsxs("div",{className:"text-center text-sm text-gray-500",children:[_("loading")," with email"]}),y.jsxs("form",{onSubmit:T,className:"space-y-3",children:[y.jsx("input",{value:a,onChange:I=>l(I.target.value),placeholder:_("name"),className:"w-full p-2 border rounded"}),y.jsx("input",{value:n,onChange:I=>e(I.target.value),placeholder:_("email"),className:"w-full p-2 border rounded"}),y.jsx("input",{value:c,onChange:I=>f(I.target.value),placeholder:_("mobile")+" ("+_("loading")+")",className:"w-full p-2 border rounded",required:!0,inputMode:"tel"}),y.jsx("input",{value:t,onChange:I=>r(I.target.value),placeholder:_("password"),type:"password",className:"w-full p-2 border rounded"}),h&&y.jsx("div",{className:"text-sm text-red-500",children:h}),y.jsx("button",{className:"w-full bg-green-600 text-white py-2 rounded",children:"Create account"})]})]}),y.jsxs("p",{className:"mt-3 text-sm",children:[_("alreadyHaveAccount")," ",y.jsx(Vt,{to:"/login",className:"text-gray-900",children:_("login")})]})]})}function Y3(){const n=ln(),{products:e,deleteProduct:t}=ar();return y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Manage Products"}),y.jsxs("button",{onClick:()=>n("/admin/add-product"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded text-sm",children:[y.jsx(mT,{size:16})," Add Product"]})]}),e.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx("p",{className:"mb-3",children:"No products yet"}),y.jsx("button",{onClick:()=>n("/admin/add-product"),className:"text-green-600",children:"Create the first product"})]}):y.jsx("div",{className:"space-y-2",children:e.map(r=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-semibold",children:r.name}),y.jsxs("div",{className:"text-sm text-gray-500",children:["$",r.price," | ",r.category]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>n(`/admin/edit-product/${r.id}`),className:"p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-900/20",children:y.jsx(fT,{size:16})}),y.jsx("button",{onClick:async()=>{if(confirm("Delete this product?"))try{await t(r.id)}catch(a){console.error("Delete failed",a),alert("Failed to delete product")}},className:"p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-900/20 text-gray-900",children:y.jsx(pT,{size:16})})]})]},r.id))})]})}function K3(){const n=ln(),{addProduct:e}=ar(),[t,r]=F.useState({name:"",price:"",description:"",category:"electronics",image:""}),a=async l=>{if(l.preventDefault(),!(!t.name||!t.price))try{await e({name:t.name,price:Number(t.price),description:t.description,category:t.category,image:t.image||"https://picsum.photos/300"}),n("/admin/products")}catch(c){console.error("Add product failed",c),alert("Failed to add product: "+c.message)}};return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>n("/admin/products"),className:"p-2",children:y.jsx(hT,{})}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Add Product"})]}),y.jsxs("form",{onSubmit:a,className:"bg-white dark:bg-gray-800 p-4 rounded space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name *"}),y.jsx("input",{type:"text",value:t.name,onChange:l=>r({...t,name:l.target.value}),placeholder:"Enter product name",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),y.jsx("input",{type:"number",value:t.price,onChange:l=>r({...t,price:l.target.value}),placeholder:"Enter price",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),y.jsxs("select",{value:t.category,onChange:l=>r({...t,category:l.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700",children:[y.jsx("option",{children:"electronics"}),y.jsx("option",{children:"clothing"}),y.jsx("option",{children:"books"}),y.jsx("option",{children:"home"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:t.image,onChange:l=>r({...t,image:l.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:t.description,onChange:l=>r({...t,description:l.target.value}),placeholder:"Product description",rows:3,className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded font-medium",children:"Add Product"})]})]})}function Q3(){const{id:n}=$g(),e=ln(),{getProduct:t,updateProduct:r}=ar(),[a,l]=F.useState({name:"",price:"",description:"",category:"electronics",image:""});F.useEffect(()=>{const f=t(n);f&&setTimeout(()=>l(f),0)},[n,t]);const c=f=>{if(f.preventDefault(),!a.name||!a.price)return;(async()=>{try{await r(n,{name:a.name,price:Number(a.price),description:a.description,category:a.category,image:a.image}),e("/admin/products")}catch(p){console.error("Update failed",p),alert("Failed to update product")}})()};return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>e("/admin/products"),className:"p-2",children:y.jsx(hT,{})}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Edit Product"})]}),y.jsxs("form",{onSubmit:c,className:"bg-white dark:bg-gray-800 p-4 rounded space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name *"}),y.jsx("input",{type:"text",value:a.name,onChange:f=>l({...a,name:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),y.jsx("input",{type:"number",value:a.price,onChange:f=>l({...a,price:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),y.jsxs("select",{value:a.category,onChange:f=>l({...a,category:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700",children:[y.jsx("option",{children:"electronics"}),y.jsx("option",{children:"clothing"}),y.jsx("option",{children:"books"}),y.jsx("option",{children:"home"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:a.image,onChange:f=>l({...a,image:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:a.description,onChange:f=>l({...a,description:f.target.value}),rows:3,className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsx("button",{type:"submit",className:"w-full bg-white text-gray-900 py-2 rounded font-medium",children:"Update Product"})]})]})}function X3(){const[n]=fc(gn),e=ln(),[t,r]=F.useState(!0),[a,l]=F.useState({name:"",email:"",phone:"",address:{village:"",city:"",po:"",ps:"",district:"",pin:"",landmark:"",mobile:""}}),[c,f]=F.useState(!1),[h,p]=F.useState(a.address),[v,_]=F.useState(!1),[T,x]=F.useState([]),[I,k]=F.useState(!1),[P,L]=F.useState(0);F.useEffect(()=>{(async()=>{if(n)try{const de=mn(Bt,"users",n.uid),ce=await Hy(de);if(ce.exists()){const q=ce.data();l(J=>({...J,name:n.displayName||q.name||"",email:n.email||q.email||"",phone:n.phoneNumber||q.phone||"",address:q.address||J.address})),p(q.address||a.address)}else l(q=>({...q,name:n.displayName||"",email:n.email||"",phone:n.phoneNumber||""}))}catch(de){console.error("Error loading user data:",de)}r(!1)})()},[n,a.address]),F.useEffect(()=>{try{const O=localStorage.getItem("recentlyViewed"),de=O?JSON.parse(O):[];x(de)}catch{x([])}},[]);const U=(O,de)=>{p(ce=>({...ce,[O]:de}))},B=async()=>{if(n){_(!0);try{const O=mn(Bt,"users",n.uid);await Ms(O,{name:a.name,email:a.email,phone:a.phone,address:h,updatedAt:new Date},{merge:!0}),l(de=>({...de,address:h})),f(!1),alert("Address saved successfully!")}catch(O){console.error("Error saving address:",O),alert("Error saving address. Please try again.")}_(!1)}},X=()=>{p(a.address),f(!1)},ee=()=>{window.location.href="tel:+919000000000"},re=async O=>{const de=O.target.files&&O.target.files[0];if(!de||!n)return;const ce=`profiles/${n.uid}/${Date.now()}_${de.name}`,q=gL(Hj,ce);try{k(!0),L(0);const J=mL(q,de);J.on("state_changed",le=>{const fe=Math.round(le.bytesTransferred/le.totalBytes*100);L(fe)}),await J;const $=await pL(q);try{await tS(gn.currentUser,{photoURL:$})}catch(le){console.warn("updateProfile failed",le)}try{const le=mn(Bt,"users",n.uid);await Ms(le,{photoURL:$,updatedAt:new Date},{merge:!0})}catch(le){console.warn("Failed to update user doc with photoURL",le)}alert("Profile picture updated")}catch(J){console.error("Profile upload failed",J),alert("Failed to upload profile picture")}finally{k(!1),L(0)}},D=()=>{window.open("https://wa.me/919000000000?text=Hello%20I%20need%20support","_blank")},S=async()=>{if(window.confirm(C("logout")+"  Are you sure?"))try{await LO(gn),e("/")}catch(O){console.warn("Logout failed",O),alert("Failed to logout. Please try again.")}},{language:M,setLanguage:N,t:C}=F.useContext(qs),z=O=>{N(O.target.value)};return t?y.jsx("div",{className:"max-w-md mx-auto p-4 pb-32 flex items-center justify-center h-screen",children:y.jsx("div",{className:"text-gray-600",children:"Loading..."})}):y.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:n?.photoURL?y.jsx("img",{src:n.photoURL,alt:"profile",className:"w-full h-full object-cover"}):y.jsx("div",{className:"text-xl text-gray-600",children:n?.displayName?.[0]||"U"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-500",children:C("profilePhoto")}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("input",{id:"profileFile",type:"file",accept:"image/*",onChange:re,className:"hidden"}),y.jsx("label",{htmlFor:"profileFile",className:"text-sm px-3 py-1 border rounded bg-white hover:bg-gray-50 cursor-pointer",children:C("change")}),I&&y.jsxs("div",{className:"text-xs text-gray-500",children:["Uploading ",P,"%"]})]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold text-lg",children:n?.displayName||"Guest"}),y.jsx("div",{className:"text-sm text-gray-500",children:n?.email||"Not signed in"})]})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsx("h3",{className:"font-semibold mb-2",children:C("customerDetails")}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("name"),": ",a.name]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("contact"),": ",a.phone||""]}),y.jsx("button",{onClick:()=>e("/orders"),className:"mt-3 text-sm text-gray-900",children:C("viewOrders")})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:"font-semibold",children:C("address")}),!c&&y.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm",children:[y.jsx(fT,{size:16})," ",C("edit")]})]}),c?y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("village")}),y.jsx("input",{type:"text",value:h.village,onChange:O=>U("village",O.target.value),placeholder:"Village or City name",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("po")}),y.jsx("input",{type:"text",value:h.po,onChange:O=>U("po",O.target.value),placeholder:"Post Office",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("ps")}),y.jsx("input",{type:"text",value:h.ps,onChange:O=>U("ps",O.target.value),placeholder:"Police Station",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("district")}),y.jsx("input",{type:"text",value:h.district,onChange:O=>U("district",O.target.value),placeholder:"District",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("pin")}),y.jsx("input",{type:"text",value:h.pin,onChange:O=>U("pin",O.target.value),placeholder:"PIN Code",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("landmark")}),y.jsx("input",{type:"text",value:h.landmark,onChange:O=>U("landmark",O.target.value),placeholder:"Landmark (Optional)",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:C("mobile")}),y.jsx("input",{type:"tel",value:h.mobile,onChange:O=>U("mobile",O.target.value),placeholder:"10-digit mobile number",className:"w-full p-2 border rounded text-sm",maxLength:"10"})]}),y.jsxs("div",{className:"flex gap-2 pt-2",children:[y.jsx("button",{onClick:B,disabled:v,className:"flex-1 bg-blue-600 text-white py-2 rounded text-sm font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition",children:C(v?"savingAddress":"saveAddress")}),y.jsx("button",{onClick:X,disabled:v,className:"flex-1 bg-gray-300 text-gray-800 py-2 rounded text-sm font-medium hover:bg-gray-400 disabled:opacity-50 transition",children:C("cancel")})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-sm text-gray-700",children:[C("village"),": ",a.address.village||a.address.city||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("po"),": ",a.address.po||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("ps"),": ",a.address.ps||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("district"),": ",a.address.district||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("pin"),": ",a.address.pin||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("landmark"),": ",a.address.landmark||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:[C("mobile"),": ",a.address.mobile||""]})]})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h3",{className:"font-semibold",children:C("recentlyViewed")}),y.jsx("button",{onClick:()=>{localStorage.removeItem("recentlyViewed"),x([])},className:"text-xs text-gray-500 hover:text-gray-700",children:C("clear")})]}),T.length===0?y.jsx("p",{className:"text-sm text-gray-500",children:C("noRecentItems")}):y.jsx("div",{className:"space-y-2",children:T.map(O=>y.jsxs(Vt,{to:`/product/${O.id}`,className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded overflow-hidden",children:O.image?y.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Viewed ",new Date(O.viewedAt).toLocaleString()]})]})]},O.id))})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsx("h3",{className:"font-semibold mb-3",children:C("customerSupport")}),y.jsxs("div",{className:"space-y-2 mb-3",children:[y.jsx("p",{className:"text-sm text-gray-700",children:"Email: support@crodyto.example"}),y.jsx("p",{className:"text-sm text-gray-700",children:"Phone: +91 90000 00000"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:ee,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white py-2 rounded font-medium hover:bg-green-700 transition",children:[y.jsx(PI,{size:18})," Call Now"]}),y.jsxs("button",{onClick:D,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded font-medium hover:bg-blue-700 transition",children:[y.jsx(MI,{size:18})," Chat"]})]})]}),y.jsx("section",{className:"mb-2 bg-white p-2 rounded border",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"font-semibold text-sm",children:"Language"}),y.jsxs("select",{value:M,onChange:z,className:"p-2 text-sm border rounded w-32",children:[y.jsx("option",{value:"en",children:"EN"}),y.jsx("option",{value:"hi",children:"HI"}),y.jsx("option",{value:"bn",children:"BN"})]})]})}),n&&y.jsx("section",{className:"mb-4 bg-white p-3 rounded border border-red-200 bg-red-50",children:y.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 bg-red-600 text-white py-2.5 rounded-lg font-semibold hover:bg-red-700 active:opacity-90 transition touch-area min-h-[44px]",children:[y.jsx(DI,{size:18})," Logout"]})})]})}function W3(){const[n,e]=F.useState(!1),[t,r]=F.useState(null);return F.useEffect(()=>{try{ar.getState().subscribeToProducts()}catch(a){console.warn("subscribeToProducts failed",a)}return()=>{try{ar.getState().unsubscribeProducts()}catch(a){console.warn("unsubscribeProducts failed",a)}}},[]),F.useEffect(()=>{const a=c=>{console.error("Global error:",c.error),r(`Error: ${c.error?.message||"Unknown error"}`)};window.addEventListener("error",a);const l=c=>{c.target.closest(".scrollable")||c.preventDefault()};return document.addEventListener("touchmove",l,{passive:!1}),()=>{window.removeEventListener("error",a),document.removeEventListener("touchmove",l)}},[]),t?y.jsx("div",{className:"flex flex-col h-screen bg-white text-gray-900 overflow-hidden",children:y.jsx("main",{className:"flex-1 overflow-y-auto flex items-center justify-center",children:y.jsxs("div",{className:"text-center p-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),y.jsx("p",{className:"text-gray-600 mb-4",children:t}),y.jsx("button",{onClick:()=>{r(null),window.location.href="/my-ecommerce/"},className:"px-4 py-2 bg-white text-gray-900 rounded hover:bg-gray-100",children:"Go Home"})]})})}):y.jsx(qI,{children:y.jsx(sI,{basename:"/my-ecommerce/",children:y.jsxs("div",{className:"flex flex-col h-screen bg-white text-gray-900 overflow-hidden",children:[y.jsx(HI,{onCartClick:()=>e(!0)}),y.jsx($j,{isOpen:n,onClose:()=>e(!1)}),y.jsx("main",{className:"flex-1 overflow-y-auto scrollable",children:y.jsxs(PR,{children:[y.jsx(An,{path:"/",element:y.jsx(E3,{})}),y.jsx(An,{path:"/products",element:y.jsx(T3,{})}),y.jsx(An,{path:"/product/:id",element:y.jsx(V3,{})}),y.jsx(An,{path:"/wishlist",element:y.jsx(z3,{})}),y.jsx(An,{path:"/checkout",element:y.jsx(F3,{})}),y.jsx(An,{path:"/orders",element:y.jsx(q3,{})}),y.jsx(An,{path:"/order/:id",element:y.jsx(H3,{})}),y.jsx(An,{path:"/login",element:y.jsx(G3,{})}),y.jsx(An,{path:"/register",element:y.jsx($3,{})}),y.jsx(An,{path:"/account",element:y.jsx(X3,{})}),y.jsx(An,{path:"/admin/products",element:y.jsx(Y3,{})}),y.jsx(An,{path:"/admin/add-product",element:y.jsx(K3,{})}),y.jsx(An,{path:"/admin/edit-product/:id",element:y.jsx(Q3,{})})]})}),y.jsx(Gj,{})]})})})}HC.createRoot(document.getElementById("root")).render(y.jsx(F.StrictMode,{children:y.jsx(W3,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
