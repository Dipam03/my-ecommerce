(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Ug(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bp={exports:{}},pu={};var bb;function RC(){if(bb)return pu;bb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return pu.Fragment=e,pu.jsx=t,pu.jsxs=t,pu}var wb;function IC(){return wb||(wb=1,bp.exports=RC()),bp.exports}var y=IC(),wp={exports:{}},Re={};var Tb;function NC(){if(Tb)return Re;Tb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function U(j,ee,he){this.props=j,this.context=ee,this.refs=N,this.updater=he||M}U.prototype.isReactComponent={},U.prototype.setState=function(j,ee){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ee,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=U.prototype;function z(j,ee,he){this.props=j,this.context=ee,this.refs=N,this.updater=he||M}var te=z.prototype=new B;te.constructor=z,k(te,U.prototype),te.isPureReactComponent=!0;var ne=Array.isArray;function ie(){}var O={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function D(j,ee,he){var me=he.ref;return{$$typeof:n,type:j,key:ee,ref:me!==void 0?me:null,props:he}}function I(j,ee){return D(j.type,ee,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function L(j){var ee={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(he){return ee[he]})}var P=/\/+/g;function de(j,ee){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):ee.toString(36)}function ce(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ie,ie):(j.status="pending",j.then(function(ee){j.status==="pending"&&(j.status="fulfilled",j.value=ee)},function(ee){j.status==="pending"&&(j.status="rejected",j.reason=ee)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,ee,he,me,be){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var Ne=!1;if(j===null)Ne=!0;else switch(Ae){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(j.$$typeof){case n:case e:Ne=!0;break;case v:return Ne=j._init,q(Ne(j._payload),ee,he,me,be)}}if(Ne)return be=be(j),Ne=me===""?"."+de(j,0):me,ne(be)?(he="",Ne!=null&&(he=Ne.replace(P,"$&/")+"/"),q(be,ee,he,"",function(vt){return vt})):be!=null&&(C(be)&&(be=I(be,he+(be.key==null||j&&j.key===be.key?"":(""+be.key).replace(P,"$&/")+"/")+Ne)),ee.push(be)),1;Ne=0;var at=me===""?".":me+":";if(ne(j))for(var qe=0;qe<j.length;qe++)me=j[qe],Ae=at+de(me,qe),Ne+=q(me,ee,he,Ae,be);else if(qe=x(j),typeof qe=="function")for(j=qe.call(j),qe=0;!(me=j.next()).done;)me=me.value,Ae=at+de(me,qe++),Ne+=q(me,ee,he,Ae,be);else if(Ae==="object"){if(typeof j.then=="function")return q(ce(j),ee,he,me,be);throw ee=String(j),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function J(j,ee,he){if(j==null)return j;var me=[],be=0;return q(j,me,"","",function(Ae){return ee.call(he,Ae,be++)}),me}function $(j){if(j._status===-1){var ee=j._result;ee=ee(),ee.then(function(he){(j._status===0||j._status===-1)&&(j._status=1,j._result=he)},function(he){(j._status===0||j._status===-1)&&(j._status=2,j._result=he)}),j._status===-1&&(j._status=0,j._result=ee)}if(j._status===1)return j._result.default;throw j._result}var ue=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},fe={map:J,forEach:function(j,ee,he){J(j,function(){ee.apply(this,arguments)},he)},count:function(j){var ee=0;return J(j,function(){ee++}),ee},toArray:function(j){return J(j,function(ee){return ee})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Re.Activity=b,Re.Children=fe,Re.Component=U,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=z,Re.StrictMode=r,Re.Suspense=h,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Re.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},Re.cache=function(j){return function(){return j.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(j,ee,he){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=k({},j.props),be=j.key;if(ee!=null)for(Ae in ee.key!==void 0&&(be=""+ee.key),ee)!E.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(me[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)me.children=he;else if(1<Ae){for(var Ne=Array(Ae),at=0;at<Ae;at++)Ne[at]=arguments[at+2];me.children=Ne}return D(j.type,be,me)},Re.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Re.createElement=function(j,ee,he){var me,be={},Ae=null;if(ee!=null)for(me in ee.key!==void 0&&(Ae=""+ee.key),ee)E.call(ee,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(be[me]=ee[me]);var Ne=arguments.length-2;if(Ne===1)be.children=he;else if(1<Ne){for(var at=Array(Ne),qe=0;qe<Ne;qe++)at[qe]=arguments[qe+2];be.children=at}if(j&&j.defaultProps)for(me in Ne=j.defaultProps,Ne)be[me]===void 0&&(be[me]=Ne[me]);return D(j,Ae,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:f,render:j}},Re.isValidElement=C,Re.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:$}},Re.memo=function(j,ee){return{$$typeof:p,type:j,compare:ee===void 0?null:ee}},Re.startTransition=function(j){var ee=O.T,he={};O.T=he;try{var me=j(),be=O.S;be!==null&&be(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ie,ue)}catch(Ae){ue(Ae)}finally{ee!==null&&he.types!==null&&(ee.types=he.types),O.T=ee}},Re.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Re.use=function(j){return O.H.use(j)},Re.useActionState=function(j,ee,he){return O.H.useActionState(j,ee,he)},Re.useCallback=function(j,ee){return O.H.useCallback(j,ee)},Re.useContext=function(j){return O.H.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j,ee){return O.H.useDeferredValue(j,ee)},Re.useEffect=function(j,ee){return O.H.useEffect(j,ee)},Re.useEffectEvent=function(j){return O.H.useEffectEvent(j)},Re.useId=function(){return O.H.useId()},Re.useImperativeHandle=function(j,ee,he){return O.H.useImperativeHandle(j,ee,he)},Re.useInsertionEffect=function(j,ee){return O.H.useInsertionEffect(j,ee)},Re.useLayoutEffect=function(j,ee){return O.H.useLayoutEffect(j,ee)},Re.useMemo=function(j,ee){return O.H.useMemo(j,ee)},Re.useOptimistic=function(j,ee){return O.H.useOptimistic(j,ee)},Re.useReducer=function(j,ee,he){return O.H.useReducer(j,ee,he)},Re.useRef=function(j){return O.H.useRef(j)},Re.useState=function(j){return O.H.useState(j)},Re.useSyncExternalStore=function(j,ee,he){return O.H.useSyncExternalStore(j,ee,he)},Re.useTransition=function(){return O.H.useTransition()},Re.version="19.2.0",Re}var Eb;function zg(){return Eb||(Eb=1,wp.exports=NC()),wp.exports}var F=zg();const Ke=Ug(F);var Tp={exports:{}},gu={},Ep={exports:{}},Sp={};var Sb;function OC(){return Sb||(Sb=1,(function(n){function e(q,J){var $=q.length;q.push(J);e:for(;0<$;){var ue=$-1>>>1,fe=q[ue];if(0<a(fe,J))q[ue]=J,q[$]=fe,$=ue;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],$=q.pop();if($!==J){q[0]=$;e:for(var ue=0,fe=q.length,j=fe>>>1;ue<j;){var ee=2*(ue+1)-1,he=q[ee],me=ee+1,be=q[me];if(0>a(he,$))me<fe&&0>a(be,he)?(q[ue]=be,q[me]=$,ue=me):(q[ue]=he,q[ee]=$,ue=ee);else if(me<fe&&0>a(be,$))q[ue]=be,q[me]=$,ue=me;else break e}}return J}function a(q,J){var $=q.sortIndex-J.sortIndex;return $!==0?$:q.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],p=[],v=1,b=null,S=3,x=!1,M=!1,k=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function te(q){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=q)r(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=t(p)}}function ne(q){if(k=!1,te(q),!M)if(t(h)!==null)M=!0,ie||(ie=!0,L());else{var J=t(p);J!==null&&ce(ne,J.startTime-q)}}var ie=!1,O=-1,E=5,D=-1;function I(){return N?!0:!(n.unstable_now()-D<E)}function C(){if(N=!1,ie){var q=n.unstable_now();D=q;var J=!0;try{e:{M=!1,k&&(k=!1,B(O),O=-1),x=!0;var $=S;try{t:{for(te(q),b=t(h);b!==null&&!(b.expirationTime>q&&I());){var ue=b.callback;if(typeof ue=="function"){b.callback=null,S=b.priorityLevel;var fe=ue(b.expirationTime<=q);if(q=n.unstable_now(),typeof fe=="function"){b.callback=fe,te(q),J=!0;break t}b===t(h)&&r(h),te(q)}else r(h);b=t(h)}if(b!==null)J=!0;else{var j=t(p);j!==null&&ce(ne,j.startTime-q),J=!1}}break e}finally{b=null,S=$,x=!1}J=void 0}}finally{J?L():ie=!1}}}var L;if(typeof z=="function")L=function(){z(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,de=P.port2;P.port1.onmessage=C,L=function(){de.postMessage(null)}}else L=function(){U(C,0)};function ce(q,J){O=U(function(){q(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(q){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var $=S;S=J;try{return q()}finally{S=$}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var $=S;S=q;try{return J()}finally{S=$}},n.unstable_scheduleCallback=function(q,J,$){var ue=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ue+$:ue):$=ue,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=$+fe,q={id:v++,callback:J,priorityLevel:q,startTime:$,expirationTime:fe,sortIndex:-1},$>ue?(q.sortIndex=$,e(p,q),t(h)===null&&q===t(p)&&(k?(B(O),O=-1):k=!0,ce(ne,$-ue))):(q.sortIndex=fe,e(h,q),M||x||(M=!0,ie||(ie=!0,L()))),q},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(q){var J=S;return function(){var $=S;S=J;try{return q.apply(this,arguments)}finally{S=$}}}})(Sp)),Sp}var xb;function DC(){return xb||(xb=1,Ep.exports=OC()),Ep.exports}var xp={exports:{}},rn={};var Ab;function MC(){if(Ab)return rn;Ab=1;var n=zg();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,v)},rn.flushSync=function(h){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=v,r.d.f()}},rn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},rn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},rn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):v==="script"&&r.d.X(h,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},rn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);r.d.L(h,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},rn.requestFormReset=function(h){r.d.r(h)},rn.unstable_batchedUpdates=function(h,p){return h(p)},rn.useFormState=function(h,p,v){return c.H.useFormState(h,p,v)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var Cb;function kC(){if(Cb)return xp.exports;Cb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xp.exports=MC(),xp.exports}var Rb;function PC(){if(Rb)return gu;Rb=1;var n=DC(),e=zg(),t=kC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return h(m),i;if(g===u)return h(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=m,u=g;else{for(var w=!1,A=m.child;A;){if(A===o){w=!0,o=m,u=g;break}if(A===u){w=!0,u=m,o=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===o){w=!0,o=g,u=m;break}if(A===u){w=!0,u=g,o=m;break}A=A.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),z=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case ne:return"Suspense";case ie:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case z:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case te:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:de(i.type)||"Memo";case E:s=i._payload,i=i._init;try{return de(i(s))}catch{}}return null}var ce=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ue=[],fe=-1;function j(i){return{current:i}}function ee(i){0>fe||(i.current=ue[fe],ue[fe]=null,fe--)}function he(i,s){fe++,ue[fe]=i.current,i.current=s}var me=j(null),be=j(null),Ae=j(null),Ne=j(null);function at(i,s){switch(he(Ae,s),he(be,i),he(me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?q0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=q0(s),i=H0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(me),he(me,i)}function qe(){ee(me),ee(be),ee(Ae)}function vt(i){i.memoizedState!==null&&he(Ne,i);var s=me.current,o=H0(s,i.type);s!==o&&(he(be,i),he(me,o))}function cn(i){be.current===i&&(ee(me),ee(be)),Ne.current===i&&(ee(Ne),du._currentValue=$)}var Hn,di;function Ii(i){if(Hn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Hn=s&&s[1]||"",di=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hn+i+di}var dl=!1;function Ks(i,s){if(!i||dl)return"";dl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var X=Z}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(Z){X=Z}i.call(oe.prototype)}}else{try{throw Error()}catch(Z){X=Z}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],A=g[1];if(w&&A){var V=w.split(`
`),Q=A.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===Q.length)for(u=V.length-1,m=Q.length-1;1<=u&&0<=m&&V[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==Q[m]){var re=`
`+V[u].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=u&&0<=m);break}}}finally{dl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ii(o):""}function hl(i,s){switch(i.tag){case 26:case 27:case 5:return Ii(i.type);case 16:return Ii("Lazy");case 13:return i.child!==s&&s!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Ks(i.type,!1);case 11:return Ks(i.type.render,!1);case 1:return Ks(i.type,!0);case 31:return Ii("Activity");default:return""}}function fl(i){try{var s="",o=null;do s+=hl(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,qr=n.unstable_cancelCallback,Tf=n.unstable_shouldYield,lc=n.unstable_requestPaint,dn=n.unstable_now,Qs=n.unstable_getCurrentPriorityLevel,ml=n.unstable_ImmediatePriority,pl=n.unstable_UserBlockingPriority,Hr=n.unstable_NormalPriority,Ef=n.unstable_LowPriority,uc=n.unstable_IdlePriority,cc=n.log,dc=n.unstable_setDisableYieldValue,hi=null,Yt=null;function Gn(i){if(typeof cc=="function"&&dc(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(hi,i)}catch{}}var Tt=Math.clz32?Math.clz32:fc,hc=Math.log,$a=Math.LN2;function fc(i){return i>>>=0,i===0?32:31-(hc(i)/$a|0)|0}var Ni=256,Xs=262144,Rt=4194304;function Oi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?m=Oi(u):(w&=A,w!==0?m=Oi(w):o||(o=A&~i,o!==0&&(m=Oi(o))))):(A=u&~g,A!==0?m=Oi(A):w!==0?m=Oi(w):o||(o=u&~i,o!==0&&(m=Oi(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function fi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Sf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Mi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ws(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xf(i,s,o,u,m,g){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,V=i.expirationTimes,Q=i.hiddenUpdates;for(o=w&~o;0<o;){var re=31-Tt(o),oe=1<<re;A[re]=0,V[re]=-1;var X=Q[re];if(X!==null)for(Q[re]=null,re=0;re<X.length;re++){var Z=X[re];Z!==null&&(Z.lane&=-536870913)}o&=~oe}u!==0&&Js(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~s))}function Js(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Tt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function gl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Tt(o),m=1<<u;m&s|i[u]&s&&(i[u]|=s),o&=~m}}function yl(i,s){var o=s&-s;return o=(o&42)!==0?1:Zs(o),(o&(i.suspendedLanes|s))!==0?0:o}function Zs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function pc(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:fb(i.type))}function mi(i,s){var o=J.p;try{return J.p=i,s()}finally{J.p=o}}var pi=Math.random().toString(36).slice(2),It="__reactFiber$"+pi,qt="__reactProps$"+pi,ki="__reactContainer$"+pi,Ya="__reactEvents$"+pi,Af="__reactListeners$"+pi,gc="__reactHandles$"+pi,yc="__reactResources$"+pi,Pi="__reactMarker$"+pi;function Ka(i){delete i[It],delete i[qt],delete i[Ya],delete i[Af],delete i[gc]}function ji(i){var s=i[It];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ki]||o[It]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=W0(i);i!==null;){if(o=i[It])return o;i=W0(i)}return s}i=o,o=i.parentNode}return null}function $n(i){if(i=i[It]||i[ki]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function On(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Li(i){var s=i[yc];return s||(s=i[yc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(i){i[Pi]=!0}var vl=new Set,_l={};function Vi(i,s){Ui(i,s),Ui(i+"Capture",s)}function Ui(i,s){for(_l[i]=s,i=0;i<s.length;i++)vl.add(s[i])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Tl={};function vc(i){return Ct.call(Tl,i)?!0:Ct.call(wl,i)?!1:bl.test(i)?Tl[i]=!0:(wl[i]=!0,!1)}function Qa(i,s,o){if(vc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Dn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ot(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Gr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function El(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=Gr(i)?"checked":"value";i._valueTracker=El(i,s,""+i[s])}}function ea(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Gr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ta=/[\n"\\]/g;function vn(i){return i.replace(ta,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xa(i,s,o,u,m,g,w,A){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ht(s)):i.value!==""+Ht(s)&&(i.value=""+Ht(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?Sl(i,w,Ht(s)):o!=null?Sl(i,w,Ht(o)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Ht(A):i.removeAttribute("name")}function _c(i,s,o,u,m,g,w,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Xe(i);return}o=o!=null?""+Ht(o):"",s=s!=null?""+Ht(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),Xe(i)}function Sl(i,s,o){s==="number"&&zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function $r(i,s,o,u){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ht(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function bc(i,s,o){if(s!=null&&(s=""+Ht(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Ht(o):""}function Yr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ht(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xe(i)}function _n(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||wc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Al(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&xl(i,m,u)}else for(var g in s)s.hasOwnProperty(g)&&xl(i,g,s[g])}function Wa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(i){return Kr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gi(){}var Cl=null;function Yn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qr=null,Bi=null;function na(i){var s=$n(i);if(s&&(i=s.stateNode)){var o=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Xa(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var m=u[qt]||null;if(!m)throw Error(r(90));Xa(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&ea(u)}break e;case"textarea":bc(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&$r(i,!!o.multiple,s,!1)}}}var Za=!1;function Xr(i,s,o){if(Za)return i(s,o);Za=!0;try{var u=i(s);return u}finally{if(Za=!1,(Qr!==null||Bi!==null)&&(pd(),Qr&&(s=Qr,i=Bi,Bi=Qr=null,na(s),i)))for(s=0;s<i.length;s++)na(i[s])}}function yi(i,s){var o=i.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=!1;if(Kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ia=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ia=!1}var Fi=null,Rl=null,ra=null;function Il(){if(ra)return ra;var i,s=Rl,o=s.length,u,m="value"in Fi?Fi.value:Fi.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var w=o-i;for(u=1;u<=w&&s[o-u]===m[g-u];u++);return ra=m.slice(i,1<u?1-u:void 0)}function sa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ur(){return!0}function vi(){return!1}function Kt(i){function s(o,u,m,g,w){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ur:vi,this.isPropagationStopped=vi,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),s}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Kt(cr),Wr=b({},cr,{view:0,detail:0}),Nl=Kt(Wr),Jr,eo,Hi,to=b({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hi&&(Hi&&i.type==="mousemove"?(Jr=i.screenX-Hi.screenX,eo=i.screenY-Hi.screenY):eo=Jr=0,Hi=i),Jr)},movementY:function(i){return"movementY"in i?i.movementY:eo}}),Ol=Kt(to),aa=b({},to,{dataTransfer:0}),Ec=Kt(aa),Sc=b({},Wr,{relatedTarget:0}),oa=Kt(Sc),Dl=b({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),xc=Kt(Dl),no=b({},cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ac=Kt(no),Cc=b({},cr,{data:0}),Gi=Kt(Cc),Rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Nc[i])?!!s[i]:!1}function Zr(){return Oc}var hn=b({},Wr,{key:function(i){if(i.key){var s=Rc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ic[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(i){return i.type==="keypress"?sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Dc=Kt(hn),Mc=b({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=Kt(Mc),d=b({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),_=Kt(d),T=b({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Kt(T),Y=b({},to,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),W=Kt(Y),pe=b({},cr,{newState:0,oldState:0}),Oe=Kt(pe),Et=[9,13,27,32],$e=Kn&&"CompositionEvent"in window,ht=null;Kn&&"documentMode"in document&&(ht=document.documentMode);var Qn=Kn&&"TextEvent"in window&&!ht,$i=Kn&&(!$e||ht&&8<ht&&11>=ht),_i=" ",bi=!1;function la(i,s){switch(i){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ro=!1;function J1(i,s){switch(i){case"compositionend":return io(s);case"keypress":return s.which!==32?null:(bi=!0,_i);case"textInput":return i=s.data,i===_i&&bi?null:i;default:return null}}function Z1(i,s){if(ro)return i==="compositionend"||!$e&&la(i,s)?(i=Il(),ra=Rl=Fi=null,ro=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $i&&s.locale!=="ko"?null:s.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!eA[i.type]:s==="textarea"}function tv(i,s,o,u){Qr?Bi?Bi.push(u):Bi=[u]:Qr=u,s=Td(s,"onChange"),0<s.length&&(o=new qi("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Ml=null,kl=null;function tA(i){L0(i,0)}function kc(i){var s=On(i);if(ea(s))return i}function nv(i,s){if(i==="change")return s}var iv=!1;if(Kn){var Cf;if(Kn){var Rf="oninput"in document;if(!Rf){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Rf=typeof rv.oninput=="function"}Cf=Rf}else Cf=!1;iv=Cf&&(!document.documentMode||9<document.documentMode)}function sv(){Ml&&(Ml.detachEvent("onpropertychange",av),kl=Ml=null)}function av(i){if(i.propertyName==="value"&&kc(kl)){var s=[];tv(s,kl,i,Yn(i)),Xr(tA,s)}}function nA(i,s,o){i==="focusin"?(sv(),Ml=s,kl=o,Ml.attachEvent("onpropertychange",av)):i==="focusout"&&sv()}function iA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return kc(kl)}function rA(i,s){if(i==="click")return kc(s)}function sA(i,s){if(i==="input"||i==="change")return kc(s)}function aA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Mn=typeof Object.is=="function"?Object.is:aA;function Pl(i,s){if(Mn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!Ct.call(s,m)||!Mn(i[m],s[m]))return!1}return!0}function ov(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lv(i,s){var o=ov(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ov(o)}}function uv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?uv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function cv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=zi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=zi(i.document)}return s}function If(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var oA=Kn&&"documentMode"in document&&11>=document.documentMode,so=null,Nf=null,jl=null,Of=!1;function dv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Of||so==null||so!==zi(u)||(u=so,"selectionStart"in u&&If(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Pl(jl,u)||(jl=u,u=Td(Nf,"onSelect"),0<u.length&&(s=new qi("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=so)))}function ua(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var ao={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Df={},hv={};Kn&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ca(i){if(Df[i])return Df[i];if(!ao[i])return i;var s=ao[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in hv)return Df[i]=s[o];return i}var fv=ca("animationend"),mv=ca("animationiteration"),pv=ca("animationstart"),lA=ca("transitionrun"),uA=ca("transitionstart"),cA=ca("transitioncancel"),gv=ca("transitionend"),yv=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function wi(i,s){yv.set(i,s),Vi(s,[i])}var Pc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Xn=[],oo=0,kf=0;function jc(){for(var i=oo,s=kf=oo=0;s<i;){var o=Xn[s];Xn[s++]=null;var u=Xn[s];Xn[s++]=null;var m=Xn[s];Xn[s++]=null;var g=Xn[s];if(Xn[s++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}g!==0&&vv(o,m,g)}}function Lc(i,s,o,u){Xn[oo++]=i,Xn[oo++]=s,Xn[oo++]=o,Xn[oo++]=u,kf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Pf(i,s,o,u){return Lc(i,s,o,u),Vc(i)}function da(i,s){return Lc(i,null,null,s),Vc(i)}function vv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-Tt(o),i=g.hiddenUpdates,u=i[m],u===null?i[m]=[s]:u.push(s),s.lane=o|536870912),g):null}function Vc(i){if(50<ru)throw ru=0,Hm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var lo={};function dA(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,s,o,u){return new dA(i,s,o,u)}function jf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function hr(i,s){var o=i.alternate;return o===null?(o=kn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function _v(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Uc(i,s,o,u,m,g){var w=0;if(u=i,typeof i=="function")jf(i)&&(w=1);else if(typeof i=="string")w=gC(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=kn(31,o,s,m),i.elementType=D,i.lanes=g,i;case k:return ha(o.children,m,g,s);case N:w=8,m|=24;break;case U:return i=kn(12,o,s,m|2),i.elementType=U,i.lanes=g,i;case ne:return i=kn(13,o,s,m),i.elementType=ne,i.lanes=g,i;case ie:return i=kn(19,o,s,m),i.elementType=ie,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:w=10;break e;case B:w=9;break e;case te:w=11;break e;case O:w=14;break e;case E:w=16,u=null;break e}w=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=kn(w,o,s,m),s.elementType=i,s.type=u,s.lanes=g,s}function ha(i,s,o,u){return i=kn(7,i,u,s),i.lanes=o,i}function Lf(i,s,o){return i=kn(6,i,null,s),i.lanes=o,i}function bv(i){var s=kn(18,null,null,0);return s.stateNode=i,s}function Vf(i,s,o){return s=kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var wv=new WeakMap;function Wn(i,s){if(typeof i=="object"&&i!==null){var o=wv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:fl(s)},wv.set(i,s),s)}return{value:i,source:s,stack:fl(s)}}var uo=[],co=0,zc=null,Ll=0,Jn=[],Zn=0,es=null,Yi=1,Ki="";function fr(i,s){uo[co++]=Ll,uo[co++]=zc,zc=i,Ll=s}function Tv(i,s,o){Jn[Zn++]=Yi,Jn[Zn++]=Ki,Jn[Zn++]=es,es=i;var u=Yi;i=Ki;var m=32-Tt(u)-1;u&=~(1<<m),o+=1;var g=32-Tt(s)+m;if(30<g){var w=m-m%5;g=(u&(1<<w)-1).toString(32),u>>=w,m-=w,Yi=1<<32-Tt(s)+m|o<<m|u,Ki=g+i}else Yi=1<<g|o<<m|u,Ki=i}function Uf(i){i.return!==null&&(fr(i,1),Tv(i,1,0))}function zf(i){for(;i===zc;)zc=uo[--co],uo[co]=null,Ll=uo[--co],uo[co]=null;for(;i===es;)es=Jn[--Zn],Jn[Zn]=null,Ki=Jn[--Zn],Jn[Zn]=null,Yi=Jn[--Zn],Jn[Zn]=null}function Ev(i,s){Jn[Zn++]=Yi,Jn[Zn++]=Ki,Jn[Zn++]=es,Yi=s.id,Ki=s.overflow,es=i}var Qt=null,ot=null,Be=!1,ts=null,ei=!1,Bf=Error(r(519));function ns(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(Wn(s,i)),Bf}function Sv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[It]=i,s[qt]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<au.length;o++)Pe(au[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),_c(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Yr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||B0(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=gi),s=!0):s=!1,s||ns(i,!0)}function xv(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Qt=Qt.return}}function ho(i){if(i!==Qt)return!1;if(!Be)return xv(i),Be=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||sp(i.type,i.memoizedProps)),o=!o),o&&ot&&ns(i),xv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=X0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=X0(i)}else s===27?(s=ot,gs(i.type)?(i=cp,cp=null,ot=i):ot=s):ot=Qt?ni(i.stateNode.nextSibling):null;return!0}function fa(){ot=Qt=null,Be=!1}function Ff(){var i=ts;return i!==null&&(En===null?En=i:En.push.apply(En,i),ts=null),i}function Vl(i){ts===null?ts=[i]:ts.push(i)}var qf=j(null),ma=null,mr=null;function is(i,s,o){he(qf,s._currentValue),s._currentValue=o}function pr(i){i._currentValue=qf.current,ee(qf)}function Hf(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Gf(i,s,o,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var V=0;V<s.length;V++)if(A.context===s[V]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Hf(g.return,o,i),u||(w=null);break e}g=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Hf(w,o,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function fo(i,s,o,u){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var A=m.type;Mn(m.pendingProps.value,w.value)||(i!==null?i.push(A):i=[A])}}else if(m===Ne.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(du):i=[du])}m=m.return}i!==null&&Gf(s,i,o,u),s.flags|=262144}function Bc(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function pa(i){ma=i,mr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xt(i){return Av(ma,i)}function Fc(i,s){return ma===null&&pa(i),Av(i,s)}function Av(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},mr===null){if(i===null)throw Error(r(308));mr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else mr=mr.next=s;return o}var hA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},fA=n.unstable_scheduleCallback,mA=n.unstable_NormalPriority,Dt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new hA,data:new Map,refCount:0}}function Ul(i){i.refCount--,i.refCount===0&&fA(mA,function(){i.controller.abort()})}var zl=null,Yf=0,mo=0,po=null;function pA(i,s){if(zl===null){var o=zl=[];Yf=0,mo=Xm(),po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Yf++,s.then(Cv,Cv),s}function Cv(){if(--Yf===0&&zl!==null){po!==null&&(po.status="fulfilled");var i=zl;zl=null,mo=0,po=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function gA(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Rv=q.S;q.S=function(i,s){d0=dn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&pA(i,s),Rv!==null&&Rv(i,s)};var ga=j(null);function Kf(){var i=ga.current;return i!==null?i:it.pooledCache}function qc(i,s){s===null?he(ga,ga.current):he(ga,s.pool)}function Iv(){var i=Kf();return i===null?null:{parent:Dt._currentValue,pool:i}}var go=Error(r(460)),Qf=Error(r(474)),Hc=Error(r(542)),Gc={then:function(){}};function Nv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ov(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(gi,gi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Mv(i),i;default:if(typeof s.status=="string")s.then(gi,gi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Mv(i),i}throw va=s,go}}function ya(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(va=o,go):o}}var va=null;function Dv(){if(va===null)throw Error(r(459));var i=va;return va=null,i}function Mv(i){if(i===go||i===Hc)throw Error(r(483))}var yo=null,Bl=0;function $c(i){var s=Bl;return Bl+=1,yo===null&&(yo=[]),Ov(yo,i,s)}function Fl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Yc(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function kv(i){function s(G,H){if(i){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function o(G,H){if(!i)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function m(G,H){return G=hr(G,H),G.index=0,G.sibling=null,G}function g(G,H,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function w(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,H,K,se){return H===null||H.tag!==6?(H=Lf(K,G.mode,se),H.return=G,H):(H=m(H,K),H.return=G,H)}function V(G,H,K,se){var we=K.type;return we===k?re(G,H,K.props.children,se,K.key):H!==null&&(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===E&&ya(we)===H.type)?(H=m(H,K.props),Fl(H,K),H.return=G,H):(H=Uc(K.type,K.key,K.props,null,G.mode,se),Fl(H,K),H.return=G,H)}function Q(G,H,K,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Vf(K,G.mode,se),H.return=G,H):(H=m(H,K.children||[]),H.return=G,H)}function re(G,H,K,se,we){return H===null||H.tag!==7?(H=ha(K,G.mode,se,we),H.return=G,H):(H=m(H,K),H.return=G,H)}function oe(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Lf(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return K=Uc(H.type,H.key,H.props,null,G.mode,K),Fl(K,H),K.return=G,K;case M:return H=Vf(H,G.mode,K),H.return=G,H;case E:return H=ya(H),oe(G,H,K)}if(ce(H)||L(H))return H=ha(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return oe(G,$c(H),K);if(H.$$typeof===z)return oe(G,Fc(G,H),K);Yc(G,H)}return null}function X(G,H,K,se){var we=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:A(G,H,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===we?V(G,H,K,se):null;case M:return K.key===we?Q(G,H,K,se):null;case E:return K=ya(K),X(G,H,K,se)}if(ce(K)||L(K))return we!==null?null:re(G,H,K,se,null);if(typeof K.then=="function")return X(G,H,$c(K),se);if(K.$$typeof===z)return X(G,H,Fc(G,K),se);Yc(G,K)}return null}function Z(G,H,K,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,A(H,G,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?K:se.key)||null,V(H,G,se,we);case M:return G=G.get(se.key===null?K:se.key)||null,Q(H,G,se,we);case E:return se=ya(se),Z(G,H,K,se,we)}if(ce(se)||L(se))return G=G.get(K)||null,re(H,G,se,we,null);if(typeof se.then=="function")return Z(G,H,K,$c(se),we);if(se.$$typeof===z)return Z(G,H,K,Fc(H,se),we);Yc(H,se)}return null}function ve(G,H,K,se){for(var we=null,He=null,_e=H,Me=H=0,Le=null;_e!==null&&Me<K.length;Me++){_e.index>Me?(Le=_e,_e=null):Le=_e.sibling;var Ge=X(G,_e,K[Me],se);if(Ge===null){_e===null&&(_e=Le);break}i&&_e&&Ge.alternate===null&&s(G,_e),H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge,_e=Le}if(Me===K.length)return o(G,_e),Be&&fr(G,Me),we;if(_e===null){for(;Me<K.length;Me++)_e=oe(G,K[Me],se),_e!==null&&(H=g(_e,H,Me),He===null?we=_e:He.sibling=_e,He=_e);return Be&&fr(G,Me),we}for(_e=u(_e);Me<K.length;Me++)Le=Z(_e,G,Me,K[Me],se),Le!==null&&(i&&Le.alternate!==null&&_e.delete(Le.key===null?Me:Le.key),H=g(Le,H,Me),He===null?we=Le:He.sibling=Le,He=Le);return i&&_e.forEach(function(ws){return s(G,ws)}),Be&&fr(G,Me),we}function Ee(G,H,K,se){if(K==null)throw Error(r(151));for(var we=null,He=null,_e=H,Me=H=0,Le=null,Ge=K.next();_e!==null&&!Ge.done;Me++,Ge=K.next()){_e.index>Me?(Le=_e,_e=null):Le=_e.sibling;var ws=X(G,_e,Ge.value,se);if(ws===null){_e===null&&(_e=Le);break}i&&_e&&ws.alternate===null&&s(G,_e),H=g(ws,H,Me),He===null?we=ws:He.sibling=ws,He=ws,_e=Le}if(Ge.done)return o(G,_e),Be&&fr(G,Me),we;if(_e===null){for(;!Ge.done;Me++,Ge=K.next())Ge=oe(G,Ge.value,se),Ge!==null&&(H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge);return Be&&fr(G,Me),we}for(_e=u(_e);!Ge.done;Me++,Ge=K.next())Ge=Z(_e,G,Me,Ge.value,se),Ge!==null&&(i&&Ge.alternate!==null&&_e.delete(Ge.key===null?Me:Ge.key),H=g(Ge,H,Me),He===null?we=Ge:He.sibling=Ge,He=Ge);return i&&_e.forEach(function(CC){return s(G,CC)}),Be&&fr(G,Me),we}function nt(G,H,K,se){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var we=K.key;H!==null;){if(H.key===we){if(we=K.type,we===k){if(H.tag===7){o(G,H.sibling),se=m(H,K.props.children),se.return=G,G=se;break e}}else if(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===E&&ya(we)===H.type){o(G,H.sibling),se=m(H,K.props),Fl(se,K),se.return=G,G=se;break e}o(G,H);break}else s(G,H);H=H.sibling}K.type===k?(se=ha(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=Uc(K.type,K.key,K.props,null,G.mode,se),Fl(se,K),se.return=G,G=se)}return w(G);case M:e:{for(we=K.key;H!==null;){if(H.key===we)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){o(G,H.sibling),se=m(H,K.children||[]),se.return=G,G=se;break e}else{o(G,H);break}else s(G,H);H=H.sibling}se=Vf(K,G.mode,se),se.return=G,G=se}return w(G);case E:return K=ya(K),nt(G,H,K,se)}if(ce(K))return ve(G,H,K,se);if(L(K)){if(we=L(K),typeof we!="function")throw Error(r(150));return K=we.call(K),Ee(G,H,K,se)}if(typeof K.then=="function")return nt(G,H,$c(K),se);if(K.$$typeof===z)return nt(G,H,Fc(G,K),se);Yc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(o(G,H.sibling),se=m(H,K),se.return=G,G=se):(o(G,H),se=Lf(K,G.mode,se),se.return=G,G=se),w(G)):o(G,H)}return function(G,H,K,se){try{Bl=0;var we=nt(G,H,K,se);return yo=null,we}catch(_e){if(_e===go||_e===Hc)throw _e;var He=kn(29,_e,null,G.mode);return He.lanes=se,He.return=G,He}finally{}}}var _a=kv(!0),Pv=kv(!1),rs=!1;function Xf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function as(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Vc(i),vv(i,null,o),s}return Lc(i,u,s,o),Vc(i)}function ql(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,gl(i,o)}}function Jf(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Zf=!1;function Hl(){if(Zf){var i=po;if(i!==null)throw i}}function Gl(i,s,o,u){Zf=!1;var m=i.updateQueue;rs=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,Q=V.next;V.next=null,w===null?g=Q:w.next=Q,w=V;var re=i.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==w&&(A===null?re.firstBaseUpdate=Q:A.next=Q,re.lastBaseUpdate=V))}if(g!==null){var oe=m.baseState;w=0,re=Q=V=null,A=g;do{var X=A.lane&-536870913,Z=X!==A.lane;if(Z?(je&X)===X:(u&X)===X){X!==0&&X===mo&&(Zf=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=i,Ee=A;X=s;var nt=o;switch(Ee.tag){case 1:if(ve=Ee.payload,typeof ve=="function"){oe=ve.call(nt,oe,X);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ee.payload,X=typeof ve=="function"?ve.call(nt,oe,X):ve,X==null)break e;oe=b({},oe,X);break e;case 2:rs=!0}}X=A.callback,X!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(Q=re=Z,V=oe):re=re.next=Z,w|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);re===null&&(V=oe),m.baseState=V,m.firstBaseUpdate=Q,m.lastBaseUpdate=re,g===null&&(m.shared.lanes=0),ds|=w,i.lanes=w,i.memoizedState=oe}}function jv(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Lv(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)jv(o[i],s)}var vo=j(null),Kc=j(0);function Vv(i,s){i=Sr,he(Kc,i),he(vo,s),Sr=i|s.baseLanes}function em(){he(Kc,Sr),he(vo,vo.current)}function tm(){Sr=Kc.current,ee(vo),ee(Kc)}var Pn=j(null),ti=null;function os(i){var s=i.alternate;he(St,St.current&1),he(Pn,i),ti===null&&(s===null||vo.current!==null||s.memoizedState!==null)&&(ti=i)}function nm(i){he(St,St.current),he(Pn,i),ti===null&&(ti=i)}function Uv(i){i.tag===22?(he(St,St.current),he(Pn,i),ti===null&&(ti=i)):ls()}function ls(){he(St,St.current),he(Pn,Pn.current)}function jn(i){ee(Pn),ti===i&&(ti=null),ee(St)}var St=j(0);function Qc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||lp(o)||up(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gr=0,De=null,et=null,Mt=null,Xc=!1,_o=!1,ba=!1,Wc=0,$l=0,bo=null,yA=0;function _t(){throw Error(r(321))}function im(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Mn(i[o],s[o]))return!1;return!0}function rm(i,s,o,u,m,g){return gr=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?T_:_m,ba=!1,g=o(u,m),ba=!1,_o&&(g=Bv(s,o,u,m)),zv(i),g}function zv(i){q.H=Ql;var s=et!==null&&et.next!==null;if(gr=0,Mt=et=De=null,Xc=!1,$l=0,bo=null,s)throw Error(r(300));i===null||kt||(i=i.dependencies,i!==null&&Bc(i)&&(kt=!0))}function Bv(i,s,o,u){De=i;var m=0;do{if(_o&&(bo=null),$l=0,_o=!1,25<=m)throw Error(r(301));if(m+=1,Mt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=E_,g=s(o,u)}while(_o);return g}function vA(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?Yl(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(De.flags|=1024),s}function sm(){var i=Wc!==0;return Wc=0,i}function am(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function om(i){if(Xc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xc=!1}gr=0,Mt=et=De=null,_o=!1,$l=Wc=0,bo=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?De.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function xt(){if(et===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=Mt===null?De.memoizedState:Mt.next;if(s!==null)Mt=s,et=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Mt===null?De.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(i){var s=$l;return $l+=1,bo===null&&(bo=[]),i=Ov(bo,i,s),s=De,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?T_:_m),i}function Zc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yl(i);if(i.$$typeof===z)return Xt(i)}throw Error(r(438,String(i)))}function lm(i){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Jc(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=I;return s.index++,o}function yr(i,s){return typeof s=="function"?s(i):s}function ed(i){var s=xt();return um(s,et,i)}function um(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}s.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var A=w=null,V=null,Q=s,re=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(je&oe)===oe:(gr&oe)===oe){var X=Q.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===mo&&(re=!0);else if((gr&X)===X){Q=Q.next,X===mo&&(re=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=oe,w=g):V=V.next=oe,De.lanes|=X,ds|=X;oe=Q.action,ba&&o(g,oe),g=Q.hasEagerState?Q.eagerState:o(g,oe)}else X={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(A=V=X,w=g):V=V.next=X,De.lanes|=oe,ds|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?w=g:V.next=A,!Mn(g,i.memoizedState)&&(kt=!0,re&&(o=po,o!==null)))throw o;i.memoizedState=g,i.baseState=w,i.baseQueue=V,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function cm(i){var s=xt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=i(g,w.action),w=w.next;while(w!==m);Mn(g,s.memoizedState)||(kt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Fv(i,s,o){var u=De,m=xt(),g=Be;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var w=!Mn((et||m).memoizedState,o);if(w&&(m.memoizedState=o,kt=!0),m=m.queue,fm(Gv.bind(null,u,m,i),[i]),m.getSnapshot!==s||w||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,wo(9,{destroy:void 0},Hv.bind(null,u,m,o,s),null),it===null)throw Error(r(349));g||(gr&127)!==0||qv(u,s,o)}return o}function qv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=Jc(),De.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Hv(i,s,o,u){s.value=o,s.getSnapshot=u,$v(s)&&Yv(i)}function Gv(i,s,o){return o(function(){$v(s)&&Yv(i)})}function $v(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Mn(i,o)}catch{return!0}}function Yv(i){var s=da(i,2);s!==null&&Sn(s,i,2)}function dm(i){var s=fn();if(typeof i=="function"){var o=i;if(i=o(),ba){Gn(!0);try{o()}finally{Gn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:i},s}function Kv(i,s,o,u){return i.baseState=o,um(i,et,typeof u=="function"?u:yr)}function _A(i,s,o,u,m){if(id(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};q.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Qv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Qv(i,s){var o=s.action,u=s.payload,m=i.state;if(s.isTransition){var g=q.T,w={};q.T=w;try{var A=o(m,u),V=q.S;V!==null&&V(w,A),Xv(i,s,A)}catch(Q){hm(i,s,Q)}finally{g!==null&&w.types!==null&&(g.types=w.types),q.T=g}}else try{g=o(m,u),Xv(i,s,g)}catch(Q){hm(i,s,Q)}}function Xv(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Wv(i,s,u)},function(u){return hm(i,s,u)}):Wv(i,s,o)}function Wv(i,s,o){s.status="fulfilled",s.value=o,Jv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Qv(i,o)))}function hm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Jv(s),s=s.next;while(s!==u)}i.action=null}function Jv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Zv(i,s){return s}function e_(i,s){if(Be){var o=it.formState;if(o!==null){e:{var u=De;if(Be){if(ot){t:{for(var m=ot,g=ei;m.nodeType!==8;){if(!g){m=null;break t}if(m=ni(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ot=ni(m.nextSibling),u=m.data==="F!";break e}}ns(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zv,lastRenderedState:s},o.queue=u,o=__.bind(null,De,u),u.dispatch=o,u=dm(!1),g=vm.bind(null,De,!1,u.queue),u=fn(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,o=_A.bind(null,De,m,g,o),m.dispatch=o,u.memoizedState=i,[s,o,!1]}function t_(i){var s=xt();return n_(s,et,i)}function n_(i,s,o){if(s=um(i,s,Zv)[0],i=ed(yr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Yl(s)}catch(w){throw w===go?Hc:w}else u=s;s=xt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(De.flags|=2048,wo(9,{destroy:void 0},bA.bind(null,m,o),null)),[u,g,i]}function bA(i,s){i.action=s}function i_(i){var s=xt(),o=et;if(o!==null)return n_(s,o,i);xt(),s=s.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function wo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=Jc(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function r_(){return xt().memoizedState}function td(i,s,o,u){var m=fn();De.flags|=i,m.memoizedState=wo(1|s,{destroy:void 0},o,u===void 0?null:u)}function nd(i,s,o,u){var m=xt();u=u===void 0?null:u;var g=m.memoizedState.inst;et!==null&&u!==null&&im(u,et.memoizedState.deps)?m.memoizedState=wo(s,g,o,u):(De.flags|=i,m.memoizedState=wo(1|s,g,o,u))}function s_(i,s){td(8390656,8,i,s)}function fm(i,s){nd(2048,8,i,s)}function wA(i){De.flags|=4;var s=De.updateQueue;if(s===null)s=Jc(),De.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function a_(i){var s=xt().memoizedState;return wA({ref:s,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function o_(i,s){return nd(4,2,i,s)}function l_(i,s){return nd(4,4,i,s)}function u_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function c_(i,s,o){o=o!=null?o.concat([i]):null,nd(4,4,u_.bind(null,s,i),o)}function mm(){}function d_(i,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&im(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function h_(i,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&im(s,u[1]))return u[0];if(u=i(),ba){Gn(!0);try{i()}finally{Gn(!1)}}return o.memoizedState=[u,s],u}function pm(i,s,o){return o===void 0||(gr&1073741824)!==0&&(je&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=f0(),De.lanes|=i,ds|=i,o)}function f_(i,s,o,u){return Mn(o,s)?o:vo.current!==null?(i=pm(i,o,u),Mn(i,s)||(kt=!0),i):(gr&42)===0||(gr&1073741824)!==0&&(je&261930)===0?(kt=!0,i.memoizedState=o):(i=f0(),De.lanes|=i,ds|=i,s)}function m_(i,s,o,u,m){var g=J.p;J.p=g!==0&&8>g?g:8;var w=q.T,A={};q.T=A,vm(i,!1,s,o);try{var V=m(),Q=q.S;if(Q!==null&&Q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=gA(V,u);Kl(i,s,re,Un(i))}else Kl(i,s,u,Un(i))}catch(oe){Kl(i,s,{then:function(){},status:"rejected",reason:oe},Un())}finally{J.p=g,w!==null&&A.types!==null&&(w.types=A.types),q.T=w}}function TA(){}function gm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var m=p_(i).queue;m_(i,m,s,$,o===null?TA:function(){return g_(i),o(u)})}function p_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:$},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function g_(i){var s=p_(i);s.next===null&&(s=i.alternate.memoizedState),Kl(i,s.next.queue,{},Un())}function ym(){return Xt(du)}function y_(){return xt().memoizedState}function v_(){return xt().memoizedState}function EA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Un();i=ss(o);var u=as(s,i,o);u!==null&&(Sn(u,s,o),ql(u,s,o)),s={cache:$f()},i.payload=s;return}s=s.return}}function SA(i,s,o){var u=Un();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},id(i)?b_(s,o):(o=Pf(i,s,o,u),o!==null&&(Sn(o,i,u),w_(o,s,u)))}function __(i,s,o){var u=Un();Kl(i,s,o,u)}function Kl(i,s,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(id(i))b_(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,o);if(m.hasEagerState=!0,m.eagerState=A,Mn(A,w))return Lc(i,s,m,0),it===null&&jc(),!1}catch{}finally{}if(o=Pf(i,s,m,u),o!==null)return Sn(o,i,u),w_(o,s,u),!0}return!1}function vm(i,s,o,u){if(u={lane:2,revertLane:Xm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},id(i)){if(s)throw Error(r(479))}else s=Pf(i,o,u,2),s!==null&&Sn(s,i,2)}function id(i){var s=i.alternate;return i===De||s!==null&&s===De}function b_(i,s){_o=Xc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function w_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,gl(i,o)}}var Ql={readContext:Xt,use:Zc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ql.useEffectEvent=_t;var T_={readContext:Xt,use:Zc,useCallback:function(i,s){return fn().memoizedState=[i,s===void 0?null:s],i},useContext:Xt,useEffect:s_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,td(4194308,4,u_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return td(4194308,4,i,s)},useInsertionEffect:function(i,s){td(4,2,i,s)},useMemo:function(i,s){var o=fn();s=s===void 0?null:s;var u=i();if(ba){Gn(!0);try{i()}finally{Gn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=fn();if(o!==void 0){var m=o(s);if(ba){Gn(!0);try{o(s)}finally{Gn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=SA.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var s=fn();return i={current:i},s.memoizedState=i},useState:function(i){i=dm(i);var s=i.queue,o=__.bind(null,De,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:mm,useDeferredValue:function(i,s){var o=fn();return pm(o,i,s)},useTransition:function(){var i=dm(!1);return i=m_.bind(null,De,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=De,m=fn();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(je&127)!==0||qv(u,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,s_(Gv.bind(null,u,g,i),[i]),u.flags|=2048,wo(9,{destroy:void 0},Hv.bind(null,u,g,o,s),null),o},useId:function(){var i=fn(),s=it.identifierPrefix;if(Be){var o=Ki,u=Yi;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Wc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=yA++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:ym,useFormState:e_,useActionState:e_,useOptimistic:function(i){var s=fn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=vm.bind(null,De,!0,o),o.dispatch=s,[i,s]},useMemoCache:lm,useCacheRefresh:function(){return fn().memoizedState=EA.bind(null,De)},useEffectEvent:function(i){var s=fn(),o={impl:i};return s.memoizedState=o,function(){if((Ye&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},_m={readContext:Xt,use:Zc,useCallback:d_,useContext:Xt,useEffect:fm,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:h_,useReducer:ed,useRef:r_,useState:function(){return ed(yr)},useDebugValue:mm,useDeferredValue:function(i,s){var o=xt();return f_(o,et.memoizedState,i,s)},useTransition:function(){var i=ed(yr)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:Yl(i),s]},useSyncExternalStore:Fv,useId:y_,useHostTransitionStatus:ym,useFormState:t_,useActionState:t_,useOptimistic:function(i,s){var o=xt();return Kv(o,et,i,s)},useMemoCache:lm,useCacheRefresh:v_};_m.useEffectEvent=a_;var E_={readContext:Xt,use:Zc,useCallback:d_,useContext:Xt,useEffect:fm,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:h_,useReducer:cm,useRef:r_,useState:function(){return cm(yr)},useDebugValue:mm,useDeferredValue:function(i,s){var o=xt();return et===null?pm(o,i,s):f_(o,et.memoizedState,i,s)},useTransition:function(){var i=cm(yr)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:Yl(i),s]},useSyncExternalStore:Fv,useId:y_,useHostTransitionStatus:ym,useFormState:i_,useActionState:i_,useOptimistic:function(i,s){var o=xt();return et!==null?Kv(o,et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:lm,useCacheRefresh:v_};E_.useEffectEvent=a_;function bm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var wm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Un(),m=ss(u);m.payload=s,o!=null&&(m.callback=o),s=as(i,m,u),s!==null&&(Sn(s,i,u),ql(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Un(),m=ss(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=as(i,m,u),s!==null&&(Sn(s,i,u),ql(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Un(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(i,u,o),s!==null&&(Sn(s,i,o),ql(s,i,o))}};function S_(i,s,o,u,m,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,w):s.prototype&&s.prototype.isPureReactComponent?!Pl(o,u)||!Pl(m,g):!0}function x_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&wm.enqueueReplaceState(s,s.state,null)}function wa(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=b({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function A_(i){Pc(i)}function C_(i){console.error(i)}function R_(i){Pc(i)}function rd(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function I_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Tm(i,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){rd(i,s)},o}function N_(i){return i=ss(i),i.tag=3,i}function O_(i,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){I_(s,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){I_(s,o,u),typeof m!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function xA(i,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fo(s,o,m,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return ti===null?gd():o.alternate===null&&bt===0&&(bt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===Gc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Ym(i,u,m)),!1;case 22:return o.flags|=65536,u===Gc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Ym(i,u,m)),!1}throw Error(r(435,o.tag))}return Ym(i,u,m),gd(),!1}if(Be)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Bf&&(i=Error(r(422),{cause:u}),Vl(Wn(i,o)))):(u!==Bf&&(s=Error(r(423),{cause:u}),Vl(Wn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=Wn(u,o),m=Tm(i.stateNode,u,m),Jf(i,m),bt!==4&&(bt=2)),!1;var g=Error(r(520),{cause:u});if(g=Wn(g,o),iu===null?iu=[g]:iu.push(g),bt!==4&&(bt=2),s===null)return!0;u=Wn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Tm(o.stateNode,u,i),Jf(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hs===null||!hs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=N_(m),O_(m,i,o,u),Jf(o,m),!1}o=o.return}while(o!==null);return!1}var Em=Error(r(461)),kt=!1;function Wt(i,s,o,u){s.child=i===null?Pv(s,null,o,u):_a(s,i.child,o,u)}function D_(i,s,o,u,m){o=o.render;var g=s.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return pa(s),u=rm(i,s,o,w,g,m),A=sm(),i!==null&&!kt?(am(i,s,m),vr(i,s,m)):(Be&&A&&Uf(s),s.flags|=1,Wt(i,s,u,m),s.child)}function M_(i,s,o,u,m){if(i===null){var g=o.type;return typeof g=="function"&&!jf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,k_(i,s,g,u,m)):(i=Uc(o.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Om(i,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:Pl,o(w,u)&&i.ref===s.ref)return vr(i,s,m)}return s.flags|=1,i=hr(g,u),i.ref=s.ref,i.return=s,s.child=i}function k_(i,s,o,u,m){if(i!==null){var g=i.memoizedProps;if(Pl(g,u)&&i.ref===s.ref)if(kt=!1,s.pendingProps=u=g,Om(i,m))(i.flags&131072)!==0&&(kt=!0);else return s.lanes=i.lanes,vr(i,s,m)}return Sm(i,s,o,u,m)}function P_(i,s,o,u){var m=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=s.child=i.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~g}else u=0,s.child=null;return j_(i,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&qc(s,g!==null?g.cachePool:null),g!==null?Vv(s,g):em(),Uv(s);else return u=s.lanes=536870912,j_(i,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(qc(s,g.cachePool),Vv(s,g),ls(),s.memoizedState=null):(i!==null&&qc(s,null),em(),ls());return Wt(i,s,m,o),s.child}function Xl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function j_(i,s,o,u,m){var g=Kf();return g=g===null?null:{parent:Dt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&qc(s,null),em(),Uv(s),i!==null&&fo(i,s,u,!0),s.childLanes=m,null}function sd(i,s){return s=od({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function L_(i,s,o){return _a(s,i.child,null,o),i=sd(s,s.pendingProps),i.flags|=2,jn(s),s.memoizedState=null,i}function AA(i,s,o){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Be){if(u.mode==="hidden")return i=sd(s,u),s.lanes=536870912,Xl(null,i);if(nm(s),(i=ot)?(i=Q0(i,ei),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:es!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=bv(i),o.return=s,s.child=o,Qt=s,ot=null)):i=null,i===null)throw ns(s);return s.lanes=536870912,null}return sd(s,u)}var g=i.memoizedState;if(g!==null){var w=g.dehydrated;if(nm(s),m)if(s.flags&256)s.flags&=-257,s=L_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(kt||fo(i,s,o,!1),m=(o&i.childLanes)!==0,kt||m){if(u=it,u!==null&&(w=yl(u,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,da(i,w),Sn(u,i,w),Em;gd(),s=L_(i,s,o)}else i=g.treeContext,ot=ni(w.nextSibling),Qt=s,Be=!0,ts=null,ei=!1,i!==null&&Ev(s,i),s=sd(s,u),s.flags|=4096;return s}return i=hr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function ad(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Sm(i,s,o,u,m){return pa(s),o=rm(i,s,o,u,void 0,m),u=sm(),i!==null&&!kt?(am(i,s,m),vr(i,s,m)):(Be&&u&&Uf(s),s.flags|=1,Wt(i,s,o,m),s.child)}function V_(i,s,o,u,m,g){return pa(s),s.updateQueue=null,o=Bv(s,u,o,m),zv(i),u=sm(),i!==null&&!kt?(am(i,s,g),vr(i,s,g)):(Be&&u&&Uf(s),s.flags|=1,Wt(i,s,o,g),s.child)}function U_(i,s,o,u,m){if(pa(s),s.stateNode===null){var g=lo,w=o.contextType;typeof w=="object"&&w!==null&&(g=Xt(w)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Xf(s),w=o.contextType,g.context=typeof w=="object"&&w!==null?Xt(w):lo,g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(bm(s,o,w,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&wm.enqueueReplaceState(g,g.state,null),Gl(s,u,g,m),Hl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,V=wa(o,A);g.props=V;var Q=g.context,re=o.contextType;w=lo,typeof re=="object"&&re!==null&&(w=Xt(re));var oe=o.getDerivedStateFromProps;re=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Q!==w)&&x_(s,g,u,w),rs=!1;var X=s.memoizedState;g.state=X,Gl(s,u,g,m),Hl(),Q=s.memoizedState,A||X!==Q||rs?(typeof oe=="function"&&(bm(s,o,oe,u),Q=s.memoizedState),(V=rs||S_(s,o,V,u,X,Q,w))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=w,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Wf(i,s),w=s.memoizedProps,re=wa(o,w),g.props=re,oe=s.pendingProps,X=g.context,Q=o.contextType,V=lo,typeof Q=="object"&&Q!==null&&(V=Xt(Q)),A=o.getDerivedStateFromProps,(Q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==oe||X!==V)&&x_(s,g,u,V),rs=!1,X=s.memoizedState,g.state=X,Gl(s,u,g,m),Hl();var Z=s.memoizedState;w!==oe||X!==Z||rs||i!==null&&i.dependencies!==null&&Bc(i.dependencies)?(typeof A=="function"&&(bm(s,o,A,u),Z=s.memoizedState),(re=rs||S_(s,o,re,u,X,Z,V)||i!==null&&i.dependencies!==null&&Bc(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=V,u=re):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,ad(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=_a(s,i.child,null,m),s.child=_a(s,null,o,m)):Wt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=vr(i,s,m),i}function z_(i,s,o,u){return fa(),s.flags|=256,Wt(i,s,o,u),s.child}var xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(i){return{baseLanes:i,cachePool:Iv()}}function Cm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Vn),i}function B_(i,s,o){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(St.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Be){if(m?os(s):ls(),(i=ot)?(i=Q0(i,ei),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:es!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},o=bv(i),o.return=s,s.child=o,Qt=s,ot=null)):i=null,i===null)throw ns(s);return up(i)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(ls(),m=s.mode,A=od({mode:"hidden",children:A},m),u=ha(u,m,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=Am(o),u.childLanes=Cm(i,w,o),s.memoizedState=xm,Xl(null,u)):(os(s),Rm(s,A))}var V=i.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(g)s.flags&256?(os(s),s.flags&=-257,s=Im(i,s,o)):s.memoizedState!==null?(ls(),s.child=i.child,s.flags|=128,s=null):(ls(),A=u.fallback,m=s.mode,u=od({mode:"visible",children:u.children},m),A=ha(A,m,o,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,_a(s,i.child,null,o),u=s.child,u.memoizedState=Am(o),u.childLanes=Cm(i,w,o),s.memoizedState=xm,s=Xl(null,u));else if(os(s),up(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var Q=w.dgst;w=Q,u=Error(r(419)),u.stack="",u.digest=w,Vl({value:u,source:null,stack:null}),s=Im(i,s,o)}else if(kt||fo(i,s,o,!1),w=(o&i.childLanes)!==0,kt||w){if(w=it,w!==null&&(u=yl(w,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,da(i,u),Sn(w,i,u),Em;lp(A)||gd(),s=Im(i,s,o)}else lp(A)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,ot=ni(A.nextSibling),Qt=s,Be=!0,ts=null,ei=!1,i!==null&&Ev(s,i),s=Rm(s,u.children),s.flags|=4096);return s}return m?(ls(),A=u.fallback,m=s.mode,V=i.child,Q=V.sibling,u=hr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Q!==null?A=hr(Q,A):(A=ha(A,m,o,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,Xl(null,u),u=s.child,A=i.child.memoizedState,A===null?A=Am(o):(m=A.cachePool,m!==null?(V=Dt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=Iv(),A={baseLanes:A.baseLanes|o,cachePool:m}),u.memoizedState=A,u.childLanes=Cm(i,w,o),s.memoizedState=xm,Xl(i.child,u)):(os(s),o=i.child,i=o.sibling,o=hr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=o,s.memoizedState=null,o)}function Rm(i,s){return s=od({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function od(i,s){return i=kn(22,i,null,s),i.lanes=0,i}function Im(i,s,o){return _a(s,i.child,null,o),i=Rm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function F_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Hf(i.return,s,o)}function Nm(i,s,o,u,m,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:g}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=m,w.treeForkCount=g)}function q_(i,s,o){var u=s.pendingProps,m=u.revealOrder,g=u.tail;u=u.children;var w=St.current,A=(w&2)!==0;if(A?(w=w&1|2,s.flags|=128):w&=1,he(St,w),Wt(i,s,u,o),u=Be?Ll:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&F_(i,o,s);else if(i.tag===19)F_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Qc(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Nm(s,!1,m,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Qc(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Nm(s,!0,o,null,g,u);break;case"together":Nm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function vr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ds|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(fo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=hr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=hr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Om(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bc(i)))}function CA(i,s,o){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),is(s,Dt,i.memoizedState.cache),fa();break;case 27:case 5:vt(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,nm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?B_(i,s,o):(os(s),i=vr(i,s,o),i!==null?i.sibling:null);os(s);break;case 19:var m=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fo(i,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return q_(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(St,St.current),u)break;return null;case 22:return s.lanes=0,P_(i,s,o,s.pendingProps);case 24:is(s,Dt,i.memoizedState.cache)}return vr(i,s,o)}function H_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)kt=!0;else{if(!Om(i,o)&&(s.flags&128)===0)return kt=!1,CA(i,s,o);kt=(i.flags&131072)!==0}else kt=!1,Be&&(s.flags&1048576)!==0&&Tv(s,Ll,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=ya(s.elementType),s.type=i,typeof i=="function")jf(i)?(u=wa(i,u),s.tag=1,s=U_(null,s,i,u,o)):(s.tag=0,s=Sm(null,s,i,u,o));else{if(i!=null){var m=i.$$typeof;if(m===te){s.tag=11,s=D_(null,s,i,u,o);break e}else if(m===O){s.tag=14,s=M_(null,s,i,u,o);break e}}throw s=de(i)||i,Error(r(306,s,""))}}return s;case 0:return Sm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=wa(u,s.pendingProps),U_(i,s,u,m,o);case 3:e:{if(at(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;m=g.element,Wf(i,s),Gl(s,u,null,o);var w=s.memoizedState;if(u=w.cache,is(s,Dt,u),u!==g.cache&&Gf(s,[Dt],o,!0),Hl(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=z_(i,s,u,o);break e}else if(u!==m){m=Wn(Error(r(424)),s),Vl(m),s=z_(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=ni(i.firstChild),Qt=s,Be=!0,ts=null,ei=!0,o=Pv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fa(),u===m){s=vr(i,s,o);break e}Wt(i,s,u,o)}s=s.child}return s;case 26:return ad(i,s),i===null?(o=tb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Be||(o=s.type,i=s.pendingProps,u=Ed(Ae.current).createElement(o),u[It]=s,u[qt]=i,Jt(u,o,i),Nt(u),s.stateNode=u):s.memoizedState=tb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return vt(s),i===null&&Be&&(u=s.stateNode=J0(s.type,s.pendingProps,Ae.current),Qt=s,ei=!0,m=ot,gs(s.type)?(cp=m,ot=ni(u.firstChild)):ot=m),Wt(i,s,s.pendingProps.children,o),ad(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Be&&((m=u=ot)&&(u=iC(u,s.type,s.pendingProps,ei),u!==null?(s.stateNode=u,Qt=s,ot=ni(u.firstChild),ei=!1,m=!0):m=!1),m||ns(s)),vt(s),m=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,u=g.children,sp(m,g)?u=null:w!==null&&sp(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=rm(i,s,vA,null,null,o),du._currentValue=m),ad(i,s),Wt(i,s,u,o),s.child;case 6:return i===null&&Be&&((i=o=ot)&&(o=rC(o,s.pendingProps,ei),o!==null?(s.stateNode=o,Qt=s,ot=null,i=!0):i=!1),i||ns(s)),null;case 13:return B_(i,s,o);case 4:return at(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=_a(s,null,u,o):Wt(i,s,u,o),s.child;case 11:return D_(i,s,s.type,s.pendingProps,o);case 7:return Wt(i,s,s.pendingProps,o),s.child;case 8:return Wt(i,s,s.pendingProps.children,o),s.child;case 12:return Wt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,is(s,s.type,u.value),Wt(i,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,pa(s),m=Xt(m),u=u(m),s.flags|=1,Wt(i,s,u,o),s.child;case 14:return M_(i,s,s.type,s.pendingProps,o);case 15:return k_(i,s,s.type,s.pendingProps,o);case 19:return q_(i,s,o);case 31:return AA(i,s,o);case 22:return P_(i,s,o,s.pendingProps);case 24:return pa(s),u=Xt(Dt),i===null?(m=Kf(),m===null&&(m=it,g=$f(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:u,cache:m},Xf(s),is(s,Dt,m)):((i.lanes&o)!==0&&(Wf(i,s),Gl(s,null,null,o),Hl()),m=i.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),is(s,Dt,u)):(u=g.cache,is(s,Dt,u),u!==m.cache&&Gf(s,[Dt],o,!0))),Wt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function _r(i){i.flags|=4}function Dm(i,s,o,u,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(y0())i.flags|=8192;else throw va=Gc,Qf}else i.flags&=-16777217}function G_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ab(s))if(y0())i.flags|=8192;else throw va=Gc,Qf}function ld(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?mc():536870912,i.lanes|=s,xo|=s)}function Wl(i,s){if(!Be)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function lt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function RA(i,s,o){var u=s.pendingProps;switch(zf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),pr(Dt),qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ho(s)?_r(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ff())),lt(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(_r(s),g!==null?(lt(s),G_(s,g)):(lt(s),Dm(s,m,null,u,o))):g?g!==i.memoizedState?(_r(s),lt(s),G_(s,g)):(lt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&_r(s),lt(s),Dm(s,m,i,u,o)),null;case 27:if(cn(s),o=Ae.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return lt(s),null}i=me.current,ho(s)?Sv(s):(i=J0(m,u,o),s.stateNode=i,_r(s))}return lt(s),null;case 5:if(cn(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(g=me.current,ho(s))Sv(s);else{var w=Ed(Ae.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}g[It]=s,g[qt]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=g;e:switch(Jt(g,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_r(s)}}return lt(s),Dm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&_r(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ae.current,ho(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[It]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||B0(i.nodeValue,o)),i||ns(s,!0)}else i=Ed(i).createTextNode(u),i[It]=s,s.stateNode=i}return lt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=ho(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[It]=s}else fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),i=!1}else o=Ff(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(jn(s),s):(jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return lt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=ho(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[It]=s}else fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),m=!1}else m=Ff(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(jn(s),s):(jn(s),null)}return jn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),ld(s,s.updateQueue),lt(s),null);case 4:return qe(),i===null&&ep(s.stateNode.containerInfo),lt(s),null;case 10:return pr(s.type),lt(s),null;case 19:if(ee(St),u=s.memoizedState,u===null)return lt(s),null;if(m=(s.flags&128)!==0,g=u.rendering,g===null)if(m)Wl(u,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Qc(i),g!==null){for(s.flags|=128,Wl(u,!1),i=g.updateQueue,s.updateQueue=i,ld(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)_v(o,i),o=o.sibling;return he(St,St.current&1|2),Be&&fr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&dn()>fd&&(s.flags|=128,m=!0,Wl(u,!1),s.lanes=4194304)}else{if(!m)if(i=Qc(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,ld(s,i),Wl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Be)return lt(s),null}else 2*dn()-u.renderingStartTime>fd&&o!==536870912&&(s.flags|=128,m=!0,Wl(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=dn(),i.sibling=null,o=St.current,he(St,m?o&1|2:o&1),Be&&fr(s,u.treeForkCount),i):(lt(s),null);case 22:case 23:return jn(s),tm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),o=s.updateQueue,o!==null&&ld(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ee(ga),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),pr(Dt),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function IA(i,s){switch(zf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return pr(Dt),qe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return cn(s),null;case 31:if(s.memoizedState!==null){if(jn(s),s.alternate===null)throw Error(r(340));fa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(jn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));fa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ee(St),null;case 4:return qe(),null;case 10:return pr(s.type),null;case 22:case 23:return jn(s),tm(),i!==null&&ee(ga),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return pr(Dt),null;case 25:return null;default:return null}}function $_(i,s){switch(zf(s),s.tag){case 3:pr(Dt),qe();break;case 26:case 27:case 5:cn(s);break;case 4:qe();break;case 31:s.memoizedState!==null&&jn(s);break;case 13:jn(s);break;case 19:ee(St);break;case 10:pr(s.type);break;case 22:case 23:jn(s),tm(),i!==null&&ee(ga);break;case 24:pr(Dt)}}function Jl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&i)===i){u=void 0;var g=o.create,w=o.inst;u=g(),w.destroy=u}o=o.next}while(o!==m)}}catch(A){Je(s,s.return,A)}}function us(i,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=s;var V=o,Q=A;try{Q()}catch(re){Je(m,V,re)}}}u=u.next}while(u!==g)}}catch(re){Je(s,s.return,re)}}function Y_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Lv(s,o)}catch(u){Je(i,i.return,u)}}}function K_(i,s,o){o.props=wa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,s,u)}}function Zl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(m){Je(i,s,m)}}function Qi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Je(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,s,m)}else o.current=null}function Q_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function Mm(i,s,o){try{var u=i.stateNode;WA(u,i.type,o,s),u[qt]=s}catch(m){Je(i,i.return,m)}}function X_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&gs(i.type)||i.tag===4}function km(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||X_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&gs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=gi));else if(u!==4&&(u===27&&gs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Pm(i,s,o),i=i.sibling;i!==null;)Pm(i,s,o),i=i.sibling}function ud(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&gs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(ud(i,s,o),i=i.sibling;i!==null;)ud(i,s,o),i=i.sibling}function W_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Jt(s,u,o),s[It]=i,s[qt]=o}catch(g){Je(i,i.return,g)}}var br=!1,Pt=!1,jm=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function NA(i,s){if(i=i.containerInfo,ip=Nd,i=cv(i),If(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,A=-1,V=-1,Q=0,re=0,oe=i,X=null;t:for(;;){for(var Z;oe!==o||m!==0&&oe.nodeType!==3||(A=w+m),oe!==g||u!==0&&oe.nodeType!==3||(V=w+u),oe.nodeType===3&&(w+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)X=oe,oe=Z;for(;;){if(oe===i)break t;if(X===o&&++Q===m&&(A=w),X===g&&++re===u&&(V=w),(Z=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=Z}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(rp={focusedElem:i,selectionRange:o},Nd=!1,Gt=s;Gt!==null;)if(s=Gt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Gt=i;else for(;Gt!==null;){switch(s=Gt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ve=wa(o.type,m);i=u.getSnapshotBeforeUpdate(ve,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){Je(o,o.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)op(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Gt=i;break}Gt=s.return}}function Z_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(i,o),u&4&&Jl(5,o);break;case 1:if(Tr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){Je(o,o.return,w)}else{var m=wa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Je(o,o.return,w)}}u&64&&Y_(o),u&512&&Zl(o,o.return);break;case 3:if(Tr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Lv(i,s)}catch(w){Je(o,o.return,w)}}break;case 27:s===null&&u&4&&W_(o);case 26:case 5:Tr(i,o),s===null&&u&4&&Q_(o),u&512&&Zl(o,o.return);break;case 12:Tr(i,o);break;case 31:Tr(i,o),u&4&&n0(i,o);break;case 13:Tr(i,o),u&4&&i0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=UA.bind(null,o),sC(i,o))));break;case 22:if(u=o.memoizedState!==null||br,!u){s=s!==null&&s.memoizedState!==null||Pt,m=br;var g=Pt;br=u,(Pt=s)&&!g?Er(i,o,(o.subtreeFlags&8772)!==0):Tr(i,o),br=m,Pt=g}break;case 30:break;default:Tr(i,o)}}function e0(i){var s=i.alternate;s!==null&&(i.alternate=null,e0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ka(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,bn=!1;function wr(i,s,o){for(o=o.child;o!==null;)t0(i,s,o),o=o.sibling}function t0(i,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(hi,o)}catch{}switch(o.tag){case 26:Pt||Qi(o,s),wr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Qi(o,s);var u=ft,m=bn;gs(o.type)&&(ft=o.stateNode,bn=!1),wr(i,s,o),lu(o.stateNode),ft=u,bn=m;break;case 5:Pt||Qi(o,s);case 6:if(u=ft,m=bn,ft=null,wr(i,s,o),ft=u,bn=m,ft!==null)if(bn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){Je(o,s,g)}else try{ft.removeChild(o.stateNode)}catch(g){Je(o,s,g)}break;case 18:ft!==null&&(bn?(i=ft,Y0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Mo(i)):Y0(ft,o.stateNode));break;case 4:u=ft,m=bn,ft=o.stateNode.containerInfo,bn=!0,wr(i,s,o),ft=u,bn=m;break;case 0:case 11:case 14:case 15:us(2,o,s),Pt||us(4,o,s),wr(i,s,o);break;case 1:Pt||(Qi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&K_(o,s,u)),wr(i,s,o);break;case 21:wr(i,s,o);break;case 22:Pt=(u=Pt)||o.memoizedState!==null,wr(i,s,o),Pt=u;break;default:wr(i,s,o)}}function n0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Mo(i)}catch(o){Je(s,s.return,o)}}}function i0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Mo(i)}catch(o){Je(s,s.return,o)}}function OA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new J_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new J_),s;default:throw Error(r(435,i.tag))}}function cd(i,s){var o=OA(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var m=zA.bind(null,i,u);u.then(m,m)}})}function wn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=i,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(gs(A.type)){ft=A.stateNode,bn=!1;break e}break;case 5:ft=A.stateNode,bn=!1;break e;case 3:case 4:ft=A.stateNode.containerInfo,bn=!0;break e}A=A.return}if(ft===null)throw Error(r(160));t0(g,w,m),ft=null,bn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)r0(s,i),s=s.sibling}var Ti=null;function r0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(s,i),Tn(i),u&4&&(us(3,i,i.return),Jl(3,i),us(5,i,i.return));break;case 1:wn(s,i),Tn(i),u&512&&(Pt||o===null||Qi(o,o.return)),u&64&&br&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=Ti;if(wn(s,i),Tn(i),u&512&&(Pt||o===null||Qi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Pi]||g[It]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),Jt(g,u,o),g[It]=i,Nt(g),u=g;break e;case"link":var w=rb("link","href",m).get(u+(o.href||""));if(w){for(var A=0;A<w.length;A++)if(g=w[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(A,1);break t}}g=m.createElement(u),Jt(g,u,o),m.head.appendChild(g);break;case"meta":if(w=rb("meta","content",m).get(u+(o.content||""))){for(A=0;A<w.length;A++)if(g=w[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(A,1);break t}}g=m.createElement(u),Jt(g,u,o),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[It]=i,Nt(g),u=g}i.stateNode=u}else sb(m,i.type,i.stateNode);else i.stateNode=ib(m,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?sb(m,i.type,i.stateNode):ib(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Mm(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(s,i),Tn(i),u&512&&(Pt||o===null||Qi(o,o.return)),o!==null&&u&4&&Mm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(s,i),Tn(i),u&512&&(Pt||o===null||Qi(o,o.return)),i.flags&32){m=i.stateNode;try{_n(m,"")}catch(ve){Je(i,i.return,ve)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Mm(i,m,o!==null?o.memoizedProps:m)),u&1024&&(jm=!0);break;case 6:if(wn(s,i),Tn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ve){Je(i,i.return,ve)}}break;case 3:if(Ad=null,m=Ti,Ti=Sd(s.containerInfo),wn(s,i),Ti=m,Tn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Mo(s.containerInfo)}catch(ve){Je(i,i.return,ve)}jm&&(jm=!1,s0(i));break;case 4:u=Ti,Ti=Sd(i.stateNode.containerInfo),wn(s,i),Tn(i),Ti=u;break;case 12:wn(s,i),Tn(i);break;case 31:wn(s,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,cd(i,u)));break;case 13:wn(s,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hd=dn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,cd(i,u)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=br,re=Pt;if(br=Q||m,Pt=re||V,wn(s,i),Pt=re,br=Q,Tn(i),u&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||V||br||Pt||Ta(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=V.stateNode;var oe=V.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(ve){Je(V,V.return,ve)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ve){Je(V,V.return,ve)}}}else if(s.tag===18){if(o===null){V=s;try{var Z=V.stateNode;m?K0(Z,!0):K0(V.stateNode,!1)}catch(ve){Je(V,V.return,ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,cd(i,o))));break;case 19:wn(s,i),Tn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,cd(i,u)));break;case 30:break;case 21:break;default:wn(s,i),Tn(i)}}function Tn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(X_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=km(i);ud(i,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(_n(w,""),o.flags&=-33);var A=km(i);ud(i,A,w);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=km(i);Pm(i,Q,V);break;default:throw Error(r(161))}}catch(re){Je(i,i.return,re)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function s0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;s0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Tr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z_(i,s.alternate,s),s=s.sibling}function Ta(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:us(4,s,s.return),Ta(s);break;case 1:Qi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&K_(s,s.return,o),Ta(s);break;case 27:lu(s.stateNode);case 26:case 5:Qi(s,s.return),Ta(s);break;case 22:s.memoizedState===null&&Ta(s);break;case 30:Ta(s);break;default:Ta(s)}i=i.sibling}}function Er(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:Er(m,g,o),Jl(4,g);break;case 1:if(Er(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Je(u,u.return,Q)}if(u=g,m=u.updateQueue,m!==null){var A=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)jv(V[m],A)}catch(Q){Je(u,u.return,Q)}}o&&w&64&&Y_(g),Zl(g,g.return);break;case 27:W_(g);case 26:case 5:Er(m,g,o),o&&u===null&&w&4&&Q_(g),Zl(g,g.return);break;case 12:Er(m,g,o);break;case 31:Er(m,g,o),o&&w&4&&n0(m,g);break;case 13:Er(m,g,o),o&&w&4&&i0(m,g);break;case 22:g.memoizedState===null&&Er(m,g,o),Zl(g,g.return);break;case 30:break;default:Er(m,g,o)}s=s.sibling}}function Lm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ul(o))}function Vm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ul(i))}function Ei(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a0(i,s,o,u),s=s.sibling}function a0(i,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Ei(i,s,o,u),m&2048&&Jl(9,s);break;case 1:Ei(i,s,o,u);break;case 3:Ei(i,s,o,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ul(i)));break;case 12:if(m&2048){Ei(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,w=g.id,A=g.onPostCommit;typeof A=="function"&&A(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Je(s,s.return,V)}}else Ei(i,s,o,u);break;case 31:Ei(i,s,o,u);break;case 13:Ei(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?Ei(i,s,o,u):eu(i,s):g._visibility&2?Ei(i,s,o,u):(g._visibility|=2,To(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Lm(w,s);break;case 24:Ei(i,s,o,u),m&2048&&Vm(s.alternate,s);break;default:Ei(i,s,o,u)}}function To(i,s,o,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,w=s,A=o,V=u,Q=w.flags;switch(w.tag){case 0:case 11:case 15:To(g,w,A,V,m),Jl(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?To(g,w,A,V,m):eu(g,w):(re._visibility|=2,To(g,w,A,V,m)),m&&Q&2048&&Lm(w.alternate,w);break;case 24:To(g,w,A,V,m),m&&Q&2048&&Vm(w.alternate,w);break;default:To(g,w,A,V,m)}s=s.sibling}}function eu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,m=u.flags;switch(u.tag){case 22:eu(o,u),m&2048&&Lm(u.alternate,u);break;case 24:eu(o,u),m&2048&&Vm(u.alternate,u);break;default:eu(o,u)}s=s.sibling}}var tu=8192;function Eo(i,s,o){if(i.subtreeFlags&tu)for(i=i.child;i!==null;)o0(i,s,o),i=i.sibling}function o0(i,s,o){switch(i.tag){case 26:Eo(i,s,o),i.flags&tu&&i.memoizedState!==null&&yC(o,Ti,i.memoizedState,i.memoizedProps);break;case 5:Eo(i,s,o);break;case 3:case 4:var u=Ti;Ti=Sd(i.stateNode.containerInfo),Eo(i,s,o),Ti=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=tu,tu=16777216,Eo(i,s,o),tu=u):Eo(i,s,o));break;default:Eo(i,s,o)}}function l0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function nu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,c0(u,i)}l0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u0(i),i=i.sibling}function u0(i){switch(i.tag){case 0:case 11:case 15:nu(i),i.flags&2048&&us(9,i,i.return);break;case 3:nu(i);break;case 12:nu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,dd(i)):nu(i);break;default:nu(i)}}function dd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,c0(u,i)}l0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:us(8,s,s.return),dd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,dd(s));break;default:dd(s)}i=i.sibling}}function c0(i,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:us(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ul(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=i;Gt!==null;){u=Gt;var m=u.sibling,g=u.return;if(e0(u),u===o){Gt=null;break e}if(m!==null){m.return=g,Gt=m;break e}Gt=g}}}var DA={getCacheForType:function(i){var s=Xt(Dt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Xt(Dt).controller.signal}},MA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,ke=null,je=0,We=0,Ln=null,cs=!1,So=!1,Um=!1,Sr=0,bt=0,ds=0,Ea=0,zm=0,Vn=0,xo=0,iu=null,En=null,Bm=!1,hd=0,d0=0,fd=1/0,md=null,hs=null,zt=0,fs=null,Ao=null,xr=0,Fm=0,qm=null,h0=null,ru=0,Hm=null;function Un(){return(Ye&2)!==0&&je!==0?je&-je:q.T!==null?Xm():pc()}function f0(){if(Vn===0)if((je&536870912)===0||Be){var i=Xs;Xs<<=1,(Xs&3932160)===0&&(Xs=262144),Vn=i}else Vn=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Vn}function Sn(i,s,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Co(i,0),ms(i,je,Vn,!1)),Ws(i,o),((Ye&2)===0||i!==it)&&(i===it&&((Ye&2)===0&&(Ea|=o),bt===4&&ms(i,je,Vn,!1)),Xi(i))}function m0(i,s,o){if((Ye&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||fi(i,s),m=u?jA(i,s):$m(i,s,!0),g=u;do{if(m===0){So&&!u&&ms(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!kA(o)){m=$m(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var A=i;m=iu;var V=A.current.memoizedState.isDehydrated;if(V&&(Co(A,w).flags|=256),w=$m(A,w,!1),w!==2){if(Um&&!V){A.errorRecoveryDisabledLanes|=g,Ea|=g,m=4;break e}g=En,En=m,g!==null&&(En===null?En=g:En.push.apply(En,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){Co(i,0),ms(i,s,0,!0);break}e:{switch(u=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ms(u,s,Vn,!cs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=hd+300-dn(),10<m)){if(ms(u,s,Vn,!cs),Di(u,0,!0)!==0)break e;xr=s,u.timeoutHandle=G0(p0.bind(null,u,o,En,md,Bm,s,Vn,Ea,xo,cs,g,"Throttled",-0,0),m);break e}p0(u,o,En,md,Bm,s,Vn,Ea,xo,cs,g,null,-0,0)}}break}while(!0);Xi(i)}function p0(i,s,o,u,m,g,w,A,V,Q,re,oe,X,Z){if(i.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},o0(s,g,oe);var ve=(g&62914560)===g?hd-dn():(g&4194048)===g?d0-dn():0;if(ve=vC(oe,ve),ve!==null){xr=g,i.cancelPendingCommit=ve(E0.bind(null,i,s,g,o,u,m,w,A,V,re,oe,null,X,Z)),ms(i,g,w,!Q);return}}E0(i,s,g,o,u,m,w,A,V)}function kA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!Mn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ms(i,s,o,u){s&=~zm,s&=~Ea,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var g=31-Tt(m),w=1<<g;u[g]=-1,m&=~w}o!==0&&Js(i,o,s)}function pd(){return(Ye&6)===0?(su(0),!1):!0}function Gm(){if(ke!==null){if(We===0)var i=ke.return;else i=ke,mr=ma=null,om(i),yo=null,Bl=0,i=ke;for(;i!==null;)$_(i.alternate,i),i=i.return;ke=null}}function Co(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,eC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),xr=0,Gm(),it=i,ke=o=hr(i.current,null),je=s,We=0,Ln=null,cs=!1,So=fi(i,s),Um=!1,xo=Vn=zm=Ea=ds=bt=0,En=iu=null,Bm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-Tt(u),g=1<<m;s|=i[m],u&=~g}return Sr=s,jc(),o}function g0(i,s){De=null,q.H=Ql,s===go||s===Hc?(s=Dv(),We=3):s===Qf?(s=Dv(),We=4):We=s===Em?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,ke===null&&(bt=1,rd(i,Wn(s,i.current)))}function y0(){var i=Pn.current;return i===null?!0:(je&4194048)===je?ti===null:(je&62914560)===je||(je&536870912)!==0?i===ti:!1}function v0(){var i=q.H;return q.H=Ql,i===null?Ql:i}function _0(){var i=q.A;return q.A=DA,i}function gd(){bt=4,cs||(je&4194048)!==je&&Pn.current!==null||(So=!0),(ds&134217727)===0&&(Ea&134217727)===0||it===null||ms(it,je,Vn,!1)}function $m(i,s,o){var u=Ye;Ye|=2;var m=v0(),g=_0();(it!==i||je!==s)&&(md=null,Co(i,s)),s=!1;var w=bt;e:do try{if(We!==0&&ke!==null){var A=ke,V=Ln;switch(We){case 8:Gm(),w=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var Q=We;if(We=0,Ln=null,Ro(i,A,V,Q),o&&So){w=0;break e}break;default:Q=We,We=0,Ln=null,Ro(i,A,V,Q)}}PA(),w=bt;break}catch(re){g0(i,re)}while(!0);return s&&i.shellSuspendCounter++,mr=ma=null,Ye=u,q.H=m,q.A=g,ke===null&&(it=null,je=0,jc()),w}function PA(){for(;ke!==null;)b0(ke)}function jA(i,s){var o=Ye;Ye|=2;var u=v0(),m=_0();it!==i||je!==s?(md=null,fd=dn()+500,Co(i,s)):So=fi(i,s);e:do try{if(We!==0&&ke!==null){s=ke;var g=Ln;t:switch(We){case 1:We=0,Ln=null,Ro(i,s,g,1);break;case 2:case 9:if(Nv(g)){We=0,Ln=null,w0(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),Xi(i)},g.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Nv(g)?(We=0,Ln=null,w0(s)):(We=0,Ln=null,Ro(i,s,g,7));break;case 5:var w=null;switch(ke.tag){case 26:w=ke.memoizedState;case 5:case 27:var A=ke;if(w?ab(w):A.stateNode.complete){We=0,Ln=null;var V=A.sibling;if(V!==null)ke=V;else{var Q=A.return;Q!==null?(ke=Q,yd(Q)):ke=null}break t}}We=0,Ln=null,Ro(i,s,g,5);break;case 6:We=0,Ln=null,Ro(i,s,g,6);break;case 8:Gm(),bt=6;break e;default:throw Error(r(462))}}LA();break}catch(re){g0(i,re)}while(!0);return mr=ma=null,q.H=u,q.A=m,Ye=o,ke!==null?0:(it=null,je=0,jc(),bt)}function LA(){for(;ke!==null&&!Tf();)b0(ke)}function b0(i){var s=H_(i.alternate,i,Sr);i.memoizedProps=i.pendingProps,s===null?yd(i):ke=s}function w0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=V_(o,s,s.pendingProps,s.type,void 0,je);break;case 11:s=V_(o,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:om(s);default:$_(o,s),s=ke=_v(s,Sr),s=H_(o,s,Sr)}i.memoizedProps=i.pendingProps,s===null?yd(i):ke=s}function Ro(i,s,o,u){mr=ma=null,om(s),yo=null,Bl=0;var m=s.return;try{if(xA(i,m,s,o,je)){bt=1,rd(i,Wn(o,i.current)),ke=null;return}}catch(g){if(m!==null)throw ke=m,g;bt=1,rd(i,Wn(o,i.current)),ke=null;return}s.flags&32768?(Be||u===1?i=!0:So||(je&536870912)!==0?i=!1:(cs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),T0(s,i)):yd(s)}function yd(i){var s=i;do{if((s.flags&32768)!==0){T0(s,cs);return}i=s.return;var o=RA(s.alternate,s,Sr);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=i}while(s!==null);bt===0&&(bt=5)}function T0(i,s){do{var o=IA(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);bt=6,ke=null}function E0(i,s,o,u,m,g,w,A,V){i.cancelPendingCommit=null;do vd();while(zt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=kf,xf(i,o,g,w,A,V),i===it&&(ke=it=null,je=0),Ao=s,fs=i,xr=o,Fm=g,qm=m,h0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BA(Hr,function(){return R0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,m=J.p,J.p=2,w=Ye,Ye|=4;try{NA(i,s,o)}finally{Ye=w,J.p=m,q.T=u}}zt=1,S0(),x0(),A0()}}function S0(){if(zt===1){zt=0;var i=fs,s=Ao,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var u=J.p;J.p=2;var m=Ye;Ye|=4;try{r0(s,i);var g=rp,w=cv(i.containerInfo),A=g.focusedElem,V=g.selectionRange;if(w!==A&&A&&A.ownerDocument&&uv(A.ownerDocument.documentElement,A)){if(V!==null&&If(A)){var Q=V.start,re=V.end;if(re===void 0&&(re=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(re,A.value.length);else{var oe=A.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var Z=X.getSelection(),ve=A.textContent.length,Ee=Math.min(V.start,ve),nt=V.end===void 0?Ee:Math.min(V.end,ve);!Z.extend&&Ee>nt&&(w=nt,nt=Ee,Ee=w);var G=lv(A,Ee),H=lv(A,nt);if(G&&H&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var K=oe.createRange();K.setStart(G.node,G.offset),Z.removeAllRanges(),Ee>nt?(Z.addRange(K),Z.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),Z.addRange(K))}}}}for(oe=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<oe.length;A++){var se=oe[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Nd=!!ip,rp=ip=null}finally{Ye=m,J.p=u,q.T=o}}i.current=s,zt=2}}function x0(){if(zt===2){zt=0;var i=fs,s=Ao,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var u=J.p;J.p=2;var m=Ye;Ye|=4;try{Z_(i,s.alternate,s)}finally{Ye=m,J.p=u,q.T=o}}zt=3}}function A0(){if(zt===4||zt===3){zt=0,lc();var i=fs,s=Ao,o=xr,u=h0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,Ao=fs=null,C0(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(hs=null),lr(o),s=s.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(hi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,m=J.p,J.p=2,q.T=null;try{for(var g=i.onRecoverableError,w=0;w<u.length;w++){var A=u[w];g(A.value,{componentStack:A.stack})}}finally{q.T=s,J.p=m}}(xr&3)!==0&&vd(),Xi(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Hm?ru++:(ru=0,Hm=i):ru=0,su(0)}}function C0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ul(s)))}function vd(){return S0(),x0(),A0(),R0()}function R0(){if(zt!==5)return!1;var i=fs,s=Fm;Fm=0;var o=lr(xr),u=q.T,m=J.p;try{J.p=32>o?32:o,q.T=null,o=qm,qm=null;var g=fs,w=xr;if(zt=0,Ao=fs=null,xr=0,(Ye&6)!==0)throw Error(r(331));var A=Ye;if(Ye|=4,u0(g.current),a0(g,g.current,w,o),Ye=A,su(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(hi,g)}catch{}return!0}finally{J.p=m,q.T=u,C0(i,s)}}function I0(i,s,o){s=Wn(o,s),s=Tm(i.stateNode,s,2),i=as(i,s,2),i!==null&&(Ws(i,2),Xi(i))}function Je(i,s,o){if(i.tag===3)I0(i,i,o);else for(;s!==null;){if(s.tag===3){I0(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){i=Wn(o,i),o=N_(2),u=as(s,o,2),u!==null&&(O_(o,u,s,i),Ws(u,2),Xi(u));break}}s=s.return}}function Ym(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new MA;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Um=!0,m.add(o),i=VA.bind(null,i,s,o),s.then(i,i))}function VA(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(je&o)===o&&(bt===4||bt===3&&(je&62914560)===je&&300>dn()-hd?(Ye&2)===0&&Co(i,0):zm|=o,xo===je&&(xo=0)),Xi(i)}function N0(i,s){s===0&&(s=mc()),i=da(i,s),i!==null&&(Ws(i,s),Xi(i))}function UA(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),N0(i,o)}function zA(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),N0(i,o)}function BA(i,s){return Ut(i,s)}var _d=null,Io=null,Km=!1,bd=!1,Qm=!1,ps=0;function Xi(i){i!==Io&&i.next===null&&(Io===null?_d=Io=i:Io=Io.next=i),bd=!0,Km||(Km=!0,qA())}function su(i,s){if(!Qm&&bd){Qm=!0;do for(var o=!1,u=_d;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var w=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Tt(42|i)+1)-1,g&=m&~(w&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,k0(u,g))}else g=je,g=Di(u,u===it?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||fi(u,g)||(o=!0,k0(u,g));u=u.next}while(o);Qm=!1}}function FA(){O0()}function O0(){bd=Km=!1;var i=0;ps!==0&&ZA()&&(i=ps);for(var s=dn(),o=null,u=_d;u!==null;){var m=u.next,g=D0(u,s);g===0?(u.next=null,o===null?_d=m:o.next=m,m===null&&(Io=o)):(o=u,(i!==0||(g&3)!==0)&&(bd=!0)),u=m}zt!==0&&zt!==5||su(i),ps!==0&&(ps=0)}function D0(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-Tt(g),A=1<<w,V=m[w];V===-1?((A&o)===0||(A&u)!==0)&&(m[w]=Sf(A,s)):V<=s&&(i.expiredLanes|=A),g&=~A}if(s=it,o=je,o=Di(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&qr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||fi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&qr(u),lr(o)){case 2:case 8:o=pl;break;case 32:o=Hr;break;case 268435456:o=uc;break;default:o=Hr}return u=M0.bind(null,i),o=Ut(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&qr(u),i.callbackPriority=2,i.callbackNode=null,2}function M0(i,s){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(vd()&&i.callbackNode!==o)return null;var u=je;return u=Di(i,i===it?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(m0(i,u,s),D0(i,dn()),i.callbackNode!=null&&i.callbackNode===o?M0.bind(null,i):null)}function k0(i,s){if(vd())return null;m0(i,s,!0)}function qA(){tC(function(){(Ye&6)!==0?Ut(ml,FA):O0()})}function Xm(){if(ps===0){var i=mo;i===0&&(i=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),ps=i}return ps}function P0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ja(""+i)}function j0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function HA(i,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var g=P0((m[qt]||null).action),w=u.submitter;w&&(s=(s=w[qt]||null)?P0(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var A=new qi("action","action",null,u,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ps!==0){var V=w?j0(m,w):new FormData(m);gm(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(A.preventDefault(),V=w?j0(m,w):new FormData(m),gm(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var Wm=0;Wm<Mf.length;Wm++){var Jm=Mf[Wm],GA=Jm.toLowerCase(),$A=Jm[0].toUpperCase()+Jm.slice(1);wi(GA,"on"+$A)}wi(fv,"onAnimationEnd"),wi(mv,"onAnimationIteration"),wi(pv,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(lA,"onTransitionRun"),wi(uA,"onTransitionStart"),wi(cA,"onTransitionCancel"),wi(gv,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function L0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var w=u.length-1;0<=w;w--){var A=u[w],V=A.instance,Q=A.currentTarget;if(A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(re){Pc(re)}m.currentTarget=null,g=V}else for(w=0;w<u.length;w++){if(A=u[w],V=A.instance,Q=A.currentTarget,A=A.listener,V!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=Q;try{g(m)}catch(re){Pc(re)}m.currentTarget=null,g=V}}}}function Pe(i,s){var o=s[Ya];o===void 0&&(o=s[Ya]=new Set);var u=i+"__bubble";o.has(u)||(V0(s,i,2,!1),o.add(u))}function Zm(i,s,o){var u=0;s&&(u|=4),V0(o,i,u,s)}var wd="_reactListening"+Math.random().toString(36).slice(2);function ep(i){if(!i[wd]){i[wd]=!0,vl.forEach(function(o){o!=="selectionchange"&&(YA.has(o)||Zm(o,!1,i),Zm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[wd]||(s[wd]=!0,Zm("selectionchange",!1,s))}}function V0(i,s,o,u){switch(fb(s)){case 2:var m=wC;break;case 8:m=TC;break;default:m=pp}o=m.bind(null,s,o,i),m=void 0,!ia||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function tp(i,s,o,u,m){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===m)break;if(w===4)for(w=u.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;A!==null;){if(w=ji(A),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){u=g=w;continue e}A=A.parentNode}}u=u.return}Xr(function(){var Q=g,re=Yn(o),oe=[];e:{var X=yv.get(i);if(X!==void 0){var Z=qi,ve=i;switch(i){case"keypress":if(sa(o)===0)break e;case"keydown":case"keyup":Z=Dc;break;case"focusin":ve="focus",Z=oa;break;case"focusout":ve="blur",Z=oa;break;case"beforeblur":case"afterblur":Z=oa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=_;break;case fv:case mv:case pv:Z=xc;break;case gv:Z=R;break;case"scroll":case"scrollend":Z=Nl;break;case"wheel":Z=W;break;case"copy":case"cut":case"paste":Z=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=dr;break;case"toggle":case"beforetoggle":Z=Oe}var Ee=(s&4)!==0,nt=!Ee&&(i==="scroll"||i==="scrollend"),G=Ee?X!==null?X+"Capture":null:X;Ee=[];for(var H=Q,K;H!==null;){var se=H;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=yi(H,G),se!=null&&Ee.push(ou(H,se,K))),nt)break;H=H.return}0<Ee.length&&(X=new Z(X,ve,null,o,re),oe.push({event:X,listeners:Ee}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",X&&o!==Cl&&(ve=o.relatedTarget||o.fromElement)&&(ji(ve)||ve[ki]))break e;if((Z||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(ve=o.relatedTarget||o.toElement,Z=Q,ve=ve?ji(ve):null,ve!==null&&(nt=l(ve),Ee=ve.tag,ve!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(ve=null)):(Z=null,ve=Q),Z!==ve)){if(Ee=Ol,se="onMouseLeave",G="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=dr,se="onPointerLeave",G="onPointerEnter",H="pointer"),nt=Z==null?X:On(Z),K=ve==null?X:On(ve),X=new Ee(se,H+"leave",Z,o,re),X.target=nt,X.relatedTarget=K,se=null,ji(re)===Q&&(Ee=new Ee(G,H+"enter",ve,o,re),Ee.target=K,Ee.relatedTarget=nt,se=Ee),nt=se,Z&&ve)t:{for(Ee=KA,G=Z,H=ve,K=0,se=G;se;se=Ee(se))K++;se=0;for(var we=H;we;we=Ee(we))se++;for(;0<K-se;)G=Ee(G),K--;for(;0<se-K;)H=Ee(H),se--;for(;K--;){if(G===H||H!==null&&G===H.alternate){Ee=G;break t}G=Ee(G),H=Ee(H)}Ee=null}else Ee=null;Z!==null&&U0(oe,X,Z,Ee,!1),ve!==null&&nt!==null&&U0(oe,nt,ve,Ee,!0)}}e:{if(X=Q?On(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var He=nv;else if(ev(X))if(iv)He=sA;else{He=iA;var _e=nA}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Wa(Q.elementType)&&(He=nv):He=rA;if(He&&(He=He(i,Q))){tv(oe,He,o,re);break e}_e&&_e(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Sl(X,"number",X.value)}switch(_e=Q?On(Q):window,i){case"focusin":(ev(_e)||_e.contentEditable==="true")&&(so=_e,Nf=Q,jl=null);break;case"focusout":jl=Nf=so=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,dv(oe,o,re);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":dv(oe,o,re)}var Me;if($e)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ro?la(i,o)&&(Le="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&($i&&o.locale!=="ko"&&(ro||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ro&&(Me=Il()):(Fi=re,Rl="value"in Fi?Fi.value:Fi.textContent,ro=!0)),_e=Td(Q,Le),0<_e.length&&(Le=new Gi(Le,i,null,o,re),oe.push({event:Le,listeners:_e}),Me?Le.data=Me:(Me=io(o),Me!==null&&(Le.data=Me)))),(Me=Qn?J1(i,o):Z1(i,o))&&(Le=Td(Q,"onBeforeInput"),0<Le.length&&(_e=new Gi("onBeforeInput","beforeinput",null,o,re),oe.push({event:_e,listeners:Le}),_e.data=Me)),HA(oe,i,Q,o,re)}L0(oe,s)})}function ou(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Td(i,s){for(var o=s+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=yi(i,o),m!=null&&u.unshift(ou(i,m,g)),m=yi(i,s),m!=null&&u.push(ou(i,m,g))),i.tag===3)return u;i=i.return}return[]}function KA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function U0(i,s,o,u,m){for(var g=s._reactName,w=[];o!==null&&o!==u;){var A=o,V=A.alternate,Q=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||Q===null||(V=Q,m?(Q=yi(o,g),Q!=null&&w.unshift(ou(o,Q,V))):m||(Q=yi(o,g),Q!=null&&w.push(ou(o,Q,V)))),o=o.return}w.length!==0&&i.push({event:s,listeners:w})}var QA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function z0(i){return(typeof i=="string"?i:""+i).replace(QA,`
`).replace(XA,"")}function B0(i,s){return s=z0(s),z0(i)===s}function tt(i,s,o,u,m,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||_n(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&_n(i,""+u);break;case"className":Dn(i,"class",u);break;case"tabIndex":Dn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,u);break;case"style":Al(i,u,g);break;case"data":if(s!=="object"){Dn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ja(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(i,s,"name",m.name,m,null),tt(i,s,"formEncType",m.formEncType,m,null),tt(i,s,"formMethod",m.formMethod,m,null),tt(i,s,"formTarget",m.formTarget,m,null)):(tt(i,s,"encType",m.encType,m,null),tt(i,s,"method",m.method,m,null),tt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ja(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=gi);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ja(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),Qa(i,"popover",u);break;case"xlinkActuate":Ot(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ot(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ot(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ot(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ot(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ot(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ot(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Qa(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Tc.get(o)||o,Qa(i,o,u))}}function np(i,s,o,u,m,g){switch(o){case"style":Al(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?_n(i,u):(typeof u=="number"||typeof u=="bigint")&&_n(i,""+u);break;case"onScroll":u!=null&&Pe("scroll",i);break;case"onScrollEnd":u!=null&&Pe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,m);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Qa(i,o,u)}}}function Jt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,g,w,o,null)}}m&&tt(i,s,"srcSet",o.srcSet,o,null),u&&tt(i,s,"src",o.src,o,null);return;case"input":Pe("invalid",i);var A=g=w=m=null,V=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":m=re;break;case"type":w=re;break;case"checked":V=re;break;case"defaultChecked":Q=re;break;case"value":g=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:tt(i,s,u,re,o,null)}}_c(i,g,A,V,Q,w,m,!1);return;case"select":Pe("invalid",i),u=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:tt(i,s,m,A,o,null)}s=g,o=w,i.multiple=!!u,s!=null?$r(i,!!u,s,!1):o!=null&&$r(i,!!u,o,!0);return;case"textarea":Pe("invalid",i),g=m=u=null;for(w in o)if(o.hasOwnProperty(w)&&(A=o[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(i,s,w,A,o,null)}Yr(i,u,m,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(i,s,V,u,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(u=0;u<au.length;u++)Pe(au[u],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,Q,u,o,null)}return;default:if(Wa(s)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&np(i,s,re,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&tt(i,s,A,u,o,null))}function WA(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,A=null,V=null,Q=null,re=null;for(Z in o){var oe=o[Z];if(o.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(Z)||tt(i,s,Z,null,u,oe)}}for(var X in u){var Z=u[X];if(oe=o[X],u.hasOwnProperty(X)&&(Z!=null||oe!=null))switch(X){case"type":g=Z;break;case"name":m=Z;break;case"checked":Q=Z;break;case"defaultChecked":re=Z;break;case"value":w=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Z!==oe&&tt(i,s,X,Z,u,oe)}}Xa(i,w,A,V,Q,re,g,m);return;case"select":Z=w=A=X=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(g)||tt(i,s,g,null,u,V)}for(m in u)if(g=u[m],V=o[m],u.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":w=g;default:g!==V&&tt(i,s,m,g,u,V)}s=A,o=w,u=Z,X!=null?$r(i,!!o,X,!1):!!u!=!!o&&(s!=null?$r(i,!!o,s,!0):$r(i,!!o,o?[]:"",!1));return;case"textarea":Z=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,s,A,null,u,m)}for(w in u)if(m=u[w],g=o[w],u.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":X=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&tt(i,s,w,m,u,g)}bc(i,X,Z);return;case"option":for(var ve in o)if(X=o[ve],o.hasOwnProperty(ve)&&X!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:tt(i,s,ve,null,u,X)}for(V in u)if(X=u[V],Z=o[V],u.hasOwnProperty(V)&&X!==Z&&(X!=null||Z!=null))switch(V){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(i,s,V,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)X=o[Ee],o.hasOwnProperty(Ee)&&X!=null&&!u.hasOwnProperty(Ee)&&tt(i,s,Ee,null,u,X);for(Q in u)if(X=u[Q],Z=o[Q],u.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:tt(i,s,Q,X,u,Z)}return;default:if(Wa(s)){for(var nt in o)X=o[nt],o.hasOwnProperty(nt)&&X!==void 0&&!u.hasOwnProperty(nt)&&np(i,s,nt,void 0,u,X);for(re in u)X=u[re],Z=o[re],!u.hasOwnProperty(re)||X===Z||X===void 0&&Z===void 0||np(i,s,re,X,u,Z);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!u.hasOwnProperty(G)&&tt(i,s,G,null,u,X);for(oe in u)X=u[oe],Z=o[oe],!u.hasOwnProperty(oe)||X===Z||X==null&&Z==null||tt(i,s,oe,X,u,Z)}function F0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],g=m.transferSize,w=m.initiatorType,A=m.duration;if(g&&A&&F0(w)){for(w=0,A=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],Q=V.startTime;if(Q>A)break;var re=V.transferSize,oe=V.initiatorType;re&&F0(oe)&&(V=V.responseEnd,w+=re*(V<A?1:(A-Q)/(V-Q)))}if(--u,s+=8*(g+w)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ip=null,rp=null;function Ed(i){return i.nodeType===9?i:i.ownerDocument}function q0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function sp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ap=null;function ZA(){var i=window.event;return i&&i.type==="popstate"?i===ap?!1:(ap=i,!0):(ap=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(i){return $0.resolve(null).then(i).catch(nC)}:G0;function nC(i){setTimeout(function(){throw i})}function gs(i){return i==="head"}function Y0(i,s){var o=s,u=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(m),Mo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")lu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,lu(o);for(var g=o.firstChild;g;){var w=g.nextSibling,A=g.nodeName;g[Pi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&lu(i.ownerDocument.body);o=m}while(o);Mo(s)}function K0(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function op(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":op(o),Ka(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function iC(i,s,o,u){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Pi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ni(i.nextSibling),i===null)break}return null}function rC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ni(i.nextSibling),i===null))return null;return i}function Q0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ni(i.nextSibling),i===null))return null;return i}function lp(i){return i.data==="$?"||i.data==="$~"}function up(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function sC(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ni(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var cp=null;function X0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return ni(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function W0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function J0(i,s,o){switch(s=Ed(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function lu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ka(i)}var ii=new Map,Z0=new Set;function Sd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ar=J.d;J.d={f:aC,r:oC,D:lC,C:uC,L:cC,m:dC,X:fC,S:hC,M:mC};function aC(){var i=Ar.f(),s=pd();return i||s}function oC(i){var s=$n(i);s!==null&&s.tag===5&&s.type==="form"?g_(s):Ar.r(i)}var No=typeof document>"u"?null:document;function eb(i,s,o){var u=No;if(u&&typeof s=="string"&&s){var m=vn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Z0.has(m)||(Z0.add(m),i={rel:i,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),Jt(s,"link",i),Nt(s),u.head.appendChild(s)))}}function lC(i){Ar.D(i),eb("dns-prefetch",i,null)}function uC(i,s){Ar.C(i,s),eb("preconnect",i,s)}function cC(i,s,o){Ar.L(i,s,o);var u=No;if(u&&i&&s){var m='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var g=m;switch(s){case"style":g=Oo(i);break;case"script":g=Do(i)}ii.has(g)||(i=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ii.set(g,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(uu(g))||s==="script"&&u.querySelector(cu(g))||(s=u.createElement("link"),Jt(s,"link",i),Nt(s),u.head.appendChild(s)))}}function dC(i,s){Ar.m(i,s);var o=No;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+vn(u)+'"][href="'+vn(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Do(i)}if(!ii.has(g)&&(i=b({rel:"modulepreload",href:i},s),ii.set(g,i),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cu(g)))return}u=o.createElement("link"),Jt(u,"link",i),Nt(u),o.head.appendChild(u)}}}function hC(i,s,o){Ar.S(i,s,o);var u=No;if(u&&i){var m=Li(u).hoistableStyles,g=Oo(i);s=s||"default";var w=m.get(g);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(uu(g)))A.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ii.get(g))&&dp(i,o);var V=w=u.createElement("link");Nt(V),Jt(V,"link",i),V._p=new Promise(function(Q,re){V.onload=Q,V.onerror=re}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,xd(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(g,w)}}}function fC(i,s){Ar.X(i,s);var o=No;if(o&&i){var u=Li(o).hoistableScripts,m=Do(i),g=u.get(m);g||(g=o.querySelector(cu(m)),g||(i=b({src:i,async:!0},s),(s=ii.get(m))&&hp(i,s),g=o.createElement("script"),Nt(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function mC(i,s){Ar.M(i,s);var o=No;if(o&&i){var u=Li(o).hoistableScripts,m=Do(i),g=u.get(m);g||(g=o.querySelector(cu(m)),g||(i=b({src:i,async:!0,type:"module"},s),(s=ii.get(m))&&hp(i,s),g=o.createElement("script"),Nt(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function tb(i,s,o,u){var m=(m=Ae.current)?Sd(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Oo(o.href),o=Li(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Oo(o.href);var g=Li(m).hoistableStyles,w=g.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=m.querySelector(uu(i)))&&!g._p&&(w.instance=g,w.state.loading=5),ii.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ii.set(i,o),g||pC(m,i,o,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Do(o),o=Li(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Oo(i){return'href="'+vn(i)+'"'}function uu(i){return'link[rel="stylesheet"]['+i+"]"}function nb(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function pC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),Nt(s),i.head.appendChild(s))}function Do(i){return'[src="'+vn(i)+'"]'}function cu(i){return"script[async]"+i}function ib(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(u)return s.instance=u,Nt(u),u;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Nt(u),Jt(u,"style",m),xd(u,o.precedence,i),s.instance=u;case"stylesheet":m=Oo(o.href);var g=i.querySelector(uu(m));if(g)return s.state.loading|=4,s.instance=g,Nt(g),g;u=nb(o),(m=ii.get(m))&&dp(u,m),g=(i.ownerDocument||i).createElement("link"),Nt(g);var w=g;return w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Jt(g,"link",u),s.state.loading|=4,xd(g,o.precedence,i),s.instance=g;case"script":return g=Do(o.src),(m=i.querySelector(cu(g)))?(s.instance=m,Nt(m),m):(u=o,(m=ii.get(g))&&(u=b({},o),hp(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),Nt(m),Jt(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,xd(u,o.precedence,i));return s.instance}function xd(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function dp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function hp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ad=null;function rb(i,s,o){if(Ad===null){var u=new Map,m=Ad=new Map;m.set(o,u)}else m=Ad,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Pi]||g[It]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=i+w;var A=u.get(w);A?A.push(g):u.set(w,[g])}}return u}function sb(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function gC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ab(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function yC(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Oo(u.href),g=s.querySelector(uu(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Cd.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Nt(g);return}g=s.ownerDocument||s,u=nb(u),(m=ii.get(m))&&dp(u,m),g=g.createElement("link"),Nt(g);var w=g;w._p=new Promise(function(A,V){w.onload=A,w.onerror=V}),Jt(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Cd.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var fp=0;function vC(i,s){return i.stylesheets&&i.count===0&&Id(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Id(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&fp===0&&(fp=62500*JA());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Id(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>fp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Cd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rd=null;function Id(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rd=new Map,s.forEach(_C,i),Rd=null,Cd.call(i))}function _C(i,s){if(!(s.state.loading&4)){var o=Rd.get(i);if(o)var u=o.get(null);else{o=new Map,Rd.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}m=s.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||u,g===u&&o.set(null,m),o.set(w,m),this.count++,u=Cd.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var du={$$typeof:z,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function bC(i,s,o,u,m,g,w,A,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function ob(i,s,o,u,m,g,w,A,V,Q,re,oe){return i=new bC(i,s,o,w,V,Q,re,oe,A),s=1,g===!0&&(s|=24),g=kn(3,null,null,s),i.current=g,g.stateNode=i,s=$f(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Xf(g),i}function lb(i){return i?(i=lo,i):lo}function ub(i,s,o,u,m,g){m=lb(m),u.context===null?u.context=m:u.pendingContext=m,u=ss(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=as(i,u,s),o!==null&&(Sn(o,i,s),ql(o,i,s))}function cb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function mp(i,s){cb(i,s),(i=i.alternate)&&cb(i,s)}function db(i){if(i.tag===13||i.tag===31){var s=da(i,67108864);s!==null&&Sn(s,i,67108864),mp(i,67108864)}}function hb(i){if(i.tag===13||i.tag===31){var s=Un();s=Zs(s);var o=da(i,s);o!==null&&Sn(o,i,s),mp(i,s)}}var Nd=!0;function wC(i,s,o,u){var m=q.T;q.T=null;var g=J.p;try{J.p=2,pp(i,s,o,u)}finally{J.p=g,q.T=m}}function TC(i,s,o,u){var m=q.T;q.T=null;var g=J.p;try{J.p=8,pp(i,s,o,u)}finally{J.p=g,q.T=m}}function pp(i,s,o,u){if(Nd){var m=gp(u);if(m===null)tp(i,s,u,Od,o),mb(i,u);else if(SC(m,i,s,o,u))u.stopPropagation();else if(mb(i,u),s&4&&-1<EC.indexOf(i)){for(;m!==null;){var g=$n(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Oi(g.pendingLanes);if(w!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var V=1<<31-Tt(w);A.entanglements[1]|=V,w&=~V}Xi(g),(Ye&6)===0&&(fd=dn()+500,su(0))}}break;case 31:case 13:A=da(g,2),A!==null&&Sn(A,g,2),pd(),mp(g,2)}if(g=gp(u),g===null&&tp(i,s,u,Od,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else tp(i,s,u,null,o)}}function gp(i){return i=Yn(i),yp(i)}var Od=null;function yp(i){if(Od=null,i=ji(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Od=i,null}function fb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qs()){case ml:return 2;case pl:return 8;case Hr:case Ef:return 32;case uc:return 268435456;default:return 32}default:return 32}}var vp=!1,ys=null,vs=null,_s=null,hu=new Map,fu=new Map,bs=[],EC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mb(i,s){switch(i){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(s.pointerId)}}function mu(i,s,o,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=$n(s),s!==null&&db(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function SC(i,s,o,u,m){switch(s){case"focusin":return ys=mu(ys,i,s,o,u,m),!0;case"dragenter":return vs=mu(vs,i,s,o,u,m),!0;case"mouseover":return _s=mu(_s,i,s,o,u,m),!0;case"pointerover":var g=m.pointerId;return hu.set(g,mu(hu.get(g)||null,i,s,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,fu.set(g,mu(fu.get(g)||null,i,s,o,u,m)),!0}return!1}function pb(i){var s=ji(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,mi(i.priority,function(){hb(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,mi(i.priority,function(){hb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=gp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Cl=u,o.target.dispatchEvent(u),Cl=null}else return s=$n(o),s!==null&&db(s),i.blockedOn=o,!1;s.shift()}return!0}function gb(i,s,o){Dd(i)&&o.delete(s)}function xC(){vp=!1,ys!==null&&Dd(ys)&&(ys=null),vs!==null&&Dd(vs)&&(vs=null),_s!==null&&Dd(_s)&&(_s=null),hu.forEach(gb),fu.forEach(gb)}function Md(i,s){i.blockedOn===s&&(i.blockedOn=null,vp||(vp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xC)))}var kd=null;function yb(i){kd!==i&&(kd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){kd===i&&(kd=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(yp(u||o)===null)continue;break}var g=$n(o);g!==null&&(i.splice(s,3),s-=3,gm(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function Mo(i){function s(V){return Md(V,i)}ys!==null&&Md(ys,i),vs!==null&&Md(vs,i),_s!==null&&Md(_s,i),hu.forEach(s),fu.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)pb(o),o.blockedOn===null&&bs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],w=m[qt]||null;if(typeof g=="function")w||yb(o);else if(w){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[qt]||null)A=w.formAction;else if(yp(m)!==null)continue}else A=w.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),yb(o)}}}function vb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function _p(i){this._internalRoot=i}Pd.prototype.render=_p.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Un();ub(o,u,i,s,null,null)},Pd.prototype.unmount=_p.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ub(i.current,2,null,i,null,null),pd(),s[ki]=null}};function Pd(i){this._internalRoot=i}Pd.prototype.unstable_scheduleHydration=function(i){if(i){var s=pc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,i),o===0&&pb(i)}};var _b=e.version;if(_b!=="19.2.0")throw Error(r(527,_b,"19.2.0"));J.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var AC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{hi=jd.inject(AC),Yt=jd}catch{}}return gu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",m=A_,g=C_,w=R_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=ob(i,1,!1,null,null,o,u,null,m,g,w,vb),i[ki]=s.current,ep(i),new _p(s)},gu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,m="",g=A_,w=C_,A=R_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=ob(i,1,!0,s,o??null,u,m,V,g,w,A,vb),s.context=lb(null),o=s.current,u=Un(),u=Zs(u),m=ss(u),m.callback=null,as(o,m,u),o=u,s.current.lanes=o,Ws(s,o),Xi(s),i[ki]=s.current,ep(i),new Pd(s)},gu.version="19.2.0",gu}var Ib;function jC(){if(Ib)return Tp.exports;Ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tp.exports=PC(),Tp.exports}var LC=jC();var Nb="popstate";function VC(n={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return Zp("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:ku(a)}return zC(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UC(){return Math.random().toString(36).substring(2,10)}function Ob(n,e){return{usr:n.state,key:n.key,idx:e}}function Zp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:t,key:e&&e.key||r||UC()}}function ku({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function nl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function zC(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",h=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let N=v(),U=N==null?null:N-p;p=N,h&&h({action:f,location:k.location,delta:U})}function S(N,U){f="PUSH";let B=Zp(k.location,N,U);p=v()+1;let z=Ob(B,p),te=k.createHref(B);try{c.pushState(z,"",te)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(te)}l&&h&&h({action:f,location:k.location,delta:1})}function x(N,U){f="REPLACE";let B=Zp(k.location,N,U);p=v();let z=Ob(B,p),te=k.createHref(B);c.replaceState(z,"",te),l&&h&&h({action:f,location:k.location,delta:0})}function M(N){return BC(N)}let k={get action(){return f},get location(){return n(a,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Nb,b),h=N,()=>{a.removeEventListener(Nb,b),h=null}},createHref(N){return e(a,N)},createURL:M,encodeLocation(N){let U=M(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:S,replace:x,go(N){return c.go(N)}};return k}function BC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ku(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function HT(n,e,t="/"){return FC(n,e,t,!1)}function FC(n,e,t,r){let a=typeof e=="string"?nl(e):e,l=Pr(a.pathname||"/",t);if(l==null)return null;let c=GT(n);qC(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let p=eR(l);f=JC(c[h],p,r)}return f}function GT(n,e=[],t=[],r="",a=!1){let l=(c,f,h=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;pt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let b=Dr([r,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),GT(c.children,e,S,b,h)),!(c.path==null&&!c.index)&&e.push({path:b,score:XC(b,c.index),routesMeta:S})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let h of $T(c.path))l(c,f,!0,h)}),e}function $T(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=$T(r.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function qC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var HC=/^:[\w-]+$/,GC=3,$C=2,YC=1,KC=10,QC=-2,Db=n=>n==="*";function XC(n,e){let t=n.split("/"),r=t.length;return t.some(Db)&&(r+=QC),e&&(r+=$C),t.filter(a=>!Db(a)).reduce((a,l)=>a+(HC.test(l)?GC:l===""?YC:KC),r)}function WC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function JC(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let h=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=ch({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),S=h.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=ch({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Dr([l,b.pathname]),pathnameBase:sR(Dr([l,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(l=Dr([l,b.pathnameBase]))}return c}function ch(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:b},S)=>{if(v==="*"){let M=f[S]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const x=f[S];return b&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function ZC(n,e=!1,t=!0){oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function eR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var tR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nR=n=>tR.test(n);function iR(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?nl(n):n,l;if(t)if(nR(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=Mb(t.substring(1),"/"):l=Mb(t,e)}else l=e;return{pathname:l,search:aR(r),hash:oR(a)}}function Mb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ap(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function YT(n){let e=rR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function KT(n,e,t,r=!1){let a;typeof n=="string"?a=nl(n):(a={...n},pt(!a.pathname||!a.pathname.includes("?"),Ap("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),Ap("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),Ap("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;a.pathname=S.join("/")}f=b>=0?e[b]:"/"}let h=iR(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var Dr=n=>n.join("/").replace(/\/\/+/g,"/"),sR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QT=["POST","PUT","PATCH","DELETE"];new Set(QT);var uR=["GET",...QT];new Set(uR);var il=F.createContext(null);il.displayName="DataRouter";var Vh=F.createContext(null);Vh.displayName="DataRouterState";F.createContext(!1);var XT=F.createContext({isTransitioning:!1});XT.displayName="ViewTransition";var cR=F.createContext(new Map);cR.displayName="Fetchers";var dR=F.createContext(null);dR.displayName="Await";var ar=F.createContext(null);ar.displayName="Navigation";var Gu=F.createContext(null);Gu.displayName="Location";var or=F.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Bg=F.createContext(null);Bg.displayName="RouteError";function hR(n,{relative:e}={}){pt($u(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(ar),{hash:a,pathname:l,search:c}=Yu(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Dr([t,l])),r.createHref({pathname:f,search:c,hash:a})}function $u(){return F.useContext(Gu)!=null}function zr(){return pt($u(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Gu).location}var WT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JT(n){F.useContext(ar).static||F.useLayoutEffect(n)}function un(){let{isDataRoute:n}=F.useContext(or);return n?xR():fR()}function fR(){pt($u(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(il),{basename:e,navigator:t}=F.useContext(ar),{matches:r}=F.useContext(or),{pathname:a}=zr(),l=JSON.stringify(YT(r)),c=F.useRef(!1);return JT(()=>{c.current=!0}),F.useCallback((h,p={})=>{if(oi(c.current,WT),!c.current)return;if(typeof h=="number"){t.go(h);return}let v=KT(h,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Dr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}F.createContext(null);function Fg(){let{matches:n}=F.useContext(or),e=n[n.length-1];return e?e.params:{}}function Yu(n,{relative:e}={}){let{matches:t}=F.useContext(or),{pathname:r}=zr(),a=JSON.stringify(YT(t));return F.useMemo(()=>KT(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function mR(n,e){return ZT(n,e)}function ZT(n,e,t,r,a){pt($u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(ar),{matches:c}=F.useContext(or),f=c[c.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let B=b&&b.path||"";eE(p,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=zr(),x;if(e){let B=typeof e=="string"?nl(e):e;pt(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),x=B}else x=S;let M=x.pathname||"/",k=M;if(v!=="/"){let B=v.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=HT(n,{pathname:k});oi(b||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),oi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=_R(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Dr([v,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Dr([v,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,r,a);return e&&U?F.createElement(Gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},U):U}function pR(){let n=SR(),e=lR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var gR=F.createElement(pR,null),yR=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(or.Provider,{value:this.props.routeContext},F.createElement(Bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vR({routeContext:n,match:e,children:t}){let r=F.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(or.Provider,{value:n},t)}function _R(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);pt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,h=-1;if(t)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=v),b.route.id){let{loaderData:S,errors:x}=t,M=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||M){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let p=t&&r?(v,b)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:b})}:void 0;return l.reduceRight((v,b,S)=>{let x,M=!1,k=null,N=null;t&&(x=c&&b.route.id?c[b.route.id]:void 0,k=b.route.errorElement||gR,f&&(h<0&&S===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,N=null):h===S&&(M=!0,N=b.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,S+1)),B=()=>{let z;return x?z=k:M?z=N:b.route.Component?z=F.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=v,F.createElement(vR,{match:b,routeContext:{outlet:v,matches:U,isDataRoute:t!=null},children:z})};return t&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?F.createElement(yR,{location:t.location,revalidation:t.revalidation,component:k,error:x,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):B()},null)}function qg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bR(n){let e=F.useContext(il);return pt(e,qg(n)),e}function wR(n){let e=F.useContext(Vh);return pt(e,qg(n)),e}function TR(n){let e=F.useContext(or);return pt(e,qg(n)),e}function Hg(n){let e=TR(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ER(){return Hg("useRouteId")}function SR(){let n=F.useContext(Bg),e=wR("useRouteError"),t=Hg("useRouteError");return n!==void 0?n:e.errors?.[t]}function xR(){let{router:n}=bR("useNavigate"),e=Hg("useNavigate"),t=F.useRef(!1);return JT(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{oi(t.current,WT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var kb={};function eE(n,e,t){!e&&!kb[n]&&(kb[n]=!0,oi(!1,t))}F.memo(AR);function AR({routes:n,future:e,state:t,unstable_onError:r}){return ZT(n,void 0,t,r,e)}function xn(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){pt(!$u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=nl(t));let{pathname:h="/",search:p="",hash:v="",state:b=null,key:S="default"}=t,x=F.useMemo(()=>{let M=Pr(h,c);return M==null?null:{location:{pathname:M,search:p,hash:v,state:b,key:S},navigationType:r}},[c,h,p,v,b,S,r]);return oi(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:F.createElement(ar.Provider,{value:f},F.createElement(Gu.Provider,{children:e,value:x}))}function RR({children:n,location:e}){return mR(eg(n),e)}function eg(n,e=[]){let t=[];return F.Children.forEach(n,(r,a)=>{if(!F.isValidElement(r))return;let l=[...e,a];if(r.type===F.Fragment){t.push.apply(t,eg(r.props.children,l));return}pt(r.type===xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=eg(r.props.children,l)),t.push(c)}),t}var Kd="get",Qd="application/x-www-form-urlencoded";function Uh(n){return n!=null&&typeof n.tagName=="string"}function IR(n){return Uh(n)&&n.tagName.toLowerCase()==="button"}function NR(n){return Uh(n)&&n.tagName.toLowerCase()==="form"}function OR(n){return Uh(n)&&n.tagName.toLowerCase()==="input"}function DR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MR(n,e){return n.button===0&&(!e||e==="_self")&&!DR(n)}function tg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function kR(n,e){let t=tg(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var Ld=null;function PR(){if(Ld===null)try{new FormData(document.createElement("form"),0),Ld=!1}catch{Ld=!0}return Ld}var jR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(n){return n!=null&&!jR.has(n)?(oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qd}"`),null):n}function LR(n,e){let t,r,a,l,c;if(NR(n)){let f=n.getAttribute("action");r=f?Pr(f,e):null,t=n.getAttribute("method")||Kd,a=Cp(n.getAttribute("enctype"))||Qd,l=new FormData(n)}else if(IR(n)||OR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Pr(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Kd,a=Cp(n.getAttribute("formenctype"))||Cp(f.getAttribute("enctype"))||Qd,l=new FormData(f,n),!PR()){let{name:p,type:v,value:b}=n;if(v==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,b)}}else{if(Uh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Kd,r=null,a=Qd,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function VR(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Pr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function UR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BR(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await UR(l,t);return c.links?c.links():[]}return[]}));return GR(r.flat(1).filter(zR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Pb(n,e,t,r,a,l){let c=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,p)=>c(h,p)||f(h,p)):l==="data"?e.filter((h,p)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function FR(n,e,{includeHydrateFallback:t}={}){return qR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function qR(n){return[...new Set(n)]}function HR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function GR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(HR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function tE(){let n=F.useContext(il);return Gg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $R(){let n=F.useContext(Vh);return Gg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $g=F.createContext(void 0);$g.displayName="FrameworkContext";function nE(){let n=F.useContext($g);return Gg(n,"You must render this element inside a <HydratedRouter> element"),n}function YR(n,e){let t=F.useContext($g),[r,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,S=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=U=>{U.forEach(B=>{c(B.isIntersecting)})},N=new IntersectionObserver(k,{threshold:.5});return S.current&&N.observe(S.current),()=>{N.disconnect()}}},[n]),F.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let x=()=>{a(!0)},M=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:yu(f,x),onBlur:yu(h,M),onMouseEnter:yu(p,x),onMouseLeave:yu(v,M),onTouchStart:yu(b,x)}]:[!1,S,{}]}function yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KR({page:n,...e}){let{router:t}=tE(),r=F.useMemo(()=>HT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(XR,{page:n,matches:r,...e}):null}function QR(n){let{manifest:e,routeModules:t}=nE(),[r,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return BR(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function XR({page:n,matches:e,...t}){let r=zr(),{manifest:a,routeModules:l}=nE(),{basename:c}=tE(),{loaderData:f,matches:h}=$R(),p=F.useMemo(()=>Pb(n,e,h,a,r,"data"),[n,e,h,a,r]),v=F.useMemo(()=>Pb(n,e,h,a,r,"assets"),[n,e,h,a,r]),b=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,k=!1;if(e.forEach(U=>{let B=a.routes[U.route.id];!B||!B.hasLoader||(!p.some(z=>z.route.id===U.route.id)&&U.route.id in f&&l[U.route.id]?.shouldRevalidate||B.hasClientLoader?k=!0:M.add(U.route.id))}),M.size===0)return[];let N=VR(n,c,"data");return k&&M.size>0&&N.searchParams.set("_routes",e.filter(U=>M.has(U.route.id)).map(U=>U.route.id).join(",")),[N.pathname+N.search]},[c,f,r,a,p,e,n,l]),S=F.useMemo(()=>FR(v,a),[v,a]),x=QR(v);return F.createElement(F.Fragment,null,b.map(M=>F.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),S.map(M=>F.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),x.map(({key:M,link:k})=>F.createElement("link",{key:M,nonce:t.nonce,...k})))}function WR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iE&&(window.__reactRouterVersion="7.9.6")}catch{}function JR({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=VC({window:t,v5Compat:!0}));let a=r.current,[l,c]=F.useState({action:a.action,location:a.location}),f=F.useCallback(h=>{F.startTransition(()=>c(h))},[c]);return F.useLayoutEffect(()=>a.listen(f),[a,f]),F.createElement(CR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:h,to:p,preventScrollReset:v,viewTransition:b,...S},x){let{basename:M}=F.useContext(ar),k=typeof p=="string"&&rE.test(p),N,U=!1;if(typeof p=="string"&&k&&(N=p,iE))try{let D=new URL(window.location.href),I=p.startsWith("//")?new URL(D.protocol+p):new URL(p),C=Pr(I.pathname,M);I.origin===D.origin&&C!=null?p=C+I.search+I.hash:U=!0}catch{oi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=hR(p,{relative:a}),[z,te,ne]=YR(r,S),ie=nI(p,{replace:c,state:f,target:h,preventScrollReset:v,relative:a,viewTransition:b});function O(D){e&&e(D),D.defaultPrevented||ie(D)}let E=F.createElement("a",{...S,...ne,href:N||B,onClick:U||l?e:O,ref:WR(x,te),target:h,"data-discover":!k&&t==="render"?"true":void 0});return z&&!k?F.createElement(F.Fragment,null,E,F.createElement(KR,{page:B})):E});mt.displayName="Link";var ZR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:h,...p},v){let b=Yu(c,{relative:p.relative}),S=zr(),x=F.useContext(Vh),{navigator:M,basename:k}=F.useContext(ar),N=x!=null&&lI(b)&&f===!0,U=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,B=S.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(B=B.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&k&&(z=Pr(z,k)||z);const te=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ne=B===U||!a&&B.startsWith(U)&&B.charAt(te)==="/",ie=z!=null&&(z===U||!a&&z.startsWith(U)&&z.charAt(U.length)==="/"),O={isActive:ne,isPending:ie,isTransitioning:N},E=ne?e:void 0,D;typeof r=="function"?D=r(O):D=[r,ne?"active":null,ie?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(O):l;return F.createElement(mt,{...p,"aria-current":E,className:D,ref:v,style:I,to:c,viewTransition:f},typeof h=="function"?h(O):h)});ZR.displayName="NavLink";var eI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Kd,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:b,...S},x)=>{let M=aI(),k=oI(f,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&rE.test(f),B=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let te=z.nativeEvent.submitter,ne=te?.getAttribute("formmethod")||c;M(te||z.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b})};return F.createElement("form",{ref:x,method:N,action:k,onSubmit:r?h:B,...S,"data-discover":!U&&n==="render"?"true":void 0})});eI.displayName="Form";function tI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sE(n){let e=F.useContext(il);return pt(e,tI(n)),e}function nI(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=un(),h=zr(),p=Yu(n,{relative:l});return F.useCallback(v=>{if(MR(v,e)){v.preventDefault();let b=t!==void 0?t:ku(h)===ku(p);f(n,{replace:b,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[h,f,p,t,r,e,n,a,l,c])}function iI(n){oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(tg(n)),t=F.useRef(!1),r=zr(),a=F.useMemo(()=>kR(r.search,t.current?null:e.current),[r.search]),l=un(),c=F.useCallback((f,h)=>{const p=tg(typeof f=="function"?f(new URLSearchParams(a)):f);t.current=!0,l("?"+p,h)},[l,a]);return[a,c]}var rI=0,sI=()=>`__${String(++rI)}__`;function aI(){let{router:n}=sE("useSubmit"),{basename:e}=F.useContext(ar),t=ER();return F.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:h,body:p}=LR(r,e);if(a.navigate===!1){let v=a.fetcherKey||sI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function oI(n,{relative:e}={}){let{basename:t}=F.useContext(ar),r=F.useContext(or);pt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Yu(n||".",{relative:e})},c=zr();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Dr([t,l.pathname])),ku(l)}function lI(n,{relative:e}={}){let t=F.useContext(XT);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sE("useViewTransitionState"),a=Yu(n,{relative:e});if(!t.isTransitioning)return!1;let l=Pr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Pr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ch(a.pathname,c)!=null||ch(a.pathname,l)!=null}var aE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jb=Ke.createContext&&Ke.createContext(aE),uI=["attr","size","title"];function cI(n,e){if(n==null)return{};var t=dI(n,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function dI(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function dh(){return dh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dh.apply(this,arguments)}function Lb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function hh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lb(Object(t),!0).forEach(function(r){hI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hI(n,e,t){return e=fI(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fI(n){var e=mI(n,"string");return typeof e=="symbol"?e:e+""}function mI(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oE(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,hh({key:t},e.attr),oE(e.child)))}function dt(n){return e=>Ke.createElement(pI,dh({attr:hh({},n.attr)},e),oE(n.child))}function pI(n){var e=t=>{var{attr:r,size:a,title:l}=n,c=cI(n,uI),f=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Ke.createElement("svg",dh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:h,style:hh(hh({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ke.createElement("title",null,l),n.children)};return jb!==void 0?Ke.createElement(jb.Consumer,null,t=>e(t)):e(aE)}function lE(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(n)}function gI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(n)}function yI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(n)}function vI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(n)}function _I(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(n)}function bI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function wI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(n)}function uE(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(n)}function TI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function EI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function zh(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(n)}function SI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(n)}function xI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(n)}function AI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function CI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(n)}function cE(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function ng(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}function RI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(n)}function II(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(n)}function Na(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(n)}function Xd(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(n)}function dE(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(n)}function NI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(n)}function OI(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}function Ko(n){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}const Vb=n=>{let e;const t=new Set,r=(p,v)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const S=e;e=v??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(x=>x(e,S))}},a=()=>e,f={setState:r,getState:a,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=n(r,a,f);return f},DI=(n=>n?Vb(n):Vb),MI=n=>n;function kI(n,e=MI){const t=Ke.useSyncExternalStore(n.subscribe,Ke.useCallback(()=>e(n.getState()),[n,e]),Ke.useCallback(()=>e(n.getInitialState()),[n,e]));return Ke.useDebugValue(t),t}const Ub=n=>{const e=DI(n),t=r=>kI(e,r);return Object.assign(t,e),t},Ku=(n=>n?Ub(n):Ub),Br=Ku((n,e)=>({items:[],addItem:t=>{const r=e().items.slice(),a=r.findIndex(l=>l.id===t.id);a>-1?r[a].qty=(r[a].qty||1)+(t.qty||1):r.push({...t,qty:t.qty||1}),n({items:r})},removeItem:t=>n(r=>({items:r.items.filter(a=>a.id!==t)})),updateQty:(t,r)=>n(a=>({items:a.items.map(l=>l.id===t?{...l,qty:r}:l)})),clear:()=>n({items:[]}),get totalCount(){return e().items.reduce((t,r)=>t+(r.qty||0),0)}})),PI=()=>{};var zb={};const hE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},jI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,h=a+2<n.length,p=h?n[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let S=(f&15)<<2|p>>6,x=p&63;h||(x=64,c||(S=64)),r.push(t[v],t[b],t[S],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new LI;const S=l<<2|f>>4;if(r.push(S),p!==64){const x=f<<4&240|p>>2;if(r.push(x),b!==64){const M=p<<6&192|b;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(n){const e=hE(n);return fE.encodeByteArray(e,!0)},fh=function(n){return VI(n).replace(/\./g,"")},mE=function(n){try{return fE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zI=()=>UI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof zb>"u")return;const n=zb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mE(n[1]);return e&&JSON.parse(e)},Bh=()=>{try{return PI()||zI()||BI()||FI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pE=n=>Bh()?.emulatorHosts?.[n],gE=n=>{const e=pE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yE=()=>Bh()?.config,vE=n=>Bh()?.[`_${n}`];class qI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Fs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yg(n){return(await fetch(n,{credentials:"include"})).ok}function _E(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[fh(JSON.stringify(t)),fh(JSON.stringify(c)),""].join(".")}const xu={};function HI(){const n={prod:[],emulator:[]};for(const e of Object.keys(xu))xu[e]?n.emulator.push(e):n.prod.push(e);return n}function GI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Bb=!1;function Kg(n,e){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||xu[n]===e||xu[n]||Bb)return;xu[n]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",l=HI().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function h(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Bb=!0,c()},S}function v(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=GI(r),x=t("text"),M=document.getElementById(x)||document.createElement("span"),k=t("learnmore"),N=document.getElementById(k)||document.createElement("a"),U=t("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const z=S.element;f(z),v(N,k);const te=p();h(B,U),z.append(B,M,N,te),document.body.appendChild(z)}l?(M.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function YI(){const n=Bh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WI(){return!YI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wE(){try{return typeof indexedDB=="object"}catch{return!1}}function TE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function JI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ZI="FirebaseError";class ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZI,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ua.prototype.create)}}class Ua{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?e2(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ci(a,f,r)}}function e2(n,e){return n.replace(t2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const t2=/\{\$([^}]+)}/g;function n2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ks(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(Fb(l)&&Fb(c)){if(!ks(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Fb(n){return n!==null&&typeof n=="object"}function Qu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function bu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function i2(n,e){const t=new r2(n,e);return t.subscribe.bind(t)}class r2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");s2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Rp),a.error===void 0&&(a.error=Rp),a.complete===void 0&&(a.complete=Rp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rp(){}const a2=1e3,o2=2,l2=14400*1e3,u2=.5;function qb(n,e=a2,t=o2){const r=e*Math.pow(t,n),a=Math.round(u2*r*(Math.random()-.5)*2);return Math.min(l2,r+a)}function rt(n){return n&&n._delegate?n._delegate:n}class li{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sa="[DEFAULT]";class c2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h2(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d2(n){return n===Sa?void 0:n}function h2(n){return n.instantiationMode==="EAGER"}class f2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new c2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const m2={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},p2=Ve.INFO,g2={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},y2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=g2[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=p2,this._logHandler=y2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const v2=(n,e)=>e.some(t=>n instanceof t);let Hb,Gb;function _2(){return Hb||(Hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return Gb||(Gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,ig=new WeakMap,SE=new WeakMap,Ip=new WeakMap,Qg=new WeakMap;function w2(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Rs(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&EE.set(t,n)}).catch(()=>{}),Qg.set(e,n),e}function T2(n){if(ig.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ig.set(n,e)}let rg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||SE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function E2(n){rg=n(rg)}function S2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Np(this),e,...t);return SE.set(r,e.sort?e.sort():[e]),Rs(r)}:b2().includes(n)?function(...e){return n.apply(Np(this),e),Rs(EE.get(this))}:function(...e){return Rs(n.apply(Np(this),e))}}function x2(n){return typeof n=="function"?S2(n):(n instanceof IDBTransaction&&T2(n),v2(n,_2())?new Proxy(n,rg):n)}function Rs(n){if(n instanceof IDBRequest)return w2(n);if(Ip.has(n))return Ip.get(n);const e=x2(n);return e!==n&&(Ip.set(n,e),Qg.set(e,n)),e}const Np=n=>Qg.get(n);function xE(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Rs(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Rs(c.result),h.oldVersion,h.newVersion,Rs(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const A2=["get","getKey","getAll","getAllKeys","count"],C2=["put","add","delete","clear"],Op=new Map;function $b(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=C2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||A2.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&h.done]))[0]};return Op.set(e,l),l}E2(n=>({...n,get:(e,t,r)=>$b(e,t)||n.get(e,t,r),has:(e,t)=>!!$b(e,t)||n.has(e,t)}));class R2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function I2(n){return n.getComponent()?.type==="VERSION"}const sg="@firebase/app",Yb="0.14.6";const jr=new Fh("@firebase/app"),N2="@firebase/app-compat",O2="@firebase/analytics-compat",D2="@firebase/analytics",M2="@firebase/app-check-compat",k2="@firebase/app-check",P2="@firebase/auth",j2="@firebase/auth-compat",L2="@firebase/database",V2="@firebase/data-connect",U2="@firebase/database-compat",z2="@firebase/functions",B2="@firebase/functions-compat",F2="@firebase/installations",q2="@firebase/installations-compat",H2="@firebase/messaging",G2="@firebase/messaging-compat",$2="@firebase/performance",Y2="@firebase/performance-compat",K2="@firebase/remote-config",Q2="@firebase/remote-config-compat",X2="@firebase/storage",W2="@firebase/storage-compat",J2="@firebase/firestore",Z2="@firebase/ai",eN="@firebase/firestore-compat",tN="firebase",nN="12.6.0";const ag="[DEFAULT]",iN={[sg]:"fire-core",[N2]:"fire-core-compat",[D2]:"fire-analytics",[O2]:"fire-analytics-compat",[k2]:"fire-app-check",[M2]:"fire-app-check-compat",[P2]:"fire-auth",[j2]:"fire-auth-compat",[L2]:"fire-rtdb",[V2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[z2]:"fire-fn",[B2]:"fire-fn-compat",[F2]:"fire-iid",[q2]:"fire-iid-compat",[H2]:"fire-fcm",[G2]:"fire-fcm-compat",[$2]:"fire-perf",[Y2]:"fire-perf-compat",[K2]:"fire-rc",[Q2]:"fire-rc-compat",[X2]:"fire-gcs",[W2]:"fire-gcs-compat",[J2]:"fire-fst",[eN]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};const mh=new Map,rN=new Map,og=new Map;function Kb(n,e){try{n.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ai(n){const e=n.name;if(og.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,n);for(const t of mh.values())Kb(t,n);for(const t of rN.values())Kb(t,n);return!0}function qs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rn(n){return n==null?!1:n.settings!==void 0}const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Ua("app","Firebase",sN);class aN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}const za=nN;function AE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ag,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(t||(t=yE()),!t)throw Is.create("no-options");const l=mh.get(a);if(l){if(ks(t,l.options)&&ks(r,l.config))return l;throw Is.create("duplicate-app",{appName:a})}const c=new f2(a);for(const h of og.values())c.addComponent(h);const f=new aN(t,r,c);return mh.set(a,f),f}function qh(n=ag){const e=mh.get(n);if(!e&&n===ag&&yE())return AE();if(!e)throw Is.create("no-app",{appName:n});return e}function Nn(n,e,t){let r=iN[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(c.join(" "));return}Ai(new li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const oN="firebase-heartbeat-database",lN=1,Pu="firebase-heartbeat-store";let Dp=null;function CE(){return Dp||(Dp=xE(oN,lN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),Dp}async function uN(n){try{const t=(await CE()).transaction(Pu),r=await t.objectStore(Pu).get(RE(n));return await t.done,r}catch(e){if(e instanceof ci)jr.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e?.message});jr.warn(t.message)}}}async function Qb(n,e){try{const r=(await CE()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,RE(n)),await r.done}catch(t){if(t instanceof ci)jr.warn(t.message);else{const r=Is.create("idb-set",{originalErrorMessage:t?.message});jr.warn(r.message)}}}function RE(n){return`${n.name}!${n.options.appId}`}const cN=1024,dN=30;class hN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>dN){const a=pN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){jr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xb(),{heartbeatsToSend:t,unsentEntries:r}=fN(this._heartbeatsCache.heartbeats),a=fh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return jr.warn(e),""}}}function Xb(){return new Date().toISOString().substring(0,10)}function fN(n,e=cN){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Wb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Wb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wE()?TE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Qb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Qb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Wb(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function pN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function gN(n){Ai(new li("platform-logger",e=>new R2(e),"PRIVATE")),Ai(new li("heartbeat",e=>new hN(e),"PRIVATE")),Nn(sg,Yb,n),Nn(sg,Yb,"esm2020"),Nn("fire-js","")}gN("");function IE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yN=IE,NE=new Ua("auth","Firebase",IE());const ph=new Fh("@firebase/auth");function vN(n,...e){ph.logLevel<=Ve.WARN&&ph.warn(`Auth (${za}): ${n}`,...e)}function Wd(n,...e){ph.logLevel<=Ve.ERROR&&ph.error(`Auth (${za}): ${n}`,...e)}function ui(n,...e){throw Wg(n,...e)}function xi(n,...e){return Wg(n,...e)}function Xg(n,e,t){const r={...yN(),[e]:t};return new Ua("auth","Firebase",r).create(e,{appName:n.name})}function Mr(n){return Xg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _N(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(n,"argument-error"),Xg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return NE.create(n,...e)}function Se(n,e,...t){if(!n)throw Wg(e,...t)}function Ir(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wd(e),new Error(e)}function Lr(n,e){n||Ir(e)}function lg(){return typeof self<"u"&&self.location?.href||""}function bN(){return Jb()==="http:"||Jb()==="https:"}function Jb(){return typeof self<"u"&&self.location?.protocol||null}function wN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bN()||bE()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Xu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lr(t>e,"Short delay should be less than long delay!"),this.isMobile=$I()||QI()}get(){return wN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jg(n,e){Lr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class OE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xN=new Xu(3e4,6e4);function Hs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Fr(n,e,t,r,a={}){return DE(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Qu({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:h,...l};return KI()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Fs(n.emulatorConfig.host)&&(p.credentials="include"),OE.fetch()(await ME(n,n.config.apiHost,t,f),p)})}async function DE(n,e,t){n._canInitEmulator=!1;const r={...EN,...e};try{const a=new CN(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vd(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Vd(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw Vd(n,"user-disabled",c);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Xg(n,v,p);ui(n,v)}}catch(a){if(a instanceof ci)throw a;ui(n,"network-request-failed",{message:String(a)})}}async function Wu(n,e,t,r,a={}){const l=await Fr(n,e,t,r,a);return"mfaPendingCredential"in l&&ui(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function ME(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?Jg(n.config,a):`${n.config.apiScheme}://${a}`;return SN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function AN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xi(this.auth,"network-request-failed")),xN.get())})}}function Vd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=xi(n,e,r);return a.customData._tokenResponse=t,a}function Zb(n){return n!==void 0&&n.enterprise!==void 0}class RN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IN(n,e){return Fr(n,"GET","/v2/recaptchaConfig",Hs(n,e))}async function NN(n,e){return Fr(n,"POST","/v1/accounts:delete",e)}async function gh(n,e){return Fr(n,"POST","/v1/accounts:lookup",e)}function Au(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ON(n,e=!1){const t=rt(n),r=await t.getIdToken(e),a=Zg(r);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Au(Mp(a.auth_time)),issuedAtTime:Au(Mp(a.iat)),expirationTime:Au(Mp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Mp(n){return Number(n)*1e3}function Zg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const a=mE(t);return a?JSON.parse(a):(Wd("Failed to decode base64 JWT payload"),null)}catch(a){return Wd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ew(n){const e=Zg(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ci&&DN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function DN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(n){const e=n.auth,t=await n.getIdToken(),r=await Qo(n,gh(e,{idToken:t}));Se(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?kE(a.providerUserInfo):[],c=PN(n.providerData,l),f=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,p=f?h:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function kN(n){const e=rt(n);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PN(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function kE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function jN(n,e){const t=await DE(n,{},async()=>{const r=Qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await ME(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return n.emulatorConfig&&Fs(n.emulatorConfig.host)&&(h.credentials="include"),OE.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LN(n,e){return Fr(n,"POST","/v2/accounts:revokeToken",Hs(n,e))}class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=ew(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await jN(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Bo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function Ts(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ug(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ON(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await Qo(this,NN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:x,providerData:M,stsTokenManager:k}=t;Se(b&&k,e,"internal-error");const N=Bo.fromJSON(this.name,k);Se(typeof b=="string",e,"internal-error"),Ts(r,e.name),Ts(a,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof x=="boolean",e,"internal-error"),Ts(l,e.name),Ts(c,e.name),Ts(f,e.name),Ts(h,e.name),Ts(p,e.name),Ts(v,e.name);const U=new Si({uid:b,auth:e,email:a,emailVerified:S,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:N,createdAt:p,lastLoginAt:v});return M&&Array.isArray(M)&&(U.providerData=M.map(B=>({...B}))),h&&(U._redirectEventId=h),U}static async _fromIdTokenResponse(e,t,r=!1){const a=new Bo;a.updateFromServerResponse(t);const l=new Si({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await yh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Bo;f.updateFromIdToken(r);const h=new Si({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(h,p),h}}const tw=new Map;function Nr(n){Lr(n instanceof Function,"Expected a class definition");let e=tw.get(n);return e?(Lr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tw.set(n,e),e)}class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PE.type="NONE";const nw=PE;function Jd(n,e,t){return`firebase:${n}:${e}:${t}`}class Fo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Jd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Jd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gh(this.auth,{idToken:e}).catch(()=>{});return t?Si._fromGetAccountInfoResponse(this.auth,t,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fo(Nr(nw),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Nr(nw);const c=Jd(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const S=await gh(e,{idToken:v}).catch(()=>{});if(!S)break;b=await Si._fromGetAccountInfoResponse(e,S,v)}else b=Si._fromJSON(e,v);p!==l&&(f=b),l=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Fo(l,e,r):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Fo(l,e,r))}}function iw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BE(e))return"Blackberry";if(FE(e))return"Webos";if(LE(e))return"Safari";if((e.includes("chrome/")||VE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function jE(n=ln()){return/firefox\//i.test(n)}function LE(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VE(n=ln()){return/crios\//i.test(n)}function UE(n=ln()){return/iemobile/i.test(n)}function zE(n=ln()){return/android/i.test(n)}function BE(n=ln()){return/blackberry/i.test(n)}function FE(n=ln()){return/webos/i.test(n)}function ey(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VN(n=ln()){return ey(n)&&!!window.navigator?.standalone}function UN(){return XI()&&document.documentMode===10}function qE(n=ln()){return ey(n)||zE(n)||FE(n)||BE(n)||/windows phone/i.test(n)||UE(n)}function HE(n,e=[]){let t;switch(n){case"Browser":t=iw(ln());break;case"Worker":t=`${iw(ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${za}/${r}`}class zN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function BN(n,e={}){return Fr(n,"GET","/v2/passwordPolicy",Hs(n,e))}const FN=6;class qN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class HN{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rw(this),this.idTokenSubscription=new rw(this),this.beforeStateQueue=new zN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gh(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Mr(this));const t=e?rt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BN(this),t=new qN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ua("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await LN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Gs(n){return rt(n)}class rw{constructor(e){this.auth=e,this.observer=null,this.addObserver=i2(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GN(n){Hh=n}function GE(n){return Hh.loadJS(n)}function $N(){return Hh.recaptchaEnterpriseScript}function YN(){return Hh.gapiScript}function KN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class QN{constructor(){this.enterprise=new XN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WN="recaptcha-enterprise",$E="NO_RECAPTCHA";class JN{constructor(e){this.type=WN,this.auth=Gs(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{IN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new RN(h);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(h=>{f(h)})})}function a(l,c,f){const h=window.grecaptcha;Zb(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c($E)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!t&&Zb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=$N();h.length!==0&&(h+=f),GE(h).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function sw(n,e,t,r=!1,a=!1){const l=new JN(n);let c;if(a)c=$E;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function cg(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await sw(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await sw(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}function ZN(n,e){const t=qs(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ks(l,e??{}))return a;ui(a,"already-initialized")}return t.initialize({options:e})}function eO(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Nr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function tO(n,e,t){const r=Gs(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=YE(e),{host:c,port:f}=nO(e),h=f===null?"":`:${f}`,p={url:`${l}//${c}${h}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ks(p,r.config.emulator)&&ks(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Fs(c)?(Yg(`${l}//${c}${h}`),Kg("Auth",!0)):iO()}function YE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nO(n){const e=YE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:aw(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:aw(c)}}}function aw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class ty{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function rO(n,e){return Fr(n,"POST","/v1/accounts:signUp",e)}async function sO(n,e){return Wu(n,"POST","/v1/accounts:signInWithPassword",Hs(n,e))}async function aO(n,e){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Hs(n,e))}async function oO(n,e){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Hs(n,e))}class ju extends ty{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new ju(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ju(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,t,"signInWithPassword",sO);case"emailLink":return aO(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",rO);case"emailLink":return oO(e,{idToken:t,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qo(n,e){return Wu(n,"POST","/v1/accounts:signInWithIdp",Hs(n,e))}const lO="http://localhost";class Oa extends ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new Oa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,qo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:lO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qu(t)}return e}}function uO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cO(n){const e=_u(bu(n)).link,t=e?_u(bu(e)).deep_link_id:null,r=_u(bu(n)).deep_link_id;return(r?_u(bu(r)).link:null)||r||t||e||n}class ny{constructor(e){const t=_u(bu(e)),r=t.apiKey??null,a=t.oobCode??null,l=uO(t.mode??null);Se(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=cO(e);try{return new ny(t)}catch{return null}}}class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,t){return ju._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ny.parseLink(t);return Se(r,"argument-error"),ju._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class iy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ju extends iy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rr extends Ju{constructor(){super("facebook.com")}static credential(e){return Oa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";class Ji extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oa._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ji.credential(t,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Es extends Ju{constructor(){super("github.com")}static credential(e){return Oa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";class Ss extends Ju{constructor(){super("twitter.com")}static credential(e,t){return Oa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ss.credential(t,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";async function dO(n,e){return Wu(n,"POST","/v1/accounts:signUp",Hs(n,e))}class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Si._fromIdTokenResponse(e,r,a),c=ow(r);return new Da({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=ow(r);return new Da({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function ow(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class vh extends ci{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new vh(e,t,r,a)}}function KE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(n,l,e,r):l})}async function hO(n,e,t=!1){const r=await Qo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Da._forOperation(n,"link",r)}async function fO(n,e,t=!1){const{auth:r}=n;if(Rn(r.app))return Promise.reject(Mr(r));const a="reauthenticate";try{const l=await Qo(n,KE(r,a,e,n),t);Se(l.idToken,r,"internal-error");const c=Zg(l.idToken);Se(c,r,"internal-error");const{sub:f}=c;return Se(n.uid===f,r,"user-mismatch"),Da._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ui(r,"user-mismatch"),l}}async function QE(n,e,t=!1){if(Rn(n.app))return Promise.reject(Mr(n));const r="signIn",a=await KE(n,r,e),l=await Da._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function mO(n,e){return QE(Gs(n),e)}async function XE(n){const e=Gs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pO(n,e,t){if(Rn(n.app))return Promise.reject(Mr(n));const r=Gs(n),c=await cg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&XE(n),h}),f=await Da._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function gO(n,e,t){return Rn(n.app)?Promise.reject(Mr(n)):mO(rt(n),rl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XE(n),r})}async function yO(n,e){return Fr(n,"POST","/v1/accounts:update",e)}async function WE(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=rt(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Qo(r,yO(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:h})=>h==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function vO(n,e,t,r){return rt(n).onIdTokenChanged(e,t,r)}function _O(n,e,t){return rt(n).beforeAuthStateChanged(e,t)}function bO(n,e,t,r){return rt(n).onAuthStateChanged(e,t,r)}function wO(n){return rt(n).signOut()}const _h="__sak";class JE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TO=1e3,EO=10;class ZE extends JE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);UN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,EO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const SO=ZE;class eS extends JE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eS.type="SESSION";const tS=eS;function xO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,l)),h=await xO(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function ry(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class AO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const p=ry("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(b){const S=b;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(v),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function er(){return window}function CO(n){er().location.href=n}function nS(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function RO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IO(){return navigator?.serviceWorker?.controller||null}function NO(){return nS()?self:null}const iS="firebaseLocalStorageDb",OO=1,bh="firebaseLocalStorage",rS="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $h(n,e){return n.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function DO(){const n=indexedDB.deleteDatabase(iS);return new Zu(n).toPromise()}function dg(){const n=indexedDB.open(iS,OO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bh,{keyPath:rS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await DO(),e(await dg()))})})}async function lw(n,e,t){const r=$h(n,!0).put({[rS]:e,value:t});return new Zu(r).toPromise()}async function MO(n,e){const t=$h(n,!1).get(e),r=await new Zu(t).toPromise();return r===void 0?null:r.value}function uw(n,e){const t=$h(n,!0).delete(e);return new Zu(t).toPromise()}const kO=800,PO=3;class sS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>PO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(NO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RO(),!this.activeServiceWorker)return;this.sender=new AO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await lw(e,_h,"1"),await uw(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>lw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>MO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>uw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=$h(a,!1).getAll();return new Zu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sS.type="LOCAL";const jO=sS;new Xu(3e4,6e4);function aS(n,e){return e?Nr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class sy extends ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LO(n){return QE(n.auth,new sy(n),n.bypassAuthState)}function VO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),fO(t,new sy(n),n.bypassAuthState)}async function UO(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),hO(t,new sy(n),n.bypassAuthState)}class oS{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LO;case"linkViaPopup":case"linkViaRedirect":return UO;case"reauthViaPopup":case"reauthViaRedirect":return VO;default:ui(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zO=new Xu(2e3,1e4);async function lS(n,e,t){if(Rn(n.app))return Promise.reject(xi(n,"operation-not-supported-in-this-environment"));const r=Gs(n);_N(n,e,iy);const a=aS(r,t);return new xa(r,"signInViaPopup",e,a).executeNotNull()}class xa extends oS{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zO.get())};e()}}xa.currentPopupAction=null;const BO="pendingRedirect",Zd=new Map;class FO extends oS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const r=await qO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qO(n,e){const t=$O(e),r=GO(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function HO(n,e){Zd.set(n._key(),e)}function GO(n){return Nr(n._redirectPersistence)}function $O(n){return Jd(BO,n.config.apiKey,n.name)}async function YO(n,e,t=!1){if(Rn(n.app))return Promise.reject(Mr(n));const r=Gs(n),a=aS(r,e),c=await new FO(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const KO=600*1e3;class QO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!uS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KO&&this.cachedEventUids.clear(),this.cachedEventUids.has(cw(e))}saveEventToCache(e){this.cachedEventUids.add(cw(e)),this.lastProcessedEventTime=Date.now()}}function cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function XO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uS(n);default:return!1}}async function WO(n,e={}){return Fr(n,"GET","/v1/projects",e)}const JO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZO=/^https?/;async function eD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await WO(n);for(const t of e)try{if(tD(t))return}catch{}ui(n,"unauthorized-domain")}function tD(n){const e=lg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!ZO.test(t))return!1;if(JO.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const nD=new Xu(3e4,6e4);function dw(){const n=er().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iD(n){return new Promise((e,t)=>{function r(){dw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dw(),t(xi(n,"network-request-failed"))},timeout:nD.get()})}if(er().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(er().gapi?.load)r();else{const a=KN("iframefcb");return er()[a]=()=>{gapi.load?r():t(xi(n,"network-request-failed"))},GE(`${YN()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw eh=null,e})}let eh=null;function rD(n){return eh=eh||iD(n),eh}const sD=new Xu(5e3,15e3),aD="__/auth/iframe",oD="emulator/auth/iframe",lD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cD(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Jg(e,oD):`https://${n.config.authDomain}/${aD}`,r={apiKey:e.apiKey,appName:n.name,v:za},a=uD.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Qu(r).slice(1)}`}async function dD(n){const e=await rD(n),t=er().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:cD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lD,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=xi(n,"network-request-failed"),f=er().setTimeout(()=>{l(c)},sD.get());function h(){er().clearTimeout(f),a(r)}r.ping(h).then(h,()=>{l(c)})}))}const hD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fD=500,mD=600,pD="_blank",gD="http://localhost";class hw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yD(n,e,t,r=fD,a=mD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h={...hD,width:r.toString(),height:a.toString(),top:l,left:c},p=ln().toLowerCase();t&&(f=VE(p)?pD:t),jE(p)&&(e=e||gD,h.scrollbars="yes");const v=Object.entries(h).reduce((S,[x,M])=>`${S}${x}=${M},`,"");if(VN(p)&&f!=="_self")return vD(e||"",f),new hw(null);const b=window.open(e||"",f,v);Se(b,n,"popup-blocked");try{b.focus()}catch{}return new hw(b)}function vD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const _D="__/auth/handler",bD="emulator/auth/handler",wD=encodeURIComponent("fac");async function fw(n,e,t,r,a,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:za,eventId:a};if(e instanceof iy){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",n2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Ju){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const h=await n._getAppCheckToken(),p=h?`#${wD}=${encodeURIComponent(h)}`:"";return`${TD(n)}?${Qu(f).slice(1)}${p}`}function TD({config:n}){return n.emulator?Jg(n,bD):`https://${n.authDomain}/${_D}`}const kp="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tS,this._completeRedirectFn=YO,this._overrideRedirectResult=HO}async _openPopup(e,t,r,a){Lr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await fw(e,t,r,lg(),a);return yD(e,l,ry())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await fw(e,t,r,lg(),a);return CO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Lr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await dD(e),r=new QO(e);return t.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kp,{type:kp},a=>{const l=a?.[0]?.[kp];l!==void 0&&t(!!l),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qE()||LE()||ey()}}const SD=ED;var mw="@firebase/auth",pw="1.11.1";class xD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CD(n){Ai(new li("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HE(n)},p=new HN(r,a,l,h);return eO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ai(new li("auth-internal",e=>{const t=Gs(e.getProvider("auth").getImmediate());return(r=>new xD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(mw,pw,AD(n)),Nn(mw,pw,"esm2020")}const RD=300,ID=vE("authIdTokenMaxAge")||RD;let gw=null;const ND=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ID)return;const a=t?.token;gw!==a&&(gw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function OD(n=qh()){const e=qs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZN(n,{popupRedirectResolver:SD,persistence:[jO,SO,tS]}),r=vE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=ND(l.toString());_O(t,c,()=>c(t.currentUser)),vO(t,f=>c(f))}}const a=pE("auth");return a&&tO(t,`http://${a}`),t}function DD(){return document.getElementsByTagName("head")?.[0]??document}GN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=xi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",DD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CD("Browser");function MD(n,e,t,r){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function f(v){try{p(r.next(v))}catch(b){c(b)}}function h(v){try{p(r.throw(v))}catch(b){c(b)}}function p(v){v.done?l(v.value):a(v.value).then(f,h)}p((r=r.apply(n,[])).next())})}function kD(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,a=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){t.label=p[1];break}if(p[0]===6&&t.label<l[1]){t.label=l[1],l=p;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(p);break}l[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(v){p=[6,v],a=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var zo=function(){return zo=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},zo.apply(this,arguments)},cS=function(n){return{loading:n==null,value:n}},PD=function(){return function(n,e){switch(e.type){case"error":return zo(zo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return cS(e.defaultValue);case"value":return zo(zo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},jD=(function(n){var e=n?n():void 0,t=F.useReducer(PD(),cS(e)),r=t[0],a=t[1],l=F.useCallback(function(){var h=n?n():void 0;a({type:"reset",defaultValue:h})},[n]),c=F.useCallback(function(h){a({type:"error",error:h})},[]),f=F.useCallback(function(h){a({type:"value",value:h})},[]);return F.useMemo(function(){return{error:r.error,loading:r.loading,reset:l,setError:c,setValue:f,value:r.value}},[r.error,r.loading,l,c,f,r.value])}),Ba=(function(n,e){var t=jD(function(){return n.currentUser}),r=t.error,a=t.loading,l=t.setError,c=t.setValue,f=t.value;return F.useEffect(function(){var h=bO(n,function(p){return MD(void 0,void 0,void 0,function(){var v;return kD(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return b.sent(),[3,4];case 3:return v=b.sent(),l(v),[3,4];case 4:return c(p),[2]}})})},l);return function(){h()}},[n]),[f,a,r]}),LD="firebase",VD="12.6.0";Nn(LD,VD,"app");var yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ns,dS;(function(){var n;function e(O,E){function D(){}D.prototype=E.prototype,O.F=E.prototype,O.prototype=new D,O.prototype.constructor=O,O.D=function(I,C,L){for(var P=Array(arguments.length-2),de=2;de<arguments.length;de++)P[de-2]=arguments[de];return E.prototype[C].apply(I,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,E,D){D||(D=0);const I=Array(16);if(typeof E=="string")for(var C=0;C<16;++C)I[C]=E.charCodeAt(D++)|E.charCodeAt(D++)<<8|E.charCodeAt(D++)<<16|E.charCodeAt(D++)<<24;else for(C=0;C<16;++C)I[C]=E[D++]|E[D++]<<8|E[D++]<<16|E[D++]<<24;E=O.g[0],D=O.g[1],C=O.g[2];let L=O.g[3],P;P=E+(L^D&(C^L))+I[0]+3614090360&4294967295,E=D+(P<<7&4294967295|P>>>25),P=L+(C^E&(D^C))+I[1]+3905402710&4294967295,L=E+(P<<12&4294967295|P>>>20),P=C+(D^L&(E^D))+I[2]+606105819&4294967295,C=L+(P<<17&4294967295|P>>>15),P=D+(E^C&(L^E))+I[3]+3250441966&4294967295,D=C+(P<<22&4294967295|P>>>10),P=E+(L^D&(C^L))+I[4]+4118548399&4294967295,E=D+(P<<7&4294967295|P>>>25),P=L+(C^E&(D^C))+I[5]+1200080426&4294967295,L=E+(P<<12&4294967295|P>>>20),P=C+(D^L&(E^D))+I[6]+2821735955&4294967295,C=L+(P<<17&4294967295|P>>>15),P=D+(E^C&(L^E))+I[7]+4249261313&4294967295,D=C+(P<<22&4294967295|P>>>10),P=E+(L^D&(C^L))+I[8]+1770035416&4294967295,E=D+(P<<7&4294967295|P>>>25),P=L+(C^E&(D^C))+I[9]+2336552879&4294967295,L=E+(P<<12&4294967295|P>>>20),P=C+(D^L&(E^D))+I[10]+4294925233&4294967295,C=L+(P<<17&4294967295|P>>>15),P=D+(E^C&(L^E))+I[11]+2304563134&4294967295,D=C+(P<<22&4294967295|P>>>10),P=E+(L^D&(C^L))+I[12]+1804603682&4294967295,E=D+(P<<7&4294967295|P>>>25),P=L+(C^E&(D^C))+I[13]+4254626195&4294967295,L=E+(P<<12&4294967295|P>>>20),P=C+(D^L&(E^D))+I[14]+2792965006&4294967295,C=L+(P<<17&4294967295|P>>>15),P=D+(E^C&(L^E))+I[15]+1236535329&4294967295,D=C+(P<<22&4294967295|P>>>10),P=E+(C^L&(D^C))+I[1]+4129170786&4294967295,E=D+(P<<5&4294967295|P>>>27),P=L+(D^C&(E^D))+I[6]+3225465664&4294967295,L=E+(P<<9&4294967295|P>>>23),P=C+(E^D&(L^E))+I[11]+643717713&4294967295,C=L+(P<<14&4294967295|P>>>18),P=D+(L^E&(C^L))+I[0]+3921069994&4294967295,D=C+(P<<20&4294967295|P>>>12),P=E+(C^L&(D^C))+I[5]+3593408605&4294967295,E=D+(P<<5&4294967295|P>>>27),P=L+(D^C&(E^D))+I[10]+38016083&4294967295,L=E+(P<<9&4294967295|P>>>23),P=C+(E^D&(L^E))+I[15]+3634488961&4294967295,C=L+(P<<14&4294967295|P>>>18),P=D+(L^E&(C^L))+I[4]+3889429448&4294967295,D=C+(P<<20&4294967295|P>>>12),P=E+(C^L&(D^C))+I[9]+568446438&4294967295,E=D+(P<<5&4294967295|P>>>27),P=L+(D^C&(E^D))+I[14]+3275163606&4294967295,L=E+(P<<9&4294967295|P>>>23),P=C+(E^D&(L^E))+I[3]+4107603335&4294967295,C=L+(P<<14&4294967295|P>>>18),P=D+(L^E&(C^L))+I[8]+1163531501&4294967295,D=C+(P<<20&4294967295|P>>>12),P=E+(C^L&(D^C))+I[13]+2850285829&4294967295,E=D+(P<<5&4294967295|P>>>27),P=L+(D^C&(E^D))+I[2]+4243563512&4294967295,L=E+(P<<9&4294967295|P>>>23),P=C+(E^D&(L^E))+I[7]+1735328473&4294967295,C=L+(P<<14&4294967295|P>>>18),P=D+(L^E&(C^L))+I[12]+2368359562&4294967295,D=C+(P<<20&4294967295|P>>>12),P=E+(D^C^L)+I[5]+4294588738&4294967295,E=D+(P<<4&4294967295|P>>>28),P=L+(E^D^C)+I[8]+2272392833&4294967295,L=E+(P<<11&4294967295|P>>>21),P=C+(L^E^D)+I[11]+1839030562&4294967295,C=L+(P<<16&4294967295|P>>>16),P=D+(C^L^E)+I[14]+4259657740&4294967295,D=C+(P<<23&4294967295|P>>>9),P=E+(D^C^L)+I[1]+2763975236&4294967295,E=D+(P<<4&4294967295|P>>>28),P=L+(E^D^C)+I[4]+1272893353&4294967295,L=E+(P<<11&4294967295|P>>>21),P=C+(L^E^D)+I[7]+4139469664&4294967295,C=L+(P<<16&4294967295|P>>>16),P=D+(C^L^E)+I[10]+3200236656&4294967295,D=C+(P<<23&4294967295|P>>>9),P=E+(D^C^L)+I[13]+681279174&4294967295,E=D+(P<<4&4294967295|P>>>28),P=L+(E^D^C)+I[0]+3936430074&4294967295,L=E+(P<<11&4294967295|P>>>21),P=C+(L^E^D)+I[3]+3572445317&4294967295,C=L+(P<<16&4294967295|P>>>16),P=D+(C^L^E)+I[6]+76029189&4294967295,D=C+(P<<23&4294967295|P>>>9),P=E+(D^C^L)+I[9]+3654602809&4294967295,E=D+(P<<4&4294967295|P>>>28),P=L+(E^D^C)+I[12]+3873151461&4294967295,L=E+(P<<11&4294967295|P>>>21),P=C+(L^E^D)+I[15]+530742520&4294967295,C=L+(P<<16&4294967295|P>>>16),P=D+(C^L^E)+I[2]+3299628645&4294967295,D=C+(P<<23&4294967295|P>>>9),P=E+(C^(D|~L))+I[0]+4096336452&4294967295,E=D+(P<<6&4294967295|P>>>26),P=L+(D^(E|~C))+I[7]+1126891415&4294967295,L=E+(P<<10&4294967295|P>>>22),P=C+(E^(L|~D))+I[14]+2878612391&4294967295,C=L+(P<<15&4294967295|P>>>17),P=D+(L^(C|~E))+I[5]+4237533241&4294967295,D=C+(P<<21&4294967295|P>>>11),P=E+(C^(D|~L))+I[12]+1700485571&4294967295,E=D+(P<<6&4294967295|P>>>26),P=L+(D^(E|~C))+I[3]+2399980690&4294967295,L=E+(P<<10&4294967295|P>>>22),P=C+(E^(L|~D))+I[10]+4293915773&4294967295,C=L+(P<<15&4294967295|P>>>17),P=D+(L^(C|~E))+I[1]+2240044497&4294967295,D=C+(P<<21&4294967295|P>>>11),P=E+(C^(D|~L))+I[8]+1873313359&4294967295,E=D+(P<<6&4294967295|P>>>26),P=L+(D^(E|~C))+I[15]+4264355552&4294967295,L=E+(P<<10&4294967295|P>>>22),P=C+(E^(L|~D))+I[6]+2734768916&4294967295,C=L+(P<<15&4294967295|P>>>17),P=D+(L^(C|~E))+I[13]+1309151649&4294967295,D=C+(P<<21&4294967295|P>>>11),P=E+(C^(D|~L))+I[4]+4149444226&4294967295,E=D+(P<<6&4294967295|P>>>26),P=L+(D^(E|~C))+I[11]+3174756917&4294967295,L=E+(P<<10&4294967295|P>>>22),P=C+(E^(L|~D))+I[2]+718787259&4294967295,C=L+(P<<15&4294967295|P>>>17),P=D+(L^(C|~E))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+E&4294967295,O.g[1]=O.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+C&4294967295,O.g[3]=O.g[3]+L&4294967295}r.prototype.v=function(O,E){E===void 0&&(E=O.length);const D=E-this.blockSize,I=this.C;let C=this.h,L=0;for(;L<E;){if(C==0)for(;L<=D;)a(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<E;)if(I[C++]=O.charCodeAt(L++),C==this.blockSize){a(this,I),C=0;break}}else for(;L<E;)if(I[C++]=O[L++],C==this.blockSize){a(this,I),C=0;break}}this.h=C,this.o+=E},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var E=1;E<O.length-8;++E)O[E]=0;E=this.o*8;for(var D=O.length-8;D<O.length;++D)O[D]=E&255,E/=256;for(this.v(O),O=Array(16),E=0,D=0;D<4;++D)for(let I=0;I<32;I+=8)O[E++]=this.g[D]>>>I&255;return O};function l(O,E){var D=f;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=E(O)}function c(O,E){this.h=E;const D=[];let I=!0;for(let C=O.length-1;C>=0;C--){const L=O[C]|0;I&&L==E||(D[C]=L,I=!1)}this.g=D}var f={};function h(O){return-128<=O&&O<128?l(O,function(E){return new c([E|0],E<0?-1:0)}):new c([O|0],O<0?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return b;if(O<0)return N(p(-O));const E=[];let D=1;for(let I=0;O>=D;I++)E[I]=O/D|0,D*=4294967296;return new c(E,0)}function v(O,E){if(O.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(O.charAt(0)=="-")return N(v(O.substring(1),E));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(E,8));let I=b;for(let L=0;L<O.length;L+=8){var C=Math.min(8,O.length-L);const P=parseInt(O.substring(L,L+C),E);C<8?(C=p(Math.pow(E,C)),I=I.j(C).add(p(P))):(I=I.j(D),I=I.add(p(P)))}return I}var b=h(0),S=h(1),x=h(16777216);n=c.prototype,n.m=function(){if(k(this))return-N(this).m();let O=0,E=1;for(let D=0;D<this.g.length;D++){const I=this.i(D);O+=(I>=0?I:4294967296+I)*E,E*=4294967296}return O},n.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(k(this))return"-"+N(this).toString(O);const E=p(Math.pow(O,6));var D=this;let I="";for(;;){const C=te(D,E).g;D=U(D,C.j(E));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(O);if(D=C,M(D))return L+I;for(;L.length<6;)L="0"+L;I=L+I}},n.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(let E=0;E<O.g.length;E++)if(O.g[E]!=0)return!1;return!0}function k(O){return O.h==-1}n.l=function(O){return O=U(this,O),k(O)?-1:M(O)?0:1};function N(O){const E=O.g.length,D=[];for(let I=0;I<E;I++)D[I]=~O.g[I];return new c(D,~O.h).add(S)}n.abs=function(){return k(this)?N(this):this},n.add=function(O){const E=Math.max(this.g.length,O.g.length),D=[];let I=0;for(let C=0;C<=E;C++){let L=I+(this.i(C)&65535)+(O.i(C)&65535),P=(L>>>16)+(this.i(C)>>>16)+(O.i(C)>>>16);I=P>>>16,L&=65535,P&=65535,D[C]=P<<16|L}return new c(D,D[D.length-1]&-2147483648?-1:0)};function U(O,E){return O.add(N(E))}n.j=function(O){if(M(this)||M(O))return b;if(k(this))return k(O)?N(this).j(N(O)):N(N(this).j(O));if(k(O))return N(this.j(N(O)));if(this.l(x)<0&&O.l(x)<0)return p(this.m()*O.m());const E=this.g.length+O.g.length,D=[];for(var I=0;I<2*E;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(let C=0;C<O.g.length;C++){const L=this.i(I)>>>16,P=this.i(I)&65535,de=O.i(C)>>>16,ce=O.i(C)&65535;D[2*I+2*C]+=P*ce,B(D,2*I+2*C),D[2*I+2*C+1]+=L*ce,B(D,2*I+2*C+1),D[2*I+2*C+1]+=P*de,B(D,2*I+2*C+1),D[2*I+2*C+2]+=L*de,B(D,2*I+2*C+2)}for(O=0;O<E;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=E;O<2*E;O++)D[O]=0;return new c(D,0)};function B(O,E){for(;(O[E]&65535)!=O[E];)O[E+1]+=O[E]>>>16,O[E]&=65535,E++}function z(O,E){this.g=O,this.h=E}function te(O,E){if(M(E))throw Error("division by zero");if(M(O))return new z(b,b);if(k(O))return E=te(N(O),E),new z(N(E.g),N(E.h));if(k(E))return E=te(O,N(E)),new z(N(E.g),E.h);if(O.g.length>30){if(k(O)||k(E))throw Error("slowDivide_ only works with positive integers.");for(var D=S,I=E;I.l(O)<=0;)D=ne(D),I=ne(I);var C=ie(D,1),L=ie(I,1);for(I=ie(I,2),D=ie(D,2);!M(I);){var P=L.add(I);P.l(O)<=0&&(C=C.add(D),L=P),I=ie(I,1),D=ie(D,1)}return E=U(O,C.j(E)),new z(C,E)}for(C=b;O.l(E)>=0;){for(D=Math.max(1,Math.floor(O.m()/E.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),L=p(D),P=L.j(E);k(P)||P.l(O)>0;)D-=I,L=p(D),P=L.j(E);M(L)&&(L=S),C=C.add(L),O=U(O,P)}return new z(C,O)}n.B=function(O){return te(this,O).h},n.and=function(O){const E=Math.max(this.g.length,O.g.length),D=[];for(let I=0;I<E;I++)D[I]=this.i(I)&O.i(I);return new c(D,this.h&O.h)},n.or=function(O){const E=Math.max(this.g.length,O.g.length),D=[];for(let I=0;I<E;I++)D[I]=this.i(I)|O.i(I);return new c(D,this.h|O.h)},n.xor=function(O){const E=Math.max(this.g.length,O.g.length),D=[];for(let I=0;I<E;I++)D[I]=this.i(I)^O.i(I);return new c(D,this.h^O.h)};function ne(O){const E=O.g.length+1,D=[];for(let I=0;I<E;I++)D[I]=O.i(I)<<1|O.i(I-1)>>>31;return new c(D,O.h)}function ie(O,E){const D=E>>5;E%=32;const I=O.g.length-D,C=[];for(let L=0;L<I;L++)C[L]=E>0?O.i(L+D)>>>E|O.i(L+D+1)<<32-E:O.i(L+D);return new c(C,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Ns=c}).apply(typeof yw<"u"?yw:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hS,wu,fS,th,hg,mS,pS,gS;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(d,_){if(_)e:{var T=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var Y=d[R];if(!(Y in T))break e;T=T[Y]}d=d[d.length-1],R=T[d],_=_(R),_!=R&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var T=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&T.push([R,_[R]]);return T}});var l=l||{},c=this||self;function f(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,T){return d.call.apply(d.bind,arguments)}function p(d,_,T){return p=h,p.apply(null,arguments)}function v(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function b(d,_){function T(){}T.prototype=_.prototype,d.Z=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(R,Y,W){for(var pe=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)pe[Oe-2]=arguments[Oe];return _.prototype[Y].apply(R,pe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const _=d.length;if(_>0){const T=Array(_);for(let R=0;R<_;R++)T[R]=d[R];return T}return[]}function M(d,_){for(let R=1;R<arguments.length;R++){const Y=arguments[R];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=d.length||0;const W=Y.length||0;d.length=T+W;for(let pe=0;pe<W;pe++)d[T+pe]=Y[pe]}else d.push(Y)}}class k{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(d){c.setTimeout(()=>{throw d},0)}function U(){var d=O;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,T){const R=z.get();R.set(_,T),this.h?this.h.next=R:this.g=R,this.h=R}}var z=new k(()=>new te,d=>d.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ie=!1,O=new B,E=()=>{const d=Promise.resolve(void 0);ne=()=>{d.then(D)}};function D(){for(var d;d=U();){try{d.h.call(d.g)}catch(T){N(T)}var _=z;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}ie=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,_),c.removeEventListener("test",T,_)}catch{}return d})();function P(d){return/^[\s\xa0]*$/.test(d)}function de(d,_){C.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}b(de,C),de.prototype.init=function(d,_){const T=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),q=0;function J(d,_,T,R,Y){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!R,this.ha=Y,this.key=++q,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ue(d,_,T){for(const R in d)_.call(T,d[R],R,d)}function fe(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function j(d){const _={};for(const T in d)_[T]=d[T];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(d,_){let T,R;for(let Y=1;Y<arguments.length;Y++){R=arguments[Y];for(T in R)d[T]=R[T];for(let W=0;W<ee.length;W++)T=ee[W],Object.prototype.hasOwnProperty.call(R,T)&&(d[T]=R[T])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,_,T,R,Y){const W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);const pe=Ae(d,_,R,Y);return pe>-1?(_=d[pe],T||(_.fa=!1)):(_=new J(_,this.src,W,!!R,Y),_.fa=T,d.push(_)),_};function be(d,_){const T=_.type;if(T in d.g){var R=d.g[T],Y=Array.prototype.indexOf.call(R,_,void 0),W;(W=Y>=0)&&Array.prototype.splice.call(R,Y,1),W&&($(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ae(d,_,T,R){for(let Y=0;Y<d.length;++Y){const W=d[Y];if(!W.da&&W.listener==_&&W.capture==!!T&&W.ha==R)return Y}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),at={};function qe(d,_,T,R,Y){if(Array.isArray(_)){for(let W=0;W<_.length;W++)qe(d,_[W],T,R,Y);return null}return T=fl(T),d&&d[ce]?d.J(_,T,f(R)?!!R.capture:!1,Y):vt(d,_,T,!1,R,Y)}function vt(d,_,T,R,Y,W){if(!_)throw Error("Invalid event type");const pe=f(Y)?!!Y.capture:!!Y;let Oe=Ks(d);if(Oe||(d[Ne]=Oe=new me(d)),T=Oe.add(_,T,R,pe,W),T.proxy)return T;if(R=cn(),T.proxy=R,R.src=d,R.listener=T,d.addEventListener)L||(Y=pe),Y===void 0&&(Y=!1),d.addEventListener(_.toString(),R,Y);else if(d.attachEvent)d.attachEvent(Ii(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function cn(){function d(T){return _.call(d.src,d.listener,T)}const _=dl;return d}function Hn(d,_,T,R,Y){if(Array.isArray(_))for(var W=0;W<_.length;W++)Hn(d,_[W],T,R,Y);else R=f(R)?!!R.capture:!!R,T=fl(T),d&&d[ce]?(d=d.i,W=String(_).toString(),W in d.g&&(_=d.g[W],T=Ae(_,T,R,Y),T>-1&&($(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete d.g[W],d.h--)))):d&&(d=Ks(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ae(_,T,R,Y)),(T=d>-1?_[d]:null)&&di(T))}function di(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ce])be(_.i,d);else{var T=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(T,R,d.capture):_.detachEvent?_.detachEvent(Ii(T),R):_.addListener&&_.removeListener&&_.removeListener(R),(T=Ks(_))?(be(T,d),T.h==0&&(T.src=null,_[Ne]=null)):$(d)}}}function Ii(d){return d in at?at[d]:at[d]="on"+d}function dl(d,_){if(d.da)d=!0;else{_=new de(_,this);const T=d.listener,R=d.ha||d.src;d.fa&&di(d),d=T.call(R,_)}return d}function Ks(d){return d=d[Ne],d instanceof me?d:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(d){return typeof d=="function"?d:(d[hl]||(d[hl]=function(_){return d.handleEvent(_)}),d[hl])}function Ct(){I.call(this),this.i=new me(this),this.M=this,this.G=null}b(Ct,I),Ct.prototype[ce]=!0,Ct.prototype.removeEventListener=function(d,_,T,R){Hn(this,d,_,T,R)};function Ut(d,_){var T,R=d.G;if(R)for(T=[];R;R=R.G)T.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new C(_,d);else if(_ instanceof C)_.target=_.target||d;else{var Y=_;_=new C(R,d),he(_,Y)}Y=!0;let W,pe;if(T)for(pe=T.length-1;pe>=0;pe--)W=_.g=T[pe],Y=qr(W,R,!0,_)&&Y;if(W=_.g=d,Y=qr(W,R,!0,_)&&Y,Y=qr(W,R,!1,_)&&Y,T)for(pe=0;pe<T.length;pe++)W=_.g=T[pe],Y=qr(W,R,!1,_)&&Y}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const T=d.g[_];for(let R=0;R<T.length;R++)$(T[R]);delete d.g[_],d.h--}}this.G=null},Ct.prototype.J=function(d,_,T,R){return this.i.add(String(d),_,!1,T,R)},Ct.prototype.K=function(d,_,T,R){return this.i.add(String(d),_,!0,T,R)};function qr(d,_,T,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let W=0;W<_.length;++W){const pe=_[W];if(pe&&!pe.da&&pe.capture==T){const Oe=pe.listener,Et=pe.ha||pe.src;pe.fa&&be(d.i,pe),Y=Oe.call(Et,R)!==!1&&Y}}return Y&&!R.defaultPrevented}function Tf(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(d,_||0)}function lc(d){d.g=Tf(()=>{d.g=null,d.i&&(d.i=!1,lc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class dn extends I{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:lc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(d){I.call(this),this.h=d,this.g={}}b(Qs,I);var ml=[];function pl(d){ue(d.g,function(_,T){this.g.hasOwnProperty(T)&&di(_)},d),d.g={}}Qs.prototype.N=function(){Qs.Z.N.call(this),pl(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hr=c.JSON.stringify,Ef=c.JSON.parse,uc=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function cc(){}function dc(){}var hi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){C.call(this,"d")}b(Yt,C);function Gn(){C.call(this,"c")}b(Gn,C);var Tt={},hc=null;function $a(){return hc=hc||new Ct}Tt.Ia="serverreachability";function fc(d){C.call(this,Tt.Ia,d)}b(fc,C);function Ni(d){const _=$a();Ut(_,new fc(_))}Tt.STAT_EVENT="statevent";function Xs(d,_){C.call(this,Tt.STAT_EVENT,d),this.stat=_}b(Xs,C);function Rt(d){const _=$a();Ut(_,new Xs(_,d))}Tt.Ja="timingevent";function Oi(d,_){C.call(this,Tt.Ja,d),this.size=_}b(Oi,C);function Di(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function Sf(d,_,T,R,Y,W){d.info(function(){if(d.g)if(W){var pe="",Oe=W.split("&");for(let $e=0;$e<Oe.length;$e++){var Et=Oe[$e].split("=");if(Et.length>1){const ht=Et[0];Et=Et[1];const Qn=ht.split("_");pe=Qn.length>=2&&Qn[1]=="type"?pe+(ht+"="+Et+"&"):pe+(ht+"=redacted&")}}}else pe=null;else pe=W;return"XMLHTTP REQ ("+R+") [attempt "+Y+"]: "+_+`
`+T+`
`+pe})}function mc(d,_,T,R,Y,W,pe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Y+"]: "+_+`
`+T+`
`+W+" "+pe})}function Mi(d,_,T,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+xf(d,T)+(R?" "+R:"")})}function Ws(d,_){d.info(function(){return"TIMEOUT: "+_})}fi.prototype.info=function(){};function xf(d,_){if(!d.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(d=0;d<W.length;d++)if(Array.isArray(W[d])){var T=W[d];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var Y=R[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let pe=1;pe<R.length;pe++)R[pe]=""}}}}return Hr(W)}catch{return _}}var Js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function Zs(){}b(Zs,cc),Zs.prototype.g=function(){return new XMLHttpRequest},yl=new Zs;function lr(d){return encodeURIComponent(String(d))}function pc(d){var _=1;d=d.split(":");const T=[];for(;_>0&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function mi(d,_,T,R){this.j=d,this.i=_,this.l=T,this.S=R||1,this.V=new Qs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var It={},qt={};function ki(d,_,T){d.M=1,d.A=ea(Ot(_)),d.u=T,d.R=!0,Ya(d,null)}function Ya(d,_){d.F=Date.now(),Pi(d),d.B=Ot(d.A);var T=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),Wa(T.i,"t",R),d.C=0,T=d.j.L,d.h=new pi,d.g=Nc(d.j,T?_:null,!d.u),d.P>0&&(d.O=new dn(p(d.Y,d,d.g),d.P)),_=d.V,T=d.g,R=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ml[0]=Y.toString()),Y=ml);for(let W=0;W<Y.length;W++){const pe=qe(T,Y[W],R||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Ni(),Sf(d.i,d.v,d.B,d.l,d.S,d.u)}mi.prototype.ba=function(d){d=d.target;const _=this.O;_&&vi(d)==3?_.j():this.Y(d)},mi.prototype.Y=function(d){try{if(d==this.g)e:{const Oe=vi(this.g),Et=this.g.ya(),$e=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Oe!=4||Et==7||(Et==8||$e<=0?Ni(3):Ni(2)),ji(this);var _=this.g.ca();this.X=_;var T=Af(this);if(this.o=_==200,mc(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Y=this.g;if((R=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var W=R;break t}}W=null}if(d=W)Mi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,d);else{this.o=!1,this.m=3,Rt(12),On(this),$n(this);break e}}if(this.R){d=!0;let ht;for(;!this.K&&this.C<T.length;)if(ht=yc(this,T),ht==qt){Oe==4&&(this.m=4,Rt(14),d=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==It){this.m=4,Rt(15),Mi(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Mi(this.i,this.l,ht,null),Li(this,ht);if(gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||T.length!=0||this.h.h||(this.m=1,Rt(16),d=!1),this.o=this.o&&d,!d)Mi(this.i,this.l,T,"[Invalid Chunked Response]"),On(this),$n(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Dl(pe),pe.P=!0,Rt(11))}}else Mi(this.i,this.l,T,null),Li(this,T);Oe==4&&On(this),this.o&&!this.K&&(Oe==4?Ac(this.j,this):(this.o=!1,Pi(this)))}else cr(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),On(this),$n(this)}}}catch{}finally{}};function Af(d){if(!gc(d))return d.g.la();const _=Kt(d.g);if(_==="")return"";let T="";const R=_.length,Y=vi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return On(d),$n(d),"";d.h.i=new c.TextDecoder}for(let W=0;W<R;W++)d.h.h=!0,T+=d.h.i.decode(_[W],{stream:!(Y&&W==R-1)});return _.length=0,d.h.g+=T,d.C=0,d.h.g}function gc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function yc(d,_){var T=d.C,R=_.indexOf(`
`,T);return R==-1?qt:(T=Number(_.substring(T,R)),isNaN(T)?It:(R+=1,R+T>_.length?qt:(_=_.slice(R,R+T),d.C=R+T,_)))}mi.prototype.cancel=function(){this.K=!0,On(this)};function Pi(d){d.T=Date.now()+d.H,Ka(d,d.H)}function Ka(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Di(p(d.aa,d),_)}function ji(d){d.D&&(c.clearTimeout(d.D),d.D=null)}mi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ws(this.i,this.B),this.M!=2&&(Ni(),Rt(17)),On(this),this.m=2,$n(this)):Ka(this,this.T-d)};function $n(d){d.j.I==0||d.K||Ac(d.j,d)}function On(d){ji(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,pl(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Li(d,_){try{var T=d.j;if(T.I!=0&&(T.g==d||Ui(T.h,d))){if(!d.L&&Ui(T.h,d)&&T.I==3){try{var R=T.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Y=R;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)no(T),Jr(T);else break e;oa(T),Rt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Di(p(T.Va,T),6e3));Vi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Gi(T,11)}else if((d.L||T.g==d)&&no(T),!P(_))for(Y=T.Ba.g.parse(_),_=0;_<Y.length;_++){let $e=Y[_];const ht=$e[0];if(!(ht<=T.K))if(T.K=ht,$e=$e[1],T.I==2)if($e[0]=="c"){T.M=$e[1],T.ba=$e[2];const Qn=$e[3];Qn!=null&&(T.ka=Qn,T.j.info("VER="+T.ka));const $i=$e[4];$i!=null&&(T.za=$i,T.j.info("SVER="+T.za));const _i=$e[5];_i!=null&&typeof _i=="number"&&_i>0&&(R=1.5*_i,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const bi=d.g;if(bi){const la=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var W=R.h;W.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(bl(W,W.h),W.h=null))}if(R.G){const io=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(R.wa=io,Xe(R.J,R.G,io))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var pe=d;if(R.na=Ic(R,R.L?R.ba:null,R.W),pe.L){wl(R.h,pe);var Oe=pe,Et=R.O;Et&&(Oe.H=Et),Oe.D&&(ji(Oe),Pi(Oe)),R.g=pe}else Sc(R);T.i.length>0&&Hi(T)}else $e[0]!="stop"&&$e[0]!="close"||Gi(T,7);else T.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Gi(T,7):Nl(T):$e[0]!="noop"&&T.l&&T.l.qa($e),T.A=0)}}Ni(4)}catch{}}var Nt=class{constructor(d,_){this.g=d,this.map=_}};function vl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vi(d){return d.h?1:d.g?d.g.size:0}function Ui(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function bl(d,_){d.g?d.g.add(_):d.h=_}function wl(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}vl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.G);return _}return x(d.i)}var vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(d,_){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const R=d[T].indexOf("=");let Y,W=null;R>=0?(Y=d[T].substring(0,R),W=d[T].substring(R+1)):Y=d[T],_(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Dn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof Dn?(this.l=d.l,Ht(this,d.j),this.o=d.o,this.g=d.g,Gr(this,d.u),this.h=d.h,El(this,Tc(d.i)),this.m=d.m):d&&(_=String(d).match(vc))?(this.l=!1,Ht(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),Gr(this,_[4]),this.h=zi(_[5]||"",!0),El(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Yr(null,this.l))}Dn.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(ta(_,Xa,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ta(_,Xa,!0),"@"),d.push(lr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(ta(T,T.charAt(0)=="/"?Sl:_c,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",ta(T,bc)),d.join("")},Dn.prototype.resolve=function(d){const _=Ot(this);let T=!!d.j;T?Ht(_,d.j):T=!!d.o,T?_.o=d.o:T=!!d.g,T?_.g=d.g:T=d.u!=null;var R=d.h;if(T)Gr(_,d.u);else if(T=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(R=_.h.slice(0,Y+1)+R)}if(Y=R,Y==".."||Y==".")R="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){R=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const W=[];for(let pe=0;pe<Y.length;){const Oe=Y[pe++];Oe=="."?R&&pe==Y.length&&W.push(""):Oe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&pe==Y.length&&W.push("")):(W.push(Oe),R=!0)}R=W.join("/")}else R=Y}return T?_.h=R:T=d.i.toString()!=="",T?El(_,Tc(d.i)):T=!!d.m,T&&(_.m=d.m),_};function Ot(d){return new Dn(d)}function Ht(d,_,T){d.j=T?zi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Gr(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function El(d,_,T){_ instanceof Yr?(d.i=_,Ja(d.i,d.l)):(T||(_=ta(_,$r)),d.i=new Yr(_,d.l))}function Xe(d,_,T){d.i.set(_,T)}function ea(d){return Xe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function zi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ta(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,vn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Xa=/[#\/\?@]/g,_c=/[#\?:]/g,Sl=/[#\?]/g,$r=/[#\?@]/g,bc=/#/g;function Yr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&Qa(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Yr.prototype,n.add=function(d,_){_n(this),this.i=null,d=Kr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function wc(d,_){_n(d),_=Kr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function xl(d,_){return _n(d),_=Kr(d,_),d.g.has(_)}n.forEach=function(d,_){_n(this),this.g.forEach(function(T,R){T.forEach(function(Y){d.call(_,Y,R,this)},this)},this)};function Al(d,_){_n(d);let T=[];if(typeof _=="string")xl(d,_)&&(T=T.concat(d.g.get(Kr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)T=T.concat(d[_]);return T}n.set=function(d,_){return _n(this),this.i=null,d=Kr(this,d),xl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Al(this,d),d.length>0?String(d[0]):_):_};function Wa(d,_,T){wc(d,_),T.length>0&&(d.i=null,d.g.set(Kr(d,_),x(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var T=_[R];const Y=lr(T);T=Al(this,T);for(let W=0;W<T.length;W++){let pe=Y;T[W]!==""&&(pe+="="+lr(T[W])),d.push(pe)}}return this.i=d.join("&")};function Tc(d){const _=new Yr;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Kr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Ja(d,_){_&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(T,R){const Y=R.toLowerCase();R!=Y&&(wc(this,R),Wa(this,Y,T))},d)),d.j=_}function gi(d,_){const T=new fi;if(c.Image){const R=new Image;R.onload=v(Yn,T,"TestLoadImage: loaded",!0,_,R),R.onerror=v(Yn,T,"TestLoadImage: error",!1,_,R),R.onabort=v(Yn,T,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(Yn,T,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function Cl(d,_){const T=new fi,R=new AbortController,Y=setTimeout(()=>{R.abort(),Yn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(W=>{clearTimeout(Y),W.ok?Yn(T,"TestPingServer: ok",!0,_):Yn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Yn(T,"TestPingServer: error",!1,_)})}function Yn(d,_,T,R,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),R(T)}catch{}}function Qr(){this.g=new uc}function Bi(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Bi,cc),Bi.prototype.g=function(){return new na(this.i,this.h)};function na(d,_){Ct.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(na,Ct),n=na.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,yi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Xr(this):yi(this),this.readyState==3&&Za(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Xr(this))},n.Na=function(d){this.g&&(this.response=d,Xr(this))},n.ga=function(){this.g&&Xr(this)};function Xr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,yi(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function yi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Kn(d){let _="";return ue(d,function(T,R){_+=R,_+=":",_+=T,_+=`\r
`}),_}function ia(d,_,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Kn(T),typeof d=="string"?T!=null&&lr(T):Xe(d,_,T))}function Ze(d){Ct.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,Ct);var Fi=/^https?$/i,Rl=["POST","PUT"];n=Ze.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(W){ra(this,W);return}if(d=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Y in R)T.set(Y,R[Y]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())T.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(W=>W.toLowerCase()=="content-type"),Y=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Rl,_,void 0)>=0)||R||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,pe]of T)this.g.setRequestHeader(W,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(W){ra(this,W)}};function ra(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Il(d),ur(d)}function Il(d){d.A||(d.A=!0,Ut(d,"complete"),Ut(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ut(this,"complete"),Ut(this,"abort"),ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),Ze.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},n.Xa=function(){sa(this)};function sa(d){if(d.h&&typeof l<"u"){if(d.v&&vi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ut(d,"readystatechange"),vi(d)==4){d.h=!1;try{const W=d.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var R;if(R=W===0){let pe=String(d.D).match(vc)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),R=!Fi.test(pe?pe.toLowerCase():"")}T=R}if(T)Ut(d,"complete"),Ut(d,"success");else{d.o=6;try{var Y=vi(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Il(d)}}finally{ur(d)}}}}function ur(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,_||Ut(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ef(_)}};function Kt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cr(d){const _={};d=(d.g&&vi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(P(d[R]))continue;var T=pc(d[R]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const W=_[Y]||[];_[Y]=W,W.push(T)}fe(_,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Wr(d){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qi("baseRetryDelayMs",5e3,d),this.Za=qi("retryDelaySeedMs",1e4,d),this.Ta=qi("forwardChannelMaxRetries",2,d),this.va=qi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(d&&d.concurrentRequestLimit),this.Ba=new Qr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Wr.prototype,n.ka=8,n.I=1,n.connect=function(d,_,T,R){Rt(0),this.W=d,this.H=_||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Ic(this,null,this.W),Hi(this)};function Nl(d){if(eo(d),d.I==3){var _=d.V++,T=Ot(d.J);if(Xe(T,"SID",d.M),Xe(T,"RID",_),Xe(T,"TYPE","terminate"),aa(d,T),_=new mi(d,d.j,_),_.M=2,_.A=ea(Ot(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=_.A,T=!0),T||(_.g=Nc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Pi(_)}Rc(d)}function Jr(d){d.g&&(Dl(d),d.g.cancel(),d.g=null)}function eo(d){Jr(d),d.v&&(c.clearTimeout(d.v),d.v=null),no(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Hi(d){if(!_l(d.h)&&!d.m){d.m=!0;var _=d.Ea;ne||E(),ie||(ne(),ie=!0),O.add(_,d),d.D=0}}function to(d,_){return Vi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Di(p(d.Ea,d,_),Cc(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new mi(this,this.j,d);let W=this.o;if(this.U&&(W?(W=j(W),he(W,this.U)):W=this.U),this.u!==null||this.R||(Y.J=W,W=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Ec(this,Y,_),T=Ot(this.J),Xe(T,"RID",d),Xe(T,"CVER",22),this.G&&Xe(T,"X-HTTP-Session-Id",this.G),aa(this,T),W&&(this.R?_="headers="+lr(Kn(W))+"&"+_:this.u&&ia(T,this.u,W)),bl(this.h,Y),this.Ra&&Xe(T,"TYPE","init"),this.S?(Xe(T,"$req",_),Xe(T,"SID","null"),Y.U=!0,ki(Y,T,null)):ki(Y,T,_),this.I=2}}else this.I==3&&(d?Ol(this,d):this.i.length==0||_l(this.h)||Ol(this))};function Ol(d,_){var T;_?T=_.l:T=d.V++;const R=Ot(d.J);Xe(R,"SID",d.M),Xe(R,"RID",T),Xe(R,"AID",d.K),aa(d,R),d.u&&d.o&&ia(R,d.u,d.o),T=new mi(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Ec(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),bl(d.h,T),ki(T,R,_)}function aa(d,_){d.H&&ue(d.H,function(T,R){Xe(_,R,T)}),d.l&&ue({},function(T,R){Xe(_,R,T)})}function Ec(d,_,T){T=Math.min(d.i.length,T);const R=d.l?p(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Oe=-1;for(;;){const Et=["count="+T];Oe==-1?T>0?(Oe=Y[0].g,Et.push("ofs="+Oe)):Oe=0:Et.push("ofs="+Oe);let $e=!0;for(let ht=0;ht<T;ht++){var W=Y[ht].g;const Qn=Y[ht].map;if(W-=Oe,W<0)Oe=Math.max(0,Y[ht].g-100),$e=!1;else try{W="req"+W+"_"||"";try{var pe=Qn instanceof Map?Qn:Object.entries(Qn);for(const[$i,_i]of pe){let bi=_i;f(_i)&&(bi=Hr(_i)),Et.push(W+$i+"="+encodeURIComponent(bi))}}catch($i){throw Et.push(W+"type="+encodeURIComponent("_badmap")),$i}}catch{R&&R(Qn)}}if($e){pe=Et.join("&");break e}}pe=void 0}return d=d.i.splice(0,T),_.G=d,pe}function Sc(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;ne||E(),ie||(ne(),ie=!0),O.add(_,d),d.A=0}}function oa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Di(p(d.Da,d),Cc(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Di(p(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Jr(this),xc(this))};function Dl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function xc(d){d.g=new mi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Ot(d.na);Xe(_,"RID","rpc"),Xe(_,"SID",d.M),Xe(_,"AID",d.K),Xe(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xe(_,"TO",d.ia),Xe(_,"TYPE","xmlhttp"),aa(d,_),d.u&&d.o&&ia(_,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=ea(Ot(_)),T.u=null,T.R=!0,Ya(T,d)}n.Va=function(){this.C!=null&&(this.C=null,Jr(this),oa(this),Rt(19))};function no(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ac(d,_){var T=null;if(d.g==_){no(d),Dl(d),d.g=null;var R=2}else if(Ui(d.h,_))T=_.G,wl(d.h,_),R=1;else return;if(d.I!=0){if(_.o)if(R==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Y=d.D;R=$a(),Ut(R,new Oi(R,T)),Hi(d)}else Sc(d);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(R==1&&to(d,_)||R==2&&oa(d)))switch(T&&T.length>0&&(_=d.h,_.i=_.i.concat(T)),Y){case 1:Gi(d,5);break;case 4:Gi(d,10);break;case 3:Gi(d,6);break;default:Gi(d,2)}}}function Cc(d,_){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*_}function Gi(d,_){if(d.j.info("Error code "+_),_==2){var T=p(d.bb,d),R=d.Ua;const Y=!R;R=new Dn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ht(R,"https"),ea(R),Y?gi(R.toString(),T):Cl(R.toString(),T)}else Rt(2);d.I=0,d.l&&d.l.pa(_),Rc(d),eo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Rc(d){if(d.I=0,d.ja=[],d.l){const _=Tl(d.h);(_.length!=0||d.i.length!=0)&&(M(d.ja,_),M(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function Ic(d,_,T){var R=T instanceof Dn?Ot(T):new Dn(T);if(R.g!="")_&&(R.g=_+"."+R.g),Gr(R,R.u);else{var Y=c.location;R=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const W=new Dn(null);R&&Ht(W,R),_&&(W.g=_),Y&&Gr(W,Y),T&&(W.h=T),R=W}return T=d.G,_=d.wa,T&&_&&Xe(R,T,_),Xe(R,"VER",d.ka),aa(d,R),R}function Nc(d,_,T){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new Ze(new Bi({ab:T})):new Ze(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}n=Oc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zr(){}Zr.prototype.g=function(d,_){return new hn(d,_)};function hn(d,_){Ct.call(this),this.g=new Wr(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!P(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new dr(this)}b(hn,Ct),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Nl(this.g)},hn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Hr(d),d=T);_.i.push(new Nt(_.Ya++,d)),_.I==3&&Hi(_)},hn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,hn.Z.N.call(this)};function Dc(d){Yt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}b(Dc,Yt);function Mc(){Gn.call(this),this.status=1}b(Mc,Gn);function dr(d){this.g=d}b(dr,Oc),dr.prototype.ra=function(){Ut(this.g,"a")},dr.prototype.qa=function(d){Ut(this.g,new Dc(d))},dr.prototype.pa=function(d){Ut(this.g,new Mc)},dr.prototype.oa=function(){Ut(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,gS=function(){return new Zr},pS=function(){return $a()},mS=Tt,hg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,th=Js,gl.COMPLETE="complete",fS=gl,dc.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,wu=dc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,hS=Ze}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const vw="@firebase/firestore",_w="4.9.2";class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let sl="12.3.0";const Ma=new Fh("@firebase/firestore");function Po(){return Ma.logLevel}function ye(n,...e){if(Ma.logLevel<=Ve.DEBUG){const t=e.map(ay);Ma.debug(`Firestore (${sl}): ${n}`,...t)}}function Vr(n,...e){if(Ma.logLevel<=Ve.ERROR){const t=e.map(ay);Ma.error(`Firestore (${sl}): ${n}`,...t)}}function Xo(n,...e){if(Ma.logLevel<=Ve.WARN){const t=e.map(ay);Ma.warn(`Firestore (${sl}): ${n}`,...t)}}function ay(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function xe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,yS(n,r,t)}function yS(n,e,t){let r=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vr(r),new Error(r)}function Qe(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||yS(e,a,r)}function Ie(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class vS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(an.UNAUTHENTICATED)))}shutdown(){}}class zD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class BD{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let l=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Os,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},f=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Os)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new vS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class FD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new FD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0,3512);const r=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=GD(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function fg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return Pp(a)===Pp(l)?Ue(a,l):Pp(a)?1:-1}return Ue(n.length,e.length)}const $D=55296,YD=57343;function Pp(n){const e=n.charCodeAt(0);return e>=$D&&e<=YD}function Wo(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const ww="__name__";class Wi{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Wi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ue(e.length,t.length)}static compareSegments(e,t){const r=Wi.isNumericId(e),a=Wi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Wi.extractNumericId(e).compare(Wi.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class st extends Wi{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const KD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Wi{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return KD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ww}static keyField(){return new en([ww])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(st.fromString(e))}static fromName(e){return new Te(st.fromString(e).popFirst(5))}static empty(){return new Te(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new st(e.slice()))}}function _S(n,e,t){if(!t)throw new ge(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QD(n,e,t,r){if(e===!0&&r===!0)throw new ge(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Tw(n){if(!Te.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ew(n){if(Te.isDocumentKey(n))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Yh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function si(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yh(n);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function ec(n,e){if(!bS(n))throw new ge(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ge(ae.INVALID_ARGUMENT,t);return!0}const Sw=-62135596800,xw=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xw);return new ut(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Sw)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xw}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Vt("string",ut._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ut(0,0))}static max(){return new Ce(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Lu=-1;function XD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new ut(t+1,0):new ut(t,r));return new Ps(a,Te.empty(),e)}function WD(n){return new Ps(n.readTime,n.key,Lu)}class Ps{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ps(Ce.min(),Te.empty(),Lu)}static max(){return new Ps(Ce.max(),Te.empty(),Lu)}}function JD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}const ZD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function al(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==ZD)throw n;ye("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,r)=>{t(e)}))}static reject(e){return new le(((t,r)=>{r(e)}))}static waitFor(e){return new le(((t,r)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(h=>r(h)))})),c=!0,l===a&&t()}))}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next((a=>a?le.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new le(((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const p=h;t(e[p]).next((v=>{c[p]=v,++f,f===l&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new le(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function tM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ol(n){return n.name==="IndexedDbTransactionError"}class Kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;const ly=-1;function Qh(n){return n==null}function wh(n){return n===0&&1/n==-1/0}function nM(n){return typeof n=="number"&&Number.isInteger(n)&&!wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const wS="";function iM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Aw(e)),e=rM(n.get(t),e);return Aw(e)}function rM(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case wS:t+="";break;default:t+=l}}return t}function Aw(n){return n+wS+""}function Cw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Zt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rw(this.data.getIterator())}getIteratorFrom(e){return new Rw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Rw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Bn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new Ft(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class ES extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ES("Invalid base64 string: "+l):l}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const sM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const t=sM.exec(n);if(Qe(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}const SS="server_timestamp",xS="__type__",AS="__previous_value__",CS="__local_write_time__";function uy(n){return(n?.mapValue?.fields||{})[xS]?.stringValue===SS}function Xh(n){const e=n.mapValue.fields[AS];return uy(e)?Xh(e):e}function Vu(n){const e=js(n.mapValue.fields[CS].timestampValue);return new ut(e.seconds,e.nanos)}class aM{constructor(e,t,r,a,l,c,f,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=v}}const Th="(default)";class Uu{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}const RS="__type__",oM="__max__",Bd={mapValue:{}},IS="__vector__",Eh="value";function Vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uy(n)?4:uM(n)?9007199254740991:lM(n)?10:11:xe(28295,{value:n})}function sr(n,e){if(n===e)return!0;const t=Vs(n);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vu(n).isEqual(Vu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=js(a.timestampValue),f=js(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Ls(a.bytesValue).isEqual(Ls(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=At(a.doubleValue),f=At(l.doubleValue);return c===f?wh(c)===wh(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Wo(n.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Cw(c)!==Cw(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!sr(c[h],f[h])))return!1;return!0})(n,e);default:return xe(52216,{left:n})}}function zu(n,e){return(n.values||[]).find((t=>sr(t,e)))!==void 0}function Jo(n,e){if(n===e)return 0;const t=Vs(n),r=Vs(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=At(l.integerValue||l.doubleValue),h=At(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return Iw(n.timestampValue,e.timestampValue);case 4:return Iw(Vu(n),Vu(e));case 5:return fg(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ls(l),h=Ls(c);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),h=c.split("/");for(let p=0;p<f.length&&p<h.length;p++){const v=Ue(f[p],h[p]);if(v!==0)return v}return Ue(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Ue(At(l.latitude),At(c.latitude));return f!==0?f:Ue(At(l.longitude),At(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Nw(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},h=c.fields||{},p=f[Eh]?.arrayValue,v=h[Eh]?.arrayValue,b=Ue(p?.values?.length||0,v?.values?.length||0);return b!==0?b:Nw(p,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Bd.mapValue&&c===Bd.mapValue)return 0;if(l===Bd.mapValue)return 1;if(c===Bd.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),p=c.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const S=fg(h[b],v[b]);if(S!==0)return S;const x=Jo(f[h[b]],p[v[b]]);if(x!==0)return x}return Ue(h.length,v.length)})(n.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function Iw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=js(n),r=js(e),a=Ue(t.seconds,r.seconds);return a!==0?a:Ue(t.nanos,r.nanos)}function Nw(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Jo(t[a],r[a]);if(l)return l}return Ue(t.length,r.length)}function Zo(n){return mg(n)}function mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=js(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ls(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Te.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=mg(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${mg(t.fields[c])}`;return a+"}"})(n.mapValue):xe(61005,{value:n})}function nh(n){switch(Vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(n);return e?16+nh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+nh(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return $s(r.fields,((l,c)=>{a+=l.length+nh(c)})),a})(n.mapValue);default:throw xe(13486,{value:n})}}function Ow(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function cy(n){return!!n&&"arrayValue"in n}function Dw(n){return!!n&&"nullValue"in n}function Mw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ih(n){return!!n&&"mapValue"in n}function lM(n){return(n?.mapValue?.fields||{})[RS]?.stringValue===IS}function Cu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return $s(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Cu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cu(n.arrayValue.values[t]);return e}return{...n}}function uM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oM}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(t)}setAll(e){let t=en.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=Cu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ih(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){$s(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new In(Cu(this.value))}}function NS(n){const e=[];return $s(n.fields,((t,r)=>{const a=new en([t]);if(ih(r)){const l=NS(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Bn(e)}class on{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new on(e,0,Ce.min(),Ce.min(),Ce.min(),In.empty(),0)}static newFoundDocument(e,t,r,a){return new on(e,1,t,Ce.min(),r,a,0)}static newNoDocument(e,t){return new on(e,2,t,Ce.min(),Ce.min(),In.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Ce.min(),Ce.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function kw(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=Te.comparator(Te.fromName(c.referenceValue),t.key):r=Jo(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sr(n.position[t],e.position[t]))return!1;return!0}class Bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function cM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class OS{}class Lt extends OS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hM(e,t,r):t==="array-contains"?new pM(e,r):t==="in"?new gM(e,r):t==="not-in"?new yM(e,r):t==="array-contains-any"?new vM(e,r):new Lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fM(e,r):new mM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jo(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends OS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ci(e,t)}matches(e){return DS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DS(n){return n.op==="and"}function MS(n){return dM(n)&&DS(n)}function dM(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function gg(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+Zo(n.value);if(MS(n))return n.filters.map((e=>gg(e))).join(",");{const e=n.filters.map((t=>gg(t))).join(",");return`${n.op}(${e})`}}function kS(n,e){return n instanceof Lt?(function(r,a){return a instanceof Lt&&r.op===a.op&&r.field.isEqual(a.field)&&sr(r.value,a.value)})(n,e):n instanceof Ci?(function(r,a){return a instanceof Ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&kS(c,a.filters[f])),!0):!1})(n,e):void xe(19439)}function PS(n){return n instanceof Lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`})(n):n instanceof Ci?(function(t){return t.op.toString()+" {"+t.getFilters().map(PS).join(" ,")+"}"})(n):"Filter"}class hM extends Lt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class fM extends Lt{constructor(e,t){super(e,"in",t),this.keys=jS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mM extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=jS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jS(n,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class pM extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cy(t)&&zu(t.arrayValue,this.value)}}class gM extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}}class yM extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zu(this.value.arrayValue,t)}}class vM extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>zu(this.value.arrayValue,r)))}}class _M{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function jw(n,e=null,t=[],r=[],a=null,l=null,c=null){return new _M(n,e,t,r,a,l,c)}function dy(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>gg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Zo(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Zo(r))).join(",")),e.Te=t}return e.Te}function hy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Pw(n.startAt,e.startAt)&&Pw(n.endAt,e.endAt)}function yg(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ll{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bM(n,e,t,r,a,l,c,f){return new ll(n,e,t,r,a,l,c,f)}function Wh(n){return new ll(n)}function Lw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LS(n){return n.collectionGroup!==null}function Ru(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ft(en.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Bu(l,r))})),t.has(en.keyField().canonicalString())||e.Ie.push(new Bu(en.keyField(),r))}return e.Ie}function tr(n){const e=Ie(n);return e.Ee||(e.Ee=wM(e,Ru(n))),e.Ee}function wM(n,e){if(n.limitType==="F")return jw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Bu(a.field,l)}));const t=n.endAt?new Sh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sh(n.startAt.position,n.startAt.inclusive):null;return jw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vg(n,e){const t=n.filters.concat([e]);return new ll(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _g(n,e,t){return new ll(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jh(n,e){return hy(tr(n),tr(e))&&n.limitType===e.limitType}function VS(n){return`${dy(tr(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>PS(a))).join(", ")}]`),Qh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Zo(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Zo(a))).join(",")),`Target(${r})`})(tr(n))}; limitType=${n.limitType})`}function Zh(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Te.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Ru(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,h){const p=kw(c,f,h);return c.inclusive?p<=0:p<0})(r.startAt,Ru(r),a)||r.endAt&&!(function(c,f,h){const p=kw(c,f,h);return c.inclusive?p>=0:p>0})(r.endAt,Ru(r),a))})(n,e)}function TM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function US(n){return(e,t)=>{let r=!1;for(const a of Ru(n)){const l=EM(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function EM(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):(function(l,c,f){const h=c.data.field(l),p=f.data.field(l);return h!==null&&p!==null?Jo(h,p):xe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:n.dir})}}class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}const SM=new gt(Te.comparator);function Ur(){return SM}const zS=new gt(Te.comparator);function Tu(...n){let e=zS;for(const t of n)e=e.insert(t.key,t);return e}function BS(n){let e=zS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Aa(){return Iu()}function FS(){return Iu()}function Iu(){return new Fa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const xM=new gt(Te.comparator),AM=new Ft(Te.comparator);function ze(...n){let e=AM;for(const t of n)e=e.add(t);return e}const CM=new Ft(Ue);function RM(){return CM}function fy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function qS(n){return{integerValue:""+n}}function IM(n,e){return nM(e)?qS(e):fy(n,e)}class ef{constructor(){this._=void 0}}function NM(n,e,t){return n instanceof Fu?(function(a,l){const c={fields:{[xS]:{stringValue:SS},[CS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&uy(l)&&(l=Xh(l)),l&&(c.fields[AS]=l),{mapValue:c}})(t,e):n instanceof qu?GS(n,e):n instanceof Hu?$S(n,e):(function(a,l){const c=HS(a,l),f=Vw(c)+Vw(a.Ae);return pg(c)&&pg(a.Ae)?qS(f):fy(a.serializer,f)})(n,e)}function OM(n,e,t){return n instanceof qu?GS(n,e):n instanceof Hu?$S(n,e):t}function HS(n,e){return n instanceof xh?(function(r){return pg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Fu extends ef{}class qu extends ef{constructor(e){super(),this.elements=e}}function GS(n,e){const t=YS(e);for(const r of n.elements)t.some((a=>sr(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Hu extends ef{constructor(e){super(),this.elements=e}}function $S(n,e){let t=YS(e);for(const r of n.elements)t=t.filter((a=>!sr(a,r)));return{arrayValue:{values:t}}}class xh extends ef{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Vw(n){return At(n.integerValue||n.doubleValue)}function YS(n){return cy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class DM{constructor(e,t){this.field=e,this.transform=t}}function MM(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof qu&&a instanceof qu||r instanceof Hu&&a instanceof Hu?Wo(r.elements,a.elements,sr):r instanceof xh&&a instanceof xh?sr(r.Ae,a.Ae):r instanceof Fu&&a instanceof Fu})(n.transform,e.transform)}class kM{constructor(e,t){this.version=e,this.transformResults=t}}class ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class tf{}function KS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new my(n.key,ai.none()):new tc(n.key,n.data,ai.none());{const t=n.data,r=In.empty();let a=new Ft(en.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ys(n.key,r,new Bn(a.toArray()),ai.none())}}function PM(n,e,t){n instanceof tc?(function(a,l,c){const f=a.value.clone(),h=zw(a.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Ys?(function(a,l,c){if(!rh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=zw(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(QS(a)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Nu(n,e,t,r){return n instanceof tc?(function(l,c,f,h){if(!rh(l.precondition,c))return f;const p=l.value.clone(),v=Bw(l.fieldTransforms,h,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ys?(function(l,c,f,h){if(!rh(l.precondition,c))return f;const p=Bw(l.fieldTransforms,h,c),v=c.data;return v.setAll(QS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(n,e,t,r):(function(l,c,f){return rh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function jM(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=HS(r.transform,a||null);l!=null&&(t===null&&(t=In.empty()),t.set(r.field,l))}return t||null}function Uw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Wo(r,a,((l,c)=>MM(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tc extends tf{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ys extends tf{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function QS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function zw(n,e,t){const r=new Map;Qe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,OM(c,f,t[a]))}return r}function Bw(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,NM(l,c,e))}return r}class my extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LM extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VM{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&PM(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const h=KS(c,f);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((t,r)=>Uw(t,r)))&&Wo(this.baseMutations,e.baseMutations,((t,r)=>Uw(t,r)))}}class py{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return xM})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new py(e,t,r,a)}}class UM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zM{constructor(e,t){this.count=e,this.unchangedNames=t}}var jt,Fe;function BM(n){switch(n){case ae.OK:return xe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function XS(n){if(n===void 0)return Vr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case jt.OK:return ae.OK;case jt.CANCELLED:return ae.CANCELLED;case jt.UNKNOWN:return ae.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ae.INTERNAL;case jt.UNAVAILABLE:return ae.UNAVAILABLE;case jt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case jt.NOT_FOUND:return ae.NOT_FOUND;case jt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case jt.ABORTED:return ae.ABORTED;case jt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case jt.DATA_LOSS:return ae.DATA_LOSS;default:return xe(39323,{code:n})}}(Fe=jt||(jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function FM(){return new TextEncoder}const qM=new Ns([4294967295,4294967295],0);function Fw(n){const e=FM().encode(n),t=new dS;return t.update(e),new Uint8Array(t.digest())}function qw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([t,r],0),new Ns([a,l],0)]}class gy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Eu(`Invalid padding: ${t}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ns.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Ns.fromNumber(r)));return a.compare(qM)===1&&(a=new Ns([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Fw(e),[r,a]=qw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new gy(l,a,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=Fw(e),[r,a]=qw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nf(Ce.min(),a,new gt(Ue),Ur(),ze())}}class nc{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nc(r,t,ze(),ze(),ze())}}class sh{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class WS{constructor(e,t){this.targetId=e,this.Ce=t}}class JS{constructor(e,t,r=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Hw{constructor(){this.ve=0,this.Fe=Gw(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:l})}})),new nc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Gw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=Fd(),this.He=Fd(),this.Ye=new gt(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(yg(l))if(r===0){const c=new Te(l.path);this.et(t,c,on.newNoDocument(c,Ce.min()))}else Qe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Ls(r).toUint8Array()}catch(h){if(h instanceof ES)return Xo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new gy(c,a,l)}catch(h){return Xo(h instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&yg(f.target)){const h=new Te(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,on.newNoDocument(h,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=ze();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((h=>{const p=this.ot(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new nf(e,t,this.Ye,this.je,r);return this.je=Ur(),this.Je=Fd(),this.He=Fd(),this.Ye=new gt(Ue),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Hw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Hw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Fd(){return new gt(Te.comparator)}function Gw(){return new gt(Te.comparator)}const GM={asc:"ASCENDING",desc:"DESCENDING"},$M={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YM={and:"AND",or:"OR"};class KM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bg(n,e){return n.useProto3Json||Qh(e)?e:{value:e}}function Ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QM(n,e){return Ah(n,e.toTimestamp())}function nr(n){return Qe(!!n,49232),Ce.fromTimestamp((function(t){const r=js(t);return new ut(r.seconds,r.nanos)})(n))}function yy(n,e){return wg(n,e).canonicalString()}function wg(n,e){const t=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ex(n){const e=st.fromString(n);return Qe(sx(e),10190,{key:e.toString()}),e}function Tg(n,e){return yy(n.databaseId,e.path)}function jp(n,e){const t=ex(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(nx(t))}function tx(n,e){return yy(n.databaseId,e)}function XM(n){const e=ex(n);return e.length===4?st.emptyPath():nx(e)}function Eg(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nx(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $w(n,e,t){return{name:Tg(n,e),fields:t.value.mapValue.fields}}function WM(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),nn.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),nn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ae.UNKNOWN:XS(p.code);return new ge(v,p.message||"")})(c);t=new JS(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=jp(n,r.document.name),l=nr(r.document.updateTime),c=r.document.createTime?nr(r.document.createTime):Ce.min(),f=new In({mapValue:{fields:r.document.fields}}),h=on.newFoundDocument(a,l,c,f),p=r.targetIds||[],v=r.removedTargetIds||[];t=new sh(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=jp(n,r.document),l=r.readTime?nr(r.readTime):Ce.min(),c=on.newNoDocument(a,l),f=r.removedTargetIds||[];t=new sh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=jp(n,r.document),l=r.removedTargetIds||[];t=new sh([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new zM(a,l),f=r.targetId;t=new WS(f,c)}}return t}function JM(n,e){let t;if(e instanceof tc)t={update:$w(n,e.key,e.value)};else if(e instanceof my)t={delete:Tg(n,e.key)};else if(e instanceof Ys)t={update:$w(n,e.key,e.data),updateMask:ok(e.fieldMask)};else{if(!(e instanceof LM))return xe(16599,{Vt:e.type});t={verify:Tg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof Fu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Hu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof xh)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:QM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(n,e.precondition)),t}function ZM(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?nr(a.updateTime):nr(l);return c.isEqual(Ce.min())&&(c=nr(l)),new kM(c,a.transformResults||[])})(t,e)))):[]}function ek(n,e){return{documents:[tx(n,e.path)]}}function tk(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tx(n,a);const l=(function(p){if(p.length!==0)return rx(Ci.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(S){return{field:Lo(S.field),direction:rk(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=bg(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function nk(n){let e=XM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Qe(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(b){const S=ix(b);return S instanceof Ci&&MS(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((S=>(function(M){return new Bu(Vo(M.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(b){let S;return S=typeof b=="object"?b.value:b,Qh(S)?null:S})(t.limit));let h=null;t.startAt&&(h=(function(b){const S=!!b.before,x=b.values||[];return new Sh(x,S)})(t.startAt));let p=null;return t.endAt&&(p=(function(b){const S=!b.before,x=b.values||[];return new Sh(x,S)})(t.endAt)),bM(e,a,c,l,f,"F",h,p)}function ik(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ix(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Vo(t.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(t.unaryFilter.field);return Lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(t.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Lt.create(Vo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ci.create(t.compositeFilter.filters.map((r=>ix(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(n):xe(30097,{filter:n})}function rk(n){return GM[n]}function sk(n){return $M[n]}function ak(n){return YM[n]}function Lo(n){return{fieldPath:n.canonicalString()}}function Vo(n){return en.fromServerFormat(n.fieldPath)}function rx(n){return n instanceof Lt?(function(t){if(t.op==="=="){if(Mw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(Dw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Mw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(Dw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:sk(t.op),value:t.value}}})(n):n instanceof Ci?(function(t){const r=t.getFilters().map((a=>rx(a)));return r.length===1?r[0]:{compositeFilter:{op:ak(t.op),filters:r}}})(n):xe(54877,{filter:n})}function ok(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class As{constructor(e,t,r,a,l=Ce.min(),c=Ce.min(),f=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lk{constructor(e){this.yt=e}}function uk(n){const e=nk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_g(e,e.limit,"L"):e}class ck{constructor(){this.Cn=new dk}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ps.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ft(st.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ft(st.comparator)).toArray()}}const Yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ax=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(ax,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Kw="LruGarbageCollector",hk=1048576;function Qw([n,e],[t,r]){const a=Ue(n,t);return a===0?Ue(e,r):a}class fk{constructor(e){this.Ir=e,this.buffer=new Ft(Qw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Qw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ol(t)?ye(Kw,"Ignoring IndexedDB error during garbage collection: ",t):await al(t)}await this.Vr(3e5)}))}}class pk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return le.resolve(Kh.ce);const r=new fk(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Yw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,f,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,f=Date.now(),this.removeTargets(e,r,t)))).next((b=>(l=b,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),Po()<=Ve.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${b} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function gk(n,e){return new pk(n,e)}class yk{constructor(){this.changes=new Fa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _k{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Nu(r.mutation,a,Bn.empty(),ut.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const a=Aa();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Tu();return l.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Aa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,a){let l=Ur();const c=Iu(),f=(function(){return Iu()})();return t.forEach(((h,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ys)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Nu(v.mutation,p,v.mutation.getFieldMask(),ut.now())):c.set(p.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((p,v)=>c.set(p,v))),t.forEach(((p,v)=>f.set(p,new vk(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=Iu();let a=new gt(((c,f)=>c-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const p=t.get(h);if(p===null)return;let v=r.get(h)||Bn.empty();v=f.applyToLocalView(p,v),r.set(h,v);const b=(a.get(f.batchId)||ze()).add(h);a=a.insert(f.batchId,b)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,v=h.value,b=FS();v.forEach((S=>{if(!l.has(S)){const x=KS(t.get(S),r.get(S));x!==null&&b.set(S,x),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return le.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):le.resolve(Aa());let f=Lu,h=l;return c.next((p=>le.forEach(p,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{h=h.insert(v,S)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,h,p,ze()))).next((v=>({batchId:f,changes:BS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((r=>{let a=Tu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Tu();return this.indexManager.getCollectionParents(e,l).next((f=>le.forEach(f,(h=>{const p=(function(b,S){return new ll(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((h,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,on.newInvalidDocument(v)))}));let f=Tu();return c.forEach(((h,p)=>{const v=l.get(h);v!==void 0&&Nu(v.mutation,p,Bn.empty(),ut.now()),Zh(t,p)&&(f=f.insert(h,p))})),f}))}}class bk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:nr(a.createTime)}})(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:uk(a.bundledQuery),readTime:nr(a.readTime)}})(t)),le.resolve()}}class wk{constructor(){this.overlays=new gt(Te.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Aa();return le.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),le.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const a=Aa(),l=t.length+1,c=new Te(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>r&&a.set(h.getKey(),h)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new gt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=Aa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Aa(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return le.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new UM(t,r));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class Tk{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}class vy{constructor(){this.Qr=new Ft($t.$r),this.Ur=new Ft($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new $t(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new $t(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Te(new st([])),r=new $t(t,e),a=new $t(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new st([])),r=new $t(t,e),a=new $t(t,e+1);let l=ze();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new $t(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}class Ek{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft($t.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VM(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?ly:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),a=new $t(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(Ue);return t.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),le.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Te.isDocumentKey(l)||(l=l.child(""));const c=new $t(new Te(l),0);let f=new Ft(Ue);return this.Zr.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(h.Yr)),!0)}),c),le.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Qe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return le.forEach(t.mutations,(a=>{const l=new $t(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new $t(t,0),a=this.Zr.firstAfterOrEqual(r);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Sk{constructor(e){this.ri=e,this.docs=(function(){return new gt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let r=Ur();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))})),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Ur();const c=t.path,f=new Te(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||JD(WD(v),r)<=0||(a.has(v.key)||Zh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,r,a){xe(9500)}ii(e,t){return le.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new xk(this)}getSize(e){return le.resolve(this.size)}}class xk extends yk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Ak{constructor(e){this.persistence=e,this.si=new Fa((t=>dy(t)),hy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new vy,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new el(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),le.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}class ox{constructor(e,t){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new Tk,this.referenceDelegate=e(this),this.Pi=new Ak(this),this.indexManager=new ck,this.remoteDocumentCache=(function(a){return new Sk(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new lk(t),this.Ii=new bk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Ek(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const a=new Ck(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return le.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class Ck extends eM{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.Ri=new vy,this.Vi=null}static mi(e){return new _y(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(r=>{const a=Te.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.pi=new Fa((r=>iM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=gk(this,t)}static mi(e,t){return new Ch(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return le.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?le.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,l.removeEntry(c,Ce.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nh(e.data.value)),t}br(e,t,r){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class by{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new by(e,t.fromCache,r,a)}}class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ik{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WI()?8:tM(ln())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Rk;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(Po()<=Ve.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Po()<=Ve.DEBUG&&ye("QueryEngine","Query:",jo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Po()<=Ve.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):le.resolve())}ys(e,t){if(Lw(t))return le.resolve(null);let r=tr(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=_g(t,null,"F"),r=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.Ds(t,f);return this.Cs(t,p,c,h.readTime)?this.ys(e,_g(t,null,"F")):this.vs(e,p,t,h)}))))})))))}ws(e,t,r,a){return Lw(t)||a.isEqual(Ce.min())?le.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?le.resolve(null):(Po()<=Ve.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jo(t)),this.vs(e,c,t,XD(a,Lu)).next((f=>f)))}))}Ds(e,t){let r=new Ft(US(e));return t.forEach(((a,l)=>{Zh(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return Po()<=Ve.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",jo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ps.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const wy="LocalStore",Nk=3e8;class Ok{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new gt(Ue),this.xs=new Fa((l=>dy(l)),hy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _k(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Dk(n,e,t,r){return new Ok(n,e,t,r)}async function lx(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let h=ze();for(const p of a){c.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function Mk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,p,v){const b=p.batch,S=b.keys();let x=le.resolve();return S.forEach((M=>{x=x.next((()=>v.getEntry(h,M))).next((k=>{const N=p.docVersions.get(M);Qe(N!==null,48541),k.version.compareTo(N)<0&&(b.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))}))})),x.next((()=>f.mutationQueue.removeMutationBatch(h,b)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=ze();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function ux(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function kk(n,e){const t=Ie(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((v,b)=>{const S=a.get(b);if(!S)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,b))));let x=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(nn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),a=a.insert(b,x),(function(k,N,U){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Nk?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(S,x,v)&&f.push(t.Pi.updateTargetData(l,x))}));let h=Ur(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(Pk(l,c,e.documentUpdates).next((v=>{h=v.ks,p=v.qs}))),!r.isEqual(Ce.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((b=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(v)}return le.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,h,p))).next((()=>h))})).then((l=>(t.Ms=a,l)))}function Pk(n,e,t){let r=ze(),a=ze();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=Ur();return t.forEach(((f,h)=>{const p=l.get(f);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(Ce.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):ye(wy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function jk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ly),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Lk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,le.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new As(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Sg(n,e,t){const r=Ie(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ol(c))throw c;ye(wy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Xw(n,e,t){const r=Ie(n);let a=Ce.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,v){const b=Ie(h),S=b.xs.get(v);return S!==void 0?le.resolve(b.Ms.get(S)):b.Pi.getTargetData(p,v)})(r,c,tr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{l=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Ce.min(),t?l:ze()))).next((f=>(Vk(r,TM(e),f),{documents:f,Qs:l})))))}function Vk(n,e,t){let r=n.Os.get(e)||Ce.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class Ww{constructor(){this.activeTargetIds=RM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uk{constructor(){this.Mo=new Ww,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ww,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zk{Oo(e){}shutdown(){}}const Jw="ConnectivityMonitor";class Zw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Jw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Jw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let qd=null;function xg(){return qd===null?qd=(function(){return 268435456+Math.round(2147483648*Math.random())})():qd++,"0x"+qd.toString(16)}const Lp="RestConnection",Bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=xg(),f=this.zo(e,t.toUriEncodedString());ye(Lp,`Sending RPC '${e}' ${c}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,l);const{host:p}=new URL(f),v=Fs(p);return this.Jo(e,f,h,r,v).then((b=>(ye(Lp,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Xo(Lp,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",r),b}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=Bk[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class qk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class Hk extends Fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=xg();return new Promise(((f,h)=>{const p=new hS;p.setWithCredentials(!0),p.listenOnce(fS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case th.NO_ERROR:const b=p.getResponseJson();ye(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case th.TIMEOUT:ye(sn,`RPC '${e}' ${c} timed out`),h(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const S=p.getStatus();if(ye(sn,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const M=x?.error;if(M&&M.status&&M.message){const k=(function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(B)>=0?B:ae.UNKNOWN})(M.status);h(new ge(k,M.message))}else h(new ge(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(sn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ye(sn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=xg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=gS(),f=pS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=l.join("");ye(sn,`Creating RPC '${e}' stream ${a}: ${v}`,h);const b=c.createWebChannel(v,h);this.I_(b);let S=!1,x=!1;const M=new qk({Yo:N=>{x?ye(sn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(S||(ye(sn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),S=!0),ye(sn,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},Zo:()=>b.close()}),k=(N,U,B)=>{N.listen(U,(z=>{try{B(z)}catch(te){setTimeout((()=>{throw te}),0)}}))};return k(b,wu.EventType.OPEN,(()=>{x||(ye(sn,`RPC '${e}' stream ${a} transport opened.`),M.o_())})),k(b,wu.EventType.CLOSE,(()=>{x||(x=!0,ye(sn,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(b))})),k(b,wu.EventType.ERROR,(N=>{x||(x=!0,Xo(sn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),M.a_(new ge(ae.UNAVAILABLE,"The operation could not be completed")))})),k(b,wu.EventType.MESSAGE,(N=>{if(!x){const U=N.data[0];Qe(!!U,16349);const B=U,z=B?.error||B[0]?.error;if(z){ye(sn,`RPC '${e}' stream ${a} received error:`,z);const te=z.status;let ne=(function(E){const D=jt[E];if(D!==void 0)return XS(D)})(te),ie=z.message;ne===void 0&&(ne=ae.INTERNAL,ie="Unknown error status: "+te+" with message "+z.message),x=!0,M.a_(new ge(ne,ie)),b.close()}else ye(sn,`RPC '${e}' stream ${a} received:`,U),M.u_(U)}})),k(f,mS.STAT_EVENT,(N=>{N.stat===hg.PROXY?ye(sn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===hg.NOPROXY&&ye(sn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Vp(){return typeof document<"u"?document:null}function rf(n){return new KM(n,!0)}class cx{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const eT="PersistentStream";class dx{constructor(e,t,r,a,l,c,f,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ge(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(eT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(eT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gk extends dx{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=WM(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?nr(c.readTime):Ce.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Eg(this.serializer),t.addTarget=(function(l,c){let f;const h=c.target;if(f=yg(h)?{documents:ek(l,h)}:{query:tk(l,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=ZS(l,c.resumeToken);const p=bg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Ah(l,c.snapshotVersion.toTimestamp());const p=bg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=ik(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Eg(this.serializer),t.removeTarget=e,this.q_(t)}}class $k extends dx{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ZM(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Eg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>JM(this.serializer,r)))};this.q_(t)}}class Yk{}class Kk extends Yk{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,wg(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(ae.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,wg(t,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Qk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vr(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ka="RemoteStore";class Xk{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{qa(this)&&(ye(ka,"Restarting streams for network reachability change."),await(async function(h){const p=Ie(h);p.Ea.add(4),await ic(p),p.Ra.set("Unknown"),p.Ea.delete(4),await sf(p)})(this))}))})),this.Ra=new Qk(r,a)}}async function sf(n){if(qa(n))for(const e of n.da)await e(!0)}async function ic(n){for(const e of n.da)await e(!1)}function hx(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),xy(t)?Sy(t):ul(t).O_()&&Ey(t,e))}function Ty(n,e){const t=Ie(n),r=ul(t);t.Ia.delete(e),r.O_()&&fx(t,e),t.Ia.size===0&&(r.O_()?r.L_():qa(t)&&t.Ra.set("Unknown"))}function Ey(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(n).Y_(e)}function fx(n,e){n.Va.Ue(e),ul(n).Z_(e)}function Sy(n){n.Va=new HM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ul(n).start(),n.Ra.ua()}function xy(n){return qa(n)&&!ul(n).x_()&&n.Ia.size>0}function qa(n){return Ie(n).Ea.size===0}function mx(n){n.Va=void 0}async function Wk(n){n.Ra.set("Online")}async function Jk(n){n.Ia.forEach(((e,t)=>{Ey(n,e)}))}async function Zk(n,e){mx(n),xy(n)?(n.Ra.ha(e),Sy(n)):n.Ra.set("Unknown")}async function eP(n,e,t){if(n.Ra.set("Online"),e instanceof JS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){ye(ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(n,r)}else if(e instanceof sh?n.Va.Ze(e):e instanceof WS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const r=await ux(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,p)=>{const v=l.Ia.get(h);if(!v)return;l.Ia.set(h,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),fx(l,h);const b=new As(v.target,h,p,v.sequenceNumber);Ey(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){ye(ka,"Failed to raise snapshot:",r),await Rh(n,r)}}async function Rh(n,e,t){if(!ol(e))throw e;n.Ea.add(1),await ic(n),n.Ra.set("Offline"),t||(t=()=>ux(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(ka,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await sf(n)}))}function px(n,e){return e().catch((t=>Rh(n,t,e)))}async function af(n){const e=Ie(n),t=Us(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ly;for(;tP(e);)try{const a=await jk(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,nP(e,a)}catch(a){await Rh(e,a)}gx(e)&&yx(e)}function tP(n){return qa(n)&&n.Ta.length<10}function nP(n,e){n.Ta.push(e);const t=Us(n);t.O_()&&t.X_&&t.ea(e.mutations)}function gx(n){return qa(n)&&!Us(n).x_()&&n.Ta.length>0}function yx(n){Us(n).start()}async function iP(n){Us(n).ra()}async function rP(n){const e=Us(n);for(const t of n.Ta)e.ea(t.mutations)}async function sP(n,e,t){const r=n.Ta.shift(),a=py.from(r,e,t);await px(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await af(n)}async function aP(n,e){e&&Us(n).X_&&await(async function(r,a){if((function(c){return BM(c)&&c!==ae.ABORTED})(a.code)){const l=r.Ta.shift();Us(r).B_(),await px(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await af(r)}})(n,e),gx(n)&&yx(n)}async function tT(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ye(ka,"RemoteStore received new credentials");const r=qa(t);t.Ea.add(3),await ic(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await sf(t)}async function oP(n,e){const t=Ie(n);e?(t.Ea.delete(2),await sf(t)):e||(t.Ea.add(2),await ic(t),t.Ra.set("Unknown"))}function ul(n){return n.ma||(n.ma=(function(t,r,a){const l=Ie(t);return l.sa(),new Gk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:Wk.bind(null,n),t_:Jk.bind(null,n),r_:Zk.bind(null,n),H_:eP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),xy(n)?Sy(n):n.Ra.set("Unknown")):(await n.ma.stop(),mx(n))}))),n.ma}function Us(n){return n.fa||(n.fa=(function(t,r,a){const l=Ie(t);return l.sa(),new $k(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:iP.bind(null,n),r_:aP.bind(null,n),ta:rP.bind(null,n),na:sP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await af(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(ka,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Ay{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new Ay(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),ol(n))return new ge(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Tu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nT{constructor(){this.ga=new gt(Te.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class tl{constructor(e,t,r,a,l,c,f,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new tl(e,t,Ho.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class lP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uP{constructor(){this.queries=iT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ie(t),l=a.queries;a.queries=iT(),l.forEach(((c,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function iT(){return new Fa((n=>VS(n)),Jh)}async function vx(n,e){const t=Ie(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new lP,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Cy(c,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ry(t)}async function _x(n,e){const t=Ie(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function cP(n,e){const t=Ie(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&Ry(t)}function dP(n,e,t){const r=Ie(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function Ry(n){n.Ca.forEach((e=>{e.next()}))}var Ag,rT;(rT=Ag||(Ag={})).Ma="default",rT.Cache="cache";class bx{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ag.Cache}}class wx{constructor(e){this.key=e}}class Tx{constructor(e){this.key=e}}class hP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=US(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new nT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const S=a.get(v),x=Zh(this.query,b)?b:null,M=!!S&&this.mutatedKeys.has(S.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;S&&x?S.data.isEqual(x.data)?M!==k&&(r.track({type:3,doc:x}),N=!0):this.su(S,x)||(r.track({type:2,doc:x}),N=!0,(h&&this.eu(x,h)>0||p&&this.eu(x,p)<0)&&(f=!0)):!S&&x?(r.track({type:0,doc:x}),N=!0):S&&!x&&(r.track({type:1,doc:S}),N=!0,(h||p)&&(f=!0)),N&&(x?(c=c.add(x),l=k?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(x,M){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:N})}};return k(x)-k(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,p=h!==this.Za;return this.Za=h,c.length!==0||p?{snapshot:new tl(this.query,e.tu,l,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Tx(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new wx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iy="SyncEngine";class fP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mP{constructor(e){this.key=e,this.hu=!1}}class pP{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa((f=>VS(f)),Jh),this.Iu=new Map,this.Eu=new Set,this.du=new gt(Te.comparator),this.Au=new Map,this.Ru=new vy,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gP(n,e,t=!0){const r=Rx(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Ex(r,e,t,!0),a}async function yP(n,e){const t=Rx(n);await Ex(t,e,!0,!1)}async function Ex(n,e,t,r){const a=await Lk(n.localStore,tr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await vP(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&hx(n.remoteStore,a),f}async function vP(n,e,t,r,a){n.pu=(b,S,x)=>(async function(k,N,U,B){let z=N.view.ru(U);z.Cs&&(z=await Xw(k.localStore,N.query,!1).then((({documents:O})=>N.view.ru(O,z))));const te=B&&B.targetChanges.get(N.targetId),ne=B&&B.targetMismatches.get(N.targetId)!=null,ie=N.view.applyChanges(z,k.isPrimaryClient,te,ne);return aT(k,N.targetId,ie.au),ie.snapshot})(n,b,S,x);const l=await Xw(n.localStore,e,!0),c=new hP(e,l.Qs),f=c.ru(l.documents),h=nc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,h);aT(n,t,p.au);const v=new fP(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function _P(n,e,t){const r=Ie(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Jh(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Sg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ty(r.remoteStore,a.targetId),Cg(r,a.targetId)})).catch(al)):(Cg(r,a.targetId),await Sg(r.localStore,a.targetId,!0))}async function bP(n,e){const t=Ie(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ty(t.remoteStore,r.targetId))}async function wP(n,e,t){const r=RP(n);try{const a=await(function(c,f){const h=Ie(c),p=ut.now(),v=f.reduce(((x,M)=>x.add(M.key)),ze());let b,S;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let M=Ur(),k=ze();return h.Ns.getEntries(x,v).next((N=>{M=N,M.forEach(((U,B)=>{B.isValidDocument()||(k=k.add(U))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,M))).next((N=>{b=N;const U=[];for(const B of f){const z=jM(B,b.get(B.key).overlayedDocument);z!=null&&U.push(new Ys(B.key,z,NS(z.value.mapValue),ai.exists(!0)))}return h.mutationQueue.addMutationBatch(x,p,U,f)})).next((N=>{S=N;const U=N.applyToLocalDocumentSet(b,k);return h.documentOverlayCache.saveOverlays(x,N.batchId,U)}))})).then((()=>({batchId:S.batchId,changes:BS(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,h){let p=c.Vu[c.currentUser.toKey()];p||(p=new gt(Ue)),p=p.insert(f,h),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,t),await rc(r,a.changes),await af(r.remoteStore)}catch(a){const l=Cy(a,"Failed to persist write");t.reject(l)}}async function Sx(n,e){const t=Ie(n);try{const r=await kk(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qe(c.hu,14607):a.removedDocuments.size>0&&(Qe(c.hu,42227),c.hu=!1))})),await rc(t,r,e)}catch(r){await al(r)}}function sT(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const h=Ie(c);h.onlineState=f;let p=!1;h.queries.forEach(((v,b)=>{for(const S of b.Sa)S.va(f)&&(p=!0)})),p&&Ry(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TP(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new gt(Te.comparator);c=c.insert(l,on.newNoDocument(l,Ce.min()));const f=ze().add(l),h=new nf(Ce.min(),new Map,new gt(Ue),c,f);await Sx(r,h),r.du=r.du.remove(l),r.Au.delete(e),Ny(r)}else await Sg(r.localStore,e,!1).then((()=>Cg(r,e,t))).catch(al)}async function EP(n,e){const t=Ie(n),r=e.batch.batchId;try{const a=await Mk(t.localStore,e);Ax(t,r,null),xx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rc(t,a)}catch(a){await al(a)}}async function SP(n,e,t){const r=Ie(n);try{const a=await(function(c,f){const h=Ie(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return h.mutationQueue.lookupMutationBatch(p,f).next((b=>(Qe(b!==null,37113),v=b.keys(),h.mutationQueue.removeMutationBatch(p,b)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>h.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);Ax(r,e,t),xx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rc(r,a)}catch(a){await al(a)}}function xx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Ax(n,e,t){const r=Ie(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Cg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Cx(n,r)}))}function Cx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ty(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ny(n))}function aT(n,e,t){for(const r of t)r instanceof wx?(n.Ru.addReference(r.key,e),xP(n,r)):r instanceof Tx?(ye(Iy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Cx(n,r.key)):xe(19791,{wu:r})}function xP(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ye(Iy,"New document in limbo: "+t),n.Eu.add(r),Ny(n))}function Ny(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Te(st.fromString(e)),r=n.fu.next();n.Au.set(r,new mP(t)),n.du=n.du.insert(t,r),hx(n.remoteStore,new As(tr(Wh(t.path)),r,"TargetPurposeLimboResolution",Kh.ce))}}async function rc(n,e,t){const r=Ie(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{c.push(r.pu(h,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){a.push(p);const v=by.As(h.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,p){const v=Ie(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(p,(S=>le.forEach(S.Es,(x=>v.persistence.referenceDelegate.addReference(b,S.targetId,x))).next((()=>le.forEach(S.ds,(x=>v.persistence.referenceDelegate.removeReference(b,S.targetId,x)))))))))}catch(b){if(!ol(b))throw b;ye(wy,"Failed to update sequence numbers: "+b)}for(const b of p){const S=b.targetId;if(!b.fromCache){const x=v.Ms.get(S),M=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(S,k)}}})(r.localStore,l))}async function AP(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ye(Iy,"User change. New user:",e.toKey());const r=await lx(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((h=>{h.reject(new ge(ae.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rc(t,r.Ls)}}function CP(n,e){const t=Ie(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let a=ze();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function Rx(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TP.bind(null,e),e.Pu.H_=cP.bind(null,e.eventManager),e.Pu.yu=dP.bind(null,e.eventManager),e}function RP(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SP.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Dk(this.persistence,new Ik,e.initialUser,this.serializer)}Cu(e){return new ox(_y.mi,this.serializer)}Du(e){return new Uk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class IP extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Qe(this.persistence.referenceDelegate instanceof Ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new ox((r=>Ch.mi(r,t)),this.serializer)}}class Rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AP.bind(null,this.syncEngine),await oP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uP})()}createDatastore(e){const t=rf(e.databaseInfo.databaseId),r=(function(l){return new Hk(l)})(e.databaseInfo);return(function(l,c,f,h){return new Kk(l,c,f,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,f){return new Xk(r,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>sT(this.syncEngine,t,0)),(function(){return Zw.v()?new Zw:new zk})())}createSyncEngine(e,t){return(function(a,l,c,f,h,p,v){const b=new pP(a,l,c,f,h,p);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ie(t);ye(ka,"RemoteStore shutting down."),r.Ea.add(5),await ic(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rg.provider={build:()=>new Rg};class Ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const zs="FirestoreClient";class NP{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ye(zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ye(zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Up(n,e){n.asyncQueue.verifyOperationInProgress(),ye(zs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await lx(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function oT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await OP(n);ye(zs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>tT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>tT(e.remoteStore,a))),n._onlineComponents=e}async function OP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(zs,"Using user provided OfflineComponentProvider");try{await Up(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await Up(n,new Ih)}}else ye(zs,"Using default OfflineComponentProvider"),await Up(n,new IP(void 0));return n._offlineComponents}async function Nx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(zs,"Using user provided OnlineComponentProvider"),await oT(n,n._uninitializedComponentsProvider._online)):(ye(zs,"Using default OnlineComponentProvider"),await oT(n,new Rg))),n._onlineComponents}function DP(n){return Nx(n).then((e=>e.syncEngine))}async function Ig(n){const e=await Nx(n),t=e.eventManager;return t.onListen=gP.bind(null,e.syncEngine),t.onUnlisten=_P.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bP.bind(null,e.syncEngine),t}function MP(n,e,t={}){const r=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,h,p){const v=new Ix({next:S=>{v.Nu(),c.enqueueAndForget((()=>_x(l,b)));const x=S.docs.has(f);!x&&S.fromCache?p.reject(new ge(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&h&&h.source==="server"?p.reject(new ge(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new bx(Wh(f.path),v,{includeMetadataChanges:!0,qa:!0});return vx(l,b)})(await Ig(n),n.asyncQueue,e,t,r))),r.promise}function Ox(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const lT=new Map;const Dx="firestore.googleapis.com",uT=!0;class cT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dx,this.ssl=uT}else this.host=e.host,this.ssl=e.ssl??uT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ax;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hk)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UD;switch(r.type){case"firstParty":return new qD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=lT.get(t);r&&(ye("ComponentProvider","Removing Datastore"),lT.delete(t),r.terminate())})(this),Promise.resolve()}}function kP(n,e,t,r={}){n=si(n,of);const a=Fs(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(Yg(`https://${f}`),Kg("Firestore",!0)),l.host!==Dx&&l.host!==f&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:f,ssl:a,emulatorOptions:r};if(!ks(h,c)&&(n._setSettings(h),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=an.MOCK_USER;else{p=_E(r.mockUserToken,n._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(b)}n._authCredentials=new zD(new vS(p,v))}}class Ha{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ha(this.firestore,e,this._query)}}class wt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ec(t,wt._jsonSchema))return new wt(e,r||null,new Te(st.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Vt("string",wt._jsonSchemaVersion),referencePath:Vt("string")};class Ds extends Ha{constructor(e,t,r){super(e,t,Wh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Te(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Ou(n,e,...t){if(n=rt(n),_S("collection","path",e),n instanceof of){const r=st.fromString(e,...t);return Ew(r),new Ds(n,null,r)}{if(!(n instanceof wt||n instanceof Ds))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Ew(r),new Ds(n.firestore,null,r)}}function pn(n,e,...t){if(n=rt(n),arguments.length===1&&(e=oy.newId()),_S("doc","path",e),n instanceof of){const r=st.fromString(e,...t);return Tw(r),new wt(n,null,new Te(r))}{if(!(n instanceof wt||n instanceof Ds))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Tw(r),new wt(n.firestore,n instanceof Ds?n.converter:null,new Te(r))}}const dT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cx(this,"async_queue_retry"),this._c=()=>{const r=Vp();r&&ye(dT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Vp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;ye(dT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vr("INTERNAL UNHANDLED ERROR: ",fT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Ay.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:fT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function fT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function mT(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Bs extends of{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new hT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function PP(n,e){const t=typeof n=="object"?n:qh(),r=typeof n=="string"?n:Th,a=qs(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=gE("firestore");l&&kP(a,...l)}return a}function Oy(n){if(n._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jP(n),n._firestoreClient}function jP(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new aM(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Ox(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new NP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(nn.fromBase64String(e))}catch(t){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ri(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Vt("string",ri._jsonSchemaVersion),bytes:Vt("string")};class lf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uf{constructor(e){this._methodName=e}}class ir{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(ec(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:Vt("string",ir._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new rr(e.vectorValues);throw new ge(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:Vt("string",rr._jsonSchemaVersion),vectorValues:Vt("object")};const LP=/^__.*__$/;class VP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}class Mx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:n})}}class Dy{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kx(this.Ac)&&LP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rf(e)}Cc(e,t,r,a=!1){return new Dy({Ac:e,methodName:t,Dc:r,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(n){const e=n._freezeSettings(),t=rf(n._databaseId);return new UP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Px(n,e,t,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);ky("Data must be an object, but it was:",c,r);const f=jx(r,c);let h,p;if(l.merge)h=new Bn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const S=Ng(e,b,t);if(!c.contains(S))throw new ge(ae.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Vx(v,S)||v.push(S)}h=new Bn(v),p=c.fieldTransforms.filter((b=>h.covers(b.field)))}else h=null,p=c.fieldTransforms;return new VP(new In(f),h,p)}class df extends uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class My extends uf{_toFieldTransform(e){return new DM(e.path,new Fu)}isEqual(e){return e instanceof My}}function zP(n,e,t,r){const a=n.Cc(1,e,t);ky("Data must be an object, but it was:",a,r);const l=[],c=In.empty();$s(r,((h,p)=>{const v=Py(e,h,t);p=rt(p);const b=a.yc(v);if(p instanceof df)l.push(v);else{const S=sc(p,b);S!=null&&(l.push(v),c.set(v,S))}}));const f=new Bn(l);return new Mx(c,f,a.fieldTransforms)}function BP(n,e,t,r,a,l){const c=n.Cc(1,e,t),f=[Ng(e,r,t)],h=[a];if(l.length%2!=0)throw new ge(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(Ng(e,l[S])),h.push(l[S+1]);const p=[],v=In.empty();for(let S=f.length-1;S>=0;--S)if(!Vx(p,f[S])){const x=f[S];let M=h[S];M=rt(M);const k=c.yc(x);if(M instanceof df)p.push(x);else{const N=sc(M,k);N!=null&&(p.push(x),v.set(x,N))}}const b=new Bn(p);return new Mx(v,b,c.fieldTransforms)}function FP(n,e,t,r=!1){return sc(t,n.Cc(r?4:3,e))}function sc(n,e){if(Lx(n=rt(n)))return ky("Unsupported field value:",e,n),jx(n,e);if(n instanceof uf)return(function(r,a){if(!kx(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let h=sc(f,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ut.fromDate(r);return{timestampValue:Ah(a.serializer,l)}}if(r instanceof ut){const l=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(a.serializer,l)}}if(r instanceof ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:ZS(a.serializer,r._byteString)};if(r instanceof wt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof rr)return(function(c,f){return{mapValue:{fields:{[RS]:{stringValue:IS},[Eh]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return fy(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Yh(r)}`)})(n,e)}function jx(n,e){const t={};return TS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(n,((r,a)=>{const l=sc(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function Lx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof ir||n instanceof ri||n instanceof wt||n instanceof uf||n instanceof rr)}function ky(n,e,t){if(!Lx(t)||!bS(t)){const r=Yh(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Ng(n,e,t){if((e=rt(e))instanceof lf)return e._internalPath;if(typeof e=="string")return Py(n,e);throw Nh("Field path arguments must be of type string or ",n,!1,void 0,t)}const qP=new RegExp("[~\\*/\\[\\]]");function Py(n,e,t){if(e.search(qP)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lf(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nh(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new ge(ae.INVALID_ARGUMENT,f+n+h)}function Vx(n,e){return n.some((t=>t.isEqual(e)))}class Ux{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class HP extends Ux{data(){return super.data()}}function hf(n,e){return typeof e=="string"?Py(n,e):e instanceof lf?e._internalPath:e._delegate._internalPath}function GP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class zx extends jy{}function Bx(n,e,...t){let r=[];e instanceof jy&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((h=>h instanceof Ly)).length,f=l.filter((h=>h instanceof ff)).length;if(c>1||c>0&&f>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class ff extends zx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ff(e,t,r)}_apply(e){const t=this._parse(e);return Fx(e._query,t),new Ha(e.firestore,e.converter,vg(e._query,t))}_parse(e){const t=cf(e.firestore);return(function(l,c,f,h,p,v,b){let S;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){gT(b,v);const M=[];for(const k of b)M.push(pT(h,l,k));S={arrayValue:{values:M}}}else S=pT(h,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||gT(b,v),S=FP(f,c,b,v==="in"||v==="not-in");return Lt.create(p,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $P(n,e,t){const r=e,a=hf("where",n);return ff._create(a,r,t)}class Ly extends jy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ly(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const h of f)Fx(c,h),c=vg(c,h)})(e._query,t),new Ha(e.firestore,e.converter,vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vy extends zx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Vy(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(l,c)})(e._query,this._field,this._direction);return new Ha(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new ll(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function YP(n,e="asc"){const t=e,r=hf("orderBy",n);return Vy._create(r,t)}function pT(n,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LS(e)&&t.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!Te.isDocumentKey(r))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ow(n,new Te(r))}if(t instanceof wt)return Ow(n,t._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(t)}.`)}function gT(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fx(n,e){const t=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KP{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return $s(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Eh].arrayValue?.values?.map((r=>At(r.doubleValue)));return new rr(t)}convertGeoPoint(e){return new ir(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const t=js(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Qe(sx(r),9688,{name:e});const a=new Uu(r.get(1),r.get(3)),l=new Te(r.popFirst(5));return a.isEqual(t)||Vr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function qx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends Ux{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ra._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Vt("string",Ra._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class ah extends Ra{data(e={}){return super.data(e)}}class Go{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Su(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new ah(this._firestore,this._userDataWriter,r.key,r,new Su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const h=new ah(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const h=new ah(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:QP(f.type),doc:h,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}function Uy(n){n=si(n,wt);const e=si(n.firestore,Bs);return MP(Oy(e),n._key).then((t=>$x(e,n,t)))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:Vt("string",Go._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Hx extends KP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function Ms(n,e,t){n=si(n,wt);const r=si(n.firestore,Bs),a=qx(n.converter,e,t);return mf(r,[Px(cf(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ai.none())])}function yT(n,e,t,...r){n=si(n,wt);const a=si(n.firestore,Bs),l=cf(a);let c;return c=typeof(e=rt(e))=="string"||e instanceof lf?BP(l,"updateDoc",n._key,e,t,r):zP(l,"updateDoc",n._key,e),mf(a,[c.toMutation(n._key,ai.exists(!0))])}function XP(n){return mf(si(n.firestore,Bs),[new my(n._key,ai.none())])}function Gx(n,e){const t=si(n.firestore,Bs),r=pn(n),a=qx(n.converter,e);return mf(t,[Px(cf(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then((()=>r))}function Og(n,...e){n=rt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||mT(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(mT(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let l,c,f;if(n instanceof wt)c=si(n.firestore,Bs),f=Wh(n._key.path),l={next:h=>{e[r]&&e[r]($x(c,n,h))},error:e[r+1],complete:e[r+2]};else{const h=si(n,Ha);c=si(h.firestore,Bs),f=h._query;const p=new Hx(c);l={next:v=>{e[r]&&e[r](new Go(c,p,h,v))},error:e[r+1],complete:e[r+2]},GP(n._query)}return(function(p,v,b,S){const x=new Ix(S),M=new bx(v,x,b);return p.asyncQueue.enqueueAndForget((async()=>vx(await Ig(p),M))),()=>{x.Nu(),p.asyncQueue.enqueueAndForget((async()=>_x(await Ig(p),M)))}})(Oy(c),f,a,l)}function mf(n,e){return(function(r,a){const l=new Os;return r.asyncQueue.enqueueAndForget((async()=>wP(await DP(r),a,l))),l.promise})(Oy(n),e)}function $x(n,e,t){const r=t.docs.get(e._key),a=new Hx(n);return new Ra(n,a,e._key,r,new Su(t.hasPendingWrites,t.fromCache),e.converter)}function Oh(){return new My("serverTimestamp")}(function(e,t=!0){(function(a){sl=a})(za),Ai(new li("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Bs(new BD(r.getProvider("auth-internal")),new HD(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Nn(vw,_w,e),Nn(vw,_w,"esm2020")})();const Yx="firebasestorage.googleapis.com",Kx="storageBucket",WP=120*1e3,JP=600*1e3,ZP=1e3;class yt extends ci{constructor(e,t,r=0){super(zp(e),`Firebase Storage: ${t} (${zp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function zp(n){return"storage/"+n}function zy(){const n="An unknown error occurred, please check the error payload for server response.";return new yt(ct.UNKNOWN,n)}function e4(n){return new yt(ct.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function t4(n){return new yt(ct.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(ct.UNAUTHENTICATED,n)}function i4(){return new yt(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function r4(n){return new yt(ct.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Qx(){return new yt(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xx(){return new yt(ct.CANCELED,"User canceled the upload/download.")}function s4(n){return new yt(ct.INVALID_URL,"Invalid URL '"+n+"'.")}function a4(n){return new yt(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function o4(){return new yt(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Kx+"' property when initializing the app?")}function Wx(){return new yt(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l4(){return new yt(ct.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function u4(){return new yt(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c4(n){return new yt(ct.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dg(n){return new yt(ct.INVALID_ARGUMENT,n)}function Jx(){return new yt(ct.APP_DELETED,"The Firebase app was deleted.")}function d4(n){return new yt(ct.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Du(n,e){return new yt(ct.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function vu(n){throw new yt(ct.INTERNAL_ERROR,"Internal error: "+n)}class Fn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Fn.makeFromUrl(e,t)}catch{return new Fn(e,"")}if(r.path==="")return r;throw a4(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function p(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${v}/b/${a}/o${S}`,"i"),M={bucket:1,path:3},k=t===Yx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",U=new RegExp(`^https?://${k}/${a}/${N}`,"i"),z=[{regex:f,indices:h,postModify:l},{regex:x,indices:M,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let te=0;te<z.length;te++){const ne=z[te],ie=ne.regex.exec(e);if(ie){const O=ie[ne.indices.bucket];let E=ie[ne.indices.path];E||(E=""),r=new Fn(O,E),ne.postModify(r);break}}if(r==null)throw s4(e);return r}}class h4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function f4(n,e,t){let r=1,a=null,l=null,c=!1,f=0;function h(){return f===2}let p=!1;function v(...N){p||(p=!0,e.apply(null,N))}function b(N){a=setTimeout(()=>{a=null,n(x,h())},N)}function S(){l&&clearTimeout(l)}function x(N,...U){if(p){S();return}if(N){S(),v.call(null,N,...U);return}if(h()||c){S(),v.call(null,N,...U);return}r<64&&(r*=2);let z;f===1?(f=2,z=0):z=(r+Math.random())*1e3,b(z)}let M=!1;function k(N){M||(M=!0,S(),!p&&(a!==null?(N||(f=2),clearTimeout(a),b(0)):N||(f=1)))}return b(0),l=setTimeout(()=>{c=!0,k(!0)},t),k}function m4(n){n(!1)}function p4(n){return n!==void 0}function g4(n){return typeof n=="function"}function y4(n){return typeof n=="object"&&!Array.isArray(n)}function pf(n){return typeof n=="string"||n instanceof String}function vT(n){return By()&&n instanceof Blob}function By(){return typeof Blob<"u"}function _T(n,e,t,r){if(r<e)throw Dg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Dg(`Invalid value for '${n}'. Expected ${t} or less.`)}function ac(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Zx(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ia;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ia||(Ia={}));function e1(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}class v4{constructor(e,t,r,a,l,c,f,h,p,v,b,S=!0,x=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,k)=>{this.resolve_=M,this.reject_=k,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Hd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const h=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ia.NO_ERROR,h=l.getStatus();if(!f||e1(h,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ia.ABORT;r(!1,new Hd(!1,null,v));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Hd(p,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(f,f.getResponse());p4(h)?l(h):l()}catch(h){c(h)}else if(f!==null){const h=zy();h.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,h)):c(h)}else if(a.canceled){const h=this.appDelete_?Jx():Xx();c(h)}else{const h=Qx();c(h)}};this.canceled_?t(!1,new Hd(!1,null,!0)):this.backoffId_=f4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function b4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w4(n,e){e&&(n["X-Firebase-GMPID"]=e)}function T4(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function E4(n,e,t,r,a,l,c=!0,f=!1){const h=Zx(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return w4(v,e),_4(v,t),b4(v,l),T4(v,r),new v4(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,f)}function S4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x4(...n){const e=S4();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(By())return new Blob(n);throw new yt(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A4(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function C4(n){if(typeof atob>"u")throw c4("base-64");return atob(n)}const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bp{constructor(e,t){this.data=e,this.contentType=t||null}}function R4(n,e){switch(n){case Zi.RAW:return new Bp(t1(e));case Zi.BASE64:case Zi.BASE64URL:return new Bp(n1(n,e));case Zi.DATA_URL:return new Bp(N4(e),O4(e))}throw zy()}function t1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=r,c=n.charCodeAt(++t);r=65536|(l&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function I4(n){let e;try{e=decodeURIComponent(n)}catch{throw Du(Zi.DATA_URL,"Malformed data URL.")}return t1(e)}function n1(n,e){switch(n){case Zi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Du(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Du(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=C4(e)}catch(a){throw a.message.includes("polyfill")?a:Du(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class i1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Du(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=D4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function N4(n){const e=new i1(n);return e.base64?n1(Zi.BASE64,e.rest):I4(e.rest)}function O4(n){return new i1(n).contentType}function D4(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class xs{constructor(e,t){let r=0,a="";vT(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(vT(this.data_)){const r=this.data_,a=A4(r,e,t);return a===null?null:new xs(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xs(r,!0)}}static getBlob(...e){if(By()){const t=e.map(r=>r instanceof xs?r.data_:r);return new xs(x4.apply(null,t))}else{const t=e.map(c=>pf(c)?R4(Zi.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new xs(a,!0)}}uploadData(){return this.data_}}function r1(n){let e;try{e=JSON.parse(n)}catch{return null}return y4(e)?e:null}function M4(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function k4(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function s1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function P4(n,e){return e}class mn{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||P4}}let Gd=null;function j4(n){return!pf(n)||n.length<2?n:s1(n)}function a1(){if(Gd)return Gd;const n=[];n.push(new mn("bucket")),n.push(new mn("generation")),n.push(new mn("metageneration")),n.push(new mn("name","fullPath",!0));function e(l,c){return j4(c)}const t=new mn("name");t.xform=e,n.push(t);function r(l,c){return c!==void 0?Number(c):c}const a=new mn("size");return a.xform=r,n.push(a),n.push(new mn("timeCreated")),n.push(new mn("updated")),n.push(new mn("md5Hash",null,!0)),n.push(new mn("cacheControl",null,!0)),n.push(new mn("contentDisposition",null,!0)),n.push(new mn("contentEncoding",null,!0)),n.push(new mn("contentLanguage",null,!0)),n.push(new mn("contentType",null,!0)),n.push(new mn("metadata","customMetadata",!0)),Gd=n,Gd}function L4(n,e){function t(){const r=n.bucket,a=n.fullPath,l=new Fn(r,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function V4(n,e,t){const r={};r.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return L4(r,n),r}function o1(n,e,t){const r=r1(e);return r===null?null:V4(n,r,t)}function U4(n,e,t,r){const a=r1(e);if(a===null||!pf(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=n.bucket,b=n.fullPath,S="/b/"+c(v)+"/o/"+c(b),x=ac(S,t,r),M=Zx({alt:"media",token:p});return x+M})[0]}function l1(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class cl{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function kr(n){if(!n)throw zy()}function Fy(n,e){function t(r,a){const l=o1(n,a,e);return kr(l!==null),l}return t}function z4(n,e){function t(r,a){const l=o1(n,a,e);return kr(l!==null),U4(l,a,n.host,n._protocol)}return t}function oc(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=i4():a=n4():t.getStatus()===402?a=t4(n.bucket):t.getStatus()===403?a=r4(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function u1(n){const e=oc(n);function t(r,a){let l=e(r,a);return r.getStatus()===404&&(l=e4(n.path)),l.serverResponse=a.serverResponse,l}return t}function B4(n,e,t){const r=e.fullServerUrl(),a=ac(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new cl(a,l,Fy(n,t),c);return f.errorHandler=u1(e),f}function F4(n,e,t){const r=e.fullServerUrl(),a=ac(r,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,f=new cl(a,l,z4(n,t),c);return f.errorHandler=u1(e),f}function q4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function c1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=q4(null,e)),r}function H4(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let z="";for(let te=0;te<2;te++)z=z+Math.random().toString().slice(2);return z}const h=f();c["Content-Type"]="multipart/related; boundary="+h;const p=c1(e,r,a),v=l1(p,t),b="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,S=`\r
--`+h+"--",x=xs.getBlob(b,r,S);if(x===null)throw Wx();const M={name:p.fullPath},k=ac(l,n.host,n._protocol),N="POST",U=n.maxUploadRetryTime,B=new cl(k,N,Fy(n,t),U);return B.urlParams=M,B.headers=c,B.body=x.uploadData(),B.errorHandler=oc(e),B}class Dh{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function qy(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{kr(!1)}return kr(!!t&&(e||["active"]).indexOf(t)!==-1),t}function G4(n,e,t,r,a){const l=e.bucketOnlyServerUrl(),c=c1(e,r,a),f={name:c.fullPath},h=ac(l,n.host,n._protocol),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},b=l1(c,t),S=n.maxUploadRetryTime;function x(k){qy(k);let N;try{N=k.getResponseHeader("X-Goog-Upload-URL")}catch{kr(!1)}return kr(pf(N)),N}const M=new cl(h,p,x,S);return M.urlParams=f,M.headers=v,M.body=b,M.errorHandler=oc(e),M}function $4(n,e,t,r){const a={"X-Goog-Upload-Command":"query"};function l(p){const v=qy(p,["active","final"]);let b=null;try{b=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{kr(!1)}b||kr(!1);const S=Number(b);return kr(!isNaN(S)),new Dh(S,r.size(),v==="final")}const c="POST",f=n.maxUploadRetryTime,h=new cl(t,c,l,f);return h.headers=a,h.errorHandler=oc(e),h}const bT=256*1024;function Y4(n,e,t,r,a,l,c,f){const h=new Dh(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw l4();const p=h.total-h.current;let v=p;a>0&&(v=Math.min(v,a));const b=h.current,S=b+v;let x="";v===0?x="finalize":p===v?x="upload, finalize":x="upload";const M={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${h.current}`},k=r.slice(b,S);if(k===null)throw Wx();function N(te,ne){const ie=qy(te,["active","final"]),O=h.current+v,E=r.size();let D;return ie==="final"?D=Fy(e,l)(te,ne):D=null,new Dh(O,E,ie==="final",D)}const U="POST",B=e.maxUploadRetryTime,z=new cl(t,U,N,B);return z.headers=M,z.body=k.uploadData(),z.progressCallback=f||null,z.errorHandler=oc(n),z}const Cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fp(n){switch(n){case"running":case"pausing":case"canceling":return Cn.RUNNING;case"paused":return Cn.PAUSED;case"success":return Cn.SUCCESS;case"canceled":return Cn.CANCELED;case"error":return Cn.ERROR;default:return Cn.ERROR}}let K4=class{constructor(e,t,r){if(g4(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}};function ko(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Q4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,l){if(this.sent_)throw vu("cannot .send() more than once");if(Fs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class X4 extends Q4{initXhr(){this.xhr_.responseType="text"}}function Uo(){return new X4}class W4{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=a1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(ct.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(e1(a.status,[]))if(l)a=Qx();else{this.sleepTime=Math.max(this.sleepTime*2,ZP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(ct.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=G4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=$4(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Uo,t,r);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=bT*this._chunkMultiplier,t=new Dh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=Y4(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const f=this._ref.storage._makeRequest(c,Uo,a,l,!1);this._request=f,f.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){bT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=B4(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,Uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=H4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Uo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Xx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Fp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const l=new K4(t||void 0,r||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Fp(this._state)){case Cn.SUCCESS:ko(this._resolve.bind(null,this.snapshot))();break;case Cn.CANCELED:case Cn.ERROR:const t=this._reject;ko(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Fp(this._state)){case Cn.RUNNING:case Cn.PAUSED:e.next&&ko(e.next.bind(e,this.snapshot))();break;case Cn.SUCCESS:e.complete&&ko(e.complete.bind(e))();break;case Cn.CANCELED:case Cn.ERROR:e.error&&ko(e.error.bind(e,this._error))();break;default:e.error&&ko(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class Pa{constructor(e,t){this._service=e,t instanceof Fn?this._location=t:this._location=Fn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pa(e,t)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s1(this._location.path)}get storage(){return this._service}get parent(){const e=M4(this._location.path);if(e===null)return null;const t=new Fn(this._location.bucket,e);return new Pa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw d4(e)}}function J4(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new W4(n,new xs(e),t)}function Z4(n){n._throwIfRoot("getDownloadURL");const e=F4(n.storage,n._location,a1());return n.storage.makeRequestWithTokens(e,Uo).then(t=>{if(t===null)throw u4();return t})}function ej(n,e){const t=k4(n._location.path,e),r=new Fn(n._location.bucket,t);return new Pa(n.storage,r)}function tj(n){return/^[A-Za-z]+:\/\//.test(n)}function nj(n,e){return new Pa(n,e)}function d1(n,e){if(n instanceof Hy){const t=n;if(t._bucket==null)throw o4();const r=new Pa(t,t._bucket);return e!=null?d1(r,e):r}else return e!==void 0?ej(n,e):n}function ij(n,e){if(e&&tj(e)){if(n instanceof Hy)return nj(n,e);throw Dg("To use ref(service, url), the first argument must be a Storage instance.")}else return d1(n,e)}function wT(n,e){const t=e?.[Kx];return t==null?null:Fn.makeFromBucketSpec(t,n)}function rj(n,e,t,r={}){n.host=`${e}:${t}`;const a=Fs(e);a&&(Yg(`https://${n.host}/b`),Kg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(n._overrideAuthToken=typeof l=="string"?l:_E(l,n.app.options.projectId))}class Hy{constructor(e,t,r,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Yx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WP,this._maxUploadRetryTime=JP,this._requests=new Set,a!=null?this._bucket=Fn.makeFromBucketSpec(a,this._host):this._bucket=wT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=wT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pa(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new h4(Jx());{const c=E4(e,this._appId,r,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const TT="@firebase/storage",ET="0.14.0";const h1="storage";function sj(n,e,t){return n=rt(n),J4(n,e,t)}function aj(n){return n=rt(n),Z4(n)}function oj(n,e){return n=rt(n),ij(n,e)}function lj(n=qh(),e){n=rt(n);const r=qs(n,h1).getImmediate({identifier:e}),a=gE("storage");return a&&uj(r,...a),r}function uj(n,e,t,r={}){rj(n,e,t,r)}function cj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Hy(t,r,a,e,za)}function dj(){Ai(new li(h1,cj,"PUBLIC").setMultipleInstances(!0)),Nn(TT,ET,""),Nn(TT,ET,"esm2020")}dj();const f1="@firebase/installations",Gy="0.6.19";const m1=1e4,p1=`w:${Gy}`,g1="FIS_v2",hj="https://firebaseinstallations.googleapis.com/v1",fj=3600*1e3,mj="installations",pj="Installations";const gj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ja=new Ua(mj,pj,gj);function y1(n){return n instanceof ci&&n.code.includes("request-failed")}function v1({projectId:n}){return`${hj}/projects/${n}/installations`}function _1(n){return{token:n.token,requestStatus:2,expiresIn:vj(n.expiresIn),creationTime:Date.now()}}async function b1(n,e){const r=(await e.json()).error;return ja.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function w1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yj(n,{refreshToken:e}){const t=w1(n);return t.append("Authorization",_j(e)),t}async function T1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function vj(n){return Number(n.replace("s","000"))}function _j(n){return`${g1} ${n}`}async function bj({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=v1(n),a=w1(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:t,authVersion:g1,appId:n.appId,sdkVersion:p1},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await T1(()=>fetch(r,f));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:_1(p.authToken)}}else throw await b1("Create Installation",h)}function E1(n){return new Promise(e=>{setTimeout(e,n)})}function wj(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const Tj=/^[cdef][\w-]{21}$/,Mg="";function Ej(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Sj(n);return Tj.test(t)?t:Mg}catch{return Mg}}function Sj(n){return wj(n).substr(0,22)}function gf(n){return`${n.appName}!${n.appId}`}const S1=new Map;function x1(n,e){const t=gf(n);A1(t,e),xj(t,e)}function A1(n,e){const t=S1.get(n);if(t)for(const r of t)r(e)}function xj(n,e){const t=Aj();t&&t.postMessage({key:n,fid:e}),Cj()}let Ca=null;function Aj(){return!Ca&&"BroadcastChannel"in self&&(Ca=new BroadcastChannel("[Firebase] FID Change"),Ca.onmessage=n=>{A1(n.data.key,n.data.fid)}),Ca}function Cj(){S1.size===0&&Ca&&(Ca.close(),Ca=null)}const Rj="firebase-installations-database",Ij=1,La="firebase-installations-store";let qp=null;function $y(){return qp||(qp=xE(Rj,Ij,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(La)}}})),qp}async function Mh(n,e){const t=gf(n),a=(await $y()).transaction(La,"readwrite"),l=a.objectStore(La),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&x1(n,e.fid),e}async function C1(n){const e=gf(n),r=(await $y()).transaction(La,"readwrite");await r.objectStore(La).delete(e),await r.done}async function yf(n,e){const t=gf(n),a=(await $y()).transaction(La,"readwrite"),l=a.objectStore(La),c=await l.get(t),f=e(c);return f===void 0?await l.delete(t):await l.put(f,t),await a.done,f&&(!c||c.fid!==f.fid)&&x1(n,f.fid),f}async function Yy(n){let e;const t=await yf(n.appConfig,r=>{const a=Nj(r),l=Oj(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Mg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Nj(n){const e=n||{fid:Ej(),registrationStatus:0};return R1(e)}function Oj(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ja.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Dj(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Mj(n)}:{installationEntry:e}}async function Dj(n,e){try{const t=await bj(n,e);return Mh(n.appConfig,t)}catch(t){throw y1(t)&&t.customData.serverCode===409?await C1(n.appConfig):await Mh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Mj(n){let e=await ST(n.appConfig);for(;e.registrationStatus===1;)await E1(100),e=await ST(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Yy(n);return r||t}return e}function ST(n){return yf(n,e=>{if(!e)throw ja.create("installation-not-found");return R1(e)})}function R1(n){return kj(n)?{fid:n.fid,registrationStatus:0}:n}function kj(n){return n.registrationStatus===1&&n.registrationTime+m1<Date.now()}async function Pj({appConfig:n,heartbeatServiceProvider:e},t){const r=jj(n,t),a=yj(n,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:p1,appId:n.appId}},f={method:"POST",headers:a,body:JSON.stringify(c)},h=await T1(()=>fetch(r,f));if(h.ok){const p=await h.json();return _1(p)}else throw await b1("Generate Auth Token",h)}function jj(n,{fid:e}){return`${v1(n)}/${e}/authTokens:generate`}async function Ky(n,e=!1){let t;const r=await yf(n.appConfig,l=>{if(!I1(l))throw ja.create("not-registered");const c=l.authToken;if(!e&&Uj(c))return l;if(c.requestStatus===1)return t=Lj(n,e),l;{if(!navigator.onLine)throw ja.create("app-offline");const f=Bj(l);return t=Vj(n,f),f}});return t?await t:r.authToken}async function Lj(n,e){let t=await xT(n.appConfig);for(;t.authToken.requestStatus===1;)await E1(100),t=await xT(n.appConfig);const r=t.authToken;return r.requestStatus===0?Ky(n,e):r}function xT(n){return yf(n,e=>{if(!I1(e))throw ja.create("not-registered");const t=e.authToken;return Fj(t)?{...e,authToken:{requestStatus:0}}:e})}async function Vj(n,e){try{const t=await Pj(n,e),r={...e,authToken:t};return await Mh(n.appConfig,r),t}catch(t){if(y1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await C1(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Mh(n.appConfig,r)}throw t}}function I1(n){return n!==void 0&&n.registrationStatus===2}function Uj(n){return n.requestStatus===2&&!zj(n)}function zj(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+fj}function Bj(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function Fj(n){return n.requestStatus===1&&n.requestTime+m1<Date.now()}async function qj(n){const e=n,{installationEntry:t,registrationPromise:r}=await Yy(e);return r?r.catch(console.error):Ky(e).catch(console.error),t.fid}async function Hj(n,e=!1){const t=n;return await Gj(t),(await Ky(t,e)).token}async function Gj(n){const{registrationPromise:e}=await Yy(n);e&&await e}function $j(n){if(!n||!n.options)throw Hp("App Configuration");if(!n.name)throw Hp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Hp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Hp(n){return ja.create("missing-app-config-values",{valueName:n})}const N1="installations",Yj="installations-internal",Kj=n=>{const e=n.getProvider("app").getImmediate(),t=$j(e),r=qs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Qj=n=>{const e=n.getProvider("app").getImmediate(),t=qs(e,N1).getImmediate();return{getId:()=>qj(t),getToken:a=>Hj(t,a)}};function Xj(){Ai(new li(N1,Kj,"PUBLIC")),Ai(new li(Yj,Qj,"PRIVATE"))}Xj();Nn(f1,Gy);Nn(f1,Gy,"esm2020");const kh="analytics",Wj="firebase_id",Jj="origin",Zj=60*1e3,eL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qy="https://www.googletagmanager.com/gtag/js";const gn=new Fh("@firebase/analytics");const tL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new Ua("analytics","Analytics",tL);function nL(n){if(!n.startsWith(Qy)){const e=qn.create("invalid-gtag-resource",{gtagURL:n});return gn.warn(e.message),""}return n}function O1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function iL(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function rL(n,e){const t=iL("firebase-js-sdk-policy",{createScriptURL:nL}),r=document.createElement("script"),a=`${Qy}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function sL(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function aL(n,e,t,r,a,l){const c=r[a];try{if(c)await e[c];else{const h=(await O1(t)).find(p=>p.measurementId===a);h&&await e[h.appId]}}catch(f){gn.error(f)}n("config",a,l)}async function oL(n,e,t,r,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const f=await O1(t);for(const h of c){const p=f.find(b=>b.measurementId===h),v=p&&e[p.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,a||{})}catch(l){gn.error(l)}}function lL(n,e,t,r){async function a(l,...c){try{if(l==="event"){const[f,h]=c;await oL(n,e,t,f,h)}else if(l==="config"){const[f,h]=c;await aL(n,e,t,r,f,h)}else if(l==="consent"){const[f,h]=c;n("consent",f,h)}else if(l==="get"){const[f,h,p]=c;n("get",f,h,p)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){gn.error(f)}}return a}function uL(n,e,t,r,a){let l=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=lL(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function cL(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Qy)&&t.src.includes(n))return t;return null}const dL=30,hL=1e3;class fL{constructor(e={},t=hL){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const D1=new fL;function mL(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function pL(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:mL(t)},a=eL.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();f.error?.message&&(c=f.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function gL(n,e=D1,t){const{appId:r,apiKey:a,measurementId:l}=n.options;if(!r)throw qn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw qn.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new _L;return setTimeout(async()=>{f.abort()},Zj),M1({appId:r,apiKey:a,measurementId:l},c,f,e)}async function M1(n,{throttleEndTimeMillis:e,backoffCount:t},r,a=D1){const{appId:l,measurementId:c}=n;try{await yL(r,e)}catch(f){if(c)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw f}try{const f=await pL(n);return a.deleteThrottleMetadata(l),f}catch(f){const h=f;if(!vL(h)){if(a.deleteThrottleMetadata(l),c)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:c};throw f}const p=Number(h?.customData?.httpStatus)===503?qb(t,a.intervalMillis,dL):qb(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return a.setThrottleMetadata(l,v),gn.debug(`Calling attemptFetch again in ${p} millis`),M1(n,v,r,a)}}function yL(n,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),r(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vL(n){if(!(n instanceof ci)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class _L{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function bL(n,e,t,r,a){if(a&&a.global){n("event",t,r);return}else{const l=await e,c={...r,send_to:l};n("event",t,c)}}async function wL(n,e,t,r){if(r&&r.global){const a={};for(const l of Object.keys(t))a[`user_properties.${l}`]=t[l];return n("set",a),Promise.resolve()}else{const a=await e;n("config",a,{update:!0,user_properties:t})}}async function TL(){if(wE())try{await TE()}catch(n){return gn.warn(qn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return gn.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EL(n,e,t,r,a,l,c){const f=gL(n);f.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>gn.error(S)),e.push(f);const h=TL().then(S=>{if(S)return r.getId()}),[p,v]=await Promise.all([f,h]);cL(l)||rL(l,p.measurementId),a("js",new Date);const b=c?.config??{};return b[Jj]="firebase",b.update=!0,v!=null&&(b[Wj]=v),a("config",p.measurementId,b),p.measurementId}class SL{constructor(e){this.app=e}_delete(){return delete $o[this.app.options.appId],Promise.resolve()}}let $o={},AT=[];const CT={};let Gp="dataLayer",xL="gtag",RT,Xy,IT=!1;function AL(){const n=[];if(bE()&&n.push("This is a browser extension environment."),JI()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=qn.create("invalid-analytics-context",{errorInfo:e});gn.warn(t.message)}}function CL(n,e,t){AL();const r=n.options.appId;if(!r)throw qn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if($o[r]!=null)throw qn.create("already-exists",{id:r});if(!IT){sL(Gp);const{wrappedGtag:l,gtagCore:c}=uL($o,AT,CT,Gp,xL);Xy=l,RT=c,IT=!0}return $o[r]=EL(n,AT,CT,e,RT,Gp,t),new SL(n)}function RL(n=qh()){n=rt(n);const e=qs(n,kh);return e.isInitialized()?e.getImmediate():IL(n)}function IL(n,e={}){const t=qs(n,kh);if(t.isInitialized()){const a=t.getImmediate();if(ks(e,t.getOptions()))return a;throw qn.create("already-initialized")}return t.initialize({options:e})}function NL(n,e,t){n=rt(n),wL(Xy,$o[n.app.options.appId],e,t).catch(r=>gn.error(r))}function OL(n,e,t,r){n=rt(n),bL(Xy,$o[n.app.options.appId],e,t,r).catch(a=>gn.error(a))}const NT="@firebase/analytics",OT="0.10.19";function DL(){Ai(new li(kh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return CL(r,a,t)},"PUBLIC")),Ai(new li("analytics-internal",n,"PRIVATE")),Nn(NT,OT),Nn(NT,OT,"esm2020");function n(e){try{const t=e.getProvider(kh).getImmediate();return{logEvent:(r,a,l)=>OL(t,r,a,l),setUserProperties:(r,a)=>NL(t,r,a)}}catch(t){throw qn.create("interop-component-reg-failed",{reason:t})}}}DL();const kg={apiKey:"AIzaSyBZLpHb5A-fCL1pXCKfGqZgjVQH8T2urfg",authDomain:"ds-mart2.firebaseapp.com",projectId:"ds-mart2",storageBucket:"ds-mart2.firebasestorage.app",messagingSenderId:"121729214760",appId:"1:121729214760:web:c1231862217a572c07881d",measurementId:"G-GRWDH1HWJQ"};kg.apiKey?console.info("[Firebase] Config loaded successfully. Project:",kg.projectId):console.error("Firebase config not loaded. Check your .env file.");const vf=AE(kg);let ML;if(typeof window<"u")try{ML=RL(vf)}catch(n){console.warn("Firebase analytics init failed",n)}const tn=OD(vf),Bt=PP(vf),kL=lj(vf);function DT({small:n=!1}){return y.jsx("span",{className:`font-bold ${n?"text-lg":"text-xl"} text-gray-900 whitespace-nowrap`,children:"Crodyto"})}function PL({onCartClick:n}){const e=Br(h=>h.totalCount),t=un(),[r,a]=F.useState(""),[l]=Ba(tn),c=h=>{h.preventDefault(),t("/products?q="+encodeURIComponent(r))},f=async()=>{try{await wO(tn)}catch(h){console.warn(h)}};return y.jsx("header",{className:"w-full bg-gradient-to-r from-orange-600 to-orange-700 border-b border-orange-800 px-3 sm:px-4 py-3 sticky top-0 z-20 shadow-lg",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[y.jsx(mt,{to:"/","aria-label":"Home",className:"transform hover:scale-105 transition-transform",children:y.jsx(DT,{})}),y.jsx("form",{onSubmit:c,className:"flex-1 max-w-md",children:y.jsxs("div",{className:"flex items-center bg-white bg-opacity-20 rounded-lg overflow-hidden backdrop-blur-sm hover:bg-opacity-30 transition-all",children:[y.jsx("input",{className:"flex-1 px-3 py-2 bg-transparent outline-none text-sm text-white placeholder-red-100",placeholder:"Search products...",value:r,onChange:h=>a(h.target.value)}),y.jsx("button",{type:"submit",className:"px-3 py-2 text-white hover:bg-red-500 transition-all","aria-label":"search",children:y.jsx(ng,{size:18})})]})}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{onClick:n,className:"relative text-white hover:bg-orange-500 p-2 rounded-lg transition-all","aria-label":"cart",children:[y.jsx(Na,{size:20}),e>0&&y.jsx("span",{className:"absolute -top-2 -right-2 bg-yellow-400 text-red-700 text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold animate-glow",children:e})]}),l?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-white",children:l.displayName||l.email.substring(0,10)}),y.jsx("button",{onClick:f,className:"px-3 py-1 text-sm border border-orange-200 text-white rounded-lg hover:bg-orange-500 transition-all font-medium",children:"Logout"})]}):y.jsx(mt,{to:"/login",className:"px-3 py-1 text-sm border border-orange-200 text-white rounded-lg hover:bg-orange-500 transition-all font-medium",children:"Login"})]})]}),y.jsxs("div",{className:"sm:hidden flex items-center justify-between",children:[y.jsx(mt,{to:"/","aria-label":"Home",className:"transform hover:scale-105 transition-transform",children:y.jsx(DT,{small:!0})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:n,className:"relative p-2 text-white hover:bg-orange-500 rounded-lg transition-all","aria-label":"cart",children:[y.jsx(Na,{size:20}),e>0&&y.jsx("span",{className:"absolute top-0 right-0 bg-yellow-400 text-red-700 text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold animate-glow",children:e})]}),l?y.jsx("button",{onClick:f,className:"p-2 text-xs bg-gray-100 text-gray-900 rounded-lg font-medium",children:"Out"}):y.jsx(mt,{to:"/login",className:"p-2 text-xs bg-gray-100 text-gray-900 rounded-lg font-medium",children:"Login"})]})]}),y.jsx("form",{onSubmit:c,className:"sm:hidden mt-3",children:y.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg overflow-hidden",children:[y.jsx("input",{className:"flex-1 px-3 py-2 bg-transparent outline-none text-sm",placeholder:"Search...",value:r,onChange:h=>a(h.target.value)}),y.jsx("button",{type:"submit",className:"px-3 py-2 text-gray-600 hover:text-red-600 transition-colors","aria-label":"search",children:y.jsx(ng,{size:16})})]})})]})})}function jL(){const n=un(),e=Br(a=>a.items),t=e.reduce((a,l)=>a+l.price*(l.qty||1),0);if(!e||e.length===0)return null;const r={bottom:"calc(env(safe-area-inset-bottom, 0px) + 64px)"};return y.jsx("div",{className:"fixed left-0 right-0 z-40 flex justify-center md:hidden",style:r,children:y.jsxs("div",{className:"max-w-3xl w-full mx-3 bg-white border border-gray-200 rounded-lg p-2 flex items-center justify-between shadow",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"text-sm font-medium",children:[e.length," item",e.length>1?"s":""]}),y.jsxs("div",{className:"text-sm text-gray-500",children:["",t.toFixed(0)]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"px-3 py-1 bg-white text-gray-900 border rounded",onClick:()=>n("/cart"),children:"View Cart"}),y.jsx("button",{className:"px-3 py-1 bg-gray-900 text-white rounded",onClick:()=>n("/checkout"),children:"Checkout"})]})]})})}function LL(){const{pathname:n}=zr(),e=un(),t=Br(r=>r.items);return y.jsxs(y.Fragment,{children:[y.jsx(jL,{}),y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 md:hidden",children:y.jsxs("div",{className:"max-w-3xl mx-auto flex justify-between px-4 py-2 h-14 items-center",children:[y.jsxs("button",{onClick:()=>e("/"),className:"flex flex-col items-center text-xs",children:[y.jsx(SI,{}),y.jsx("span",{className:n==="/"?"text-gray-900 font-medium":"text-gray-500",children:"Home"})]}),y.jsxs("button",{onClick:()=>e("/products"),className:"flex flex-col items-center text-xs",children:[y.jsx(ng,{}),y.jsx("span",{className:n.startsWith("/products")?"text-gray-900 font-medium":"text-gray-500",children:"Search"})]}),y.jsxs("button",{onClick:()=>e("/account"),className:"flex flex-col items-center text-xs",children:[y.jsx(OI,{}),y.jsx("span",{className:n==="/account"?"text-gray-900 font-medium":"text-gray-500",children:"Account"})]}),y.jsxs("button",{onClick:()=>e("/orders"),className:"flex flex-col items-center text-xs",children:[y.jsx(II,{}),y.jsx("span",{className:n==="/orders"?"text-gray-900 font-medium":"text-gray-500",children:"Orders"})]}),y.jsxs("button",{onClick:()=>e("/wishlist"),className:"flex flex-col items-center text-xs relative",children:[y.jsx(zh,{}),y.jsx("span",{className:n==="/wishlist"?"text-gray-900 font-medium":"text-gray-500",children:"Wishlist"}),t.length>0&&y.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-900 text-white text-xxs rounded-full w-4 h-4 flex items-center justify-center text-[10px]",children:t.length})]})]})})]})}function VL({isOpen:n,onClose:e}){const t=un(),{items:r,removeItem:a,updateQty:l}=Br(),c=r.reduce((p,v)=>p+v.price*(v.qty||1),0),f=r.reduce((p,v)=>p+(v.qty||1),0),h=()=>{e(),t("/checkout")};return n?y.jsxs("div",{className:"fixed inset-0 z-50 flex animate-fadeIn",children:[y.jsx("div",{onClick:e,className:"flex-1 bg-black bg-opacity-40 backdrop-blur-sm"}),y.jsxs("div",{className:"w-full sm:w-96 bg-white shadow-2xl flex flex-col animate-slideInRight",children:[y.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-orange-100 flex items-center justify-between sticky top-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Na,{className:"text-orange-600",size:20}),y.jsx("h2",{className:"font-bold text-lg text-gray-900",children:"My Cart"}),f>0&&y.jsx("span",{className:"bg-orange-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:f})]}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-orange-200 rounded-lg transition-colors",children:y.jsx(Ko,{size:20})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto",children:r.length===0?y.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center h-full",children:[y.jsx(Na,{size:48,className:"text-gray-300 mb-4"}),y.jsx("p",{className:"text-gray-500 font-medium",children:"Your cart is empty"}),y.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Add products to get started"}),y.jsx("button",{onClick:()=>{e(),t("/products")},className:"mt-4 px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Continue Shopping"})]}):y.jsx("div",{className:"divide-y divide-gray-200",children:r.map(p=>y.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[y.jsxs("div",{className:"flex gap-3 mb-3",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:p.image?y.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Image"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"font-semibold text-sm text-gray-900 truncate",children:p.name}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.category||"Product"}),y.jsxs("p",{className:"text-orange-600 font-bold mt-1",children:["",p.price]})]}),y.jsx("button",{onClick:()=>a(p.id),className:"p-1 hover:bg-red-100 rounded-lg transition-colors flex-shrink-0",children:y.jsx(Ko,{size:16,className:"text-red-500"})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>l(p.id,Math.max(1,(p.qty||1)-1)),className:"p-1 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-300 transition-all",children:y.jsx(AI,{size:14})}),y.jsx("span",{className:"w-8 text-center font-semibold text-gray-900",children:p.qty||1}),y.jsx("button",{onClick:()=>l(p.id,(p.qty||1)+1),className:"p-1 border border-gray-300 rounded-lg hover:bg-orange-50 hover:border-orange-300 transition-all",children:y.jsx(cE,{size:14})}),y.jsxs("span",{className:"ml-auto text-sm font-semibold text-gray-900",children:["",(p.price*(p.qty||1)).toFixed(2)]})]})]},p.id))})}),r.length>0&&y.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gradient-to-t from-orange-50 to-transparent space-y-3 sticky bottom-0",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-gray-600 font-medium",children:"Subtotal:"}),y.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",c.toFixed(2)]})]}),y.jsx("div",{className:"text-xs text-gray-500",children:"Shipping & taxes calculated at checkout"}),y.jsx("button",{onClick:h,className:"w-full bg-gradient-to-r from-orange-600 to-orange-700 text-white py-3 rounded-lg font-bold hover:shadow-lg hover:shadow-orange-200 transition-all active:scale-95",children:"Proceed to Checkout"}),y.jsx("button",{onClick:e,className:"w-full bg-gray-100 text-gray-900 py-2 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Continue Shopping"})]})]})]}):null}function MT(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Wy(n={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:MT(e[r])&&MT(n[r])&&Object.keys(e[r]).length>0&&Wy(n[r],e[r])})}const k1={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ga(){const n=typeof document<"u"?document:{};return Wy(n,k1),n}const UL={document:k1,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function yn(){const n=typeof window<"u"?window:{};return Wy(n,UL),n}function zL(n=""){return n.trim().split(" ").filter(e=>!!e.trim())}function BL(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function P1(n,e=0){return setTimeout(n,e)}function Ph(){return Date.now()}function FL(n){const e=yn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function qL(n,e="x"){const t=yn();let r,a,l;const c=FL(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(f=>f.replace(",",".")).join(", ")),l=new t.WebKitCSSMatrix(a==="none"?"":a)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=l.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=l.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=l.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function $d(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function HL(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function zn(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let r=1;r<n.length;r+=1){const a=n[r];if(a!=null&&!HL(a)){const l=Object.keys(Object(a)).filter(c=>t.indexOf(c)<0);for(let c=0,f=l.length;c<f;c+=1){const h=l[c],p=Object.getOwnPropertyDescriptor(a,h);p!==void 0&&p.enumerable&&($d(e[h])&&$d(a[h])?a[h].__swiper__?e[h]=a[h]:zn(e[h],a[h]):!$d(e[h])&&$d(a[h])?(e[h]={},a[h].__swiper__?e[h]=a[h]:zn(e[h],a[h])):e[h]=a[h])}}}return e}function Yd(n,e,t){n.style.setProperty(e,t)}function j1({swiper:n,targetPosition:e,side:t}){const r=yn(),a=-n.translate;let l=null,c;const f=n.params.speed;n.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(n.cssModeFrameID);const h=e>a?"next":"prev",p=(b,S)=>h==="next"&&b>=S||h==="prev"&&b<=S,v=()=>{c=new Date().getTime(),l===null&&(l=c);const b=Math.max(Math.min((c-l)/f,1),0),S=.5-Math.cos(b*Math.PI)/2;let x=a+S*(e-a);if(p(x,e)&&(x=e),n.wrapperEl.scrollTo({[t]:x}),p(x,e)){n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:x})}),r.cancelAnimationFrame(n.cssModeFrameID);return}n.cssModeFrameID=r.requestAnimationFrame(v)};v()}function Or(n,e=""){const t=yn(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function GL(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function $L(n,e){const t=yn();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=GL(n,e))),r}function jh(n){try{console.warn(n);return}catch{}}function Pg(n,e=[]){const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:zL(e)),t}function YL(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function KL(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Cs(n,e){return yn().getComputedStyle(n,null).getPropertyValue(e)}function kT(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function QL(n,e){const t=[];let r=n.parentElement;for(;r;)t.push(r),r=r.parentElement;return t}function PT(n,e,t){const r=yn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function jT(n,e=""){typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let $p;function XL(){const n=yn(),e=Ga();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function L1(){return $p||($p=XL()),$p}let Yp;function WL({userAgent:n}={}){const e=L1(),t=yn(),r=t.navigator.platform,a=n||t.navigator.userAgent,l={ios:!1,android:!1},c=t.screen.width,f=t.screen.height,h=a.match(/(Android);?[\s\/]+([\d.]+)?/);let p=a.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const v=a.match(/(iPod)(.*OS\s([\d_]+))?/),b=!p&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=r==="Win32";let x=r==="MacIntel";const M=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&x&&e.touch&&M.indexOf(`${c}x${f}`)>=0&&(p=a.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),x=!1),h&&!S&&(l.os="android",l.android=!0),(p||b||v)&&(l.os="ios",l.ios=!0),l}function V1(n={}){return Yp||(Yp=WL(n)),Yp}let Kp;function JL(){const n=yn(),e=V1();let t=!1;function r(){const f=n.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(r()){const f=String(n.navigator.userAgent);if(f.includes("Version/")){const[h,p]=f.split("Version/")[1].split(" ")[0].split(".").map(v=>Number(v));t=h<16||h===16&&p<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),l=r(),c=l||a&&e.ios;return{isSafari:t||l,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function U1(){return Kp||(Kp=JL()),Kp}function ZL({swiper:n,on:e,emit:t}){const r=yn();let a=null,l=null;const c=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},f=()=>{!n||n.destroyed||!n.initialized||(a=new ResizeObserver(v=>{l=r.requestAnimationFrame(()=>{const{width:b,height:S}=n;let x=b,M=S;v.forEach(({contentBoxSize:k,contentRect:N,target:U})=>{U&&U!==n.el||(x=N?N.width:(k[0]||k).inlineSize,M=N?N.height:(k[0]||k).blockSize)}),(x!==b||M!==S)&&c()})}),a.observe(n.el))},h=()=>{l&&r.cancelAnimationFrame(l),a&&a.unobserve&&n.el&&(a.unobserve(n.el),a=null)},p=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{if(n.params.resizeObserver&&typeof r.ResizeObserver<"u"){f();return}r.addEventListener("resize",c),r.addEventListener("orientationchange",p)}),e("destroy",()=>{h(),r.removeEventListener("resize",c),r.removeEventListener("orientationchange",p)})}function eV({swiper:n,extendParams:e,on:t,emit:r}){const a=[],l=yn(),c=(p,v={})=>{const b=l.MutationObserver||l.WebkitMutationObserver,S=new b(x=>{if(n.__preventObserver__)return;if(x.length===1){r("observerUpdate",x[0]);return}const M=function(){r("observerUpdate",x[0])};l.requestAnimationFrame?l.requestAnimationFrame(M):l.setTimeout(M,0)});S.observe(p,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:n.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),a.push(S)},f=()=>{if(n.params.observer){if(n.params.observeParents){const p=QL(n.hostEl);for(let v=0;v<p.length;v+=1)c(p[v])}c(n.hostEl,{childList:n.params.observeSlideChildren}),c(n.wrapperEl,{attributes:!1})}},h=()=>{a.forEach(p=>{p.disconnect()}),a.splice(0,a.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",f),t("destroy",h)}var tV={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(l=>{r.eventsListeners[l]||(r.eventsListeners[l]=[]),r.eventsListeners[l][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(...l){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy,e.apply(r,l)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,l)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(l,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,r,a;return typeof n[0]=="string"||Array.isArray(n[0])?(t=n[0],r=n.slice(1,n.length),a=e):(t=n[0].events,r=n[0].data,a=n[0].context||e),r.unshift(a),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(f=>{f.apply(a,[c,...r])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(f=>{f.apply(a,r)})}),e}};function nV(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Cs(r,"padding-left")||0,10)-parseInt(Cs(r,"padding-right")||0,10),t=t-parseInt(Cs(r,"padding-top")||0,10)-parseInt(Cs(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function iV(){const n=this;function e(I,C){return parseFloat(I.getPropertyValue(n.getDirectionLabel(C))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,rtlTranslate:l,wrongRTL:c}=n,f=n.virtual&&t.virtual.enabled,h=f?n.virtual.slides.length:n.slides.length,p=Or(a,`.${n.params.slideClass}, swiper-slide`),v=f?n.virtual.slides.length:p.length;let b=[];const S=[],x=[];let M=t.slidesOffsetBefore;typeof M=="function"&&(M=t.slidesOffsetBefore.call(n));let k=t.slidesOffsetAfter;typeof k=="function"&&(k=t.slidesOffsetAfter.call(n));const N=n.snapGrid.length,U=n.slidesGrid.length,B=n.size-M-k;let z=t.spaceBetween,te=-M,ne=0,ie=0;if(typeof B>"u")return;typeof z=="string"&&z.indexOf("%")>=0?z=parseFloat(z.replace("%",""))/100*B:typeof z=="string"&&(z=parseFloat(z)),n.virtualSize=-z-M-k,p.forEach(I=>{l?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Yd(r,"--swiper-centered-offset-before",""),Yd(r,"--swiper-centered-offset-after",""));const O=t.grid&&t.grid.rows>1&&n.grid;O?n.grid.initSlides(p):n.grid&&n.grid.unsetSlides();let E;const D=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(I=>typeof t.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<v;I+=1){E=0;const C=p[I];if(!(C&&(O&&n.grid.updateSlide(I,C,p),Cs(C,"display")==="none"))){if(f&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(E=t.virtual.slidesPerViewAutoSlideSize),E&&C&&(t.roundLengths&&(E=Math.floor(E)),C.style[n.getDirectionLabel("width")]=`${E}px`);else if(t.slidesPerView==="auto"){D&&(C.style[n.getDirectionLabel("width")]="");const L=getComputedStyle(C),P=C.style.transform,de=C.style.webkitTransform;if(P&&(C.style.transform="none"),de&&(C.style.webkitTransform="none"),t.roundLengths)E=n.isHorizontal()?PT(C,"width"):PT(C,"height");else{const ce=e(L,"width"),q=e(L,"padding-left"),J=e(L,"padding-right"),$=e(L,"margin-left"),ue=e(L,"margin-right"),fe=L.getPropertyValue("box-sizing");if(fe&&fe==="border-box")E=ce+$+ue;else{const{clientWidth:j,offsetWidth:ee}=C;E=ce+q+J+$+ue+(ee-j)}}P&&(C.style.transform=P),de&&(C.style.webkitTransform=de),t.roundLengths&&(E=Math.floor(E))}else E=(B-(t.slidesPerView-1)*z)/t.slidesPerView,t.roundLengths&&(E=Math.floor(E)),C&&(C.style[n.getDirectionLabel("width")]=`${E}px`);C&&(C.swiperSlideSize=E),x.push(E),t.centeredSlides?(te=te+E/2+ne/2+z,ne===0&&I!==0&&(te=te-B/2-z),I===0&&(te=te-B/2-z),Math.abs(te)<1/1e3&&(te=0),t.roundLengths&&(te=Math.floor(te)),ie%t.slidesPerGroup===0&&b.push(te),S.push(te)):(t.roundLengths&&(te=Math.floor(te)),(ie-Math.min(n.params.slidesPerGroupSkip,ie))%n.params.slidesPerGroup===0&&b.push(te),S.push(te),te=te+E+z),n.virtualSize+=E+z,ne=E,ie+=1}}if(n.virtualSize=Math.max(n.virtualSize,B)+k,l&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+z}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+z}px`),O&&n.grid.updateWrapperSize(E,b),!t.centeredSlides){const I=[];for(let C=0;C<b.length;C+=1){let L=b[C];t.roundLengths&&(L=Math.floor(L)),b[C]<=n.virtualSize-B&&I.push(L)}b=I,Math.floor(n.virtualSize-B)-Math.floor(b[b.length-1])>1&&b.push(n.virtualSize-B)}if(f&&t.loop){const I=x[0]+z;if(t.slidesPerGroup>1){const C=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),L=I*t.slidesPerGroup;for(let P=0;P<C;P+=1)b.push(b[b.length-1]+L)}for(let C=0;C<n.virtual.slidesBefore+n.virtual.slidesAfter;C+=1)t.slidesPerGroup===1&&b.push(b[b.length-1]+I),S.push(S[S.length-1]+I),n.virtualSize+=I}if(b.length===0&&(b=[0]),z!==0){const I=n.isHorizontal()&&l?"marginLeft":n.getDirectionLabel("marginRight");p.filter((C,L)=>!t.cssMode||t.loop?!0:L!==p.length-1).forEach(C=>{C.style[I]=`${z}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let I=0;x.forEach(L=>{I+=L+(z||0)}),I-=z;const C=I>B?I-B:0;b=b.map(L=>L<=0?-M:L>C?C+k:L)}if(t.centerInsufficientSlides){let I=0;x.forEach(L=>{I+=L+(z||0)}),I-=z;const C=(M||0)+(k||0);if(I+C<B){const L=(B-I-C)/2;b.forEach((P,de)=>{b[de]=P-L}),S.forEach((P,de)=>{S[de]=P+L})}}if(Object.assign(n,{slides:p,snapGrid:b,slidesGrid:S,slidesSizesGrid:x}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Yd(r,"--swiper-centered-offset-before",`${-b[0]}px`),Yd(r,"--swiper-centered-offset-after",`${n.size/2-x[x.length-1]/2}px`);const I=-n.snapGrid[0],C=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(L=>L+I),n.slidesGrid=n.slidesGrid.map(L=>L+C)}if(v!==h&&n.emit("slidesLengthChange"),b.length!==N&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),S.length!==U&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const I=`${t.containerModifierClass}backface-hidden`,C=n.el.classList.contains(I);v<=t.maxBackfaceHiddenSlides?C||n.el.classList.add(I):C&&n.el.classList.remove(I)}}function rV(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,l;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{t.push(f)});else for(l=0;l<Math.ceil(e.params.slidesPerView);l+=1){const f=e.activeIndex+l;if(f>e.slides.length&&!r)break;t.push(c(f))}else t.push(c(e.activeIndex));for(l=0;l<t.length;l+=1)if(typeof t[l]<"u"){const f=t[l].offsetHeight;a=f>a?f:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function sV(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const LT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function aV(n=this&&this.translate||0){const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:l}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=t.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let h=0;h<r.length;h+=1){const p=r[h];let v=p.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(v-=r[0].swiperSlideOffset);const b=(c+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+f),S=(c-l[0]+(t.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+f),x=-(c-v),M=x+e.slidesSizesGrid[h],k=x>=0&&x<=e.size-e.slidesSizesGrid[h],N=x>=0&&x<e.size-1||M>1&&M<=e.size||x<=0&&M>=e.size;N&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h)),LT(p,N,t.slideVisibleClass),LT(p,k,t.slideFullyVisibleClass),p.progress=a?-b:b,p.originalProgress=a?-S:S}}function oV(n){const e=this;if(typeof n>"u"){const v=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*v||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:l,isEnd:c,progressLoop:f}=e;const h=l,p=c;if(r===0)a=0,l=!0,c=!0;else{a=(n-e.minTranslate())/r;const v=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;l=v||a<=0,c=b||a>=1,v&&(a=0),b&&(a=1)}if(t.loop){const v=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),S=e.slidesGrid[v],x=e.slidesGrid[b],M=e.slidesGrid[e.slidesGrid.length-1],k=Math.abs(n);k>=S?f=(k-S)/M:f=(k+M-x)/M,f>1&&(f-=1)}Object.assign(e,{progress:a,progressLoop:f,isBeginning:l,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),l&&!h&&e.emit("reachBeginning toEdge"),c&&!p&&e.emit("reachEnd toEdge"),(h&&!l||p&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const Qp=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function lV(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,l=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,f=b=>Or(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let h,p,v;if(l)if(t.loop){let b=a-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),h=f(`[data-swiper-slide-index="${b}"]`)}else h=f(`[data-swiper-slide-index="${a}"]`);else c?(h=e.find(b=>b.column===a),v=e.find(b=>b.column===a+1),p=e.find(b=>b.column===a-1)):h=e[a];h&&(c||(v=KL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!v&&(v=e[0]),p=YL(h,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p===0&&(p=e[e.length-1]))),e.forEach(b=>{Qp(b,b===h,t.slideActiveClass),Qp(b,b===v,t.slideNextClass),Qp(b,b===p,t.slidePrevClass)}),n.emitSlidesClasses()}const oh=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},Xp=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},jg=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,f=[c-e];f.push(...Array.from({length:e}).map((h,p)=>c+r+p)),n.slides.forEach((h,p)=>{f.includes(h.column)&&Xp(n,p)});return}const l=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=l+e;c+=1){const f=(c%t+t)%t;(f<a||f>l)&&Xp(n,f)}else for(let c=Math.max(a-e,0);c<=Math.min(l+e,t-1);c+=1)c!==a&&(c>l||c<a)&&Xp(n,c)};function uV(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let l=0;l<e.length;l+=1)typeof e[l+1]<"u"?r>=e[l]&&r<e[l+1]-(e[l+1]-e[l])/2?a=l:r>=e[l]&&r<e[l+1]&&(a=l+1):r>=e[l]&&(a=l);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function cV(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:l,realIndex:c,snapIndex:f}=e;let h=n,p;const v=x=>{let M=x-e.virtual.slidesBefore;return M<0&&(M=e.virtual.slides.length+M),M>=e.virtual.slides.length&&(M-=e.virtual.slides.length),M};if(typeof h>"u"&&(h=uV(e)),r.indexOf(t)>=0)p=r.indexOf(t);else{const x=Math.min(a.slidesPerGroupSkip,h);p=x+Math.floor((h-x)/a.slidesPerGroup)}if(p>=r.length&&(p=r.length-1),h===l&&!e.params.loop){p!==f&&(e.snapIndex=p,e.emit("snapIndexChange"));return}if(h===l&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=v(h);return}const b=e.grid&&a.grid&&a.grid.rows>1;let S;if(e.virtual&&a.virtual.enabled&&a.loop)S=v(h);else if(b){const x=e.slides.find(k=>k.column===h);let M=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(e.slides.indexOf(x),0)),S=Math.floor(M/a.grid.rows)}else if(e.slides[h]){const x=e.slides[h].getAttribute("data-swiper-slide-index");x?S=parseInt(x,10):S=h}else S=h;Object.assign(e,{previousSnapIndex:f,snapIndex:p,previousRealIndex:c,realIndex:S,previousIndex:l,activeIndex:h}),e.initialized&&jg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==S&&e.emit("realIndexChange"),e.emit("slideChange"))}function dV(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(f=>{!a&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(a=f)});let l=!1,c;if(a){for(let f=0;f<t.slides.length;f+=1)if(t.slides[f]===a){l=!0,c=f;break}}if(a&&l)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var hV={updateSize:nV,updateSlides:iV,updateAutoHeight:rV,updateSlidesOffset:sV,updateSlidesProgress:aV,updateProgress:oV,updateSlidesClasses:lV,updateActiveIndex:cV,updateClickedSlide:dV};function fV(n=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:l}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=qL(l,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function mV(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:l,progress:c}=t;let f=0,h=0;const p=0;t.isHorizontal()?f=r?-n:n:h=n,a.roundLengths&&(f=Math.floor(f),h=Math.floor(h)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:h,a.cssMode?l[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-h:a.virtualTranslate||(t.isHorizontal()?f-=t.cssOverflowAdjustment():h-=t.cssOverflowAdjustment(),l.style.transform=`translate3d(${f}px, ${h}px, ${p}px)`);let v;const b=t.maxTranslate()-t.minTranslate();b===0?v=0:v=(n-t.minTranslate())/b,v!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function pV(){return-this.snapGrid[0]}function gV(){return-this.snapGrid[this.snapGrid.length-1]}function yV(n=0,e=this.params.speed,t=!0,r=!0,a){const l=this,{params:c,wrapperEl:f}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const h=l.minTranslate(),p=l.maxTranslate();let v;if(r&&n>h?v=h:r&&n<p?v=p:v=n,l.updateProgress(v),c.cssMode){const b=l.isHorizontal();if(e===0)f[b?"scrollLeft":"scrollTop"]=-v;else{if(!l.support.smoothScroll)return j1({swiper:l,targetPosition:-v,side:b?"left":"top"}),!0;f.scrollTo({[b?"left":"top"]:-v,behavior:"smooth"})}return!0}return e===0?(l.setTransition(0),l.setTranslate(v),t&&(l.emit("beforeTransitionStart",e,a),l.emit("transitionEnd"))):(l.setTransition(e),l.setTranslate(v),t&&(l.emit("beforeTransitionStart",e,a),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(S){!l||l.destroyed||S.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,l.animating=!1,t&&l.emit("transitionEnd"))}),l.wrapperEl.addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd))),!0}var vV={getTranslate:fV,setTranslate:mV,minTranslate:pV,maxTranslate:gV,translateTo:yV};function _V(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function z1({swiper:n,runCallbacks:e,direction:t,step:r}){const{activeIndex:a,previousIndex:l}=n;let c=t;c||(a>l?c="next":a<l?c="prev":c="reset"),n.emit(`transition${r}`),e&&c==="reset"?n.emit(`slideResetTransition${r}`):e&&a!==l&&(n.emit(`slideChangeTransition${r}`),c==="next"?n.emit(`slideNextTransition${r}`):n.emit(`slidePrevTransition${r}`))}function bV(n=!0,e){const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),z1({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function wV(n=!0,e){const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),z1({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var TV={setTransition:_V,transitionStart:bV,transitionEnd:wV};function EV(n=0,e,t=!0,r,a){typeof n=="string"&&(n=parseInt(n,10));const l=this;let c=n;c<0&&(c=0);const{params:f,snapGrid:h,slidesGrid:p,previousIndex:v,activeIndex:b,rtlTranslate:S,wrapperEl:x,enabled:M}=l;if(!M&&!r&&!a||l.destroyed||l.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=l.params.speed);const k=Math.min(l.params.slidesPerGroupSkip,c);let N=k+Math.floor((c-k)/l.params.slidesPerGroup);N>=h.length&&(N=h.length-1);const U=-h[N];if(f.normalizeSlideIndex)for(let O=0;O<p.length;O+=1){const E=-Math.floor(U*100),D=Math.floor(p[O]*100),I=Math.floor(p[O+1]*100);typeof p[O+1]<"u"?E>=D&&E<I-(I-D)/2?c=O:E>=D&&E<I&&(c=O+1):E>=D&&(c=O)}if(l.initialized&&c!==b&&(!l.allowSlideNext&&(S?U>l.translate&&U>l.minTranslate():U<l.translate&&U<l.minTranslate())||!l.allowSlidePrev&&U>l.translate&&U>l.maxTranslate()&&(b||0)!==c))return!1;c!==(v||0)&&t&&l.emit("beforeSlideChangeStart"),l.updateProgress(U);let B;c>b?B="next":c<b?B="prev":B="reset";const z=l.virtual&&l.params.virtual.enabled;if(!(z&&a)&&(S&&-U===l.translate||!S&&U===l.translate))return l.updateActiveIndex(c),f.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),f.effect!=="slide"&&l.setTranslate(U),B!=="reset"&&(l.transitionStart(t,B),l.transitionEnd(t,B)),!1;if(f.cssMode){const O=l.isHorizontal(),E=S?U:-U;if(e===0)z&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),z&&!l._cssModeVirtualInitialSet&&l.params.initialSlide>0?(l._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[O?"scrollLeft":"scrollTop"]=E})):x[O?"scrollLeft":"scrollTop"]=E,z&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._immediateVirtual=!1});else{if(!l.support.smoothScroll)return j1({swiper:l,targetPosition:E,side:O?"left":"top"}),!0;x.scrollTo({[O?"left":"top"]:E,behavior:"smooth"})}return!0}const ie=U1().isSafari;return z&&!a&&ie&&l.isElement&&l.virtual.update(!1,!1,c),l.setTransition(e),l.setTranslate(U),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",e,r),l.transitionStart(t,B),e===0?l.transitionEnd(t,B):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(E){!l||l.destroyed||E.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(t,B))}),l.wrapperEl.addEventListener("transitionend",l.onSlideToWrapperTransitionEnd)),!0}function SV(n=0,e,t=!0,r){typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const l=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let f;if(l){const k=c*a.params.grid.rows;f=a.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===k).column}else f=a.getSlideIndexByData(c);const h=l?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:p,slidesOffsetBefore:v,slidesOffsetAfter:b}=a.params,S=p||!!v||!!b;let x=a.params.slidesPerView;x==="auto"?x=a.slidesPerViewDynamic():(x=Math.ceil(parseFloat(a.params.slidesPerView,10)),S&&x%2===0&&(x=x+1));let M=h-f<x;if(S&&(M=M||f<Math.ceil(x/2)),r&&S&&a.params.slidesPerView!=="auto"&&!l&&(M=!1),M){const k=S?f<a.activeIndex?"prev":"next":f-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:k,slideTo:!0,activeSlideIndex:k==="next"?f+1:f-h+1,slideRealIndex:k==="next"?a.realIndex:void 0})}if(l){const k=c*a.params.grid.rows;c=a.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===k).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function xV(n,e=!0,t){const r=this,{enabled:a,params:l,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let f=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const h=r.activeIndex<l.slidesPerGroupSkip?1:f,p=r.virtual&&l.virtual.enabled;if(l.loop){if(c&&!p&&l.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&l.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+h,n,e,t)}),!0}return l.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+h,n,e,t)}function AV(n,e=!0,t){const r=this,{params:a,snapGrid:l,slidesGrid:c,rtlTranslate:f,enabled:h,animating:p}=r;if(!h||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const v=r.virtual&&a.virtual.enabled;if(a.loop){if(p&&!v&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=f?r.translate:-r.translate;function S(B){return B<0?-Math.floor(Math.abs(B)):Math.floor(B)}const x=S(b),M=l.map(B=>S(B)),k=a.freeMode&&a.freeMode.enabled;let N=l[M.indexOf(x)-1];if(typeof N>"u"&&(a.cssMode||k)){let B;l.forEach((z,te)=>{x>=z&&(B=te)}),typeof B<"u"&&(N=k?l[B]:l[B>0?B-1:B])}let U=0;if(typeof N<"u"&&(U=c.indexOf(N),U<0&&(U=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(U=U-r.slidesPerViewDynamic("previous",!0)+1,U=Math.max(U,0))),a.rewind&&r.isBeginning){const B=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(B,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(U,n,e,t)}),!0;return r.slideTo(U,n,e,t)}function CV(n,e=!0,t){const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function RV(n,e=!0,t,r=.5){const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let l=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,l),f=c+Math.floor((l-c)/a.params.slidesPerGroup),h=a.rtlTranslate?a.translate:-a.translate;if(h>=a.snapGrid[f]){const p=a.snapGrid[f],v=a.snapGrid[f+1];h-p>(v-p)*r&&(l+=a.params.slidesPerGroup)}else{const p=a.snapGrid[f-1],v=a.snapGrid[f];h-p<=(v-p)*r&&(l-=a.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,a.slidesGrid.length-1),a.slideTo(l,n,e,t)}function IV(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.getSlideIndexWhenGrid(n.clickedIndex),l;const c=n.isElement?"swiper-slide":`.${e.slideClass}`,f=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;l=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(l):a>(f?(n.slides.length-r)/2-(n.params.grid.rows-1):n.slides.length-r)?(n.loopFix(),a=n.getSlideIndex(Or(t,`${c}[data-swiper-slide-index="${l}"]`)[0]),P1(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var NV={slideTo:EV,slideToLoop:SV,slideNext:xV,slidePrev:AV,slideReset:CV,slideToClosest:RV,slideToClickedSlide:IV};function OV(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const l=()=>{Or(a,`.${r.slideClass}, swiper-slide`).forEach((M,k)=>{M.setAttribute("data-swiper-slide-index",k)})},c=()=>{const x=Or(a,`.${r.slideBlankClass}`);x.forEach(M=>{M.remove()}),x.length>0&&(t.recalcSlides(),t.updateSlides())},f=t.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||f)&&c();const h=r.slidesPerGroup*(f?r.grid.rows:1),p=t.slides.length%h!==0,v=f&&t.slides.length%r.grid.rows!==0,b=x=>{for(let M=0;M<x;M+=1){const k=t.isElement?Pg("swiper-slide",[r.slideBlankClass]):Pg("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(k)}};if(p){if(r.loopAddBlankSlides){const x=h-t.slides.length%h;b(x),t.recalcSlides(),t.updateSlides()}else jh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else if(v){if(r.loopAddBlankSlides){const x=r.grid.rows-t.slides.length%r.grid.rows;b(x),t.recalcSlides(),t.updateSlides()}else jh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else l();const S=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;t.loopFix({slideRealIndex:n,direction:S?void 0:"next",initial:e})}function DV({slideRealIndex:n,slideTo:e=!0,direction:t,setTranslate:r,activeSlideIndex:a,initial:l,byController:c,byMousewheel:f}={}){const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:p,allowSlidePrev:v,allowSlideNext:b,slidesEl:S,params:x}=h,{centeredSlides:M,slidesOffsetBefore:k,slidesOffsetAfter:N,initialSlide:U}=x,B=M||!!k||!!N;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&x.virtual.enabled){e&&(!B&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):B&&h.snapIndex<x.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=v,h.allowSlideNext=b,h.emit("loopFix");return}let z=x.slidesPerView;z==="auto"?z=h.slidesPerViewDynamic():(z=Math.ceil(parseFloat(x.slidesPerView,10)),B&&z%2===0&&(z=z+1));const te=x.slidesPerGroupAuto?z:x.slidesPerGroup;let ne=B?Math.max(te,Math.ceil(z/2)):te;ne%te!==0&&(ne+=te-ne%te),ne+=x.loopAdditionalSlides,h.loopedSlides=ne;const ie=h.grid&&x.grid&&x.grid.rows>1;p.length<z+ne||h.params.effect==="cards"&&p.length<z+ne*2?jh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):ie&&x.grid.fill==="row"&&jh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const O=[],E=[],D=ie?Math.ceil(p.length/x.grid.rows):p.length,I=l&&D-U<z&&!B;let C=I?U:h.activeIndex;typeof a>"u"?a=h.getSlideIndex(p.find($=>$.classList.contains(x.slideActiveClass))):C=a;const L=t==="next"||!t,P=t==="prev"||!t;let de=0,ce=0;const J=(ie?p[a].column:a)+(B&&typeof r>"u"?-z/2+.5:0);if(J<ne){de=Math.max(ne-J,te);for(let $=0;$<ne-J;$+=1){const ue=$-Math.floor($/D)*D;if(ie){const fe=D-ue-1;for(let j=p.length-1;j>=0;j-=1)p[j].column===fe&&O.push(j)}else O.push(D-ue-1)}}else if(J+z>D-ne){ce=Math.max(J-(D-ne*2),te),I&&(ce=Math.max(ce,z-D+U+1));for(let $=0;$<ce;$+=1){const ue=$-Math.floor($/D)*D;ie?p.forEach((fe,j)=>{fe.column===ue&&E.push(j)}):E.push(ue)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&p.length<z+ne*2&&(E.includes(a)&&E.splice(E.indexOf(a),1),O.includes(a)&&O.splice(O.indexOf(a),1)),P&&O.forEach($=>{p[$].swiperLoopMoveDOM=!0,S.prepend(p[$]),p[$].swiperLoopMoveDOM=!1}),L&&E.forEach($=>{p[$].swiperLoopMoveDOM=!0,S.append(p[$]),p[$].swiperLoopMoveDOM=!1}),h.recalcSlides(),x.slidesPerView==="auto"?h.updateSlides():ie&&(O.length>0&&P||E.length>0&&L)&&h.slides.forEach(($,ue)=>{h.grid.updateSlide(ue,$,h.slides)}),x.watchSlidesProgress&&h.updateSlidesOffset(),e){if(O.length>0&&P){if(typeof n>"u"){const $=h.slidesGrid[C],fe=h.slidesGrid[C+de]-$;f?h.setTranslate(h.translate-fe):(h.slideTo(C+Math.ceil(de),0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-fe,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-fe))}else if(r){const $=ie?O.length/x.grid.rows:O.length;h.slideTo(h.activeIndex+$,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(E.length>0&&L)if(typeof n>"u"){const $=h.slidesGrid[C],fe=h.slidesGrid[C-ce]-$;f?h.setTranslate(h.translate-fe):(h.slideTo(C-ce,0,!1,!0),r&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-fe,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-fe))}else{const $=ie?E.length/x.grid.rows:E.length;h.slideTo(h.activeIndex-$,0,!1,!0)}}if(h.allowSlidePrev=v,h.allowSlideNext=b,h.controller&&h.controller.control&&!c){const $={slideRealIndex:n,direction:t,setTranslate:r,activeSlideIndex:a,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(ue=>{!ue.destroyed&&ue.params.loop&&ue.loopFix({...$,slideTo:ue.params.slidesPerView===x.slidesPerView?e:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...$,slideTo:h.controller.control.params.slidesPerView===x.slidesPerView?e:!1})}h.emit("loopFix")}function MV(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const l=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[l]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var kV={loopCreate:OV,loopFix:DV,loopDestroy:MV};function PV(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function jV(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var LV={setGrabCursor:PV,unsetGrabCursor:jV};function VV(n,e=this){function t(r){if(!r||r===Ga()||r===yn())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function VT(n,e,t){const r=yn(),{params:a}=n,l=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return l&&(t<=c||t>=r.innerWidth-c)?l==="prevent"?(e.preventDefault(),!0):!1:!0}function UV(n){const e=this,t=Ga();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){VT(e,r,r.targetTouches[0].pageX);return}const{params:l,touches:c,enabled:f}=e;if(!f||!l.simulateTouch&&r.pointerType==="mouse"||e.animating&&l.preventInteractionOnTransition)return;!e.animating&&l.cssMode&&l.loop&&e.loopFix();let h=r.target;if(l.touchEventsTarget==="wrapper"&&!$L(h,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const p=!!l.noSwipingClass&&l.noSwipingClass!=="",v=r.composedPath?r.composedPath():r.path;p&&r.target&&r.target.shadowRoot&&v&&(h=v[0]);const b=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,S=!!(r.target&&r.target.shadowRoot);if(l.noSwiping&&(S?VV(b,h):h.closest(b))){e.allowClick=!0;return}if(l.swipeHandler&&!h.closest(l.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const x=c.currentX,M=c.currentY;if(!VT(e,r,x))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=x,c.startY=M,a.touchStartTime=Ph(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,l.threshold>0&&(a.allowThresholdMove=!1);let k=!0;h.matches(a.focusableElements)&&(k=!1,h.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==h&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!h.matches(a.focusableElements))&&t.activeElement.blur();const N=k&&e.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||N)&&!h.isContentEditable&&r.preventDefault(),l.freeMode&&l.freeMode.enabled&&e.freeMode&&e.animating&&!l.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function zV(n){const e=Ga(),t=this,r=t.touchEventsData,{params:a,touches:l,rtlTranslate:c,enabled:f}=t;if(!f||!a.simulateTouch&&n.pointerType==="mouse")return;let h=n;if(h.originalEvent&&(h=h.originalEvent),h.type==="pointermove"&&(r.touchId!==null||h.pointerId!==r.pointerId))return;let p;if(h.type==="touchmove"){if(p=[...h.changedTouches].find(ne=>ne.identifier===r.touchId),!p||p.identifier!==r.touchId)return}else p=h;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",h);return}const v=p.pageX,b=p.pageY;if(h.preventedByNestedSwiper){l.startX=v,l.startY=b;return}if(!t.allowTouchMove){h.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(l,{startX:v,startY:b,currentX:v,currentY:b}),r.touchStartTime=Ph());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(b<l.startY&&t.translate<=t.maxTranslate()||b>l.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(v>l.startX&&-t.translate<=t.maxTranslate()||v<l.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(v<l.startX&&t.translate<=t.maxTranslate()||v>l.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==h.target&&h.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&h.target===e.activeElement&&h.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",h),l.previousX=l.currentX,l.previousY=l.currentY,l.currentX=v,l.currentY=b;const S=l.currentX-l.startX,x=l.currentY-l.startY;if(t.params.threshold&&Math.sqrt(S**2+x**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let ne;t.isHorizontal()&&l.currentY===l.startY||t.isVertical()&&l.currentX===l.startX?r.isScrolling=!1:S*S+x*x>=25&&(ne=Math.atan2(Math.abs(x),Math.abs(S))*180/Math.PI,r.isScrolling=t.isHorizontal()?ne>a.touchAngle:90-ne>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",h),typeof r.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(r.startMoving=!0),r.isScrolling||h.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&h.cancelable&&h.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&h.stopPropagation();let M=t.isHorizontal()?S:x,k=t.isHorizontal()?l.currentX-l.previousX:l.currentY-l.previousY;a.oneWayMovement&&(M=Math.abs(M)*(c?1:-1),k=Math.abs(k)*(c?1:-1)),l.diff=M,M*=a.touchRatio,c&&(M=-M,k=-k);const N=t.touchesDirection;t.swipeDirection=M>0?"prev":"next",t.touchesDirection=k>0?"prev":"next";const U=t.params.loop&&!a.cssMode,B=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(U&&B&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ne=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ne)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",h)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&N!==t.touchesDirection&&U&&B&&Math.abs(M)>=1){Object.assign(l,{startX:v,startY:b,currentX:v,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",h),r.isMoved=!0,r.currentTranslate=M+r.startTranslate;let z=!0,te=a.resistanceRatio;if(a.touchReleaseOnEdges&&(te=0),M>0?(U&&B&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(z=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+M)**te))):M<0&&(U&&B&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(z=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-M)**te))),z&&(h.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(M)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,r.currentTranslate=r.startTranslate,l.diff=t.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function BV(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(ne=>ne.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:f,rtlTranslate:h,slidesGrid:p,enabled:v}=e;if(!v||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=Ph(),S=b-t.touchStartTime;if(e.allowClick){const ne=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(ne&&ne[0]||r.target,ne),e.emit("tap click",r),S<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Ph(),P1(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||f.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let x;if(c.followFinger?x=h?e.translate:-e.translate:x=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const M=x>=-e.maxTranslate()&&!e.params.loop;let k=0,N=e.slidesSizesGrid[0];for(let ne=0;ne<p.length;ne+=ne<c.slidesPerGroupSkip?1:c.slidesPerGroup){const ie=ne<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof p[ne+ie]<"u"?(M||x>=p[ne]&&x<p[ne+ie])&&(k=ne,N=p[ne+ie]-p[ne]):(M||x>=p[ne])&&(k=ne,N=p[p.length-1]-p[p.length-2])}let U=null,B=null;c.rewind&&(e.isBeginning?B=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(U=0));const z=(x-p[k])/N,te=k<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(S>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(z>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?U:k+te):e.slideTo(k)),e.swipeDirection==="prev"&&(z>1-c.longSwipesRatio?e.slideTo(k+te):B!==null&&z<0&&Math.abs(z)>c.longSwipesRatio?e.slideTo(B):e.slideTo(k))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(k+te):e.slideTo(k):(e.swipeDirection==="next"&&e.slideTo(U!==null?U:k+te),e.swipeDirection==="prev"&&e.slideTo(B!==null?B:k))}}function UT(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:l}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const f=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!f?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&l!==n.snapGrid&&n.checkOverflow()}function FV(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function qV(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const l=n.maxTranslate()-n.minTranslate();l===0?a=0:a=(n.translate-n.minTranslate())/l,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function HV(n){const e=this;oh(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function GV(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const B1=(n,e)=>{const t=Ga(),{params:r,el:a,wrapperEl:l,device:c}=n,f=!!r.nested,h=e==="on"?"addEventListener":"removeEventListener",p=e;!a||typeof a=="string"||(t[h]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:f}),a[h]("touchstart",n.onTouchStart,{passive:!1}),a[h]("pointerdown",n.onTouchStart,{passive:!1}),t[h]("touchmove",n.onTouchMove,{passive:!1,capture:f}),t[h]("pointermove",n.onTouchMove,{passive:!1,capture:f}),t[h]("touchend",n.onTouchEnd,{passive:!0}),t[h]("pointerup",n.onTouchEnd,{passive:!0}),t[h]("pointercancel",n.onTouchEnd,{passive:!0}),t[h]("touchcancel",n.onTouchEnd,{passive:!0}),t[h]("pointerout",n.onTouchEnd,{passive:!0}),t[h]("pointerleave",n.onTouchEnd,{passive:!0}),t[h]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[h]("click",n.onClick,!0),r.cssMode&&l[h]("scroll",n.onScroll),r.updateOnWindowResize?n[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",UT,!0):n[p]("observerUpdate",UT,!0),a[h]("load",n.onLoad,{capture:!0}))};function $V(){const n=this,{params:e}=n;n.onTouchStart=UV.bind(n),n.onTouchMove=zV.bind(n),n.onTouchEnd=BV.bind(n),n.onDocumentTouchStart=GV.bind(n),e.cssMode&&(n.onScroll=qV.bind(n)),n.onClick=FV.bind(n),n.onLoad=HV.bind(n),B1(n,"on")}function YV(){B1(this,"off")}var KV={attachEvents:$V,detachEvents:YV};const zT=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function QV(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,l=r.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const c=Ga(),f=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",h=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),p=n.getBreakpoint(l,f,h);if(!p||n.currentBreakpoint===p)return;const b=(p in l?l[p]:void 0)||n.originalParams,S=zT(n,r),x=zT(n,b),M=n.params.grabCursor,k=b.grabCursor,N=r.enabled;S&&!x?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!S&&x&&(a.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),M&&!k?n.unsetGrabCursor():!M&&k&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ie=>{if(typeof b[ie]>"u")return;const O=r[ie]&&r[ie].enabled,E=b[ie]&&b[ie].enabled;O&&!E&&n[ie].disable(),!O&&E&&n[ie].enable()});const U=b.direction&&b.direction!==r.direction,B=r.loop&&(b.slidesPerView!==r.slidesPerView||U),z=r.loop;U&&t&&n.changeDirection(),zn(n.params,b);const te=n.params.enabled,ne=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),N&&!te?n.disable():!N&&te&&n.enable(),n.currentBreakpoint=p,n.emit("_beforeBreakpoint",b),t&&(B?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!z&&ne?(n.loopCreate(e),n.updateSlides()):z&&!ne&&n.loopDestroy()),n.emit("breakpoint",b)}function XV(n,e="window",t){if(!n||e==="container"&&!t)return;let r=!1;const a=yn(),l=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const h=parseFloat(f.substr(1));return{value:l*h,point:f}}return{value:f,point:f}});c.sort((f,h)=>parseInt(f.value,10)-parseInt(h.value,10));for(let f=0;f<c.length;f+=1){const{point:h,value:p}=c[f];e==="window"?a.matchMedia(`(min-width: ${p}px)`).matches&&(r=h):p<=t.clientWidth&&(r=h)}return r||"max"}var WV={setBreakpoint:QV,getBreakpoint:XV};function JV(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function ZV(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:l}=n,c=JV(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:l.android},{ios:l.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function e3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var t3={addClasses:ZV,removeClasses:e3};function n3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,l=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>l}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var i3={checkOverflow:n3},Lg={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function r3(n,e){return function(r={}){const a=Object.keys(r)[0],l=r[a];if(typeof l!="object"||l===null){zn(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in l)){zn(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),zn(e,r)}}const Wp={eventsEmitter:tV,update:hV,translate:vV,transition:TV,slide:NV,loop:kV,grabCursor:LV,events:KV,breakpoints:WV,checkOverflow:i3,classes:t3},Jp={};let Jy=class Cr{constructor(...e){let t,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[t,r]=e,r||(r={}),r=zn({},r),t&&!r.el&&(r.el=t);const a=Ga();if(r.el&&typeof r.el=="string"&&a.querySelectorAll(r.el).length>1){const h=[];return a.querySelectorAll(r.el).forEach(p=>{const v=zn({},r,{el:p});h.push(new Cr(v))}),h}const l=this;l.__swiper__=!0,l.support=L1(),l.device=V1({userAgent:r.userAgent}),l.browser=U1(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],r.modules&&Array.isArray(r.modules)&&l.modules.push(...r.modules);const c={};l.modules.forEach(h=>{h({params:r,swiper:l,extendParams:r3(r,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const f=zn({},Lg,c);return l.params=zn({},f,Jp,r),l.originalParams=zn({},l.params),l.passedParams=zn({},r),l.params&&l.params.on&&Object.keys(l.params.on).forEach(h=>{l.on(h,l.params.on[h])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=Or(t,`.${r.slideClass}, swiper-slide`),l=kT(a[0]);return kT(e)-l}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Or(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const r=this,{params:a,slides:l,slidesGrid:c,slidesSizesGrid:f,size:h,activeIndex:p}=r;let v=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let b=l[p]?Math.ceil(l[p].swiperSlideSize):0,S;for(let x=p+1;x<l.length;x+=1)l[x]&&!S&&(b+=Math.ceil(l[x].swiperSlideSize),v+=1,b>h&&(S=!0));for(let x=p-1;x>=0;x-=1)l[x]&&!S&&(b+=l[x].swiperSlideSize,v+=1,b>h&&(S=!0))}else if(e==="current")for(let b=p+1;b<l.length;b+=1)(t?c[b]+f[b]-c[p]<h:c[b]-c[p]<h)&&(v+=1);else for(let b=p-1;b>=0;b-=1)c[p]-c[b]<h&&(v+=1);return v}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&oh(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let l;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;l=e.slideTo(c.length-1,0,!1,!0)}else l=e.slideTo(e.activeIndex,0,!1,!0);l||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(l=>{e==="vertical"?l.style.width="":l.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):Or(r,a())[0];return!c&&t.params.createElements&&(c=Pg("div",t.params.wrapperClass),r.append(c),Or(r,`.${t.params.slideClass}`).forEach(f=>{c.append(f)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Cs(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Cs(r,"direction")==="rtl"),wrongRTL:Cs(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(l=>{l.complete?oh(t,l):l.addEventListener("load",c=>{oh(t,c.target)})}),jg(t),t.initialized=!0,jg(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const r=this,{params:a,el:l,wrapperEl:c,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),l&&typeof l!="string"&&l.removeAttribute("style"),c&&c.removeAttribute("style"),f&&f.length&&f.forEach(h=>{h.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),h.removeAttribute("style"),h.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(h=>{r.off(h)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),BL(r)),r.destroyed=!0),null}static extendDefaults(e){zn(Jp,e)}static get extendedDefaults(){return Jp}static get defaults(){return Lg}static installModule(e){Cr.prototype.__modules__||(Cr.prototype.__modules__=[]);const t=Cr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Cr.installModule(t)),Cr):(Cr.installModule(e),Cr)}};Object.keys(Wp).forEach(n=>{Object.keys(Wp[n]).forEach(e=>{Jy.prototype[e]=Wp[n][e]})});Jy.use([ZL,eV]);const F1=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Va(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Yo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Va(e[r])&&Va(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Yo(n[r],e[r]):n[r]=e[r]})}function q1(n={}){return n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function H1(n={}){return n.pagination&&typeof n.pagination.el>"u"}function G1(n={}){return n.scrollbar&&typeof n.scrollbar.el>"u"}function $1(n=""){const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function s3(n=""){return n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function a3({swiper:n,slides:e,passedParams:t,changedParams:r,nextEl:a,prevEl:l,scrollbarEl:c,paginationEl:f}){const h=r.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:p,pagination:v,navigation:b,scrollbar:S,virtual:x,thumbs:M}=n;let k,N,U,B,z,te,ne,ie;r.includes("thumbs")&&t.thumbs&&t.thumbs.swiper&&!t.thumbs.swiper.destroyed&&p.thumbs&&(!p.thumbs.swiper||p.thumbs.swiper.destroyed)&&(k=!0),r.includes("controller")&&t.controller&&t.controller.control&&p.controller&&!p.controller.control&&(N=!0),r.includes("pagination")&&t.pagination&&(t.pagination.el||f)&&(p.pagination||p.pagination===!1)&&v&&!v.el&&(U=!0),r.includes("scrollbar")&&t.scrollbar&&(t.scrollbar.el||c)&&(p.scrollbar||p.scrollbar===!1)&&S&&!S.el&&(B=!0),r.includes("navigation")&&t.navigation&&(t.navigation.prevEl||l)&&(t.navigation.nextEl||a)&&(p.navigation||p.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(z=!0);const O=E=>{n[E]&&(n[E].destroy(),E==="navigation"?(n.isElement&&(n[E].prevEl.remove(),n[E].nextEl.remove()),p[E].prevEl=void 0,p[E].nextEl=void 0,n[E].prevEl=void 0,n[E].nextEl=void 0):(n.isElement&&n[E].el.remove(),p[E].el=void 0,n[E].el=void 0))};r.includes("loop")&&n.isElement&&(p.loop&&!t.loop?te=!0:!p.loop&&t.loop?ne=!0:ie=!0),h.forEach(E=>{if(Va(p[E])&&Va(t[E]))Object.assign(p[E],t[E]),(E==="navigation"||E==="pagination"||E==="scrollbar")&&"enabled"in t[E]&&!t[E].enabled&&O(E);else{const D=t[E];(D===!0||D===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?D===!1&&O(E):p[E]=t[E]}}),h.includes("controller")&&!N&&n.controller&&n.controller.control&&p.controller&&p.controller.control&&(n.controller.control=p.controller.control),r.includes("children")&&e&&x&&p.virtual.enabled?(x.slides=e,x.update(!0)):r.includes("virtual")&&x&&p.virtual.enabled&&(e&&(x.slides=e),x.update(!0)),r.includes("children")&&e&&p.loop&&(ie=!0),k&&M.init()&&M.update(!0),N&&(n.controller.control=p.controller.control),U&&(n.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),n.el.appendChild(f)),f&&(p.pagination.el=f),v.init(),v.render(),v.update()),B&&(n.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),n.el.appendChild(c)),c&&(p.scrollbar.el=c),S.init(),S.updateSize(),S.setTranslate()),z&&(n.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),jT(a,n.navigation.arrowSvg),a.part.add("button-next"),n.el.appendChild(a)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),jT(l,n.navigation.arrowSvg),l.part.add("button-prev"),n.el.appendChild(l))),a&&(p.navigation.nextEl=a),l&&(p.navigation.prevEl=l),b.init(),b.update()),r.includes("allowSlideNext")&&(n.allowSlideNext=t.allowSlideNext),r.includes("allowSlidePrev")&&(n.allowSlidePrev=t.allowSlidePrev),r.includes("direction")&&n.changeDirection(t.direction,!1),(te||ie)&&n.loopDestroy(),(ne||ie)&&n.loopCreate(),n.update()}function o3(n={},e=!0){const t={on:{}},r={},a={};Yo(t,Lg),t._emitClasses=!0,t.init=!1;const l={},c=F1.map(h=>h.replace(/_/,"")),f=Object.assign({},n);return Object.keys(f).forEach(h=>{typeof n[h]>"u"||(c.indexOf(h)>=0?Va(n[h])?(t[h]={},a[h]={},Yo(t[h],n[h]),Yo(a[h],n[h])):(t[h]=n[h],a[h]=n[h]):h.search(/on[A-Z]/)===0&&typeof n[h]=="function"?e?r[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:t.on[`${h[2].toLowerCase()}${h.substr(3)}`]=n[h]:l[h]=n[h])}),["navigation","pagination","scrollbar"].forEach(h=>{t[h]===!0&&(t[h]={}),t[h]===!1&&delete t[h]}),{params:t,passedParams:a,rest:l,events:r}}function l3({el:n,nextEl:e,prevEl:t,paginationEl:r,scrollbarEl:a,swiper:l},c){q1(c)&&e&&t&&(l.params.navigation.nextEl=e,l.originalParams.navigation.nextEl=e,l.params.navigation.prevEl=t,l.originalParams.navigation.prevEl=t),H1(c)&&r&&(l.params.pagination.el=r,l.originalParams.pagination.el=r),G1(c)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function u3(n,e,t,r,a){const l=[];if(!e)return l;const c=h=>{l.indexOf(h)<0&&l.push(h)};if(t&&r){const h=r.map(a),p=t.map(a);h.join("")!==p.join("")&&c("children"),r.length!==t.length&&c("children")}return F1.filter(h=>h[0]==="_").map(h=>h.replace(/_/,"")).forEach(h=>{if(h in n&&h in e)if(Va(n[h])&&Va(e[h])){const p=Object.keys(n[h]),v=Object.keys(e[h]);p.length!==v.length?c(h):(p.forEach(b=>{n[h][b]!==e[h][b]&&c(h)}),v.forEach(b=>{n[h][b]!==e[h][b]&&c(h)}))}else n[h]!==e[h]&&c(h)}),l}const c3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Lh(){return Lh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Lh.apply(this,arguments)}function Y1(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function K1(n){const e=[];return Ke.Children.toArray(n).forEach(t=>{Y1(t)?e.push(t):t.props&&t.props.children&&K1(t.props.children).forEach(r=>e.push(r))}),e}function d3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ke.Children.toArray(n).forEach(r=>{if(Y1(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=K1(r.props.children);a.length>0?a.forEach(l=>e.push(l)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function h3(n,e,t){if(!t)return null;const r=v=>{let b=v;return v<0?b=e.length+v:b>=e.length&&(b=b-e.length),b},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:l,to:c}=t,f=n.params.loop?-e.length:0,h=n.params.loop?e.length*2:e.length,p=[];for(let v=f;v<h;v+=1)v>=l&&v<=c&&p.push(e[r(v)]);return p.map((v,b)=>Ke.cloneElement(v,{swiper:n,style:a,key:v.props.virtualIndex||v.key||`slide-${b}`}))}function Mu(n,e){return typeof window>"u"?F.useEffect(n,e):F.useLayoutEffect(n,e)}const BT=F.createContext(null),f3=F.createContext(null),Q1=F.forwardRef(({className:n,tag:e="div",wrapperTag:t="div",children:r,onSwiper:a,...l}={},c)=>{let f=!1;const[h,p]=F.useState("swiper"),[v,b]=F.useState(null),[S,x]=F.useState(!1),M=F.useRef(!1),k=F.useRef(null),N=F.useRef(null),U=F.useRef(null),B=F.useRef(null),z=F.useRef(null),te=F.useRef(null),ne=F.useRef(null),ie=F.useRef(null),{params:O,passedParams:E,rest:D,events:I}=o3(l),{slides:C,slots:L}=d3(r),P=()=>{x(!S)};Object.assign(O.on,{_containerClasses($,ue){p(ue)}});const de=()=>{Object.assign(O.on,I),f=!0;const $={...O};if(delete $.wrapperClass,N.current=new Jy($),N.current.virtual&&N.current.params.virtual.enabled){N.current.virtual.slides=C;const ue={cache:!1,slides:C,renderExternal:b,renderExternalUpdate:!1};Yo(N.current.params.virtual,ue),Yo(N.current.originalParams.virtual,ue)}};k.current||de(),N.current&&N.current.on("_beforeBreakpoint",P);const ce=()=>{f||!I||!N.current||Object.keys(I).forEach($=>{N.current.on($,I[$])})},q=()=>{!I||!N.current||Object.keys(I).forEach($=>{N.current.off($,I[$])})};F.useEffect(()=>()=>{N.current&&N.current.off("_beforeBreakpoint",P)}),F.useEffect(()=>{!M.current&&N.current&&(N.current.emitSlidesClasses(),M.current=!0)}),Mu(()=>{if(c&&(c.current=k.current),!!k.current)return N.current.destroyed&&de(),l3({el:k.current,nextEl:z.current,prevEl:te.current,paginationEl:ne.current,scrollbarEl:ie.current,swiper:N.current},O),a&&!N.current.destroyed&&a(N.current),()=>{N.current&&!N.current.destroyed&&N.current.destroy(!0,!1)}},[]),Mu(()=>{ce();const $=u3(E,U.current,C,B.current,ue=>ue.key);return U.current=E,B.current=C,$.length&&N.current&&!N.current.destroyed&&a3({swiper:N.current,slides:C,passedParams:E,changedParams:$,nextEl:z.current,prevEl:te.current,scrollbarEl:ie.current,paginationEl:ne.current}),()=>{q()}}),Mu(()=>{c3(N.current)},[v]);function J(){return O.virtual?h3(N.current,C,v):C.map(($,ue)=>Ke.cloneElement($,{swiper:N.current,swiperSlideIndex:ue}))}return Ke.createElement(e,Lh({ref:k,className:$1(`${h}${n?` ${n}`:""}`)},D),Ke.createElement(f3.Provider,{value:N.current},L["container-start"],Ke.createElement(t,{className:s3(O.wrapperClass)},L["wrapper-start"],J(),L["wrapper-end"]),q1(O)&&Ke.createElement(Ke.Fragment,null,Ke.createElement("div",{ref:te,className:"swiper-button-prev"}),Ke.createElement("div",{ref:z,className:"swiper-button-next"})),G1(O)&&Ke.createElement("div",{ref:ie,className:"swiper-scrollbar"}),H1(O)&&Ke.createElement("div",{ref:ne,className:"swiper-pagination"}),L["container-end"]))});Q1.displayName="Swiper";const X1=F.forwardRef(({tag:n="div",children:e,className:t="",swiper:r,zoom:a,lazy:l,virtualIndex:c,swiperSlideIndex:f,...h}={},p)=>{const v=F.useRef(null),[b,S]=F.useState("swiper-slide"),[x,M]=F.useState(!1);function k(z,te,ne){te===v.current&&S(ne)}Mu(()=>{if(typeof f<"u"&&(v.current.swiperSlideIndex=f),p&&(p.current=v.current),!(!v.current||!r)){if(r.destroyed){b!=="swiper-slide"&&S("swiper-slide");return}return r.on("_slideClass",k),()=>{r&&r.off("_slideClass",k)}}}),Mu(()=>{r&&v.current&&!r.destroyed&&S(r.getSlideClasses(v.current))},[r]);const N={isActive:b.indexOf("swiper-slide-active")>=0,isVisible:b.indexOf("swiper-slide-visible")>=0,isPrev:b.indexOf("swiper-slide-prev")>=0,isNext:b.indexOf("swiper-slide-next")>=0},U=()=>typeof e=="function"?e(N):e,B=()=>{M(!0)};return Ke.createElement(n,Lh({ref:v,className:$1(`${b}${t?` ${t}`:""}`),"data-swiper-slide-index":c,onLoad:B},h),a&&Ke.createElement(BT.Provider,{value:N},Ke.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},U(),l&&!x&&Ke.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&Ke.createElement(BT.Provider,{value:N},U(),l&&!x&&Ke.createElement("div",{className:"swiper-lazy-preloader"})))});X1.displayName="SwiperSlide";const Ri=Ku((n,e)=>({products:[],loading:!0,_unsubscribe:null,subscribeToProducts:()=>{if(e()._unsubscribe)return;const t=Bx(Ou(Bt,"products"),YP("createdAt","desc"));let r=Og(t,a=>{const l=a.docs.map(c=>({id:c.id,...c.data()}));console.info("[products] products snapshot received, count=",l.length),n({products:l,loading:!1})},a=>{if(console.error("Products snapshot error",a),n({loading:!1}),!e()._triedFallback){console.warn("[productStore] retrying snapshot without orderBy(createdAt)");try{const l=Ou(Bt,"products"),c=Og(l,f=>{const h=f.docs.map(p=>({id:p.id,...p.data()}));console.info("[productStore] fallback snapshot received, count=",h.length),n({products:h,loading:!1})},f=>{console.error("Products fallback snapshot error",f),n({loading:!1})});n({_unsubscribe:c,_triedFallback:!0})}catch(l){console.error("[productStore] fallback subscribe failed",l)}}});n({_unsubscribe:r})},unsubscribeProducts:async()=>{const t=e()._unsubscribe;if(t){try{t()}catch(r){console.warn("unsubscribe error",r)}n({_unsubscribe:null})}},addProduct:async t=>{const r={...t,createdAt:Oh()};try{await Gx(Ou(Bt,"products"),r)}catch(a){throw console.error("addProduct failed",a),a}},updateProduct:async(t,r)=>{try{await Ms(pn(Bt,"products",t),{...r,updatedAt:Oh()},{merge:!0})}catch(a){throw console.error("updateProduct failed",a),a}},deleteProduct:async t=>{try{await XP(pn(Bt,"products",t))}catch(r){throw console.error("deleteProduct failed",r),r}},getProduct:t=>e().products.find(r=>r.id===t),getAllProducts:()=>e().products}));function m3(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),f=(l=t.getItem(a))!=null?l:null;return f instanceof Promise?f.then(c):c(f)},setItem:(a,l)=>t.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>t.removeItem(a)}}const Vg=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return Vg(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Vg(r)(t)}}}},p3=(n,e)=>(t,r,a)=>{let l={storage:m3(()=>localStorage),partialize:k=>k,version:0,merge:(k,N)=>({...N,...k}),...e},c=!1;const f=new Set,h=new Set;let p=l.storage;if(!p)return n((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),t(...k)},r,a);const v=()=>{const k=l.partialize({...r()});return p.setItem(l.name,{state:k,version:l.version})},b=a.setState;a.setState=(k,N)=>(b(k,N),v());const S=n((...k)=>(t(...k),v()),r,a);a.getInitialState=()=>S;let x;const M=()=>{var k,N;if(!p)return;c=!1,f.forEach(B=>{var z;return B((z=r())!=null?z:S)});const U=((N=l.onRehydrateStorage)==null?void 0:N.call(l,(k=r())!=null?k:S))||void 0;return Vg(p.getItem.bind(p))(l.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==l.version){if(l.migrate){const z=l.migrate(B.state,B.version);return z instanceof Promise?z.then(te=>[!0,te]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var z;const[te,ne]=B;if(x=l.merge(ne,(z=r())!=null?z:S),t(x,!0),te)return v()}).then(()=>{U?.(x,void 0),x=r(),c=!0,h.forEach(B=>B(x))}).catch(B=>{U?.(void 0,B)})};return a.persist={setOptions:k=>{l={...l,...k},k.storage&&(p=k.storage)},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>M(),hasHydrated:()=>c,onHydrate:k=>(f.add(k),()=>{f.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},l.skipHydration||M(),x||S},Zy=p3,_f=Ku(Zy((n,e)=>({items:[],loading:!1,error:null,addItem:async t=>{const r=tn.currentUser;if(n(a=>({items:a.items.some(l=>l.id===t.id)?a.items:[...a.items,t]})),r)try{const a=pn(Bt,"wishlists",r.uid),l=e().items;await Ms(a,{items:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(a){console.error("Failed to save wishlist to Firebase:",a)}},removeItem:async t=>{n(a=>({items:a.items.filter(l=>l.id!==t)}));const r=tn.currentUser;if(r)try{const a=pn(Bt,"wishlists",r.uid),l=e().items;await Ms(a,{items:l,updatedAt:new Date().toISOString()},{merge:!0})}catch(a){console.error("Failed to update wishlist in Firebase:",a)}},isWishlisted:t=>e().items.some(r=>r.id===t),fetchWishlist:async t=>{if(t){n({loading:!0});try{const r=pn(Bt,"wishlists",t),a=await Uy(r);if(a.exists()){const l=a.data();n({items:l.items||[],loading:!1,error:null})}else n({loading:!1})}catch(r){n({error:r.message,loading:!1})}}},clear:async()=>{n({items:[]});const t=tn.currentUser;if(t)try{const r=pn(Bt,"wishlists",t.uid);await Ms(r,{items:[]},{merge:!0})}catch(r){console.error("Failed to clear wishlist:",r)}}}),{name:"wishlist"}));function g3(){const n=un(),{products:e}=Ri(),{addItem:t}=Br(),{addItem:r,removeItem:a,isWishlisted:l}=_f(),[c,f]=F.useState(null),h=F.useMemo(()=>e.slice(0,4),[e]),p=async(x,M)=>{x.preventDefault(),x.stopPropagation(),f(`wishlist-${M.id}`);try{l(M.id)?await a(M.id):await r(M)}finally{f(null)}},v=(x,M)=>{x.preventDefault(),x.stopPropagation(),t({...M,qty:1,size:"M"})},b=(x,M)=>{x.preventDefault(),x.stopPropagation(),t({...M,qty:1,size:"M"}),n("/checkout")},S=[{id:1,title:"Big Sale",color:"bg-indigo-500"},{id:2,title:"New Arrivals",color:"bg-emerald-500"},{id:3,title:"Trending",color:"bg-pink-500"}];return y.jsxs("div",{className:"w-full max-w-4xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsx("section",{className:"mb-6",children:y.jsx(Q1,{spaceBetween:12,slidesPerView:1,className:"rounded-lg overflow-hidden",children:S.map(x=>y.jsx(X1,{children:y.jsx("div",{className:`${x.color} rounded-lg h-40 sm:h-48 flex items-center justify-center text-white font-bold text-xl sm:text-2xl transition-all hover:scale-105 animate-slideUp`,children:x.title})},x.id))})}),y.jsxs("section",{className:"mb-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 animate-slideInLeft",children:"Featured Products"}),y.jsx(mt,{to:"/products",className:"text-sm font-medium text-orange-600 hover:text-orange-700 hover:translate-x-1 transition-all",children:"View all "})]}),h.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500",children:y.jsx("p",{children:"No products available"})}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4",children:h.map((x,M)=>{const k=l(x.id);return y.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-lg transition-all border border-gray-200 overflow-hidden group animate-slideUp",style:{animationDelay:`${M*.1}s`},children:[y.jsxs(mt,{to:`/product/${x.id}`,className:"block h-24 sm:h-32 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center font-bold text-gray-400 overflow-hidden relative hover:scale-110 transition-transform",children:[x.image?y.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover"}):"Image",x.discount&&y.jsxs("div",{className:"absolute top-1 right-1 bg-gradient-to-r from-orange-600 to-orange-700 text-white text-xs font-bold px-1.5 py-0.5 rounded-full shadow-lg animate-bounce-gentle",children:[x.discount,"%"]})]}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsx(mt,{to:`/product/${x.id}`,className:"text-sm sm:text-base font-medium text-gray-900 truncate hover:text-orange-600 transition-colors block",children:x.name}),y.jsxs("div",{className:"text-xs sm:text-sm text-orange-600 font-bold mt-1",children:["",x.price]}),y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:" (42)"}),y.jsxs("div",{className:"flex gap-1 sm:gap-2 mt-2",children:[y.jsxs("button",{onClick:N=>v(N,x),className:"flex-1 bg-gradient-to-r from-orange-600 to-orange-700 hover:from-orange-700 hover:to-orange-800 text-white text-xs sm:text-sm font-medium py-1.5 rounded transition-all flex items-center justify-center gap-1 hover:shadow-lg hover:shadow-orange-200",children:[y.jsx(Na,{size:14,className:"hidden sm:block"}),y.jsx("span",{className:"text-xs sm:text-sm",children:"Add"})]}),y.jsx("button",{onClick:N=>p(N,x),disabled:c===`wishlist-${x.id}`,className:`px-2 py-1.5 rounded transition-all hover:scale-110 ${k?"bg-gradient-to-r from-orange-100 to-orange-50 shadow-md":"bg-gray-100 hover:bg-gray-200"}`,children:y.jsx(zh,{size:16,className:k?"text-orange-600 fill-current animate-glow":"text-gray-600"})}),y.jsx("button",{onClick:N=>b(N,x),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white text-xs sm:text-sm font-medium py-1.5 rounded transition-all hover:shadow-lg hover:shadow-green-200",children:"Buy"})]})]})]},x.id)})})]})]})}function y3(){const[n]=iI(),e=un(),{products:t}=Ri(),{addItem:r}=Br(),{addItem:a,isWishlisted:l,removeItem:c}=_f(),f=n.get("q")||"",[h,p]=F.useState(null),[v,b]=F.useState({min:0,max:1e5}),[S,x]=F.useState(!1),M=F.useMemo(()=>[...new Set(t.map(U=>U.category).filter(Boolean))],[t]),k=F.useMemo(()=>{let N=t;if(f.trim()){const U=f.toLowerCase();N=N.filter(B=>B.name?.toLowerCase().includes(U)||B.description?.toLowerCase().includes(U)||B.category?.toLowerCase().includes(U))}return h&&(N=N.filter(U=>U.category===h)),N=N.filter(U=>U.price>=v.min&&U.price<=v.max),N},[t,f,h,v]);return y.jsxs("div",{className:"w-full max-w-6xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:f?`Search: "${f}"`:h||"Shop All Products"}),y.jsxs("button",{onClick:()=>x(!S),className:"flex items-center gap-2 px-3 py-2 border rounded-lg hover:bg-gray-50",children:[y.jsx(EI,{size:18}),y.jsx("span",{className:"text-sm font-medium",children:"Filters"})]})]}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",k.length," product",k.length!==1?"s":""]})]}),y.jsxs("div",{className:"flex gap-4",children:[S&&y.jsxs("div",{className:"w-full sm:w-48 bg-white p-4 rounded-lg border mb-4 sm:mb-0 sm:sticky sm:top-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4 sm:hidden",children:[y.jsx("h3",{className:"font-semibold",children:"Filters"}),y.jsx("button",{onClick:()=>x(!1),className:"p-1",children:y.jsx(Ko,{size:20})})]}),M.length>0&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Categories"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("button",{onClick:()=>p(null),className:`w-full text-left text-sm px-2 py-1 rounded ${h?"hover:bg-gray-100":"bg-blue-100 text-blue-700 font-medium"}`,children:"All Categories"}),M.map(N=>y.jsx("button",{onClick:()=>p(N),className:`w-full text-left text-sm px-2 py-1 rounded ${h===N?"bg-blue-100 text-blue-700 font-medium":"hover:bg-gray-100"}`,children:N},N))]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Price Range"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-600",children:["Min: ",v.min]}),y.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:v.min,onChange:N=>b({...v,min:Number(N.target.value)}),className:"w-full"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-600",children:["Max: ",v.max]}),y.jsx("input",{type:"range",min:"0",max:"100000",step:"1000",value:v.max,onChange:N=>b({...v,max:Number(N.target.value)}),className:"w-full"})]})]})]}),(h||v.min!==0||v.max!==1e5)&&y.jsx("button",{onClick:()=>{p(null),b({min:0,max:1e5})},className:"w-full py-2 text-sm border rounded hover:bg-gray-50 font-medium",children:"Reset Filters"})]}),k.length===0?y.jsxs("div",{className:"w-full text-center py-12",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"No products found"}),y.jsx(mt,{to:"/products",className:"text-blue-600 hover:text-blue-700 font-medium",children:"View all products "})]}):y.jsx("div",{className:"flex-1",children:y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4",children:k.map(N=>{const U=l(N.id),B=ne=>{ne.preventDefault(),U?c(N.id):a(N)},z=ne=>{ne.preventDefault(),r({...N,qty:1,size:"M"})},te=ne=>{ne.preventDefault(),r({...N,qty:1,size:"M"}),e("/checkout")};return y.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsxs(mt,{to:`/product/${N.id}`,className:"block relative overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 h-24 sm:h-32",children:[N.image?y.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center font-bold text-gray-400",children:"Image"}),N.discount&&y.jsxs("div",{className:"absolute top-1 right-1 bg-red-500 text-white text-xs px-2 py-1 rounded",children:[N.discount,"% OFF"]})]}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsxs(mt,{to:`/product/${N.id}`,className:"block mb-2",children:[y.jsx("div",{className:"text-sm sm:text-base font-medium text-gray-900 truncate hover:text-red-600",children:N.name}),N.category&&y.jsx("div",{className:"text-xs text-gray-500",children:N.category}),y.jsxs("div",{className:"flex items-center justify-between mt-1",children:[y.jsxs("div",{className:"text-xs sm:text-sm text-red-600 font-semibold",children:["",N.price]}),y.jsxs("div",{className:"text-xs text-gray-400",children:[" ",(N.rating||4.5).toFixed(1)]})]})]}),y.jsxs("div",{className:"flex gap-1 sm:gap-2 mt-2",children:[y.jsxs("button",{onClick:z,className:"flex-1 flex items-center justify-center gap-1 py-1.5 bg-red-50 text-red-600 rounded text-xs font-medium hover:bg-red-100 transition",title:"Add to cart",children:[y.jsx(Na,{size:14}),y.jsx("span",{className:"hidden sm:inline",children:"Cart"})]}),y.jsxs("button",{onClick:B,className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition ${U?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:U?"Remove from wishlist":"Add to wishlist",children:[y.jsx(zh,{size:14,fill:U?"currentColor":"none"}),y.jsx("span",{className:"hidden sm:inline",children:"Wish"})]}),y.jsxs("button",{onClick:te,className:"flex-1 flex items-center justify-center gap-1 py-1.5 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 transition",title:"Buy now",children:[y.jsx("span",{className:"hidden sm:inline",children:"Buy"}),y.jsx("span",{className:"sm:hidden",children:""})]})]})]})]},N.id)})})})]})]})}const v3=Ku(Zy((n,e)=>({reviews:[],addReview:(t,r,a,l)=>{const c={id:Date.now(),productId:t,userId:r,rating:a,comment:l,createdAt:new Date().toISOString()};n(f=>({reviews:[c,...f.reviews]}))},getProductReviews:t=>e().reviews.filter(a=>a.productId===t),hasUserReviewed:(t,r)=>e().reviews.some(l=>l.productId===t&&l.userId===r),getAverageRating:t=>{const r=e().getProductReviews(t);if(r.length===0)return 0;const a=r.reduce((l,c)=>l+c.rating,0)/r.length;return Math.round(a*10)/10}}),{name:"reviews"})),bf=Ku(Zy((n,e)=>({orders:[],loading:!1,error:null,addOrder:async t=>{try{const r=tn.currentUser;if(!r)throw new Error("User not authenticated");const a=[{step:"Order placed",completed:!0,date:new Date().toISOString()},{step:"Confirmed",completed:!0,date:new Date().toISOString()},{step:"Shipped",completed:!1,date:null},{step:"Out for delivery",completed:!1,date:null},{step:"Delivered",completed:!1,date:null}],l={...t,userId:r.uid,createdAt:new Date().toISOString(),status:"confirmed",deliveryStatus:a},c=await Gx(Ou(Bt,"orders"),l);return n(f=>({orders:[{id:c.id,...l},...f.orders]})),c.id}catch(r){throw n({error:r.message}),r}},fetchOrders:async t=>{if(t){n({loading:!0});try{const r=Bx(Ou(Bt,"orders"),$P("userId","==",t));return Og(r,l=>{const c=l.docs.map(f=>({id:f.id,...f.data()}));n({orders:c,loading:!1,error:null})},l=>n({error:l.message,loading:!1}))}catch(r){n({error:r.message,loading:!1})}}},updateStatus:async(t,r)=>{try{const a=e().orders.find(f=>f.id===t);if(!a)throw new Error("Order not found");const l=a.deliveryStatus.map(f=>f.step.toLowerCase()===r.toLowerCase()?{...f,completed:!0,date:new Date().toISOString()}:f),c=pn(Bt,"orders",t);await yT(c,{status:r,deliveryStatus:l}),n(f=>({orders:f.orders.map(h=>h.id===t?{...h,status:r,deliveryStatus:l}:h)}))}catch(a){n({error:a.message})}},cancelOrder:async t=>{try{const r=pn(Bt,"orders",t);await yT(r,{status:"cancelled"}),n(a=>({orders:a.orders.map(l=>l.id===t?{...l,status:"cancelled"}:l)}))}catch(r){n({error:r.message})}},getOrder:t=>e().orders.find(r=>r.id===t)}),{name:"orders"}));var lh={exports:{}},_3=lh.exports,FT;function b3(){return FT||(FT=1,(function(n,e){(function(t,r){n.exports=r()})(_3,(function(){var t=1e3,r=6e4,a=36e5,l="millisecond",c="second",f="minute",h="hour",p="day",v="week",b="month",S="quarter",x="year",M="date",k="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,U=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(de){var ce=["th","st","nd","rd"],q=de%100;return"["+de+(ce[(q-20)%10]||ce[q]||ce[0])+"]"}},z=function(de,ce,q){var J=String(de);return!J||J.length>=ce?de:""+Array(ce+1-J.length).join(q)+de},te={s:z,z:function(de){var ce=-de.utcOffset(),q=Math.abs(ce),J=Math.floor(q/60),$=q%60;return(ce<=0?"+":"-")+z(J,2,"0")+":"+z($,2,"0")},m:function de(ce,q){if(ce.date()<q.date())return-de(q,ce);var J=12*(q.year()-ce.year())+(q.month()-ce.month()),$=ce.clone().add(J,b),ue=q-$<0,fe=ce.clone().add(J+(ue?-1:1),b);return+(-(J+(q-$)/(ue?$-fe:fe-$))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:b,y:x,w:v,d:p,D:M,h,m:f,s:c,ms:l,Q:S}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},ne="en",ie={};ie[ne]=B;var O="$isDayjsObject",E=function(de){return de instanceof L||!(!de||!de[O])},D=function de(ce,q,J){var $;if(!ce)return ne;if(typeof ce=="string"){var ue=ce.toLowerCase();ie[ue]&&($=ue),q&&(ie[ue]=q,$=ue);var fe=ce.split("-");if(!$&&fe.length>1)return de(fe[0])}else{var j=ce.name;ie[j]=ce,$=j}return!J&&$&&(ne=$),$||!J&&ne},I=function(de,ce){if(E(de))return de.clone();var q=typeof ce=="object"?ce:{};return q.date=de,q.args=arguments,new L(q)},C=te;C.l=D,C.i=E,C.w=function(de,ce){return I(de,{locale:ce.$L,utc:ce.$u,x:ce.$x,$offset:ce.$offset})};var L=(function(){function de(q){this.$L=D(q.locale,null,!0),this.parse(q),this.$x=this.$x||q.x||{},this[O]=!0}var ce=de.prototype;return ce.parse=function(q){this.$d=(function(J){var $=J.date,ue=J.utc;if($===null)return new Date(NaN);if(C.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var fe=$.match(N);if(fe){var j=fe[2]-1||0,ee=(fe[7]||"0").substring(0,3);return ue?new Date(Date.UTC(fe[1],j,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ee)):new Date(fe[1],j,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ee)}}return new Date($)})(q),this.init()},ce.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},ce.$utils=function(){return C},ce.isValid=function(){return this.$d.toString()!==k},ce.isSame=function(q,J){var $=I(q);return this.startOf(J)<=$&&$<=this.endOf(J)},ce.isAfter=function(q,J){return I(q)<this.startOf(J)},ce.isBefore=function(q,J){return this.endOf(J)<I(q)},ce.$g=function(q,J,$){return C.u(q)?this[J]:this.set($,q)},ce.unix=function(){return Math.floor(this.valueOf()/1e3)},ce.valueOf=function(){return this.$d.getTime()},ce.startOf=function(q,J){var $=this,ue=!!C.u(J)||J,fe=C.p(q),j=function(qe,vt){var cn=C.w($.$u?Date.UTC($.$y,vt,qe):new Date($.$y,vt,qe),$);return ue?cn:cn.endOf(p)},ee=function(qe,vt){return C.w($.toDate()[qe].apply($.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(vt)),$)},he=this.$W,me=this.$M,be=this.$D,Ae="set"+(this.$u?"UTC":"");switch(fe){case x:return ue?j(1,0):j(31,11);case b:return ue?j(1,me):j(0,me+1);case v:var Ne=this.$locale().weekStart||0,at=(he<Ne?he+7:he)-Ne;return j(ue?be-at:be+(6-at),me);case p:case M:return ee(Ae+"Hours",0);case h:return ee(Ae+"Minutes",1);case f:return ee(Ae+"Seconds",2);case c:return ee(Ae+"Milliseconds",3);default:return this.clone()}},ce.endOf=function(q){return this.startOf(q,!1)},ce.$set=function(q,J){var $,ue=C.p(q),fe="set"+(this.$u?"UTC":""),j=($={},$[p]=fe+"Date",$[M]=fe+"Date",$[b]=fe+"Month",$[x]=fe+"FullYear",$[h]=fe+"Hours",$[f]=fe+"Minutes",$[c]=fe+"Seconds",$[l]=fe+"Milliseconds",$)[ue],ee=ue===p?this.$D+(J-this.$W):J;if(ue===b||ue===x){var he=this.clone().set(M,1);he.$d[j](ee),he.init(),this.$d=he.set(M,Math.min(this.$D,he.daysInMonth())).$d}else j&&this.$d[j](ee);return this.init(),this},ce.set=function(q,J){return this.clone().$set(q,J)},ce.get=function(q){return this[C.p(q)]()},ce.add=function(q,J){var $,ue=this;q=Number(q);var fe=C.p(J),j=function(me){var be=I(ue);return C.w(be.date(be.date()+Math.round(me*q)),ue)};if(fe===b)return this.set(b,this.$M+q);if(fe===x)return this.set(x,this.$y+q);if(fe===p)return j(1);if(fe===v)return j(7);var ee=($={},$[f]=r,$[h]=a,$[c]=t,$)[fe]||1,he=this.$d.getTime()+q*ee;return C.w(he,this)},ce.subtract=function(q,J){return this.add(-1*q,J)},ce.format=function(q){var J=this,$=this.$locale();if(!this.isValid())return $.invalidDate||k;var ue=q||"YYYY-MM-DDTHH:mm:ssZ",fe=C.z(this),j=this.$H,ee=this.$m,he=this.$M,me=$.weekdays,be=$.months,Ae=$.meridiem,Ne=function(vt,cn,Hn,di){return vt&&(vt[cn]||vt(J,ue))||Hn[cn].slice(0,di)},at=function(vt){return C.s(j%12||12,vt,"0")},qe=Ae||function(vt,cn,Hn){var di=vt<12?"AM":"PM";return Hn?di.toLowerCase():di};return ue.replace(U,(function(vt,cn){return cn||(function(Hn){switch(Hn){case"YY":return String(J.$y).slice(-2);case"YYYY":return C.s(J.$y,4,"0");case"M":return he+1;case"MM":return C.s(he+1,2,"0");case"MMM":return Ne($.monthsShort,he,be,3);case"MMMM":return Ne(be,he);case"D":return J.$D;case"DD":return C.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return Ne($.weekdaysMin,J.$W,me,2);case"ddd":return Ne($.weekdaysShort,J.$W,me,3);case"dddd":return me[J.$W];case"H":return String(j);case"HH":return C.s(j,2,"0");case"h":return at(1);case"hh":return at(2);case"a":return qe(j,ee,!0);case"A":return qe(j,ee,!1);case"m":return String(ee);case"mm":return C.s(ee,2,"0");case"s":return String(J.$s);case"ss":return C.s(J.$s,2,"0");case"SSS":return C.s(J.$ms,3,"0");case"Z":return fe}return null})(vt)||fe.replace(":","")}))},ce.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ce.diff=function(q,J,$){var ue,fe=this,j=C.p(J),ee=I(q),he=(ee.utcOffset()-this.utcOffset())*r,me=this-ee,be=function(){return C.m(fe,ee)};switch(j){case x:ue=be()/12;break;case b:ue=be();break;case S:ue=be()/3;break;case v:ue=(me-he)/6048e5;break;case p:ue=(me-he)/864e5;break;case h:ue=me/a;break;case f:ue=me/r;break;case c:ue=me/t;break;default:ue=me}return $?ue:C.a(ue)},ce.daysInMonth=function(){return this.endOf(b).$D},ce.$locale=function(){return ie[this.$L]},ce.locale=function(q,J){if(!q)return this.$L;var $=this.clone(),ue=D(q,J,!0);return ue&&($.$L=ue),$},ce.clone=function(){return C.w(this.$d,this)},ce.toDate=function(){return new Date(this.valueOf())},ce.toJSON=function(){return this.isValid()?this.toISOString():null},ce.toISOString=function(){return this.$d.toISOString()},ce.toString=function(){return this.$d.toUTCString()},de})(),P=L.prototype;return I.prototype=P,[["$ms",l],["$s",c],["$m",f],["$H",h],["$W",p],["$M",b],["$y",x],["$D",M]].forEach((function(de){P[de[1]]=function(ce){return this.$g(ce,de[0],de[1])}})),I.extend=function(de,ce){return de.$i||(de(ce,L,I),de.$i=!0),I},I.locale=D,I.isDayjs=E,I.unix=function(de){return I(1e3*de)},I.en=ie[ne],I.Ls=ie,I.p={},I}))})(lh)),lh.exports}var w3=b3();const wf=Ug(w3);var uh={exports:{}},T3=uh.exports,qT;function E3(){return qT||(qT=1,(function(n,e){(function(t,r){n.exports=r()})(T3,(function(){return function(t,r,a){t=t||{};var l=r.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function f(p,v,b,S){return l.fromToBase(p,v,b,S)}a.en.relativeTime=c,l.fromToBase=function(p,v,b,S,x){for(var M,k,N,U=b.$locale().relativeTime||c,B=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],z=B.length,te=0;te<z;te+=1){var ne=B[te];ne.d&&(M=S?a(p).diff(b,ne.d,!0):b.diff(p,ne.d,!0));var ie=(t.rounding||Math.round)(Math.abs(M));if(N=M>0,ie<=ne.r||!ne.r){ie<=1&&te>0&&(ne=B[te-1]);var O=U[ne.l];x&&(ie=x(""+ie)),k=typeof O=="string"?O.replace("%d",ie):O(ie,v,ne.l,N);break}}if(v)return k;var E=N?U.future:U.past;return typeof E=="function"?E(k):E.replace("%s",k)},l.to=function(p,v){return f(p,v,this,!0)},l.from=function(p,v){return f(p,v,this)};var h=function(p){return p.$u?a.utc():a()};l.toNow=function(p){return this.to(h(this),p)},l.fromNow=function(p){return this.from(h(this),p)}}}))})(uh)),uh.exports}var S3=E3();const x3=Ug(S3);wf.extend(x3);function W1({productId:n,showFormOnly:e=!1}){const[t]=Ba(tn),{addReview:r,getProductReviews:a,hasUserReviewed:l,getAverageRating:c}=v3(),{orders:f}=bf(),[h,p]=F.useState(5),[v,b]=F.useState(""),[S,x]=F.useState(!1),M=!!t&&(f??[]).some(z=>z.items?.some(te=>String(te.id)===String(n))),k=a(n)??[],N=c(n)??0,U=t&&l(n,t.uid),B=z=>{z.preventDefault(),!(!t||!M)&&(U||(r(n,t.uid,h,v),b(""),p(5),x(!0),setTimeout(()=>x(!1),3e3)))};return e?y.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:t&&M&&!U?y.jsxs("form",{onSubmit:B,className:"space-y-3",children:[y.jsx("h4",{className:"text-sm font-semibold",children:"Write a Review"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium mb-2",children:"Rating"}),y.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(z=>y.jsx("button",{type:"button",onClick:()=>p(z),className:"p-2 transition hover:scale-110",children:y.jsx(Xd,{size:20,fill:z<=h?"currentColor":"none",className:z<=h?"text-yellow-400":"text-gray-300"})},z))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium mb-2",children:"Comment"}),y.jsx("textarea",{value:v,onChange:z=>b(z.target.value),placeholder:"Share your experience with this product...",className:"w-full p-2 border rounded text-sm",rows:3})]}),y.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded font-medium hover:bg-blue-700 transition",children:S?" Review submitted":"Submit Review"})]}):U?y.jsx("p",{className:"text-sm text-gray-500",children:" You have already reviewed this product"}):y.jsx("p",{className:"text-sm text-gray-500",children:"You can only review products you have purchased"})}):y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4 animate-fadeIn",children:[y.jsxs("div",{className:"mb-6 pb-4 border-b",children:[y.jsxs("h3",{className:"font-semibold mb-3",children:["Ratings & Reviews (",k.length,")"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"text-3xl font-bold",children:N.toFixed(1)}),y.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((z,te)=>y.jsx(Xd,{size:18,fill:te<Math.round(N)?"currentColor":"none"},te))}),y.jsxs("div",{className:"text-sm text-gray-500",children:["(",k.length," reviews)"]})]})]}),k.length===0?y.jsx("p",{className:"text-xs text-gray-500",children:"No reviews yet"}):y.jsx("div",{className:"space-y-3",children:k.map((z,te)=>y.jsxs("div",{className:"border-t pt-3 animate-fadeIn",style:{animationDelay:`${te*50}ms`},children:[y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[y.jsxs("div",{children:[y.jsx("div",{className:"flex gap-1 text-yellow-400",children:[...Array(5)].map((ne,ie)=>y.jsx(Xd,{size:14,fill:ie<z.rating?"currentColor":"none"},ie))}),z.userId===t?.uid&&y.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"(Your review)"})]}),y.jsx("div",{className:"text-xs text-gray-400",children:z.createdAt?wf(z.createdAt).fromNow():"Just now"})]}),z.comment&&y.jsx("p",{className:"text-sm text-gray-700 mt-2",children:z.comment})]},z.id))})]})}function A3({images:n,initialIndex:e=0,isOpen:t,onClose:r}){const[a,l]=F.useState(e);if(!t||!n||n.length===0)return null;const c=()=>{l(p=>p===0?n.length-1:p-1)},f=()=>{l(p=>p===n.length-1?0:p+1)},h=p=>{p.key==="ArrowLeft"&&c(),p.key==="ArrowRight"&&f(),p.key==="Escape"&&r()};return y.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:r,onKeyDown:h,role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-screen flex items-center justify-center",onClick:p=>p.stopPropagation(),children:[y.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Close",children:y.jsx(Ko,{size:24})}),y.jsx("img",{src:n[a],alt:`Product ${a+1}`,className:"max-w-full max-h-[90vh] object-contain"}),n.length>1&&y.jsx("button",{onClick:c,className:"absolute left-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Previous image",children:y.jsx(vI,{size:24})}),n.length>1&&y.jsx("button",{onClick:f,className:"absolute right-4 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition","aria-label":"Next image",children:y.jsx(_I,{size:24})}),n.length>1&&y.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/10 text-white px-3 py-1 rounded-full text-sm",children:[a+1," / ",n.length]}),n.length>1&&y.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 flex gap-2 flex-wrap justify-center max-w-2xl",children:n.map((p,v)=>y.jsx("button",{onClick:()=>l(v),className:`w-12 h-12 rounded overflow-hidden border-2 transition ${v===a?"border-white":"border-transparent opacity-60 hover:opacity-100"}`,children:y.jsx("img",{src:p,alt:`Thumbnail ${v+1}`,className:"w-full h-full object-cover"})},v))})]})})}function C3({currentProductId:n,userViewHistory:e=[]}){const{products:t}=Ri(),r=F.useMemo(()=>{if(!t.length)return[];const a=t.find(c=>c.id===n);return a?t.filter(c=>c.id!==n&&c.category===a.category).sort((c,f)=>{const h=(f.rating||0)-(c.rating||0);return h!==0?h:Math.abs(f.price-a.price)-Math.abs(c.price-a.price)}).slice(0,4):[]},[t,n]);return r.length===0?null:y.jsxs("div",{className:"mt-8 glass-morphism p-6 rounded-xl border border-opacity-20",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(NI,{className:"text-red-600",size:20}),y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"You Might Also Like"})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:r.map(a=>y.jsxs(mt,{to:`/product/${a.id}`,className:"group hover-lift",children:[y.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg h-24 overflow-hidden mb-2 relative",children:[a.image&&y.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),y.jsxs("div",{className:"absolute top-1 right-1 flex items-center gap-1 bg-yellow-400 text-gray-900 px-2 py-0.5 rounded-full text-xs font-bold",children:[y.jsx(Xd,{size:12,fill:"currentColor"}),(a.rating||4.5).toFixed(1)]})]}),y.jsx("p",{className:"text-xs font-semibold text-gray-900 truncate",children:a.name}),y.jsxs("p",{className:"text-sm font-bold text-red-600",children:["",a.price]})]},a.id))})]})}function R3(){const{id:n}=Fg(),e=Br(I=>I.addItem),{addItem:t,removeItem:r,items:a}=_f(),[l,c]=F.useState(1),[f,h]=F.useState("M"),[p,v]=F.useState(!1),[b,S]=F.useState(!1),[x,M]=F.useState(0),k=Ri(I=>I.getProduct);Ri(I=>I.updateProduct),Ba(tn);const U=k(n)||{id:n,name:`Product ${n}`,price:Number(n)*10,rating:4.5,reviews:120,image:`https://via.placeholder.com/500x500?text=Product+${n}+Image`},B=U.images&&U.images.length?U.images:U.image?[U.image]:[`https://via.placeholder.com/500x500?text=Product+${n}+Image+1`,`https://via.placeholder.com/500x500?text=Product+${n}+Image+2`,`https://via.placeholder.com/500x500?text=Product+${n}+Image+3`],z=a.some(I=>I.id===n),te=()=>{e({...U,qty:l,size:f}),v(!0),setTimeout(()=>v(!1),2e3)},ne=()=>{z?r(n):t(U)},ie=un(),O=()=>{e({...U,qty:l,size:f}),ie("/checkout")},E=async()=>{const I=window.location.href,C=`Check out ${U.name} - $${U.price}`;if(navigator.share)navigator.share({title:"MiniFlip",text:C,url:I}).catch(()=>{});else{navigator.clipboard.writeText(`${C}
${I}`);const L=`https://wa.me/?text=${encodeURIComponent(C+" "+I)}`;window.open(L,"_blank")}},D=I=>{M(I),S(!0)};return F.useEffect(()=>{try{const I="recentlyViewed",C=localStorage.getItem(I),P=(C?JSON.parse(C):[]).filter(q=>String(q.id)!==String(n)),de={id:n,name:U.name,image:B[0]||"",viewedAt:Date.now()};P.unshift(de);const ce=P.slice(0,10);localStorage.setItem(I,JSON.stringify(ce))}catch(I){console.warn("Failed to update recently viewed",I)}},[n,U.name,B]),y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsx("div",{onClick:()=>D(0),className:"bg-gray-200 dark:bg-gray-700 rounded h-64 mb-4 cursor-pointer hover:opacity-80 transition overflow-hidden",children:y.jsx("img",{src:B[0],alt:"Product main",className:"w-full h-full object-cover"})}),B.length>1&&y.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:B.map((I,C)=>y.jsx("button",{onClick:()=>D(C),className:"flex-shrink-0 w-16 h-16 rounded border-2 border-transparent hover:border-gray-400 cursor-pointer transition overflow-hidden",children:y.jsx("img",{src:I,alt:`Product ${C+1}`,className:"w-full h-full object-cover"})},C))}),y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold mb-1",children:U.name}),U.category&&y.jsx("div",{className:"text-sm text-gray-500 mb-2",children:U.category}),y.jsxs("div",{className:"text-sm font-medium",children:[y.jsx("span",{className:"text-yellow-500",children:""}),y.jsxs("span",{className:"text-gray-700 ml-2",children:[(U.rating||4.5).toFixed(1)," (",U.reviewCount||42,")"]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:ne,className:`p-2 rounded border ${z?"bg-orange-50 text-orange-500 border-orange-300":""}`,children:y.jsx(zh,{fill:z?"currentColor":"none"})}),y.jsx("button",{onClick:E,className:"p-2 rounded border",children:y.jsx(RI,{size:18})})]})]}),y.jsxs("p",{className:"text-2xl font-bold mb-6",children:["",U.price]}),U.description&&y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 p-5 rounded-lg mb-6",children:[y.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-900 dark:text-gray-100",children:"Details"}),y.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap text-base",children:U.description})]}),y.jsxs("div",{className:"space-y-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Size"}),y.jsxs("select",{value:f,onChange:I=>h(I.target.value),className:"w-full p-2 border rounded",children:[y.jsx("option",{children:"XS"}),y.jsx("option",{children:"S"}),y.jsx("option",{children:"M"}),y.jsx("option",{children:"L"}),y.jsx("option",{children:"XL"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quantity"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>c(Math.max(1,l-1)),className:"px-3 py-1 border rounded",children:"-"}),y.jsx("span",{className:"w-8 text-center",children:l}),y.jsx("button",{onClick:()=>c(l+1),className:"px-3 py-1 border rounded",children:"+"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{onClick:te,className:`w-full py-3 rounded font-medium transition ${p?"bg-green-600 text-white":"bg-red-600 text-white hover:bg-red-700"}`,children:p?" Added":"Add to cart"}),y.jsx("button",{onClick:O,className:"w-full py-3 rounded font-medium bg-green-600 text-white hover:bg-green-700",children:"Buy Now"})]})]}),y.jsx(A3,{images:B,initialIndex:x,isOpen:b,onClose:()=>S(!1)}),y.jsx(W1,{productId:n}),y.jsx(C3,{currentProductId:n}),U.category&&y.jsx(I3,{category:U.category,currentProductId:n})]})}function I3({category:n,currentProductId:e}){const{products:t}=Ri(),r=F.useMemo(()=>t.filter(a=>a.category===n&&a.id!==e).slice(0,6),[t,n,e]);return r.length===0?null:y.jsxs("div",{className:"mt-8 border-t pt-6",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["More from ",n]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:r.map(a=>y.jsxs(mt,{to:`/product/${a.id}`,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsx("div",{className:"h-24 sm:h-28 bg-gray-100 flex items-center justify-center overflow-hidden",children:a.image?y.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):"Image"}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:a.name}),y.jsxs("div",{className:"text-sm text-red-600 font-semibold mt-1",children:["",a.price]}),y.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" ",(a.rating||4.5).toFixed(1)]})]})]},a.id))})]})}function N3(){const{items:n,removeItem:e,fetchWishlist:t,loading:r}=_f(),{addItem:a}=Br(),[l]=Ba(tn);F.useEffect(()=>{l&&t(l.uid)},[l,t]);const c=f=>{a({...f,qty:1,size:"M"})};return r?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Loading wishlist..."})}):y.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[y.jsxs("h1",{className:"text-2xl font-semibold mb-4",children:["My Wishlist (",n.length,")"]}),n.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-12",children:[y.jsx("p",{className:"mb-3",children:"Your wishlist is empty"}),y.jsx(mt,{to:"/products",className:"text-red-600 font-medium",children:"Continue shopping "})]}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:n.map(f=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[y.jsx("button",{onClick:()=>e(f.id),className:"absolute top-2 right-2 z-10 p-1.5 bg-white dark:bg-gray-700 rounded-full hover:bg-red-50",title:"Remove from wishlist",children:y.jsx(Ko,{size:16,className:"text-red-600"})}),y.jsx(mt,{to:`/product/${f.id}`,className:"block relative overflow-hidden bg-gray-100 h-28 sm:h-32",children:f.image?y.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Image"})}),y.jsxs("div",{className:"p-2 sm:p-3",children:[y.jsxs(mt,{to:`/product/${f.id}`,className:"block",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900 truncate hover:text-red-600",children:f.name}),f.category&&y.jsx("div",{className:"text-xs text-gray-500",children:f.category}),y.jsxs("div",{className:"text-sm text-red-600 font-semibold mt-1",children:["",f.price]})]}),y.jsxs("button",{onClick:()=>c(f),className:"w-full mt-2 flex items-center justify-center gap-1 py-1.5 bg-red-50 text-red-600 rounded text-xs font-medium hover:bg-red-100 transition",children:[y.jsx(Na,{size:14})," Add to cart"]})]})]},f.id))})]})}function O3({onSuccess:n,onClose:e,amount:t,upiId:r}){const[a,l]=F.useState(!1),[c,f]=F.useState(""),h=F.useRef(null);F.useEffect(()=>(a&&p(),()=>{h.current?.srcObject&&h.current.srcObject.getTracks().forEach(b=>b.stop())}),[a]);const p=async()=>{try{const b=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});h.current&&(h.current.srcObject=b)}catch(b){f("Camera access denied. Please enable camera permissions."),console.error("Camera error:",b)}},v=()=>{setTimeout(()=>{n({transactionId:"UPI_"+Date.now(),status:"success",amount:t})},1e3)};return y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-fadeIn",children:y.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md overflow-hidden animate-slideUp",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[y.jsx("h2",{className:"font-semibold",children:"UPI Payment"}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded",children:y.jsx(Ko,{size:20})})]}),y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{className:"text-center py-4 bg-blue-50 rounded",children:[y.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"}),y.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["",t]})]}),y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[y.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"UPI ID"}),y.jsx("div",{className:"text-sm font-mono font-bold",children:r})]}),a?y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"relative bg-black rounded overflow-hidden h-64",children:[y.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 border-2 border-green-500 border-dashed m-8 rounded"})]}),y.jsx("button",{onClick:()=>l(!1),className:"w-full py-2 bg-gray-200 text-gray-900 rounded font-medium",children:"Close Scanner"})]}):y.jsxs("button",{onClick:()=>l(!0),className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-blue-700 transition-colors",children:[y.jsx(gI,{size:20})," Open Camera"]}),y.jsx("button",{onClick:v,className:"w-full py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Complete Payment"}),c&&y.jsx("div",{className:"p-3 bg-red-50 text-red-600 rounded text-sm",children:c}),y.jsx("div",{className:"text-xs text-gray-500 text-center",children:`Click "Complete Payment" once you've sent the payment via UPI`})]})]})})}function D3(){const n=un(),{items:e,clear:t}=Br(),{addOrder:r}=bf(),[a]=Ba(tn),[l,c]=F.useState("cod"),[f,h]=F.useState(""),[p,v]=F.useState(""),[b,S]=F.useState(""),[x,M]=F.useState(!0),[k,N]=F.useState(!1),[U,B]=F.useState(null);F.useEffect(()=>{(async()=>{if(a)try{const O=pn(Bt,"users",a.uid),E=await Uy(O);if(E.exists()){const I=E.data().address;if(I){const C=[I.village||I.city,I.po,I.ps,I.district,I.pin].filter(Boolean).join(", "),L=I.landmark?`${C} (${I.landmark})`:C;h(L),v(I.mobile||I.phone||a.phoneNumber||"")}}}catch(O){console.warn("Failed to load address",O)}M(!1)})()},[a]);const z=e.reduce((ie,O)=>ie+O.price*(O.qty||1),0),te=async ie=>{if(ie.preventDefault(),S(""),!f||!p){S("Please fill in all fields");return}if(l==="upi"){if(!U){S("Please complete UPI payment to place order"),N(!0);return}if(U.status!=="success"){S("Payment was not successful. Please try again"),B(null),N(!0);return}}const O={items:e,total:z,paymentMethod:l,address:f,phone:p,paymentDetails:U||null,deliveryStatus:[{step:"confirmed",completed:!0,date:new Date().toISOString()},{step:"processing",completed:!1,date:null},{step:"shipped",completed:!1,date:null},{step:"delivered",completed:!1,date:null}]};try{await r(O),t(),n("/orders")}catch(E){S("Failed to place order: "+E.message)}},ne=async ie=>{B(ie),N(!1),setTimeout(async()=>{const O={items:e,total:z,paymentMethod:l,address:f,phone:p,paymentDetails:ie,deliveryStatus:[{step:"confirmed",completed:!0,date:new Date().toISOString()},{step:"processing",completed:!1,date:null},{step:"shipped",completed:!1,date:null},{step:"delivered",completed:!1,date:null}]};try{await r(O),t(),n("/orders")}catch(E){S("Failed to place order: "+E.message)}},1e3)};return e.length===0?y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 py-12 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"Cart is empty"}),y.jsx("a",{href:"/products",className:"text-gray-900 font-medium",children:"Continue Shopping "})]}):y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 sm:px-4 pb-24 pt-2",children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6",children:"Checkout"}),y.jsxs("form",{onSubmit:te,className:"space-y-5",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"block text-sm sm:text-base font-semibold text-gray-900 mb-2",children:"Delivery Address"}),y.jsx("textarea",{value:f,onChange:ie=>h(ie.target.value),placeholder:"Enter your full address",className:"input-field text-sm sm:text-base",rows:4})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"block text-sm sm:text-base font-semibold text-gray-900 mb-2",children:"Phone Number"}),y.jsx("input",{type:"tel",value:p,onChange:ie=>v(ie.target.value),placeholder:"10-digit phone number",className:"input-field text-sm sm:text-base",maxLength:10})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"block text-sm sm:text-base font-semibold text-gray-900 mb-3",children:"Payment Method"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[y.jsx("input",{type:"radio",value:"cod",checked:l==="cod",onChange:ie=>c(ie.target.value),className:"w-4 h-4"}),y.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:"Cash on Delivery (COD)"})]}),y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[y.jsx("input",{type:"radio",value:"upi",checked:l==="upi",onChange:ie=>c(ie.target.value),className:"w-4 h-4"}),y.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-900",children:"UPI Payment"})]})]})]}),l==="upi"&&y.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[y.jsxs("p",{className:"text-sm sm:text-base font-medium text-blue-900",children:[" UPI ID: ",y.jsx("strong",{children:"support@dsmart.upi"})]}),y.jsx("p",{className:"text-xs sm:text-sm text-blue-700 mt-2",children:"Payment will be processed via UPI. You'll receive a prompt to complete the transaction."})]}),b&&y.jsx("div",{className:"text-sm sm:text-base text-gray-900 bg-gray-50 p-3 rounded-lg border border-gray-100",children:b}),y.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[y.jsx("h3",{className:"font-bold text-sm sm:text-base text-gray-900 mb-3",children:"Order Summary"}),y.jsx("div",{className:"space-y-2 mb-3",children:e.map(ie=>y.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-700",children:[y.jsxs("span",{className:"truncate",children:[ie.name," ",y.jsxs("span",{className:"font-semibold",children:["x",ie.qty||1]})]}),y.jsxs("span",{className:"font-medium",children:["",(ie.price*(ie.qty||1)).toFixed(0)]})]},ie.id))}),y.jsxs("div",{className:"border-t-2 border-gray-300 pt-3 flex justify-between items-center",children:[y.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:"Total:"}),y.jsxs("span",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:["",z.toFixed(0)]})]})]}),y.jsx("button",{type:"submit",className:"btn-primary w-full text-base sm:text-lg font-semibold py-3 bg-green-600 hover:bg-green-700",children:"Place Order"})]}),k&&y.jsx(O3,{onSuccess:ne,onClose:()=>N(!1),amount:z,upiId:"support@dsmart.upi"})]})}function M3(){const{orders:n,fetchOrders:e,loading:t,error:r,cancelOrder:a,updateStatus:l}=bf(),[c]=Ba(tn);return F.useEffect(()=>{c&&e(c.uid)},[c,e]),t?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Loading orders..."})}):r?y.jsx("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:y.jsxs("p",{className:"text-red-600 bg-red-50 p-3 rounded",children:["Error loading orders: ",r]})}):c?y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"My Orders"}),n.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx("p",{className:"mb-3",children:"No orders yet"}),y.jsx(mt,{to:"/products",className:"text-gray-900",children:"Continue shopping"})]}):y.jsx("div",{className:"space-y-3",children:n.map(f=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold",children:f.id}),y.jsx("div",{className:"text-xs text-gray-500",children:wf(f.createdAt).format("MMM DD, YYYY")})]}),y.jsx("div",{className:`text-sm px-2 py-1 rounded ${f.status==="confirmed"?"bg-gray-100 text-gray-900":f.status==="shipped"?"bg-purple-100 text-purple-700":f.status==="delivered"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-900"}`,children:f.status.toUpperCase()})]}),y.jsxs("div",{className:"text-sm mb-3",children:[y.jsxs("div",{className:"text-gray-600",children:["Items: ",f.items.length]}),y.jsxs("div",{className:"font-medium",children:["",f.total.toFixed(0)]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[y.jsxs(mt,{to:`/order/${f.id}`,className:"flex-1 flex items-center justify-center gap-2 py-2 bg-white text-gray-900 rounded text-sm hover:bg-gray-100 border",children:[y.jsx(TI,{size:16})," Track"]}),f.status==="confirmed"&&y.jsxs("button",{onClick:()=>a(f.id),className:"flex-1 flex items-center justify-center gap-2 py-2 border border-gray-200 text-gray-900 rounded text-sm hover:bg-gray-50",children:[y.jsx(dE,{size:16})," Cancel"]})]})]},f.id))})]}):y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24 text-center",children:[y.jsx("p",{className:"text-gray-500 mb-4",children:"Please login to view your orders"}),y.jsx(mt,{to:"/login",className:"text-blue-600 hover:underline",children:"Go to Login"})]})}function k3(){const{id:n}=Fg(),{getOrder:e}=bf(),t=e(n);if(!t)return y.jsx("div",{className:"max-w-2xl mx-auto p-4 py-12 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Order not found"})});const r=()=>{navigator.clipboard.writeText(t.id)},a=t.deliveryStatus??[];return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsx("div",{className:"mb-4",children:y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Order Details"}),y.jsxs("button",{onClick:r,className:"flex items-center gap-1 px-2 py-1 text-sm bg-gray-100 dark:bg-gray-800 rounded",title:"Copy order ID",children:[y.jsx(wI,{size:14})," ",t.id]})]})}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-4",children:"Delivery Status"}),y.jsx("div",{className:"space-y-3",children:a.length===0?y.jsx("p",{className:"text-sm text-gray-500",children:"Status not available yet"}):a.map((l,c)=>y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:`mt-1 w-6 h-6 rounded-full flex items-center justify-center ${l.completed?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:l.completed?y.jsx(yI,{size:16}):y.jsx(bI,{size:16})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-medium capitalize",children:l.step}),l.date&&y.jsx("div",{className:"text-xs text-gray-500",children:wf(l.date).format("MMM DD, YYYY hh:mm A")})]})]},c))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Items Ordered"}),y.jsx("div",{className:"space-y-2",children:t.items?.map(l=>y.jsxs("div",{className:"flex justify-between text-sm pb-2 border-b last:border-0",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:l.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Size: ",l.size," | Qty: ",l.qty||1]})]}),y.jsxs("div",{className:"font-medium",children:["$",(l.price*(l.qty||1)).toFixed(2)]})]},l.id))})]}),y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),y.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.address}),y.jsxs("p",{className:"text-sm mt-2",children:["Phone: ",t.phone]})]}),y.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded mb-4",children:[y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{children:"Subtotal:"}),y.jsxs("span",{children:["",t.total.toFixed(0)]})]}),y.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[y.jsx("span",{children:"Shipping:"}),y.jsx("span",{children:"Free"})]}),y.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{children:["",t.total.toFixed(0)]})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rate & Review Products"}),t.items?.map(l=>y.jsxs("div",{className:"mb-6 pb-6 border-b last:border-0",children:[y.jsxs("div",{className:"flex gap-3 mb-4",children:[l.image&&y.jsx("img",{src:l.image,alt:l.name,className:"w-16 h-16 rounded object-cover"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium",children:l.name}),y.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",l.qty||1]})]})]}),y.jsx(W1,{productId:l.id,showFormOnly:!0})]},l.id))]})]})}function P3(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,l]=F.useState(""),c=un(),f=async p=>{p.preventDefault(),l("");try{await gO(tn,n,t),c("/")}catch(v){l(v.message)}},h=async()=>{try{const p=new Ji;await lS(tn,p),c("/")}catch(p){l(p.message)}};return y.jsxs("div",{className:"max-w-md mx-auto p-4",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Login"}),y.jsxs("form",{onSubmit:f,className:"space-y-3",children:[y.jsx("input",{value:n,onChange:p=>e(p.target.value),placeholder:"Email",className:"w-full p-2 border rounded"}),y.jsx("input",{value:t,onChange:p=>r(p.target.value),placeholder:"Password",type:"password",className:"w-full p-2 border rounded"}),a&&y.jsx("div",{className:"text-sm text-red-500",children:a}),y.jsx("button",{className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700",children:"Login"})]}),y.jsx("div",{className:"mt-3",children:y.jsx("button",{onClick:h,className:"w-full py-2 border rounded",children:"Sign in with Google"})}),y.jsxs("p",{className:"mt-3 text-sm",children:["Don\\'t have an account? ",y.jsx(mt,{to:"/register",className:"text-red-600 hover:text-red-700",children:"Register"})]})]})}function j3(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[a,l]=F.useState(""),[c,f]=F.useState(""),[h,p]=F.useState(""),v=un(),b=async x=>{x.preventDefault(),p("");try{if(!c)throw new Error("Mobile number is required");const k=(await pO(tn,n,t)).user;a&&await WE(k,{displayName:a});try{await Ms(pn(Bt,"users",k.uid),{name:a||k.displayName||"",email:k.email,phone:c,createdAt:Oh()})}catch(N){console.warn("Failed to write user doc",N)}v("/")}catch(M){p(M.message)}},S=async x=>{p("");try{let M;if(x==="google")M=new Ji;else if(x==="facebook")M=new Rr;else throw new Error("Unsupported provider");const N=(await lS(tn,M)).user;try{await Ms(pn(Bt,"users",N.uid),{name:N.displayName||"",email:N.email||"",phone:N.phoneNumber||"",provider:x,updatedAt:Oh()},{merge:!0})}catch(U){console.warn("Failed to write user doc for provider sign-in",U)}v("/")}catch(M){p(M.message)}};return y.jsxs("div",{className:"max-w-md mx-auto p-4",children:[y.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Register"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{type:"button",onClick:()=>S("google"),className:"w-full flex items-center justify-center gap-2 border p-2 rounded bg-white hover:bg-gray-50",children:y.jsx("span",{children:"Continue with Google"})}),y.jsx("button",{type:"button",onClick:()=>S("facebook"),className:"w-full flex items-center justify-center gap-2 border p-2 rounded bg-white hover:bg-gray-50",children:y.jsx("span",{children:"Continue with Facebook"})}),y.jsx("div",{className:"text-center text-sm text-gray-500",children:"or register with email"}),y.jsxs("form",{onSubmit:b,className:"space-y-3",children:[y.jsx("input",{value:a,onChange:x=>l(x.target.value),placeholder:"Full name",className:"w-full p-2 border rounded"}),y.jsx("input",{value:n,onChange:x=>e(x.target.value),placeholder:"Email",className:"w-full p-2 border rounded"}),y.jsx("input",{value:c,onChange:x=>f(x.target.value),placeholder:"Mobile number (required)",className:"w-full p-2 border rounded",required:!0,inputMode:"tel"}),y.jsx("input",{value:t,onChange:x=>r(x.target.value),placeholder:"Password",type:"password",className:"w-full p-2 border rounded"}),h&&y.jsx("div",{className:"text-sm text-red-500",children:h}),y.jsx("button",{className:"w-full bg-green-600 text-white py-2 rounded",children:"Create account"})]})]}),y.jsxs("p",{className:"mt-3 text-sm",children:["Already have an account? ",y.jsx(mt,{to:"/login",className:"text-gray-900",children:"Login"})]})]})}function L3(){const n=un(),{products:e,deleteProduct:t}=Ri();return y.jsxs("div",{className:"max-w-3xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Manage Products"}),y.jsxs("button",{onClick:()=>n("/admin/add-product"),className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded text-sm",children:[y.jsx(cE,{size:16})," Add Product"]})]}),e.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx("p",{className:"mb-3",children:"No products yet"}),y.jsx("button",{onClick:()=>n("/admin/add-product"),className:"text-green-600",children:"Create the first product"})]}):y.jsx("div",{className:"space-y-2",children:e.map(r=>y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border flex items-center justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-semibold",children:r.name}),y.jsxs("div",{className:"text-sm text-gray-500",children:["$",r.price," | ",r.category]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>n(`/admin/edit-product/${r.id}`),className:"p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-900/20",children:y.jsx(uE,{size:16})}),y.jsx("button",{onClick:async()=>{if(confirm("Delete this product?"))try{await t(r.id)}catch(a){console.error("Delete failed",a),alert("Failed to delete product")}},className:"p-2 border rounded hover:bg-gray-50 dark:hover:bg-gray-900/20 text-gray-900",children:y.jsx(dE,{size:16})})]})]},r.id))})]})}function V3(){const n=un(),{addProduct:e}=Ri(),[t,r]=F.useState({name:"",price:"",description:"",category:"electronics",image:""}),a=async l=>{if(l.preventDefault(),!(!t.name||!t.price))try{await e({name:t.name,price:Number(t.price),description:t.description,category:t.category,image:t.image||"https://via.placeholder.com/300"}),n("/admin/products")}catch(c){console.error("Add product failed",c),alert("Failed to add product: "+c.message)}};return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>n("/admin/products"),className:"p-2",children:y.jsx(lE,{})}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Add Product"})]}),y.jsxs("form",{onSubmit:a,className:"bg-white dark:bg-gray-800 p-4 rounded space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name *"}),y.jsx("input",{type:"text",value:t.name,onChange:l=>r({...t,name:l.target.value}),placeholder:"Enter product name",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),y.jsx("input",{type:"number",value:t.price,onChange:l=>r({...t,price:l.target.value}),placeholder:"Enter price",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),y.jsxs("select",{value:t.category,onChange:l=>r({...t,category:l.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700",children:[y.jsx("option",{children:"electronics"}),y.jsx("option",{children:"clothing"}),y.jsx("option",{children:"books"}),y.jsx("option",{children:"home"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:t.image,onChange:l=>r({...t,image:l.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:t.description,onChange:l=>r({...t,description:l.target.value}),placeholder:"Product description",rows:3,className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 rounded font-medium",children:"Add Product"})]})]})}function U3(){const{id:n}=Fg(),e=un(),{getProduct:t,updateProduct:r}=Ri(),[a,l]=F.useState({name:"",price:"",description:"",category:"electronics",image:""});F.useEffect(()=>{const f=t(n);f&&l(f)},[n,t]);const c=f=>{if(f.preventDefault(),!a.name||!a.price)return;(async()=>{try{await r(n,{name:a.name,price:Number(a.price),description:a.description,category:a.category,image:a.image}),e("/admin/products")}catch(p){console.error("Update failed",p),alert("Failed to update product")}})()};return y.jsxs("div",{className:"max-w-2xl mx-auto p-4 pb-24",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("button",{onClick:()=>e("/admin/products"),className:"p-2",children:y.jsx(lE,{})}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Edit Product"})]}),y.jsxs("form",{onSubmit:c,className:"bg-white dark:bg-gray-800 p-4 rounded space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name *"}),y.jsx("input",{type:"text",value:a.name,onChange:f=>l({...a,name:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),y.jsx("input",{type:"number",value:a.price,onChange:f=>l({...a,price:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),y.jsxs("select",{value:a.category,onChange:f=>l({...a,category:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700",children:[y.jsx("option",{children:"electronics"}),y.jsx("option",{children:"clothing"}),y.jsx("option",{children:"books"}),y.jsx("option",{children:"home"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),y.jsx("input",{type:"text",value:a.image,onChange:f=>l({...a,image:f.target.value}),className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),y.jsx("textarea",{value:a.description,onChange:f=>l({...a,description:f.target.value}),rows:3,className:"w-full p-2 border rounded bg-white dark:bg-gray-700"})]}),y.jsx("button",{type:"submit",className:"w-full bg-white text-gray-900 py-2 rounded font-medium",children:"Update Product"})]})]})}function z3(){const[n]=Ba(tn),e=un(),[t,r]=F.useState(!0),[a,l]=F.useState({name:"",email:"",phone:"",address:{village:"",city:"",po:"",ps:"",district:"",pin:"",landmark:"",mobile:""}}),[c,f]=F.useState(!1),[h,p]=F.useState(a.address),[v,b]=F.useState(!1),[S,x]=F.useState([]),[M,k]=F.useState(!1),[N,U]=F.useState(0);F.useEffect(()=>{(async()=>{if(n)try{const D=pn(Bt,"users",n.uid),I=await Uy(D);if(I.exists()){const C=I.data();l(L=>({...L,name:n.displayName||C.name||"",email:n.email||C.email||"",phone:n.phoneNumber||C.phone||"",address:C.address||L.address})),p(C.address||a.address)}else l(C=>({...C,name:n.displayName||"",email:n.email||"",phone:n.phoneNumber||""}))}catch(D){console.error("Error loading user data:",D)}r(!1)})()},[n]),F.useEffect(()=>{try{const E=localStorage.getItem("recentlyViewed"),D=E?JSON.parse(E):[];x(D)}catch{x([])}},[]);const B=(E,D)=>{p(I=>({...I,[E]:D}))},z=async()=>{if(n){b(!0);try{const E=pn(Bt,"users",n.uid);await Ms(E,{name:a.name,email:a.email,phone:a.phone,address:h,updatedAt:new Date},{merge:!0}),l(D=>({...D,address:h})),f(!1),alert("Address saved successfully!")}catch(E){console.error("Error saving address:",E),alert("Error saving address. Please try again.")}b(!1)}},te=()=>{p(a.address),f(!1)},ne=()=>{window.location.href="tel:+919000000000"},ie=async E=>{const D=E.target.files&&E.target.files[0];if(!D||!n)return;const I=`profiles/${n.uid}/${Date.now()}_${D.name}`,C=oj(kL,I);try{k(!0),U(0);const L=sj(C,D);L.on("state_changed",de=>{const ce=Math.round(de.bytesTransferred/de.totalBytes*100);U(ce)}),await L;const P=await aj(C);try{await WE(tn.currentUser,{photoURL:P})}catch(de){console.warn("updateProfile failed",de)}try{const de=pn(Bt,"users",n.uid);await Ms(de,{photoURL:P,updatedAt:new Date},{merge:!0})}catch(de){console.warn("Failed to update user doc with photoURL",de)}alert("Profile picture updated")}catch(L){console.error("Profile upload failed",L),alert("Failed to upload profile picture")}finally{k(!1),U(0)}},O=()=>{window.open("https://wa.me/919000000000?text=Hello%20I%20need%20support","_blank")};return t?y.jsx("div",{className:"max-w-md mx-auto p-4 pb-32 flex items-center justify-center h-screen",children:y.jsx("div",{className:"text-gray-600",children:"Loading..."})}):y.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[y.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:n?.photoURL?y.jsx("img",{src:n.photoURL,alt:"profile",className:"w-full h-full object-cover"}):y.jsx("div",{className:"text-xl text-gray-600",children:n?.displayName?.[0]||"U"})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-500",children:"Profile Photo"}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("input",{id:"profileFile",type:"file",accept:"image/*",onChange:ie,className:"hidden"}),y.jsx("label",{htmlFor:"profileFile",className:"text-sm px-3 py-1 border rounded bg-white hover:bg-gray-50 cursor-pointer",children:"Change"}),M&&y.jsxs("div",{className:"text-xs text-gray-500",children:["Uploading ",N,"%"]})]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"font-semibold text-lg",children:n?.displayName||"Guest"}),y.jsx("div",{className:"text-sm text-gray-500",children:n?.email||"Not signed in"})]})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsx("h3",{className:"font-semibold mb-2",children:"Customer Details"}),y.jsxs("div",{className:"text-sm text-gray-700",children:["Name: ",a.name]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["Contact: ",a.phone||""]}),y.jsx("button",{onClick:()=>e("/orders"),className:"mt-3 text-sm text-gray-900",children:"View Orders"})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:"font-semibold",children:"Address"}),!c&&y.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm",children:[y.jsx(uE,{size:16})," Edit"]})]}),c?y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Village/City"}),y.jsx("input",{type:"text",value:h.village,onChange:E=>B("village",E.target.value),placeholder:"Village or City name",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"P.O (Post Office)"}),y.jsx("input",{type:"text",value:h.po,onChange:E=>B("po",E.target.value),placeholder:"Post Office",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"P.S (Police Station)"}),y.jsx("input",{type:"text",value:h.ps,onChange:E=>B("ps",E.target.value),placeholder:"Police Station",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"District"}),y.jsx("input",{type:"text",value:h.district,onChange:E=>B("district",E.target.value),placeholder:"District",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"PIN Code"}),y.jsx("input",{type:"text",value:h.pin,onChange:E=>B("pin",E.target.value),placeholder:"PIN Code",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Landmark"}),y.jsx("input",{type:"text",value:h.landmark,onChange:E=>B("landmark",E.target.value),placeholder:"Landmark (Optional)",className:"w-full p-2 border rounded text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Mobile Number"}),y.jsx("input",{type:"tel",value:h.mobile,onChange:E=>B("mobile",E.target.value),placeholder:"10-digit mobile number",className:"w-full p-2 border rounded text-sm",maxLength:"10"})]}),y.jsxs("div",{className:"flex gap-2 pt-2",children:[y.jsx("button",{onClick:z,disabled:v,className:"flex-1 bg-blue-600 text-white py-2 rounded text-sm font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition",children:v?"Saving...":"Save Address"}),y.jsx("button",{onClick:te,disabled:v,className:"flex-1 bg-gray-300 text-gray-800 py-2 rounded text-sm font-medium hover:bg-gray-400 disabled:opacity-50 transition",children:"Cancel"})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"text-sm text-gray-700",children:["Village/City: ",a.address.village||a.address.city||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["P.O: ",a.address.po||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["P.S: ",a.address.ps||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["District: ",a.address.district||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["PIN: ",a.address.pin||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["Landmark: ",a.address.landmark||""]}),y.jsxs("div",{className:"text-sm text-gray-700",children:["Mobile: ",a.address.mobile||""]})]})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("h3",{className:"font-semibold",children:"Recently Viewed"}),y.jsx("button",{onClick:()=>{localStorage.removeItem("recentlyViewed"),x([])},className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear"})]}),S.length===0?y.jsx("p",{className:"text-sm text-gray-500",children:"No recent items"}):y.jsx("div",{className:"space-y-2",children:S.map(E=>y.jsxs(mt,{to:`/product/${E.id}`,className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded overflow-hidden",children:E.image?y.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full"})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),y.jsxs("div",{className:"text-xs text-gray-500",children:["Viewed ",new Date(E.viewedAt).toLocaleString()]})]})]},E.id))})]}),y.jsxs("section",{className:"mb-4 bg-white p-3 rounded border",children:[y.jsx("h3",{className:"font-semibold mb-3",children:"Customer Support"}),y.jsxs("div",{className:"space-y-2 mb-3",children:[y.jsx("p",{className:"text-sm text-gray-700",children:"Email: support@crodyto.example"}),y.jsx("p",{className:"text-sm text-gray-700",children:"Phone: +91 90000 00000"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:ne,className:"flex-1 flex items-center justify-center gap-2 bg-green-600 text-white py-2 rounded font-medium hover:bg-green-700 transition",children:[y.jsx(CI,{size:18})," Call Now"]}),y.jsxs("button",{onClick:O,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white py-2 rounded font-medium hover:bg-blue-700 transition",children:[y.jsx(xI,{size:18})," Chat"]})]})]})]})}function B3(){const[n,e]=F.useState(!1),[t,r]=F.useState(null);return F.useEffect(()=>{try{Ri.getState().subscribeToProducts()}catch(a){console.warn("subscribeToProducts failed",a)}return()=>{try{Ri.getState().unsubscribeProducts()}catch{}}},[]),F.useEffect(()=>{const a=c=>{console.error("Global error:",c.error),r(`Error: ${c.error?.message||"Unknown error"}`)};window.addEventListener("error",a);const l=c=>{c.target.closest(".scrollable")||c.preventDefault()};return document.addEventListener("touchmove",l,{passive:!1}),()=>{window.removeEventListener("error",a),document.removeEventListener("touchmove",l)}},[]),t?y.jsx("div",{className:"flex flex-col h-screen bg-white text-gray-900 overflow-hidden",children:y.jsx("main",{className:"flex-1 overflow-y-auto flex items-center justify-center",children:y.jsxs("div",{className:"text-center p-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),y.jsx("p",{className:"text-gray-600 mb-4",children:t}),y.jsx("button",{onClick:()=>{r(null),window.location.href="/"},className:"px-4 py-2 bg-white text-gray-900 rounded hover:bg-gray-100",children:"Go Home"})]})})}):y.jsx(JR,{basename:"/",children:y.jsxs("div",{className:"flex flex-col h-screen bg-white text-gray-900 overflow-hidden",children:[y.jsx(PL,{onCartClick:()=>e(!0)}),y.jsx(VL,{isOpen:n,onClose:()=>e(!1)}),y.jsx("main",{className:"flex-1 overflow-y-auto scrollable",children:y.jsxs(RR,{children:[y.jsx(xn,{path:"/",element:y.jsx(g3,{})}),y.jsx(xn,{path:"/products",element:y.jsx(y3,{})}),y.jsx(xn,{path:"/product/:id",element:y.jsx(R3,{})}),y.jsx(xn,{path:"/wishlist",element:y.jsx(N3,{})}),y.jsx(xn,{path:"/checkout",element:y.jsx(D3,{})}),y.jsx(xn,{path:"/orders",element:y.jsx(M3,{})}),y.jsx(xn,{path:"/order/:id",element:y.jsx(k3,{})}),y.jsx(xn,{path:"/login",element:y.jsx(P3,{})}),y.jsx(xn,{path:"/register",element:y.jsx(j3,{})}),y.jsx(xn,{path:"/account",element:y.jsx(z3,{})}),y.jsx(xn,{path:"/admin/products",element:y.jsx(L3,{})}),y.jsx(xn,{path:"/admin/add-product",element:y.jsx(V3,{})}),y.jsx(xn,{path:"/admin/edit-product/:id",element:y.jsx(U3,{})})]})}),y.jsx(LL,{})]})})}LC.createRoot(document.getElementById("root")).render(y.jsx(F.StrictMode,{children:y.jsx(B3,{})}));
